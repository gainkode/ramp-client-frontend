"use strict";(self.webpackChunkcm_ewallet=self.webpackChunkcm_ewallet||[]).push([[460],{2460:(Ti,G,a)=>{a.r(G),a.d(G,{PaymentModule:()=>Fi,options:()=>Oi});var p=a(177),c=a(9417),v=a(9192),ee=a(5188),te=a(7626),V=a(7144),S=a(8361),x=a(7285),O=a(8359),e=a(4438),ie=a(4412);let I=(()=>{class r{constructor(){this.themeSubject=new ie.t("light"),this.theme$=this.themeSubject.asObservable()}toggleTheme(){const n="light"===this.themeSubject.getValue()?"dark":"light";this.themeSubject.next(n)}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var ne=a(8832),l=a(2512),C=a(8245),R=a(5464),N=a(1413),P=a(6697),b=a(6977),L=a(9363),$=a(2409),F=a(7932),A=a(1499),re=a(8652),oe=a(3592),ae=a(6911),se=a(5351),le=a(6708),z=a(5432),k=a(9213),de=a(7575),ce=a(8085),j=a(6492),pe=a(1885),_e=a(5357),me=a(6785),ge=a(5885),ue=a(4037),he=a(6445),fe=a(7677),xe=a(5514),ye=a(7175),be=a(1849),we=a(527),ve=a(5045),Ce=a(5875),Y=a(9946),X=a(3801),U=a(184),w=a(7180);function Pe(r,s){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"div",5)(2,"div",6),e.EFF(3),e.nI1(4,"transloco"),e.k0s(),e.j41(5,"div",7),e.nrm(6,"input",8),e.k0s(),e.j41(7,"div",9)(8,"button",10),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.copyAddress())}),e.j41(9,"mat-icon",11),e.EFF(10,"content_copy"),e.k0s()()()(),e.j41(11,"div",5)(12,"div",6),e.EFF(13),e.nI1(14,"transloco"),e.k0s(),e.j41(15,"div",7),e.nrm(16,"input",8),e.k0s(),e.j41(17,"div",9)(18,"button",10),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.copyAmount())}),e.j41(19,"mat-icon",11),e.EFF(20,"content_copy"),e.k0s()()()(),e.j41(21,"div",5)(22,"div",6),e.EFF(23),e.nI1(24,"transloco"),e.k0s(),e.j41(25,"div",7),e.nrm(26,"input",8),e.k0s()(),e.j41(27,"div",12),e.nrm(28,"div",13),e.k0s(),e.j41(29,"div",14),e.nrm(30,"qrcode",15),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(3),e.SpI(" ",e.bMT(4,12,"widget-sell-complete.field_address")," "),e.R7$(3),e.Y8G("value",t.address),e.R7$(7),e.SpI(" ",e.bMT(14,14,"widget-sell-complete.field_amount")," "),e.R7$(3),e.Y8G("value",t.amount),e.R7$(7),e.SpI(" ",e.bMT(24,16,"widget-sell-complete.field_network")," "),e.R7$(3),e.Y8G("value",null==t.sellectedCurrency?null:t.sellectedCurrency.name),e.R7$(4),e.Y8G("qrdata",t.qrCode)("colorLight",t.qrCodeBackground)("colorDark",t.qrCodeForeground)("width",150)("errorCorrectionLevel","M")("allowEmptyString",!0)}}let ke=(()=>{class r{constructor(t,n){this.commonService=t,this.clipboard=n,this.address="",this.amount=0,this.currency=void 0,this.onProgress=new e.bkB,this.onFinish=new e.bkB,this.pSubscriptions=new O.yU,this.errorMessage="",this.inProgress=!1,this.sellectedCurrency=void 0,this.wallets=[],this.qrCode="",this.qrCodeBackground=x.Li.color_white,this.qrCodeForeground=x.Li.color_purple_900,this.walletErrorMessages={required:"Wallet is required"}}ngOnInit(){this.showQrCode(this.address)}ngOnDestroy(){this.pSubscriptions.unsubscribe()}showQrCode(t){this.qrCode=t,this.loadCurrencies()}loadCurrencies(){const t=this.commonService.getSettingsCurrency();this.onProgress.emit(!0),this.pSubscriptions.add(t.valueChanges.subscribe(({data:n})=>{const i=n.getSettingsCurrency.settingsCurrency.list?.map(o=>new C.xD(o));this.sellectedCurrency=i.find(o=>o.symbol===this.currency),this.onProgress.emit(!1)},()=>{this.onProgress.emit(!1)}))}copyAddress(){this.clipboard.copy(this.address??"")}copyAmount(){this.clipboard.copy(this.amount.toString()??"")}static#e=this.\u0275fac=function(n){return new(n||r)(e.rXU(Y.X),e.rXU(X.B0))};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-sell-widget-complete"]],inputs:{address:"address",amount:"amount",currency:"currency"},outputs:{onProgress:"onProgress",onFinish:"onFinish"},decls:8,vars:5,consts:[[1,"__widget-data-box"],[4,"ngIf"],[1,"__widget-buttons-area"],["type","button",1,"__main-button",3,"click"],[1,"__widget-data-error"],[1,"__widget-data-three-column-grid"],[1,"__widget-data-three-column-item-one"],[1,"__widget-data-three-column-item-two"],["type","text","readonly","",1,"__text-box-noborder",3,"value"],[1,"__widget-data-three-column-item-three"],["type","button",1,"__tool-button",3,"click"],[1,"tx-20"],[1,"__profile-details-item-block"],[1,"__form-separator-small"],[1,"__profile-details-qrcode-block"],[3,"qrdata","colorLight","colorDark","width","errorCorrectionLevel","allowEmptyString"]],template:function(n,i){1&n&&(e.j41(0,"div",0),e.DNE(1,Pe,31,18,"div",1),e.j41(2,"div",2)(3,"button",3),e.bIt("click",function(){return i.onFinish.emit()}),e.EFF(4),e.nI1(5,"transloco"),e.k0s()(),e.j41(6,"div",4),e.EFF(7),e.k0s()()),2&n&&(e.R7$(),e.Y8G("ngIf",""!==i.qrCode),e.R7$(3),e.SpI(" ",e.bMT(5,3,"global.widget_btn-done")," "),e.R7$(3),e.SpI(" ",i.errorMessage," "))},dependencies:[p.bT,k.An,U.c,w.Kj],styles:['@import"https://fonts.googleapis.com/css2?family=Montserrat+Alternates:wght@800&display=swap";.__form-separator[_ngcontent-%COMP%]{height:20px}.__form-separator-small[_ngcontent-%COMP%]{height:8px}.__form-label[_ngcontent-%COMP%]{font-family:var(--font_main);font-style:normal;font-weight:400;font-size:14px;line-height:28px;color:var(--color_purple_900_text)}.__form-label-disabled[_ngcontent-%COMP%]{color:var(--color_purple_200)}.__form-label-small[_ngcontent-%COMP%]{font-size:12px;color:var(--color_purple_900_icons)}.__form-assist[_ngcontent-%COMP%]{display:flex;margin-left:16px;font-family:var(--font_main);font-style:normal;font-weight:400;font-size:12px;line-height:14px;color:var(--color_purple_900_text)}.__form-assist-disabled[_ngcontent-%COMP%]{color:var(--color_purple_200)}.__form-assist-error[_ngcontent-%COMP%]{color:var(--color_pink_500)}.__form-assist-small[_ngcontent-%COMP%]{font-size:12px}.__form-assist-accent[_ngcontent-%COMP%]{margin:0 4px;font-weight:500;color:var(--color_main_blue_800)}.__form-assist-link[_ngcontent-%COMP%]{margin:0 4px;font-weight:500;color:var(--color_main_blue_800);cursor:pointer}.__widget-checkout[_ngcontent-%COMP%]{margin:0 4px}.__form-card-type-icon-container[_ngcontent-%COMP%]{display:flex}.__form-card-type-icon[_ngcontent-%COMP%]{grid-row:1;grid-column:1/2;width:24px;height:18px;margin:auto}.__form-input-error-icon-container[_ngcontent-%COMP%]{grid-row:1;grid-column:2/3}.__form-cardinput-error-icon-container[_ngcontent-%COMP%]{grid-row:1;grid-column:3/4}.__form-input-password-icon-container[_ngcontent-%COMP%]{grid-row:1;grid-column:3/4;display:flex;justify-content:center;align-items:center}.__form-input-search-icon-container[_ngcontent-%COMP%]{grid-row:1;grid-column:2/3;display:flex;justify-content:center;align-items:center}.__form-input-error-icon[_ngcontent-%COMP%]{display:block;margin:9px auto;justify-content:center;align-items:center;font-size:18px;color:var(--color_pink_500)}.__form-input-password-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%;border:0px;background-color:var(--color_white);outline:0px}.__form-input-password-icon-block[_ngcontent-%COMP%]{height:18px}.__form-input-password-icon[_ngcontent-%COMP%]{margin:2px auto;font-size:18px;color:var(--color_purple_900_text)}.__form-text-border[_ngcontent-%COMP%]{height:32px;width:100%;padding:0 4px 0 16px;border:1px solid var(--color_purple_50);box-sizing:border-box;border-radius:4px;background-color:transparent}.widget-required-info[_ngcontent-%COMP%]{width:90%;margin:0 auto}.__form-textbox-border[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:auto 24px;grid-template-rows:32px;border:1px solid var(--color_purple_50);box-sizing:border-box;border-radius:4px;background-color:transparent}.__form-password-border[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:auto 24px 24px;grid-template-rows:32px;border:1px solid var(--color_purple_50);box-sizing:border-box;border-radius:4px;background-color:transparent}.__form-cardbox-border[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:32px auto 24px;grid-template-rows:32px;border:1px solid var(--color_purple_50);box-sizing:border-box;border-radius:4px;background-color:transparent}.__form-combo-border[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:auto 24px 86px;grid-template-rows:32px;border:1px solid var(--color_purple_50);box-sizing:border-box;border-radius:4px;background-color:transparent}.__form-searchbox-border[_ngcontent-%COMP%]{width:240px;display:grid;grid-template-columns:auto 32px;grid-template-rows:32px;border:1px solid var(--color_purple_200);box-sizing:border-box;border-radius:12px;background-color:transparent}.__form-editbox-border[_ngcontent-%COMP%]{width:250px;display:grid;grid-template-columns:auto 21px;grid-template-rows:21px;border:0px solid var(--color_purple_300);border-bottom-width:.5px;background-color:transparent}.__form-settings-password-border[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:auto 24px 24px;grid-template-rows:32px;border:1px solid var(--color_purple_50);border-style:none none solid none;background-color:transparent}.__form-settings-password-border-error[_ngcontent-%COMP%]{border:1px solid var(--color_pink_500);border-style:none none solid none}input.__form-text-box-plain[_ngcontent-%COMP%]{border:1px solid var(--color_purple_50);box-sizing:border-box;border-radius:4px;width:28px;text-align:center;background-color:transparent;font-family:var(--font_main);font-style:normal;font-weight:300;font-size:14px;line-height:28px;color:var(--color_purple_900_text)}input.__form-text-box-plain[_ngcontent-%COMP%]:focus{outline:none}input.__form-text-box-auto-error[_ngcontent-%COMP%]:focus{outline:none}input.__form-text-box[_ngcontent-%COMP%]{grid-row:1;grid-column:1/2;width:calc(100% - 8px);margin:0 16px;border:0px;background-color:transparent;font-family:var(--font_main);font-style:normal;font-weight:300;font-size:14px;line-height:28px;color:var(--color_purple_900_text)}input.__form-text-box[_ngcontent-%COMP%]:focus{outline:none}input.__form-text-box[_ngcontent-%COMP%]:disabled{color:var(--color_purple_200)}input.__form-text-box-error[_ngcontent-%COMP%]{grid-row:1;grid-column:1/2;width:calc(100% - 24px);margin:0 16px;border:0px;background-color:transparent;font-family:var(--font_main);font-style:normal;font-weight:300;font-size:14px;line-height:28px;color:var(--color_pink_500)}input.__form-text-box-error[_ngcontent-%COMP%]:focus{outline:none}input.__form-card-box[_ngcontent-%COMP%]{grid-row:1;grid-column:1/4;width:calc(100% - 24px);margin:0 16px;border:0px;background-color:transparent;font-family:var(--font_main);font-style:normal;font-weight:300;font-size:14px;line-height:28px;color:var(--color_purple_900_text)}input.__form-card-box[_ngcontent-%COMP%]:focus{outline:none}input.__form-card-box[_ngcontent-%COMP%]:disabled{color:var(--color_purple_200)}input.__form-card-box-error[_ngcontent-%COMP%]{grid-row:1;grid-column:1/4;width:calc(100% - 24px);margin:0 16px;border:0px;background-color:transparent;font-family:var(--font_main);font-style:normal;font-weight:300;font-size:14px;line-height:28px;color:var(--color_pink_500)}input.__form-card-box-error[_ngcontent-%COMP%]:focus{outline:none}input.__form-card-box-active-icon[_ngcontent-%COMP%]{grid-column:2/4;width:100%;margin:0}input.__form-finance-text-combo[_ngcontent-%COMP%]{grid-row:1;grid-column:1/3;width:calc(100% - 24px);margin:0 16px;border:0px;background-color:transparent;font-family:var(--font_main);font-style:normal;font-weight:300;font-size:14px;line-height:28px;color:var(--color_purple_900_text)}input.__form-finance-text-combo[_ngcontent-%COMP%]:focus{outline:none}input.__form-finance-text-combo[_ngcontent-%COMP%]:disabled{color:var(--color_purple_200)}input.__form-finance-text-combo-error[_ngcontent-%COMP%]{grid-row:1;grid-column:1/3;width:calc(100% - 24px);margin:0 16px;border:0px;background-color:transparent;font-family:var(--font_main);font-style:normal;font-weight:300;font-size:14px;line-height:28px;color:var(--color_pink_500)}input.__form-finance-text-combo-error[_ngcontent-%COMP%]:focus{outline:none}input.__text-box-noborder[_ngcontent-%COMP%]{border:0px;width:100%;background-color:transparent;font-family:var(--font_main);font-style:normal;font-weight:300;font-size:14px;line-height:28px;color:var(--color_purple_900_text)}input.__text-box-noborder[_ngcontent-%COMP%]:focus{outline:none}input.__text-box-noborder-accent[_ngcontent-%COMP%]{border:0px;width:100%;background-color:transparent;font-family:var(--font_main);font-style:normal;font-weight:300;font-size:14px;line-height:28px;color:var(--color_main_blue_800)}input.__text-box-noborder-accent[_ngcontent-%COMP%]:focus{outline:none}input.__profile-text-box-noborder[_ngcontent-%COMP%]{border:0px;width:100%;background-color:transparent;margin:0 4px;font-family:var(--font_main);font-style:normal;font-weight:400;font-size:14px;line-height:28px;white-space:normal;color:var(--color_purple_900_text)}input.__profile-text-box-noborder[_ngcontent-%COMP%]:focus{outline:none}input.__form-search-box[_ngcontent-%COMP%]{grid-row:1;grid-column:1/2;width:calc(100% - 8px);margin:0 8px;border:0px;background-color:transparent;font-family:var(--font_main);font-style:normal;font-weight:300;font-size:14px;line-height:28px;color:var(--color_purple_900_text)}input.__form-search-box[_ngcontent-%COMP%]:focus{outline:none}input.__form-search-box[_ngcontent-%COMP%]:disabled{color:var(--color_purple_200)}input.__form-edit-box[_ngcontent-%COMP%]{grid-row:1;grid-column:1/2;width:100%;margin:0 8px 0 0;border:0px;background-color:transparent;font-family:var(--font_main);font-style:normal;font-weight:400;font-size:14px;color:var(--color_purple_900_text)}input.__form-edit-box[_ngcontent-%COMP%]:focus{outline:none}textarea.__form-text-area[_ngcontent-%COMP%]{border:1px solid var(--color_purple_50);box-sizing:border-box;border-radius:4px;background-color:transparent;resize:none;width:100%;height:150px;margin:0;padding:0 16px;font-family:var(--font_main);font-style:normal;font-weight:300;font-size:14px;line-height:20px;color:var(--color_purple_900_text)}textarea.__form-text-area[_ngcontent-%COMP%]:focus{outline:none!important}textarea.__form-text-area-error[_ngcontent-%COMP%]{color:var(--color_pink_500)}.__form-uppercase-input[_ngcontent-%COMP%]{text-transform:uppercase}.__form-finance-combo-separator[_ngcontent-%COMP%]{background-color:var(--color_purple_50);width:1px;height:32px}.__form-finance-combo-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;position:relative;top:-32px;left:calc(100% - 110px);width:110px;height:32px}.__form-finance-combo-block[_ngcontent-%COMP%]{grid-row:1;grid-column:3/4;border:1px solid var(--color_purple_50);border-style:none none none solid;display:flex}.__form-finance-combo-block[_ngcontent-%COMP%]   .align-mat-select[_ngcontent-%COMP%]{margin-top:3px;margin-right:5px}.__form-finance-combo-item[_ngcontent-%COMP%]{margin:auto;display:flex;flex-direction:row;justify-content:flex-start;align-items:center}.__form-finance-combo-item-img[_ngcontent-%COMP%]{margin:0 4px 0 8px;width:16px;height:16px}.__form-combo-item-img[_ngcontent-%COMP%]{margin:0 8px 0 0;width:16px;height:16px}.__form-finance-combo-item-text[_ngcontent-%COMP%]{font-family:var(--font_main);font-style:normal;font-weight:400;font-size:14px;line-height:15px;color:var(--color_purple_900_text)}.__form-combo-item[_ngcontent-%COMP%]{height:20px;width:100%;padding:0;font-family:var(--font_main);font-style:normal;font-weight:300;font-size:14px;line-height:28px;color:var(--color_purple_900_text)}.__form-combo-item-default[_ngcontent-%COMP%]{font-style:italic;color:var(--color_purple_500)}.__form-combo-item-text[_ngcontent-%COMP%]{height:20px;padding:0;font-family:var(--font_main);font-style:normal;font-weight:300;font-size:14px;line-height:18px;color:var(--color_purple_900_text)}.__form-combo-item-text-extra[_ngcontent-%COMP%]{height:20px;padding:0 0 0 12px;font-family:var(--font_main);font-style:normal;font-weight:300;font-size:12px;line-height:18px;color:var(--color_purple_900_icons)}.__form-combo-item-block[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start}.__form-control-panel[_ngcontent-%COMP%]{width:305px}.__form-settings-title[_ngcontent-%COMP%]{font-family:var(--font_main);font-style:normal;font-weight:400;font-size:18px;line-height:35px;color:var(--color_purple_900_text)}.__form-settings-label[_ngcontent-%COMP%]{padding:0;margin:8px 0;font-family:var(--font_main);font-style:normal;font-weight:400;font-size:12px;line-height:14px;color:var(--color_purple_900_icons)}','@import"https://fonts.googleapis.com/css2?family=Montserrat+Alternates:wght@800&display=swap";.__top-menu-bar[_ngcontent-%COMP%]{position:sticky;top:0;display:flex;box-sizing:border-box;align-items:center;-moz-box-pack:justify;height:96px;padding:0 24px 0 0;background-color:var(--color_purple_900);width:100%;z-index:100}@media (max-width: 1908px){.__top-menu-bar[_ngcontent-%COMP%]{height:64px}}@media (max-width: 1354px){.__top-menu-bar[_ngcontent-%COMP%]{height:64px}}@media (max-width: 1012px){.__top-menu-bar[_ngcontent-%COMP%]{display:none;width:0px;min-width:0px;visibility:hidden}}.__top-menu-hamburger[_ngcontent-%COMP%]{display:none}@media (max-width: 1012px){.__top-menu-hamburger[_ngcontent-%COMP%]{position:sticky;top:0;display:flex;box-sizing:border-box;align-items:center;-moz-box-pack:justify;height:48px;background-color:var(--color_purple_900);width:100%;z-index:100}}.__top-menu-content-bar[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end}.__top-menu-content-bar-profile-side-menu-expanded[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center;margin-left:336px}@media (max-width: 1908px){.__top-menu-content-bar-profile-side-menu-expanded[_ngcontent-%COMP%]{margin-left:244px}}@media (max-width: 1354px){.__top-menu-content-bar-profile-side-menu-expanded[_ngcontent-%COMP%]{margin-left:244px}}@media (max-width: 1012px){.__top-menu-content-bar-profile-side-menu-expanded[_ngcontent-%COMP%]{width:0px;visibility:hidden}}.__top-menu-content-bar-profile-side-menu-collapsed[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center;margin-left:200px}@media (max-width: 1908px){.__top-menu-content-bar-profile-side-menu-collapsed[_ngcontent-%COMP%]{margin-left:96px}}@media (max-width: 1354px){.__top-menu-content-bar-profile-side-menu-collapsed[_ngcontent-%COMP%]{margin-left:96px}}@media (max-width: 1012px){.__top-menu-content-bar-profile-side-menu-collapsed[_ngcontent-%COMP%]{width:0px;visibility:hidden}}.__top-menu-content-box[_ngcontent-%COMP%]{display:flex;align-items:center}.__top-menu-error-bar[_ngcontent-%COMP%]{position:sticky;top:0;display:grid;grid-template-columns:auto 40px;grid-template-rows:auto;box-sizing:border-box;align-items:center;-moz-box-pack:justify;min-height:48px;padding:0;background-color:var(--color_pink_500);width:100%;z-index:500}.__top-menu-error-bar[_ngcontent-%COMP%]   div.__error-message-text[_ngcontent-%COMP%]{grid-row:1;grid-column:1/2;margin:8px 40px;font-family:var(--font_main);font-style:normal;font-weight:400;font-size:14px;line-height:28px;color:var(--color_white);white-space:pre-line}.__top-menu-error-bar[_ngcontent-%COMP%]   div.__error-close-button[_ngcontent-%COMP%]{grid-row:1;grid-column:2/3;width:24px;height:24px}.__top-menu-error-bar-hidden[_ngcontent-%COMP%]{position:sticky;top:0;display:none;min-height:0px;width:100%}.__popup-menu-separator[_ngcontent-%COMP%]{display:block;margin:8px auto;width:100%;height:.5px;background-color:var(--color_purple_200)}.__popup-menu-button[_ngcontent-%COMP%]{height:28px;margin:0 15px;padding:0;border:none;background-color:var(--color_white);color:var(--color_purple_900_text);font-family:var(--font_main);font-style:normal;font-weight:400;font-size:14px;line-height:28px}.__popup-menu-button[_ngcontent-%COMP%]   #button-icon[_ngcontent-%COMP%]{font-size:32px;margin-right:16px;color:var(--color_purple_900_icons)}.__popup-menu-button[_ngcontent-%COMP%]:focus{outline:none}.__popup-menu-button[_ngcontent-%COMP%]:hover{color:var(--color_main_blue_600)}.__popup-menu-button[_ngcontent-%COMP%]:hover   #button-icon[_ngcontent-%COMP%]{font-size:32px;margin-right:16px;color:var(--color_main_blue_600)}.__popup-menu-button-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.__side-menu-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;height:80%;width:100%}.__side-menu-footer-container[_ngcontent-%COMP%]{margin-left:48px}@media (max-width: 1908px){.__side-menu-footer-container[_ngcontent-%COMP%]{margin-left:24px}}@media (max-width: 1354px){.__side-menu-footer-container[_ngcontent-%COMP%]{margin-left:24px}}.__side-menu-data-container[_ngcontent-%COMP%]{margin-top:44px;margin-left:48px}@media (max-width: 1908px){.__side-menu-data-container[_ngcontent-%COMP%]{margin-left:0}}@media (max-width: 1354px){.__side-menu-data-container[_ngcontent-%COMP%]{margin-left:0}}.__tool-bar-container[_ngcontent-%COMP%]{margin:32px 24px 24px}@media (max-width: 1908px){.__tool-bar-container[_ngcontent-%COMP%]{margin:24px 24px 16px}}@media (max-width: 1012px){.__tool-bar-container[_ngcontent-%COMP%]{margin:8px}}.__tool-bar-filter-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:baseline}.__tool-bar-filter-mixed-height-area[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;margin:0 0 12px}.__tool-bar-filter-mixed-height-small[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:flex-start}.__tool-bar-filter-cloud[_ngcontent-%COMP%]{width:100%;margin:8px 0 4px}.__tool-selector-bar-container[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto;grid-template-columns:auto 1px}.__tool-selector-bar-line[_ngcontent-%COMP%]{grid-column:1;grid-row:2/3;height:1px;background-color:var(--color_purple_50)}.__tool-selector-bar-data-container[_ngcontent-%COMP%]{grid-column:1;grid-row:1/3;display:flex;flex-direction:row;align-items:baseline;justify-content:flex-start;white-space:nowrap}.__tool-selector-bar-item-container[_ngcontent-%COMP%]{height:30px;margin:0 16px}.__tool-selector-bar-item-data[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:28px;font-family:var(--font_main);font-style:normal;font-weight:400;font-size:14px;line-height:28px;color:var(--color_purple_900_text);cursor:pointer}.__tool-selector-bar-item-data-selected[_ngcontent-%COMP%]{border:2px solid var(--color_main_blue_800);border-style:none none solid none;color:var(--color_main_blue_800);cursor:default}.__tool-bar-block[_ngcontent-%COMP%]{height:28px}.__tool-bar-block-lg[_ngcontent-%COMP%]{height:36px}.__tool-bar-data-block[_ngcontent-%COMP%]{width:50px;font-size:8px!important}.__tool-bar-label[_ngcontent-%COMP%]{margin:0 16px 0 0;font-family:var(--font_main);font-style:normal;font-weight:300;font-size:14px;line-height:28px;color:var(--color_purple_900_text);white-space:nowrap}.__tool-bar-error[_ngcontent-%COMP%]{display:block;width:120px;font-family:var(--font_main);font-style:normal;font-weight:400;font-size:11px;color:var(--color_pink_600)}.__tool-bar-error-wide[_ngcontent-%COMP%]{width:100%}.__tool-bar-double-sided-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end;width:100%}.__tool-bar-double-sided-data-box[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.__tool-bar-double-sided-data-box-top[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:flex-start}.__tool-bar-icon-box[_ngcontent-%COMP%]{display:block;margin:0 24px 0 4px}input.__tool-bar-text-box[_ngcontent-%COMP%]{width:120px;border:0px solid var(--color_purple_300);border-bottom-width:.5px;background-color:transparent;font-family:var(--font_main);font-style:normal;font-weight:400;font-size:14px;color:var(--color_purple_900_text)}input.__tool-bar-text-box[_ngcontent-%COMP%]:hover{border:0px solid var(--color_main_blue_600);border-bottom-width:1px}input.__tool-bar-text-box[_ngcontent-%COMP%]:focus{outline:none;border:0px solid var(--color_main_blue_800);border-bottom-width:2px}input.__tool-bar-text-box-error[_ngcontent-%COMP%]{border:0px solid var(--color_pink_300);border-bottom-width:.5px}input.__tool-bar-text-box-error[_ngcontent-%COMP%]:hover{border:0px solid var(--color_pink_700);border-bottom-width:1px}input.__tool-bar-text-box-error[_ngcontent-%COMP%]:focus{border:0px solid var(--color_pink_500);border-bottom-width:2px}input.__tool-bar-text-box-wide[_ngcontent-%COMP%]{width:100%}textarea.__tool-bar-text-box[_ngcontent-%COMP%]{resize:none;height:150px;width:100%;border:0px solid var(--color_purple_300);border-bottom-width:.5px;background-color:transparent;font-family:var(--font_main);font-style:normal;font-weight:300;font-size:14px;color:var(--color_purple_900_text)}textarea.__tool-bar-text-box[_ngcontent-%COMP%]:hover{border:0px solid var(--color_main_blue_600);border-bottom-width:1px}textarea.__tool-bar-text-box[_ngcontent-%COMP%]:focus{outline:none;border:0px solid var(--color_main_blue_800);border-bottom-width:2px}textarea.__tool-bar-text-box-error[_ngcontent-%COMP%]{border:0px solid var(--color_pink_300);border-bottom-width:.5px}textarea.__tool-bar-text-box-error[_ngcontent-%COMP%]:hover{border:0px solid var(--color_pink_700);border-bottom-width:1px}textarea.__tool-bar-text-box-error[_ngcontent-%COMP%]:focus{border:0px solid var(--color_pink_500);border-bottom-width:2px}.__tool-bar-text-area-separator[_ngcontent-%COMP%]{height:136px}.__top-menu-button-separator[_ngcontent-%COMP%]{width:1px;height:28px;background-color:var(--color_purple_50);margin:0 8px;opacity:.3}.__tool-bar-image-combo-item[_ngcontent-%COMP%]{margin:auto;display:flex;flex-direction:row;justify-content:flex-start;align-items:center}.__tool-bar-image-combo-item-img[_ngcontent-%COMP%]{margin:0 4px 0 8px;width:16px;height:16px}.__tool-bar-image-combo-item-text[_ngcontent-%COMP%]{font-family:var(--font_main);font-style:normal;font-weight:400;font-size:14px;line-height:15px;color:var(--color_purple_900_text)}#top_menu_hamburger_toggle[_ngcontent-%COMP%]{opacity:0}#top_menu_hamburger_toggle[_ngcontent-%COMP%]:checked ~ .__top-menu-hamburger-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{transform:rotate(45deg)}#top_menu_hamburger_toggle[_ngcontent-%COMP%]:checked ~ .__top-menu-hamburger-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:before{top:0;transform:rotate(0)}#top_menu_hamburger_toggle[_ngcontent-%COMP%]:checked ~ .__top-menu-hamburger-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:after{top:0;transform:rotate(90deg)}#top_menu_hamburger_toggle[_ngcontent-%COMP%]:checked ~ .__top-menu-hamburger-box[_ngcontent-%COMP%]{visibility:visible;top:0}.__top-menu-hamburger-button[_ngcontent-%COMP%]{display:flex;align-items:center;position:fixed;top:12px;left:16px;width:24px;height:24px;cursor:pointer;z-index:1}.__top-menu-hamburger-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .__top-menu-hamburger-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:before, .__top-menu-hamburger-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:after{display:block;position:absolute;width:100%;height:2px;background-color:var(--color_white);transition-duration:.25s}.__top-menu-hamburger-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:before{content:"";top:-8px}.__top-menu-hamburger-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:after{content:"";top:8px}.__top-menu-hamburger-box[_ngcontent-%COMP%]{display:block;position:fixed;visibility:hidden;top:-100%;left:0;width:100%;height:100%;margin:0;padding:64px 0;list-style:none;background-color:var(--color_purple_900);transition-duration:.25s}.__top-menu-hamburger-item[_ngcontent-%COMP%]{display:block!important;padding:8px 24px!important;color:var(--color_purple_50)!important;font-family:var(--font_main)!important;font-size:16px!important;font-weight:300!important;text-decoration:none!important;transition-duration:.25s!important}.__top-menu-hamburger-item[_ngcontent-%COMP%]:hover{background-color:var(--color_purple_500)!important}.__top-menu-hamburger-separator[_ngcontent-%COMP%]{width:100%;height:1px;background-color:var(--color_purple_50);margin:8px 0}.menu-bar[_ngcontent-%COMP%]{position:fixed;box-sizing:border-box;align-items:center;-moz-box-pack:justify;width:1366px;height:96px;background-color:var(--color_white);padding:24px;z-index:100}.menu-content-bar[_ngcontent-%COMP%]{margin:auto;display:flex;flex-direction:column;justify-content:space-between;width:100%}.menu-box[_ngcontent-%COMP%]{margin:0}.menu-delimiter[_ngcontent-%COMP%]{margin:0 1.5em}.__profile-container[_ngcontent-%COMP%]{display:flex}.__profile-side-menu[_ngcontent-%COMP%]{position:fixed;top:96px;left:0;height:100%;width:200px;display:flex;justify-content:center;align-items:baseline;background-color:var(--color_white);border:1px solid var(--color_purple_50);border-style:none solid none none;z-index:250}@media (max-width: 1908px){.__profile-side-menu[_ngcontent-%COMP%]{top:64px;width:96px}}@media (max-width: 1354px){.__profile-side-menu[_ngcontent-%COMP%]{top:64px;width:96px}}@media (max-width: 1012px){.__profile-side-menu[_ngcontent-%COMP%]{display:none;visibility:hidden}}.__profile-side-menu-expanded[_ngcontent-%COMP%]{position:fixed;top:96px;left:0;height:100%;width:336px;display:flex;justify-content:center;align-items:baseline;background-color:var(--color_white);border:1px solid var(--color_purple_50);border-style:none solid none none;z-index:250}@media (max-width: 1908px){.__profile-side-menu-expanded[_ngcontent-%COMP%]{top:64px;width:244px}}@media (max-width: 1354px){.__profile-side-menu-expanded[_ngcontent-%COMP%]{top:64px;width:244px}}@media (max-width: 1012px){.__profile-side-menu-expanded[_ngcontent-%COMP%]{width:0px;visibility:hidden}}.__profile-page-title[_ngcontent-%COMP%]{padding:16px 0 0;font-family:var(--font_main);font-style:normal;font-weight:400;font-size:23px;line-height:28px;color:var(--color_purple_900_text)}.__profile-data-title[_ngcontent-%COMP%]{padding:24px 0 0;font-family:var(--font_main);font-style:normal;font-weight:400;font-size:23px;line-height:28px;color:var(--color_purple_900_icons)}.__profile-content[_ngcontent-%COMP%]{width:calc(100vw - 264px);padding:0 16px;background-color:var(--color_white);margin-left:200px}@media (max-width: 1908px){.__profile-content[_ngcontent-%COMP%]{width:calc(100vw - 144px);padding:0;margin-left:96px}}@media (max-width: 1354px){.__profile-content[_ngcontent-%COMP%]{width:calc(100vw - 96px);padding:0;margin-left:96px}}@media (max-width: 1012px){.__profile-content[_ngcontent-%COMP%]{width:100%;padding:0;background-color:var(--color_white);margin-left:0;overflow:scroll}}.__profile-content-expanded[_ngcontent-%COMP%]{background-color:var(--color_white);width:calc(100vw - 400px);padding:0 16px;margin-left:336px}@media (max-width: 1908px){.__profile-content-expanded[_ngcontent-%COMP%]{padding:0;width:calc(100vw - 308px);margin-left:244px}}@media (max-width: 1354px){.__profile-content-expanded[_ngcontent-%COMP%]{padding:0;width:calc(100vw - 308px);margin-left:244px}}@media (max-width: 1012px){.__profile-content-expanded[_ngcontent-%COMP%]{width:100%;padding:0;background-color:var(--color_white);margin-left:0;overflow:scroll}}.__profile-top-menu-logo-box[_ngcontent-%COMP%]{position:fixed;display:flex;left:0;top:0;height:96px;width:336px;align-items:center;justify-content:flex-start;background-color:var(--color_purple_900);z-index:200}@media (max-width: 1908px){.__profile-top-menu-logo-box[_ngcontent-%COMP%]{height:64px;width:244px}}@media (max-width: 1354px){.__profile-top-menu-logo-box[_ngcontent-%COMP%]{height:64px;width:244px}}@media (max-width: 1012px){.__profile-top-menu-logo-box[_ngcontent-%COMP%]{display:none;visibility:hidden}}.__profile-top-menu-logo[_ngcontent-%COMP%]{margin:0 48px;font-family:Montserrat Alternates;font-weight:800;font-size:32px;color:var(--color_white);cursor:pointer}@media (max-width: 1908px){.__profile-top-menu-logo[_ngcontent-%COMP%]{margin:0 30px}}.__profile-details-block[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100%;width:100%;z-index:200;padding:0;display:flex;justify-content:flex-end;align-items:baseline;background-color:#bbbbbb60}.__profile-chat-block[_ngcontent-%COMP%]{position:fixed;bottom:24px;right:24px;z-index:300;padding:0;display:flex;justify-content:flex-end;align-items:flex-end;background-color:transparent}@media (max-width: 1012px){.__profile-chat-block[_ngcontent-%COMP%]{display:none;visibility:hidden}}.__profile-settings-progress-bar[_ngcontent-%COMP%]{margin:0 24px}.__profile-settings-container-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;justify-content:flex-start;align-items:stretch}.__profile-internal-table-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;justify-content:flex-start;align-items:stretch}.__profile-internal-table-data-container-open[_ngcontent-%COMP%]{width:calc(100% - 475px);transition:width .25s cubic-bezier(0,0,.2,1)}@media (max-width: 1908px){.__profile-internal-table-data-container-open[_ngcontent-%COMP%]{width:calc(100% - 342px);transition:width .25s cubic-bezier(0,0,.2,1)}}@media (max-width: 1012px){.__profile-internal-table-data-container-open[_ngcontent-%COMP%]{display:none}}.__profile-internal-table-details-container-open[_ngcontent-%COMP%]{width:475px;margin:0 0 0 24px;background-color:var(--color_white);z-index:50}@media (max-width: 1908px){.__profile-internal-table-details-container-open[_ngcontent-%COMP%]{width:342px}}@media (max-width: 1012px){.__profile-internal-table-details-container-open[_ngcontent-%COMP%]{width:100%;margin:0}}.__profile-internal-table-data-container-closed[_ngcontent-%COMP%]{width:100%;transition:width .25s cubic-bezier(0,0,.2,1);-webkit-transition:width .25s cubic-bezier(0,0,.2,1)}.__profile-internal-table-details-container-closed[_ngcontent-%COMP%]{width:0px;transition:width .25s cubic-bezier(0,0,.2,1);-webkit-transition:width .25s cubic-bezier(0,0,.2,1);display:none}.__profile-internal-table-details-box[_ngcontent-%COMP%]{border-style:solid;border-width:0px 0px 0px 1px;border-color:var(--color_purple_50);margin:0;min-height:700px}@media (max-width: 1908px){.__profile-internal-table-details-box[_ngcontent-%COMP%]{width:342px;min-height:600px}}@media (max-width: 1012px){.__profile-internal-table-details-box[_ngcontent-%COMP%]{width:100%;min-height:400px;border-style:none}}.__profile-internal-table-details-data-box[_ngcontent-%COMP%]{margin:16px 0 0 24px}.__profile-internal-table-details-header-box[_ngcontent-%COMP%]{margin:0;height:24px;display:flex;flex-direction:row;justify-content:flex-end}.__profile-internal-table-details-value-box[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;margin:0 0 8px}.__profile-internal-table-details-text-box[_ngcontent-%COMP%]{margin:16px 0 8px}.__profile-internal-table-details-item-title-box[_ngcontent-%COMP%]{width:110px}.__profile-unsupported-device[_ngcontent-%COMP%]{position:absolute;left:0;top:0;text-align:center;background-color:var(--color_white);width:0px;visibility:hidden}@media (max-width: 1012px){.__profile-unsupported-device[_ngcontent-%COMP%]{width:100%;visibility:visible}}.__profile-unsupported-device-title[_ngcontent-%COMP%]{margin:48px;text-align:center;font-family:var(--font_main);font-style:normal;font-weight:400;font-size:14px;line-height:28px;color:var(--color_purple_900_text)}.__profile-data-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;margin:0 24px 24px}.__profile-data-container-full[_ngcontent-%COMP%]{height:100%}@media (max-width: 1012px){.__profile-content-mobile-container[_ngcontent-%COMP%]{display:none;visibility:hidden}}.__profile-settings-container[_ngcontent-%COMP%]{display:block;margin:16px 0 0 24px}.__profile-settings-personal-info-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:258px auto;grid-template-rows:auto}.__profile-settings-personal-info-common-container[_ngcontent-%COMP%]{grid-row:1;grid-column:1;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;margin:0 24px 0 0}.__profile-settings-personal-info-avatar-area[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;justify-content:flex-start}.__profile-settings-personal-info-no-avatar[_ngcontent-%COMP%]{width:180px;height:180px;border-radius:90px;margin:20px 0 0;background-color:var(--color_purple_200)}.__profile-settings-personal-info-avatar-image[_ngcontent-%COMP%]{margin:20px 0 0;width:180px;height:180px;border-radius:50%;object-fit:cover}.__profile-settings-personal-info-avatar-button[_ngcontent-%COMP%]{width:calc(100% - 32px);display:flex;flex-direction:row;align-items:flex-end;justify-content:flex-end;margin:0 0 16px}.__profile-settings-personal-info-avatar-loader[_ngcontent-%COMP%]{display:none}.__profile-settings-personal-info-verification-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start}.__profile-settings-personal-verification-level[_ngcontent-%COMP%]{padding:0;margin:0;font-family:var(--font_main);font-style:normal;font-weight:400;font-size:24px;line-height:56px;text-align:center;color:var(--color_main_blue_800)}.__profile-settings-personal-name[_ngcontent-%COMP%]{padding:0;margin:8px 0;font-family:var(--font_main);font-style:normal;font-weight:400;font-size:18px;line-height:35px;text-align:center;color:var(--color_purple_900_text)}.__profile-settings-personal-verification-status-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;margin:0 0 8px}.__profile-settings-personal-verification-status-success[_ngcontent-%COMP%]{color:var(--color_main_blue_700)}.__profile-settings-personal-verification-status-failed[_ngcontent-%COMP%]{color:var(--color_pink_500)}.__profile-settings-personal-verification-status-label[_ngcontent-%COMP%]{margin:0 0 0 8px;font-family:var(--font_main);font-style:normal;font-weight:300;font-size:14px;line-height:28px}.__profile-settings-personal-info-editor-container[_ngcontent-%COMP%]{grid-row:1;grid-column:2;margin:24px;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start}.__profile-settings-personal-info-editor-box[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-rows:36px auto;grid-template-columns:128px 8px 314px 50px;align-items:center;justify-items:start}.__profile-settings-personal-info-editor-label[_ngcontent-%COMP%]{padding:0;margin:0;grid-row:1;grid-column:1;font-family:var(--font_main);font-style:normal;font-weight:400;font-size:14px;line-height:28px;color:var(--color_purple_900_text)}.__profile-settings-personal-info-editor-label-required[_ngcontent-%COMP%]{color:var(--color_pink_600)}.__profile-settings-personal-info-editor-value-box[_ngcontent-%COMP%]{width:100%;padding:0;margin:0;grid-row:1;grid-column:3}.__profile-settings-personal-info-editor-value[_ngcontent-%COMP%]{font-family:var(--font_main);font-style:normal;font-weight:300;font-size:14px;line-height:28px;color:var(--color_purple_900_text)}.__profile-settings-personal-info-editor-button[_ngcontent-%COMP%]{padding:0;margin:0;grid-row:1;grid-column:4;justify-self:center}.__profile-settings-personal-info-editor-error-box[_ngcontent-%COMP%]{grid-row:2;grid-column:3}.__profile-settings-personal-info-combo-item[_ngcontent-%COMP%]{margin:auto;display:flex;flex-direction:row;justify-content:flex-start;align-items:center}.__profile-settings-personal-info-combo-img[_ngcontent-%COMP%]{margin:0 4px 0 0;width:16px;height:16px}.__profile-settings-personal-info-combo-text[_ngcontent-%COMP%]{font-family:var(--font_main);font-style:normal;font-weight:400;font-size:14px;line-height:15px;color:var(--color_purple_900_text)}.__profile-settings-verification-container[_ngcontent-%COMP%]{margin:24px 24px 0 0;display:flex;flex-flow:row wrap;justify-content:space-between;align-items:stretch;gap:24px 24px}.__profile-settings-verification-tier-container[_ngcontent-%COMP%]{flex:1 1 0;display:flex;min-width:200px;max-width:50vw;flex-direction:column;justify-content:space-between;background:var(--color_white);box-shadow:0 3px 5px #d0cfcf33,0 5px 8px #d0cfcf24,0 1px 14px #d0cfcf1f}.__profile-settings-verification-tier-title[_ngcontent-%COMP%]{padding:24px;background:var(--color_main_blue_900);text-align:center;font-family:var(--font_main);font-style:normal;font-weight:400;font-size:18px;line-height:35px;color:var(--color_white)}.__profile-settings-verification-tier-data-container[_ngcontent-%COMP%]{flex:auto;margin:7px 24px 0;display:flex;flex-direction:column;align-items:center;justify-content:flex-start}.__profile-settings-verification-tier-limit[_ngcontent-%COMP%]{margin:7px 0;width:100%;border-bottom:.5px solid var(--color_purple_50);text-align:center;font-family:var(--font_main);font-style:normal;font-weight:400;font-size:16px;line-height:28px;color:var(--color_purple_900_text)}.__profile-settings-verification-tier-subtitle[_ngcontent-%COMP%]{margin:0;padding:0;text-align:center;font-family:var(--font_main);font-style:normal;font-weight:400;font-size:16px;line-height:28px;color:var(--color_purple_900_text)}.__profile-settings-verification-tier-description[_ngcontent-%COMP%]{margin:16px 0 24px;align-self:flex-start;text-align:start;font-family:var(--font_main);font-style:normal;font-weight:300;font-size:14px;line-height:28px;color:var(--color_purple_900_text)}.__profile-settings-verification-tier-button-container[_ngcontent-%COMP%]{margin:0 0 24px;display:flex;justify-content:center;align-items:center}.__profile-settings-top-button-bar-container[_ngcontent-%COMP%]{margin:12px 0;display:flex;flex-direction:row;justify-content:flex-start;align-items:center}.__profile-data-table[_ngcontent-%COMP%]{width:100%;background-color:var(--color_white)}.__profile-table-column[_ngcontent-%COMP%]{word-wrap:break-word;white-space:unset;overflow-wrap:break-word;word-break:break-word;-webkit-hyphens:auto;hyphens:auto;height:48px;padding:0!important}.__profile-table-header[_ngcontent-%COMP%]{font-family:var(--font_main);font-style:normal;font-weight:400;font-size:12px!important;line-height:14px;color:var(--color_purple_200);margin-left:4px}.__profile-table-details-table[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.__profile-disabled-block[_ngcontent-%COMP%]{opacity:.6}.__profile-details-panel[_ngcontent-%COMP%]{width:400px;height:100%;background-color:var(--color_white);box-shadow:0 8px 11px #d0cfcf33,0 17px 26px #d0cfcf24,0 6px 32px #0000001f;display:flex;flex-direction:column}.__profile-buttons-area[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;margin:32px 0}.__profile-details-title-bar[_ngcontent-%COMP%]{width:100%;height:40px;display:flex;justify-content:flex-end}.__profile-details-close-button[_ngcontent-%COMP%]{margin:8px}.__profile-details-data-block[_ngcontent-%COMP%]{height:100%;display:block;margin:0 15px 24px}.__profile-payment-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:stretch;width:400px;height:100%;background-color:var(--color_white);box-shadow:0 8px 11px #d0cfcf33,0 17px 26px #d0cfcf24,0 6px 32px #0000001f}.__profile-payment-data-block[_ngcontent-%COMP%]{height:90vh;display:block;margin:0 24px 24px}.__profile-payment-title-box[_ngcontent-%COMP%]{min-height:40px;display:flex;flex-direction:column;background-color:var(--color_purple_900)}.__profile-payment-title-bar[_ngcontent-%COMP%]{display:flex;word-wrap:normal;white-space:pre-line;margin:0 24px 24px;font-family:var(--font_main);font-style:normal;font-weight:400;font-size:16px;line-height:28px;color:var(--color_white)}@media (max-width: 1012px){.__profile-payment-title-bar[_ngcontent-%COMP%]{display:none;visibility:hidden}}.__profile-payment-data-area[_ngcontent-%COMP%]{margin:0;flex:1;overflow:auto}.__profile-payment-footer[_ngcontent-%COMP%]{min-height:40px;margin:0 24px 24px}.__profile-grid-table-container-default[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:flex-end;min-height:400px;width:100%}@media (max-width: 1908px){.__profile-grid-table-container-default[_ngcontent-%COMP%]{min-height:350px}}.__profile-grid-table-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr 1fr 1fr;grid-template-rows:auto;justify-content:start;align-content:start;justify-items:stretch;align-items:stretch;grid-auto-flow:row;column-gap:25px;row-gap:26px;width:100%}@media (max-width: 1908px){.__profile-grid-table-container[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr 1fr 1fr}}.__profile-grid-table-new-item-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;cursor:pointer}.__profile-grid-table-new-item-title[_ngcontent-%COMP%]{font-family:var(--font_main);font-style:normal;font-weight:400;font-size:64px;line-height:32px;text-align:center;color:var(--color_main_blue_800)}.__profile-grid-table-new-item-title-mini[_ngcontent-%COMP%]{font-size:56px}.__profile-grid-table-new-item-text[_ngcontent-%COMP%]{font-family:var(--font_main);font-style:normal;font-weight:400;font-size:24px;line-height:56px;text-align:center;color:var(--color_main_blue_800)}.__profile-grid-table-new-item-text-mini[_ngcontent-%COMP%]{font-size:18px;line-height:35px}.__profile-grid-table-item[_ngcontent-%COMP%]{height:184px;background-color:var(--color_white);max-width:300px}.__profile-grid-table-item-new[_ngcontent-%COMP%]{border:2px solid var(--color_main_blue_800);box-sizing:border-box;border-radius:8px;display:flex;flex-direction:column;align-items:center;justify-items:flex-end;cursor:pointer}.__profile-grid-table-item-data[_ngcontent-%COMP%]{box-shadow:0 3px 5px #d0cfcf33,0 5px 8px #d0cfcf24,0 1px 14px #d0cfcf1f;border-radius:8px}.__profile-grid-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:flex-start;align-items:center;overflow-x:auto}@media (max-width: 1012px){.__profile-grid-container[_ngcontent-%COMP%]{display:none;visibility:hidden}}.__profile-grid-item-container[_ngcontent-%COMP%]{display:flex;padding:16px;margin:24px 36px;min-width:179px;min-height:120px;background-color:var(--color_white);box-shadow:0 3px 3px #d0cfcf33,0 3px 4px #d0cfcf24,0 1px 8px #d0cfcf1f;border-radius:8px}.__profile-grid-item-data-container[_ngcontent-%COMP%]{display:flex;width:100%;padding:0;flex-direction:column}.__profile-profit-value[_ngcontent-%COMP%]{font-family:var(--font_main);font-style:normal;font-weight:400;font-size:12px;line-height:14px;color:var(--color_green_500)}.__profile-profit-negative-value[_ngcontent-%COMP%]{font-family:var(--font_main);font-style:normal;font-weight:400;font-size:12px;line-height:14px;color:var(--color_pink_600)}.__profile-extra-data-value[_ngcontent-%COMP%]{font-family:var(--font_main);font-style:normal;font-weight:400;font-size:12px;line-height:14px;color:var(--color_purple_200)}.__profile-balance-chart-container[_ngcontent-%COMP%]{margin:24px 0}.__profile-balance-chart-header-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.__profile-balance-mobile-header-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start}.__profile-balance-chart-summary-container[_ngcontent-%COMP%]{display:block;margin:0 0 24px}.__profile-balance-chart-currency-selector[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;justify-content:flex-start;margin:4px 0 0}.__profile-balance-chart-currency-selector-title[_ngcontent-%COMP%]{margin:4px 10px 0 0}.__profile-balance-chart-period-selector[_ngcontent-%COMP%]{margin:32px 0 0}@media (max-width: 1012px){.__profile-balance-chart-period-selector[_ngcontent-%COMP%]{display:none;visibility:hidden}}.__profile-balance-chart-data-container[_ngcontent-%COMP%]{width:100%;height:400px;display:block}.__profile-internal-details-title[_ngcontent-%COMP%]{margin:0 0 24px;font-family:var(--font_main);font-style:normal;font-weight:400;font-size:16px;line-height:28px;color:var(--color_purple_900_text)}.__profile-internal-details-item-title[_ngcontent-%COMP%]{font-family:var(--font_main);font-style:normal;font-weight:300;font-size:14px;line-height:28px;color:var(--color_purple_900_icons)}.__profile-internal-details-item-value[_ngcontent-%COMP%]{font-family:var(--font_main);font-style:normal;font-weight:300;font-size:14px;line-height:28px;color:var(--color_purple_900_text)}.__profile-settings-narrow-container[_ngcontent-%COMP%]{width:800px;margin:16px 0}.__profile-settings-item-bar[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:baseline}.__profile-settings-delimitter[_ngcontent-%COMP%]{margin:24px 0;width:100%;height:1px;background-color:var(--color_purple_50)}','@import"https://fonts.googleapis.com/css2?family=Montserrat+Alternates:wght@800&display=swap";.__profile-details-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%}.__profile-details-title[_ngcontent-%COMP%]{margin:0 16px;width:100%;height:28px;font-family:var(--font_main);font-style:normal;font-weight:400;font-size:21px;line-height:28px;color:var(--color_purple_900_text)}.__profile-details-title-small[_ngcontent-%COMP%]{font-size:16px;line-height:28px}.__profile-details-title-center[_ngcontent-%COMP%]{text-align:center}.__profile-details-title-editable[_ngcontent-%COMP%]{margin:0 0 0 16px;height:28px;font-family:var(--font_main);font-style:normal;font-weight:400;font-size:21px;line-height:28px;color:var(--color_purple_900_text)}.__profile-details-subtitle[_ngcontent-%COMP%]{margin:24px 0;width:100%;font-family:var(--font_main);font-style:normal;font-weight:300;font-size:14px;line-height:28px;color:var(--color_purple_900_text)}.__profile-details-data-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end;width:100%;height:100%;margin:24px 0 0}.__profile-details-data-form[_ngcontent-%COMP%]{margin:12px 0 0}.__profile-details-data-area[_ngcontent-%COMP%]{margin:0 16px 24px;height:100%}@media (max-width: 1012px){.__profile-details-data-area[_ngcontent-%COMP%]{margin:0;overflow:auto}}.__profile-details-payment-title-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%}.__profile-error-payment-title-block[_ngcontent-%COMP%]{margin:140px 0 0;display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%}.__profile-details-payment-title-image[_ngcontent-%COMP%]{width:126px;height:106px;margin:16px 0 24px}.__profile-details-extra-data[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;font-family:var(--font_main);font-style:normal;font-weight:300;font-size:14px;line-height:28px;color:var(--color_purple_900_text)}.__profile-details-item-block[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;margin:8px 0}.__profile-details-item-grid[_ngcontent-%COMP%], .__profile-transaction-details-item-grid[_ngcontent-%COMP%]{width:100%;margin:8px 0;display:grid;grid-template-columns:130px auto;grid-template-rows:auto}.__profile-transaction-details-item-grid[_ngcontent-%COMP%]{grid-template-columns:150px auto}.__profile-details-item-activated-block[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto;grid-template-rows:auto}.__profile-details-item-active-block[_ngcontent-%COMP%]{grid-row:1;grid-column:1}.__profile-details-item-active-block-disabled[_ngcontent-%COMP%]{z-index:150;grid-row:1;grid-column:1;background-color:#0000000d}.__profile-details-link-block[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:flex-end;margin:18px 0}.__profile-details-item-title-block[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:flex-start;margin:8px 0 0}.__profile-details-item-value-block[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:flex-start;margin:0 0 8px}.__profile-details-item-title-box[_ngcontent-%COMP%]{grid-row:1;grid-column:1/2;font-family:var(--font_main);font-style:normal;font-weight:300;font-size:14px;line-height:28px;color:var(--color_purple_900_text)}.__profile-details-item-title[_ngcontent-%COMP%]{width:130px;min-width:130px;height:28px;font-family:var(--font_main);font-style:normal;font-weight:300;font-size:14px;line-height:28px;color:var(--color_purple_900_text)}.__profile-details-item-title-edit[_ngcontent-%COMP%]{width:60px;min-width:60px}.__profile-details-item-value[_ngcontent-%COMP%]{margin-left:8px;height:28px;font-family:var(--font_main);font-style:normal;font-weight:400;font-size:14px;line-height:28px;color:var(--color_purple_900_text)}.__profile-details-item-value-box-default[_ngcontent-%COMP%]{grid-row:1;grid-column:2/3}.__profile-details-item-value-box[_ngcontent-%COMP%]{grid-row:1;grid-column:2/3;margin-left:8px;font-family:var(--font_main);font-style:normal;font-weight:400;font-size:14px;line-height:28px;white-space:normal;color:var(--color_purple_900_text)}.__profile-details-item-value-truncate[_ngcontent-%COMP%]{width:210px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.__profile-details-item-single-value[_ngcontent-%COMP%]{margin:0}.__profile-details-item-error[_ngcontent-%COMP%]{color:var(--color_pink_500)}.__profile-details-qrcode-block[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:5px}.__profile-details-data-caption[_ngcontent-%COMP%]{margin:0;font-family:var(--font_main);font-style:normal;font-weight:400;font-size:12px;line-height:14px;color:var(--color_purple_900_icons)}.__profile-details-payment-title[_ngcontent-%COMP%]{font-family:var(--font_main);font-style:normal;font-weight:400;font-size:18px;line-height:35px;color:var(--color_main_blue_800)}.__profile-error-payment-title[_ngcontent-%COMP%]{font-family:var(--font_main);font-style:normal;font-weight:400;font-size:18px;line-height:35px;color:var(--color_pink_500)}.__profile-details-payment-amount[_ngcontent-%COMP%]{font-family:var(--font_main);font-style:normal;font-weight:400;font-size:24px;line-height:56px;color:var(--color_purple_900_text)}.__profile-details-payment-subtitle[_ngcontent-%COMP%]{margin:16px 0;font-family:var(--font_main);font-style:normal;font-weight:300;font-size:14px;line-height:28px;color:var(--color_purple_900_text);text-align:center}.__profile-details-button-container[_ngcontent-%COMP%]{margin:24px;display:flex;justify-content:center}.__profile-details-footer[_ngcontent-%COMP%]{width:100%;height:28px;display:flex;justify-content:flex-start;flex-direction:row-reverse}.__profile-details-footer-caption[_ngcontent-%COMP%]{margin:auto 18px;font-family:var(--font_main);font-style:normal;font-weight:400;font-size:12px;line-height:14px;color:var(--color_purple_900_text)}a.__profile-details-link[_ngcontent-%COMP%]:link{font-family:var(--font_main);font-style:normal;font-weight:400;font-size:14px;line-height:28px;color:var(--color_main_blue_800);text-decoration:none}a.__profile-details-link[_ngcontent-%COMP%]:hover{color:var(--color_main_blue_600);text-decoration:underline}a.__profile-details-link[_ngcontent-%COMP%]:visited{color:var(--color_main_blue_800);text-decoration:none}a.__profile-details-link[_ngcontent-%COMP%]:active{color:var(--color_main_blue_800);text-decoration:underline}a.__profile-details-link-accent[_ngcontent-%COMP%]:link{color:var(--color_pink_500)}a.__profile-details-link-accent[_ngcontent-%COMP%]:hover{color:var(--color_pink_700)}a.__profile-details-link-accent[_ngcontent-%COMP%]:visited{color:var(--color_pink_500)}a.__profile-details-link-accent[_ngcontent-%COMP%]:active{color:var(--color_pink_900)}']})}return r})();var Me=a(8293),Oe=a(3045),Se=a(2085),Fe=a(980),Te=a(2068),q=a(9172),Q=a(6354),E=a(8834),T=a(2102),Ie=a(2798),Re=a(6600),K=a(1929);function je(r,s){if(1&r&&e.nrm(0,"img",16),2&r){const t=e.XpG().$implicit,n=e.XpG(2);e.FS9("src",n.getCountryFlag(t.countryCode2),e.B4B)}}function Ee(r,s){if(1&r&&(e.j41(0,"mat-option",13)(1,"div",14),e.DNE(2,je,1,1,"img",15),e.EFF(3),e.k0s()()),2&r){const t=s.$implicit,n=e.XpG(2);e.Y8G("value",t.countryCode2),e.R7$(2),e.Y8G("ngIf",n.getCountryFlag),e.R7$(),e.SpI(" ",t.displayName," ")}}function Be(r,s){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"button",17),e.bIt("click",function(){const i=e.eBV(t).$implicit,o=e.XpG(2);return e.Njj(o.selectBankItem(i))}),e.j41(2,"div",18)(3,"div"),e.nrm(4,"img",19),e.nI1(5,"safeurl"),e.k0s(),e.j41(6,"div",20)(7,"div",21)(8,"span"),e.EFF(9),e.k0s()(),e.j41(10,"mat-icon"),e.EFF(11,"keyboard_arrow_right"),e.k0s()()()()()}if(2&r){const t=s.$implicit;e.R7$(4),e.Y8G("src",e.i5U(5,2,t.icon,!0),e.B4B),e.R7$(5),e.JRh(t.name)}}function We(r,s){if(1&r){const t=e.RV6();e.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"mat-form-field",6)(4,"mat-label"),e.EFF(5),e.nI1(6,"transloco"),e.k0s(),e.j41(7,"mat-select",7),e.DNE(8,Ee,4,3,"mat-option",8),e.k0s()()()(),e.j41(9,"div",9),e.DNE(10,Be,12,5,"div",10),e.nI1(11,"async"),e.k0s(),e.j41(12,"div",11)(13,"button",12),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.onBack.emit())}),e.EFF(14),e.nI1(15,"transloco"),e.k0s()()()}if(2&r){const t=e.XpG();e.R7$(5),e.SpI(" ",e.bMT(6,5,"widget-payment-bank.field_country")," "),e.R7$(2),e.Y8G("formControl",t.searchCountryControl),e.R7$(),e.Y8G("ngForOf",t.bankCountries),e.R7$(2),e.Y8G("ngForOf",e.bMT(11,7,t.paymentBanks$)),e.R7$(4),e.SpI(" ",e.bMT(15,9,"global.widget_btn-back")," ")}}function De(r,s){if(1&r){const t=e.RV6();e.j41(0,"div",22)(1,"div",23),e.EFF(2),e.nI1(3,"transloco"),e.nI1(4,"transloco"),e.k0s(),e.j41(5,"div",24),e.nrm(6,"qrcode",25),e.k0s(),e.j41(7,"div",26)(8,"button",27),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.onYapilyNavigate(i.yapilyRedirectObject.yapilyAuthUrl))}),e.EFF(9),e.nI1(10,"transloco"),e.k0s()()()}if(2&r){const t=e.XpG();e.R7$(2),e.E5c(" ",e.bMT(3,10,"widget-payment-bank.scan_qr-1")," ",t.yapilyRedirectObject.bankName," ",e.bMT(4,12,"widget-payment-bank.scan_qr-2")," "),e.R7$(4),e.Y8G("colorLight",t.qrCodeBackground)("colorDark",t.qrCodeForeground)("qrdata",t.yapilyRedirectObject.yapilyQrCodeUrl)("width",300)("allowEmptyString",!0)("errorCorrectionLevel","M"),e.R7$(3),e.SpI(" ",e.bMT(10,14,"widget-payment-bank.scan_qr-btn")," ")}}function Ge(r,s){1&r&&(e.qex(0),e.nrm(1,"app-spinner"),e.bVm())}let Ve=(()=>{class r{constructor(t,n){this.paymentService=t,this.cdr=n,this.selectBank=new e.bkB,this.onBack=new e.bkB,this.isLoading=new e.bkB,this.openWindow=new e.bkB,this.qrCodeBackground=x.Li.color_white,this.qrCodeForeground=x.Li.color_purple_900,this.searchCountryControl=new c.MJ,this.isYapilyBankLoading=!1,this.bankCountries=[],this.pSubscriptions=new O.yU}getCountryFlag(t){return`${t.toLowerCase()}.svg`}ngOnInit(){this.getYapilyDetails()}ngOnDestroy(){this.pSubscriptions.unsubscribe()}selectBankItem(t){this.selectBank.emit(t)}getYapilyDetails(){this.isYapilyBankLoading=!0,this.paymentService.getOpenBankgingDetails("Yapily").subscribe({next:({getOpenBankingDetails:t})=>{this.paymentBanks$=this.searchCountryControl.valueChanges.pipe((0,q.Z)(""),(0,Q.T)(n=>this._filter(n,t.yapily.banks))),this.bankCountries=t.yapily.countries},error:t=>{console.log(t)},complete:()=>{this.isYapilyBankLoading=!1,this.cdr.markForCheck()}})}onYapilyNavigate(t){this.openWindow.emit(t),this.isLoading.emit(!0)}_filter(t,n){const i=t.toLowerCase();return i?n.filter(o=>o.countries.some(d=>d.countryCode2.toLowerCase()===i)):n}static#e=this.\u0275fac=function(n){return new(n||r)(e.rXU(F.m),e.rXU(e.gRc))};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-payment-yapily-banks"]],inputs:{yapilyRedirectObject:"yapilyRedirectObject"},outputs:{selectBank:"selectBank",onBack:"onBack",isLoading:"isLoading",openWindow:"openWindow"},decls:3,vars:3,consts:[["class","widget-list__container",4,"ngIf"],["class","__dialog-wizard-data-container tx-center",4,"ngIf"],[4,"ngIf"],[1,"widget-list__container"],[1,"widget-list__header"],[1,"widget-list__header-search"],["appearance","outline"],["appendTo","body",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[1,"widget-list__item"],[4,"ngFor","ngForOf"],[1,"__widget-buttons-area"],["type","button",1,"__outlined-button",3,"click"],[3,"value"],[1,"bank-country"],["class","country-flag-admin bank-flag-align","alt","Country",3,"src",4,"ngIf"],["alt","Country",1,"country-flag-admin","bank-flag-align",3,"src"],["type","button",1,"widget-list__item-row",3,"click"],[1,"widget-list__item-column"],["alt","Bank",3,"src"],[1,"widget-list__item-column-item"],[1,"widget-list__item-column-label"],[1,"__dialog-wizard-data-container","tx-center"],[1,"__dialog-message"],[1,"__dialog-wizard-qr-code-container"],[3,"colorLight","colorDark","qrdata","width","allowEmptyString","errorCorrectionLevel"],[1,"button-proceed-wrapper"],["type","button","mat-raised-button","",3,"click"]],template:function(n,i){1&n&&e.DNE(0,We,16,11,"div",0)(1,De,11,16,"div",1)(2,Ge,2,0,"ng-container",2),2&n&&(e.Y8G("ngIf",!i.yapilyRedirectObject),e.R7$(),e.Y8G("ngIf",i.yapilyRedirectObject),e.R7$(),e.Y8G("ngIf",i.isYapilyBankLoading))},dependencies:[p.Sq,p.bT,c.BC,c.l_,E.$z,T.rl,T.nJ,Ie.VO,Re.wT,k.An,U.c,j.t,p.Jj,K.d,w.Kj],styles:['.widget-list__container[_ngcontent-%COMP%]{background:#fff;width:100%;height:100%;max-height:500px;overflow:auto;flex:1 1;display:flex;flex-direction:column;padding-top:5px;overflow:hidden;border-radius:8px}.widget-list__header[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto;align-items:center;margin:0;padding:0;position:relative;z-index:9999;height:50px}.widget-list__header-title[_ngcontent-%COMP%]{font:700 18px/24px Mulish,sans-serif;margin:0}.widget-list__header-button[_ngcontent-%COMP%]{position:absolute;top:15px;right:15px;padding:0;border:none;background-color:transparent;cursor:pointer;text-align:center}.widget-list__item[_ngcontent-%COMP%]{scrollbar-width:thin;overflow-y:auto;position:relative;margin-top:5px}.widget-list__item[_ngcontent-%COMP%]:before{content:"";border-bottom:1px solid #e8eaed;box-shadow:0 4px 4px #e8eaed66;position:sticky;top:0;left:0;right:0;display:block;height:1px;z-index:99999;opacity:0;transition:opacity .1s ease-in-out}.widget-list__item-row[_ngcontent-%COMP%]{all:unset;box-sizing:border-box;display:block;cursor:pointer;width:100%;background-color:#fff;transition:.2s background-color;padding:0 16px}.widget-list__item-row[_ngcontent-%COMP%]:hover{background-color:#f3f4f5}.widget-list__item-row[_ngcontent-%COMP%]   .widget-list__item-column[_ngcontent-%COMP%]{column-gap:5px;display:grid;grid-template-columns:40px auto;grid-template-rows:65px;align-items:center;width:100%}.widget-list__item-row[_ngcontent-%COMP%]   .widget-list__item-column[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25px;height:25px}.widget-list__item-row[_ngcontent-%COMP%]   .widget-list__item-column[_ngcontent-%COMP%]   .crypto-img[_ngcontent-%COMP%]{width:35px;height:35px}.widget-list__item-row[_ngcontent-%COMP%]   .widget-list__item-column-item[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid lightgray;transition:border-color .1s}.bank-country[_ngcontent-%COMP%]{display:flex;align-items:center}.bank-flag-align[_ngcontent-%COMP%]{margin-top:2px;margin-right:10px}.button-proceed-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.button-proceed-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-weight:700;color:#fff;width:100%;padding:16px;min-height:48px;letter-spacing:2px;background-color:#00a2f8;text-transform:uppercase}.button-proceed-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.38}'],changeDetection:0})}return r})();var Ne=a(5416);function Le(r,s){if(1&r&&(e.j41(0,"span",10),e.EFF(1),e.nI1(2,"transloco"),e.nrm(3,"br"),e.EFF(4),e.nI1(5,"transloco"),e.k0s()),2&r){const t=e.XpG();e.R7$(),e.SpI(" ",e.bMT(2,3,"widget-payment-transaction-details.msg-1"),", "),e.R7$(3),e.Lme(" ",e.bMT(5,5,"widget-payment-transaction-details.msg-2")," ",t.productName,"! ")}}function $e(r,s){1&r&&(e.j41(0,"div",11)(1,"span",10),e.EFF(2),e.nI1(3,"transloco"),e.k0s()()),2&r&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"widget-payment-transaction-details.msg-success")," "))}function Ae(r,s){if(1&r&&(e.j41(0,"div",11)(1,"span",10),e.EFF(2),e.nI1(3,"transloco"),e.nrm(4,"br")(5,"p"),e.EFF(6),e.nI1(7,"transloco"),e.j41(8,"a",12),e.EFF(9),e.k0s()()()),2&r){const t=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,4,"widget-payment-transaction-details.msg-failed-1"),""),e.R7$(4),e.SpI(" ",e.bMT(7,6,"widget-payment-transaction-details.msg-failed-2"),": "),e.R7$(2),e.Y8G("href",t.supportEmailLink,e.B4B),e.R7$(),e.JRh(t.supportEmail)}}function ze(r,s){if(1&r){const t=e.RV6();e.j41(0,"div",13)(1,"div",14)(2,"div",15),e.EFF(3),e.nI1(4,"transloco"),e.k0s(),e.j41(5,"button",16),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.copyParameter(i.yapilyRedirectObject.transactionId))}),e.j41(6,"i",17),e.EFF(7," content_copy "),e.k0s()()(),e.j41(8,"div",18),e.EFF(9),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(3),e.SpI(" ",e.bMT(4,2,"widget-payment-result.field_referenceId")," "),e.R7$(6),e.SpI(" ",t.yapilyRedirectObject.transactionId," ")}}function Ye(r,s){if(1&r){const t=e.RV6();e.j41(0,"div",13)(1,"div",14)(2,"div",15),e.EFF(3),e.nI1(4,"transloco"),e.k0s(),e.j41(5,"button",16),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.copyParameter(i.yapilyRedirectObject.bankName))}),e.j41(6,"i",17),e.EFF(7," content_copy "),e.k0s()()(),e.j41(8,"div",18),e.EFF(9),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(3),e.SpI(" ",e.bMT(4,2,"widget-payment-result.field_bankName")," "),e.R7$(6),e.SpI(" ",t.yapilyRedirectObject.bankName," ")}}let Xe=(()=>{class r{constructor(t,n,i){this._snackBar=t,this.router=n,this.clipboard=i,this.transactionDone=new e.bkB,this.productName=x.Li.productFull,this.supportEmail=x.Li.support_email??"support@test.com",this.supportEmailLink=`mailto: ${x.Li.support_email}`??0,this.finishLink=x.Li.crypto_widget_finish_link}onReturn(){window.location.reload()}copyParameter(t){this.clipboard.copy(t),this._snackBar.open("Copied.",null,{duration:2e3})}static#e=this.\u0275fac=function(n){return new(n||r)(e.rXU(Ne.UG),e.rXU(v.Ix),e.rXU(X.B0))};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-transaction-details"]],inputs:{yapilyRedirectObject:"yapilyRedirectObject",isPaymentSuccess:"isPaymentSuccess"},outputs:{transactionDone:"transactionDone"},decls:14,vars:9,consts:[[1,"payment-details__wrapper"],[1,"payment-details__header"],[1,"payment-details__header-logo"],["alt","complete",3,"src"],[1,"payment-details__content","mt-3"],["class","__widget-disclaimer-line",4,"ngIf"],["class","__widget-disclaimer-container",4,"ngIf"],["class","__widget-details-container-field",4,"ngIf"],[1,"payment-details__actions"],["type","button",1,"__main-button","mg-l-20",3,"click"],[1,"__widget-disclaimer-line"],[1,"__widget-disclaimer-container"],[3,"href"],[1,"__widget-details-container-field"],[1,"__widget-details-title"],[1,"__widget-details-title-item"],["type","button",1,"__tool-button",3,"click"],[1,"material-icons"],[1,"__widget-details-item"]],template:function(n,i){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.nrm(3,"img",3),e.k0s()(),e.j41(4,"div",4),e.DNE(5,Le,6,7,"span",5)(6,$e,4,3,"div",6)(7,Ae,10,8,"div",6)(8,ze,10,4,"div",7)(9,Ye,10,4,"div",7),e.k0s(),e.j41(10,"div",8)(11,"button",9),e.bIt("click",function(){return i.onReturn()}),e.EFF(12),e.nI1(13,"transloco"),e.k0s()()()),2&n&&(e.R7$(3),e.Y8G("src",i.isPaymentSuccess?"assets/rocket.svg":"assets/widget_error.svg",e.B4B),e.R7$(2),e.Y8G("ngIf",i.isPaymentSuccess),e.R7$(),e.Y8G("ngIf",i.isPaymentSuccess),e.R7$(),e.Y8G("ngIf",!i.isPaymentSuccess),e.R7$(),e.Y8G("ngIf",i.isPaymentSuccess),e.R7$(),e.Y8G("ngIf",i.isPaymentSuccess),e.R7$(3),e.SpI(" ",e.bMT(13,7,"global.widget_btn-done")," "))},dependencies:[p.bT,w.Kj],styles:[".payment-details__actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-top:1.5rem!important}.payment-details__header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.mdc-list-item__primary-text[_ngcontent-%COMP%]{font-size:15px;color:#000000e6}.mdc-list-item__primary-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:#000c}"],changeDetection:0})}return r})();var B=a(3902),Ue=a(1997),J=a(5596);let qe=(()=>{class r{constructor(){this.nextStep=new e.bkB,this.onBack=new e.bkB}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-payment-instruction"]],outputs:{nextStep:"nextStep",onBack:"onBack"},decls:35,vars:21,consts:[[1,"payment-instruction__wrapper"],[1,"payment-instruction__header"],[1,"p-0"],["matListItemIcon","",1,"mg-y-0-f","mg-x-10-f"],[1,"mg-y-10-f"],[1,"payment-instruction__actions"],["type","button",1,"__outlined-button",3,"click"],["type","button",1,"__main-button","mg-l-20",3,"click"]],template:function(n,i){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"h3"),e.EFF(3),e.nI1(4,"transloco"),e.k0s()(),e.j41(5,"mat-card")(6,"mat-card-content")(7,"mat-list",2)(8,"mat-list-item")(9,"mat-icon",3),e.EFF(10,"format_list_bulleted"),e.k0s(),e.EFF(11),e.nI1(12,"transloco"),e.k0s(),e.nrm(13,"mat-divider"),e.j41(14,"mat-list-item",4)(15,"mat-icon",3),e.EFF(16,"verified_user"),e.k0s(),e.EFF(17),e.nI1(18,"transloco"),e.nrm(19,"br"),e.EFF(20),e.nI1(21,"transloco"),e.k0s(),e.nrm(22,"mat-divider"),e.j41(23,"mat-list-item")(24,"mat-icon",3),e.EFF(25,"file_copy"),e.k0s(),e.EFF(26),e.nI1(27,"transloco"),e.k0s()()()(),e.j41(28,"div",5)(29,"button",6),e.bIt("click",function(){return i.onBack.emit()}),e.EFF(30),e.nI1(31,"transloco"),e.k0s(),e.j41(32,"button",7),e.bIt("click",function(){return i.nextStep.emit()}),e.EFF(33),e.nI1(34,"transloco"),e.k0s()()()),2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,7,"widget-payment-instruction.title")," "),e.R7$(8),e.SpI(" ",e.bMT(12,9,"widget-payment-instruction.field_format_list_bulleted")," "),e.R7$(6),e.SpI(" ",e.bMT(18,11,"widget-payment-instruction.field_verified_user-1")," "),e.R7$(3),e.SpI(" ",e.bMT(21,13,"widget-payment-instruction.field_verified_user-2")," "),e.R7$(6),e.SpI(" ",e.bMT(27,15,"widget-payment-instruction.field_file_copy")," "),e.R7$(4),e.SpI(" ",e.bMT(31,17,"global.widget_btn-back")," "),e.R7$(3),e.SpI(" ",e.bMT(34,19,"global.widget_btn-next")," "))},dependencies:[B.jt,B.YE,B.ZV,Ue.q,k.An,J.RN,J.m2,w.Kj],styles:[".payment-instruction__actions[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}"],changeDetection:0})}return r})();function Qe(r,s){if(1&r){const t=e.RV6();e.j41(0,"app-payment-instruction",5),e.bIt("onBack",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.stageBack())})("nextStep",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.onInstructionsConfirm())}),e.k0s()}}function Ke(r,s){if(1&r){const t=e.RV6();e.j41(0,"app-payment-yapily-banks",6),e.bIt("selectBank",function(i){e.eBV(t);const o=e.XpG();return e.Njj(o.bankSelected(i))})("isLoading",function(i){e.eBV(t);const o=e.XpG();return e.Njj(o.isLoadingfunc(i))})("openWindow",function(i){e.eBV(t);const o=e.XpG();return e.Njj(o.openWindow(i))})("onBack",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.stageBack())}),e.k0s()}if(2&r){const t=e.XpG();e.Y8G("yapilyRedirectObject",t.yapilyRedirectObject)}}function Je(r,s){if(1&r&&e.nrm(0,"app-transaction-details",7),2&r){const t=e.XpG();e.Y8G("isPaymentSuccess",t.isPaymentSuccess)("yapilyRedirectObject",t.yapilyRedirectObject)}}function He(r,s){1&r&&(e.qex(0),e.nrm(1,"app-spinner"),e.bVm())}let Ze=(()=>{class r{constructor(t,n,i,o){this.cdr=t,this.notification=n,this.paymentService=i,this.pager=o,this.summary=void 0,this.source=l.km.QuickCheckout,this.userParamsId="",this.errorMessage="",this.onBack=new e.bkB,this.isLoading=!1,this.bankName="",this.transactionId="",this.paymentBank=void 0,this.newWindow=void 0,this.isPaymentSuccess=!1,this.pSubscriptions=new O.yU,this.pPaymentStatusSchangedSubscription=void 0}ngOnInit(){this.pager.init("instructions","Instructions"),this.createTransactionInternal({type:this.summary.transactionType,source:this.source,sourceVaultId:""===this.summary.vaultId?void 0:this.summary.vaultId,currencyToSpend:this.summary.currencyFrom,currencyToReceive:""!==this.summary.currencyTo?this.summary.currencyTo:void 0,amountToSpend:this.summary.amountFrom??0,instrument:this.summary.providerView.instrument,paymentProvider:this.summary.providerView.id??void 0,widgetUserParamsId:""!==this.userParamsId?this.userParamsId:void 0,destination:this.summary.transactionType===l.D_.Buy?this.summary.address:"",verifyWhenPaid:this.summary.transactionType===l.D_.Buy&&this.summary.verifyWhenPaid})}ngOnDestroy(){this.pPaymentStatusSchangedSubscription&&this.pPaymentStatusSchangedSubscription.unsubscribe(),this.pSubscriptions.unsubscribe()}isLoadingfunc(t){this.isLoading=t,this.cdr.markForCheck()}onInstructionsConfirm(){this.startPaymentStatusChangedSubscriptions(),this.pager.nextStage("initialization","Banks",2)}bankSelected(t){this.paymentBank=t,this.preauth(this.transactionId)}openWindow(t){this.newWindow=window.open(t,"_blank")}startPaymentStatusChangedSubscriptions(){this.pPaymentStatusSchangedSubscription=this.notification.subscribeToPaymentStatusChanged().subscribe({next:({data:t})=>{t.paymentStatusChanged.status===l.X6.AwaitingAuthorization?(this.isLoading=!0,this.cdr.markForCheck()):t.paymentStatusChanged.status===l.X6.Authorized?(this.isLoading=!1,this.newWindow&&this.newWindow.close(),this.isPaymentSuccess=!0,this.cdr.markForCheck(),this.pager.nextStage("payment_completed","Completed",3)):t.paymentStatusChanged.status===l.X6.Failed&&(this.isPaymentSuccess=!1,this.isLoading=!1,this.newWindow&&this.newWindow.close(),this.pager.nextStage("payment_completed","Completed",3),this.cdr.markForCheck())},error:t=>console.log(t),complete:()=>this.cdr.markForCheck()})}createTransactionInternal(t){this.errorMessage="",this.isLoading=!0,this.pSubscriptions.add(this.paymentService.createTransaction(t).subscribe({next:({data:n})=>{const i=n.createTransaction;if(i){const o=JSON.parse(i.instrumentDetails);this.bankName=o?.name??"",this.transactionId=i.transactionId}this.isLoading=!1,this.cdr.markForCheck()},error:()=>this.isLoading=!1,complete:()=>this.cdr.markForCheck()}))}preauth(t){this.pSubscriptions.add(this.paymentService.preAuth(t,this.summary.providerView.instrument,this.summary.providerView.name,{id:this.paymentBank.id,name:this.paymentBank.name}).pipe((0,Fe.j)(()=>this.isLoading=!1)).subscribe({next:({data:i})=>{const o=i.preauth;this.yapilyRedirectObject={yapilyQrCodeUrl:o.openBankingObject.yapily.qrCodeUrl,yapilyAuthUrl:o.openBankingObject.yapily.url,bankName:this.bankName,transactionId:t}},error:i=>{console.error(i)},complete:()=>this.cdr.markForCheck()}))}stageBack(){this.pager.goBack()||this.onBack.emit()}static#e=this.\u0275fac=function(n){return new(n||r)(e.rXU(e.gRc),e.rXU($.J),e.rXU(F.m),e.rXU(Te.L))};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-widget-payment-yapily"]],inputs:{summary:"summary",source:"source",userParamsId:"userParamsId",errorMessage:"errorMessage"},outputs:{onBack:"onBack"},decls:5,vars:5,consts:[[1,"__widget-data-box",3,"ngSwitch"],[3,"onBack","nextStep",4,"ngSwitchCase"],[3,"yapilyRedirectObject","selectBank","isLoading","openWindow","onBack",4,"ngSwitchCase"],[3,"isPaymentSuccess","yapilyRedirectObject",4,"ngSwitchCase"],[4,"ngIf"],[3,"onBack","nextStep"],[3,"selectBank","isLoading","openWindow","onBack","yapilyRedirectObject"],[3,"isPaymentSuccess","yapilyRedirectObject"]],template:function(n,i){1&n&&(e.j41(0,"div",0),e.DNE(1,Qe,1,0,"app-payment-instruction",1)(2,Ke,1,1,"app-payment-yapily-banks",2)(3,Je,1,2,"app-transaction-details",3),e.k0s(),e.DNE(4,He,2,0,"ng-container",4)),2&n&&(e.Y8G("ngSwitch",i.pager.stageId),e.R7$(),e.Y8G("ngSwitchCase","instructions"),e.R7$(),e.Y8G("ngSwitchCase","initialization"),e.R7$(),e.Y8G("ngSwitchCase","payment_completed"),e.R7$(),e.Y8G("ngIf",i.isLoading))},dependencies:[p.bT,p.ux,p.e1,j.t,Ve,Xe,qe],encapsulation:2,changeDetection:0})}return r})();var et=a(8253),tt=a(4013),it=a(8493),nt=a(1481),M=a(3294),H=a(3013),rt=a(3687),Z=a(8389),ot=a(5010),at=a(6292),st=a(9631);const lt=r=>({"widget-input__container-error":r}),dt=(r,s)=>({"__form-assist":!0,"__form-assist-disabled":r,"__form-assist-error error-show":s});function ct(r,s){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"div",2)(2,"div",3)(3,"div")(4,"div",4),e.EFF(5),e.nI1(6,"transloco"),e.k0s(),e.nrm(7,"input",5),e.k0s(),e.j41(8,"button",6),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.showCurrencyList=!0)}),e.j41(9,"div",7),e.nrm(10,"img",8),e.k0s(),e.j41(11,"span",9),e.EFF(12),e.k0s(),e.j41(13,"mat-icon"),e.EFF(14,"keyboard_arrow_down"),e.k0s()()(),e.j41(15,"div",10),e.EFF(16),e.nI1(17,"transloco"),e.k0s()()()}if(2&r){const t=e.XpG();e.R7$(),e.Y8G("ngClass",e.eq3(12,lt,t.invalidForm)),e.R7$(4),e.SpI(" ",e.bMT(6,8,t.label),""),e.R7$(2),e.Y8G("formControlName",t.boxFieldName),e.R7$(3),e.Y8G("hidden",!(null!=t.selectedComboValue&&t.selectedComboValue.img))("src",(null==t.selectedComboValue?null:t.selectedComboValue.img)+".svg",e.B4B),e.R7$(2),e.JRh(null==t.selectedComboValue?null:t.selectedComboValue.display),e.R7$(3),e.Y8G("ngClass",e.l_i(14,dt,!t.active,t.invalidForm)),e.R7$(),e.SpI(" ",t.invalidForm?e.bMT(17,10,t.errorAssist):""," ")}}function pt(r,s){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"button",19),e.bIt("click",function(){const i=e.eBV(t).$implicit,o=e.XpG(2);return e.Njj(o.onCurrencySelect(i.symbol))}),e.j41(2,"div",20)(3,"div"),e.nrm(4,"img",21),e.nI1(5,"async"),e.k0s(),e.j41(6,"div",22)(7,"div",23)(8,"span"),e.EFF(9),e.k0s()(),e.j41(10,"mat-icon"),e.EFF(11,"keyboard_arrow_right"),e.k0s()()()()()}if(2&r){const t=s.$implicit,n=e.XpG(2);e.R7$(4),e.AVh("crypto-img",!t.fiat),e.Y8G("src",t.img+("dark"===e.bMT(5,4,n.themeService.theme$)?"-light.svg":".svg"),e.B4B),e.R7$(5),e.JRh(t.display)}}function _t(r,s){if(1&r){const t=e.RV6();e.j41(0,"div",11)(1,"div",12)(2,"div",13)(3,"mat-form-field",14)(4,"mat-label"),e.EFF(5),e.nI1(6,"transloco"),e.k0s(),e.nrm(7,"input",15),e.k0s()(),e.j41(8,"button",16),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.showCurrencyList=!1)}),e.j41(9,"mat-icon"),e.EFF(10,"close"),e.k0s()()(),e.j41(11,"div",17),e.DNE(12,pt,12,6,"div",18),e.nI1(13,"async"),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(5),e.JRh(e.bMT(6,3,"widget-input-group.search-placeholder")),e.R7$(2),e.Y8G("formControl",t.searchCurrencyControl),e.R7$(5),e.Y8G("ngForOf",e.bMT(13,5,t.filteredItems))}}let mt=(()=>{class r{set active(t){this.textBoxEnabled=t,!1===t?(this.boxField?.disable(),this.comboField?.disable()):(this.boxField?.enable(),this.comboField?.enable())}get active(){return this.textBoxEnabled}get invalidForm(){return!!this.boxField?.errors}get errorAssist(){let t="";const n=this.boxField?.errors;return null!=n&&Object.keys(n).forEach(i=>{const o=this.errorMessages[i];o&&(t=o)}),t}get selectedComboValue(){return this.comboList.find(t=>t.symbol===this.comboField?.value)}constructor(t){this.themeService=t,this.label="",this.smallLabel=!1,this.assist="",this.placeholder="...",this.boxFieldName="",this.comboFieldName="",this.boxField=null,this.comboField=null,this.comboList=[],this.errorMessages={},this.separator=!1,this.showCurrencyList=!1,this.textBoxEnabled=!0,this.searchCurrencyControl=new c.MJ,this.filteredItems=this.searchCurrencyControl.valueChanges.pipe((0,q.Z)(""),(0,Q.T)(n=>this._filter(n)))}onCurrencySelect(t){this.showCurrencyList=!1,this.comboField?.setValue(t)}_filter(t){const n=t.toLowerCase();return this.comboList.filter(i=>i.display.toLowerCase().includes(n))}static#e=this.\u0275fac=function(n){return new(n||r)(e.rXU(I))};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-widget-input-group"]],inputs:{label:"label",smallLabel:"smallLabel",assist:"assist",placeholder:"placeholder",boxFieldName:"boxFieldName",comboFieldName:"comboFieldName",boxField:"boxField",comboField:"comboField",comboList:"comboList",errorMessages:"errorMessages",active:"active",separator:"separator"},features:[e.Jv_([],[{provide:c.ZU,useFactory:t=>t,deps:[[new e.kdw,c.ZU]]}])],decls:2,vars:2,consts:[[4,"ngIf"],["class","widget-list__container",4,"ngIf"],[1,"widget-input__container",3,"ngClass"],[1,"widget-input__item"],[1,"widget-input__item-label"],["type","number","inputmode","decimal","min","0","step","0.01","placeholder","0.00","maxlength","14",1,"widget-input__item-input",3,"formControlName"],["type","button",1,"widget-input__item-select",3,"click"],[1,"widget-input__item-select-img"],["alt","Currency icon",3,"hidden","src"],[1,"widget-input__item-select-label"],[1,"widget-input__error-message",3,"ngClass"],[1,"widget-list__container"],[1,"widget-list__header"],[1,"widget-list__header-search"],["appearance","outline"],["matInput","",3,"formControl"],["type","button",1,"widget-list__header-button",3,"click"],[1,"widget-list__item"],[4,"ngFor","ngForOf"],["type","button",1,"widget-list__item-row",3,"click"],[1,"widget-list__item-column"],["alt","Currency",3,"src"],[1,"widget-list__item-column-item"],[1,"widget-list__item-column-label"]],template:function(n,i){1&n&&e.DNE(0,ct,18,17,"div",0)(1,_t,14,7,"div",1),2&n&&(e.Y8G("ngIf",!i.showCurrencyList),e.R7$(),e.Y8G("ngIf",i.showCurrencyList))},dependencies:[p.YU,p.Sq,p.bT,c.me,c.Q0,c.BC,c.tU,c.VZ,c.l_,c.JD,T.rl,T.nJ,st.fg,k.An,p.Jj,w.Kj],styles:['.widget-input__container[_ngcontent-%COMP%]{background:#fff;border-radius:4px;width:100%;border:1px solid lightgray;cursor:pointer;margin-top:16px}.widget-input__container-error[_ngcontent-%COMP%]{border-color:var(--color_pink_500)}.widget-input__error-message[_ngcontent-%COMP%]{border-top:1px solid rgba(162,169,188,.1);display:none;align-items:center;justify-content:center;font-size:13px;font-weight:400;color:var(--color_pink_500);height:34px}.widget-input__item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:15px 16px}.widget-input__item[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, .widget-input__item[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{appearance:none;margin:0}.widget-input__item-label[_ngcontent-%COMP%]{font-weight:700;font-size:10px;line-height:13px;color:var(--secondary);text-transform:uppercase}.widget-input__item-input[_ngcontent-%COMP%]{color:var(--secondary);border:none;background:transparent;font-size:34px;line-height:1;overflow-y:visible;height:40px;margin-top:8px;font-weight:200;text-align:left;padding:0 5px 0 0;flex-shrink:1;display:block;width:100%;margin-right:20px;outline:none;-webkit-text-fill-color:var(--secondary);opacity:1}.widget-input__item-select[_ngcontent-%COMP%]{background:#fff;border:1px solid lightgray;border-radius:4px;height:40px;display:flex;align-items:center;justify-content:space-around;padding:8px 0 8px 8px;flex-shrink:0;font-weight:700;font-size:14px;letter-spacing:2px;color:var(--secondary);cursor:pointer;margin-left:auto;align-self:flex-end;width:130px}.widget-input__item-select-img[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;width:22px;height:22px;filter:drop-shadow(0 0 1px #aaa)}.widget-input__item-select-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:100%;max-width:100%;width:22px;height:22px}.widget-input__item-select-label[_ngcontent-%COMP%]{display:inline-block;max-width:60px;white-space:nowrap;overflow:hidden!important;text-overflow:ellipsis}.widget-list__container[_ngcontent-%COMP%]{background:#fff;width:100%;height:100%;flex:1 1;display:flex;flex-direction:column;padding:16px 0;overflow:hidden;border-radius:8px;position:absolute;top:0;left:0;width:-webkit-fill-available;z-index:2}.widget-list__header[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 40px;align-items:center;margin:0;padding:0 16px 16px;position:relative;z-index:9999;height:50px}.widget-list__header-title[_ngcontent-%COMP%]{font:700 18px/24px Mulish,sans-serif;margin:0}.widget-list__header-button[_ngcontent-%COMP%]{position:absolute;top:15px;right:15px;padding:0;border:none;background-color:transparent;cursor:pointer;text-align:center}.widget-list__item[_ngcontent-%COMP%]{scrollbar-width:thin;overflow-y:auto;position:relative}.widget-list__item[_ngcontent-%COMP%]:before{content:"";border-bottom:1px solid #e8eaed;box-shadow:0 4px 4px #e8eaed66;position:sticky;top:0;left:0;right:0;display:block;height:1px;z-index:99999;opacity:0;transition:opacity .1s ease-in-out}.widget-list__item-row[_ngcontent-%COMP%]{all:unset;box-sizing:border-box;display:block;cursor:pointer;width:100%;background-color:#fff;transition:.2s background-color;padding:0 16px}.widget-list__item-row[_ngcontent-%COMP%]:hover{background-color:#f3f4f5}.widget-list__item-row[_ngcontent-%COMP%]   .widget-list__item-column[_ngcontent-%COMP%]{column-gap:5px;display:grid;grid-template-columns:40px auto;grid-template-rows:65px;align-items:center;width:100%}.widget-list__item-row[_ngcontent-%COMP%]   .widget-list__item-column[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25px;height:25px}.widget-list__item-row[_ngcontent-%COMP%]   .widget-list__item-column[_ngcontent-%COMP%]   .crypto-img[_ngcontent-%COMP%]{width:35px;height:35px}.widget-list__item-row[_ngcontent-%COMP%]   .widget-list__item-column-item[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid lightgray;transition:border-color .1s}.error-show[_ngcontent-%COMP%]{display:flex!important;padding:7px 5px}']})}return r})();var gt=a(2755);function ut(r,s){if(1&r&&(e.j41(0,"div",6)(1,"span",7),e.EFF(2),e.nI1(3,"transloco"),e.k0s(),e.j41(4,"span",8),e.EFF(5),e.k0s()()),2&r){const t=e.XpG(2);e.R7$(2),e.SpI(" ",e.bMT(3,3,"widget-internal-overview.order-details_label-ewallet-fee")," "),e.R7$(3),e.Lme(" ",null==t.summary?null:t.summary.transactionFee," ",null==t.summary?null:t.summary.transactionFeeCurrency,"")}}function ht(r,s){if(1&r&&(e.j41(0,"div",6)(1,"span",7),e.EFF(2),e.nI1(3,"transloco"),e.k0s(),e.j41(4,"span",8),e.EFF(5),e.k0s()()),2&r){const t=e.XpG(2);e.R7$(2),e.SpI(" ",e.bMT(3,3,"widget-internal-overview.order-details_label-network-fee")," "),e.R7$(3),e.Lme(" ",null==t.summary?null:t.summary.networkFee," ",null==t.summary?null:t.summary.networkFeeCurrency,"")}}function ft(r,s){if(1&r&&(e.j41(0,"div"),e.nrm(1,"hr",5),e.j41(2,"div",6)(3,"span",7),e.EFF(4),e.nI1(5,"transloco"),e.k0s(),e.j41(6,"span",8),e.EFF(7),e.k0s()(),e.j41(8,"div",6)(9,"span",7),e.EFF(10),e.nI1(11,"transloco"),e.k0s(),e.j41(12,"span",8),e.EFF(13),e.k0s()(),e.j41(14,"div",6)(15,"span",7),e.EFF(16),e.nI1(17,"transloco"),e.k0s(),e.j41(18,"span",8),e.EFF(19),e.k0s()(),e.j41(20,"div",6)(21,"span",7),e.EFF(22),e.nI1(23,"transloco"),e.k0s(),e.j41(24,"span",8),e.EFF(25),e.k0s()(),e.DNE(26,ut,6,5,"div",9)(27,ht,6,5,"div",9),e.k0s()),2&r){const t=e.XpG();e.R7$(4),e.SpI(" ",e.bMT(5,12,"widget-internal-overview.order-details_label-transaction")," "),e.R7$(3),e.JRh(null==t.summary?null:t.summary.transaction),e.R7$(3),e.SpI(" ",e.bMT(11,14,"widget-internal-overview.order-details_label-spend")," "),e.R7$(3),e.Lme("",(null==t.summary||null==t.summary.amountFrom?null:t.summary.amountFrom.toFixed(null==t.summary?null:t.summary.amountFromPrecision))||0," ",null==t.spendComboValue?null:t.spendComboValue.display,""),e.R7$(3),e.SpI(" ",e.bMT(17,16,"widget-internal-overview.order-details_label-receive")," "),e.R7$(3),e.Lme("",(null==t.summary||null==t.summary.amountTo?null:t.summary.amountTo.toFixed(null==t.summary?null:t.summary.amountToPrecision))||0," ",null==t.receiveComboValue?null:t.receiveComboValue.display,""),e.R7$(3),e.SpI(" ",e.bMT(23,18,"widget-internal-overview.order-details_label-rate")," "),e.R7$(3),e.JRh((null==t.summary?null:t.summary.rate)||"-"),e.R7$(),e.Y8G("ngIf",(null==t.summary?null:t.summary.fee)>0),e.R7$(),e.Y8G("ngIf",(null==t.summary?null:t.summary.networkFee)>0)}}let xt=(()=>{class r{constructor(){this.spendList=[],this.receiveList=[],this.currencySpend="",this.currencyReceive=""}get spendComboValue(){return this.spendList?.find(t=>t.symbol===this.currencySpend)}get receiveComboValue(){return this.receiveList?.find(t=>t.symbol===this.currencyReceive)}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-widge-internal-overview-details"]],inputs:{summary:"summary",spendList:"spendList",receiveList:"receiveList",mobileSummary:"mobileSummary",amountSpendField:"amountSpendField",currencySpend:"currencySpend",currencyReceive:"currencyReceive"},decls:12,vars:11,consts:[[1,"order-details__container","mt-3"],[1,"order-details__header"],[1,"order-details__header-title"],["type","button",1,"order-details__header-button",3,"click"],[4,"ngIf"],[1,"order-details__divider","mb-2"],[1,"order-details__item"],[1,"order-details__item-label"],[1,"order-details__item-value"],["class","order-details__item",4,"ngIf"]],template:function(n,i){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"span",2),e.EFF(3),e.j41(4,"span"),e.EFF(5),e.nI1(6,"transloco"),e.k0s()(),e.j41(7,"button",3),e.bIt("click",function(){return i.mobileSummary=!i.mobileSummary}),e.EFF(8),e.nI1(9,"transloco"),e.nI1(10,"transloco"),e.k0s()(),e.DNE(11,ft,28,20,"div",4),e.k0s()),2&n&&(e.R7$(3),e.Lme(" ",i.amountSpendField.valid?i.amountSpendField.value:""," ",(null==i.spendComboValue?null:i.spendComboValue.display)||""," "),e.R7$(2),e.JRh(e.bMT(6,5,"widget-internal-overview.order-details_title")),e.R7$(3),e.SpI(" ",i.mobileSummary?e.bMT(10,9,"widget-internal-overview.order-details_btn-hide"):e.bMT(9,7,"widget-internal-overview.order-details_btn-details")," "),e.R7$(3),e.Y8G("ngIf",i.mobileSummary))},dependencies:[p.bT,w.Kj],styles:['.order-details__content[_ngcontent-%COMP%]{position:relative;padding:24px 0;background:#fff;height:630px}.order-details__content-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%}.order-details__content-header[_ngcontent-%COMP%]   .__widget-title-logo-container[_ngcontent-%COMP%]{align-items:center}.order-details__content-header-buttons[_ngcontent-%COMP%]{background:var(--white);display:flex;border-radius:100px;height:40px;padding:4px}.order-details__content-header-buttons--inactive[_ngcontent-%COMP%]{opacity:.4;cursor:not-allowed}.order-details__content-header-buttons--inactive[_ngcontent-%COMP%]   .order-details__content-header-button-blink[_ngcontent-%COMP%]{display:none!important}.order-details__content-header-button[_ngcontent-%COMP%]{position:relative;width:auto;min-width:68px;padding:0 5px;cursor:pointer;display:flex;align-items:center;justify-content:center;text-transform:uppercase;font-style:normal;font-weight:700;font-size:14px;letter-spacing:2px;color:var(--greyscale-700)}.order-details__content-header-button-blink[_ngcontent-%COMP%]{position:absolute;right:2px;top:10px;transform:translate(-50%) translateY(-50%);width:10px;height:10px;display:none}.order-details__content-header-button-blink--active[_ngcontent-%COMP%]{display:block}.order-details__content-header-button-blink[_ngcontent-%COMP%]:before{content:"";display:block;position:relative;top:-7px;width:300%;height:300%;margin-left:-100%;margin-top:-100%;border-radius:100%;background-color:#c42126;animation:innerBlink 1.5s cubic-bezier(.2,.5,.1,1) infinite}.order-details__content-header-button-blink[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;left:0;top:-7px;width:100%;height:100%;background-color:#c42126;border-radius:100%;animation:outerBlink 1.5s cubic-bezier(.5,.1,.5,1) -.3s infinite}.order-details__content-header-button--active[_ngcontent-%COMP%]{cursor:default;background:#00a2f8;box-shadow:0 8px 34px #10acea63;border-radius:100px;color:#fff}.order-details__content--first[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap;align-items:center;width:400px;padding-top:10px}.order-details__content--second[_ngcontent-%COMP%]{flex:1 1;display:none;flex-direction:column;width:500px;opacity:0}.order-details__content--active[_ngcontent-%COMP%]{opacity:1;display:flex}.order-details__container[_ngcontent-%COMP%]{scrollbar-width:thin;overflow-y:auto;display:flex;gap:8px 0;flex-direction:column;padding:11px 16px 12px;width:100%;background-color:#fff;border:1px solid lightgray;border-radius:4px}.order-details__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.order-details__header-title[_ngcontent-%COMP%]{font-size:12px;font-weight:700}.order-details__header-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:11px;color:var(--secondary);font-weight:500;letter-spacing:0}.order-details__header-button[_ngcontent-%COMP%]{border:none;background:transparent;padding-right:0;cursor:pointer;margin-left:auto;font-size:11px;color:var(--secondary)}.order-details__item[_ngcontent-%COMP%]{margin-bottom:5px;display:flex;justify-content:space-between;width:100%}.order-details__item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.order-details__item-value[_ngcontent-%COMP%], .order-details__item-label[_ngcontent-%COMP%]{display:flex;font-size:12px;line-height:16px;height:100%;max-height:16px;color:#6c7689}']})}return r})();const yt=(r,s)=>({moon:r,sun:s});function bt(r,s){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"button",33),e.nI1(2,"transloco"),e.nI1(3,"transloco"),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.themeService.toggleTheme())}),e.j41(4,"mat-icon"),e.EFF(5),e.k0s()(),e.bVm()}if(2&r){const t=s.ngIf;e.R7$(),e.Y8G("title","light"===t?e.bMT(2,3,"widget-internal-overview.theme_hint-light"):e.bMT(3,5,"widget-internal-overview.theme_hint-dark"))("ngClass",e.l_i(7,yt,"dark"===t,"light"===t)),e.R7$(4),e.SpI(" ","light"===t?"dark_mode":"light_mode"," ")}}function wt(r,s){if(1&r){const t=e.RV6();e.j41(0,"li",34)(1,"a",35),e.bIt("click",function(){const i=e.eBV(t).$implicit,o=e.XpG();return e.Njj(o.onLangSelect(i))}),e.EFF(2),e.k0s()()}if(2&r){const t=s.$implicit;e.R7$(2),e.SpI(" ",t.label," ")}}function vt(r,s){if(1&r){const t=e.RV6();e.j41(0,"div",36),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.toggleTransationType(i.TRANSACTION_TYPE.Buy))}),e.EFF(1),e.nI1(2,"transloco"),e.k0s()}if(2&r){const t=e.XpG();e.AVh("order-details__content-header-button--active",t.currentTransaction===t.TRANSACTION_TYPE.Buy),e.R7$(),e.SpI(" ",e.bMT(2,3,"widget-internal-overview.transaction-type_button-buy")," ")}}function Ct(r,s){if(1&r){const t=e.RV6();e.j41(0,"div",36),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.toggleTransationType(i.TRANSACTION_TYPE.Sell))}),e.EFF(1),e.nI1(2,"transloco"),e.nrm(3,"div",37),e.k0s()}if(2&r){const t=e.XpG();e.AVh("order-details__content-header-button--active",t.currentTransaction===t.TRANSACTION_TYPE.Sell),e.R7$(),e.SpI(" ",e.bMT(2,5,"widget-internal-overview.transaction-type_button-sell")," "),e.R7$(2),e.AVh("order-details__content-header-button-blink--active",t.currentTransaction===t.TRANSACTION_TYPE.Buy)}}function Pt(r,s){if(1&r&&(e.j41(0,"div",38),e.nrm(1,"app-widget-rate",39),e.k0s()),2&r){const t=e.XpG();e.R7$(),e.Y8G("currentTransaction",t.currentTransaction)("spendList",t.spendCurrencyList)("receiveList",t.receiveCurrencyList)("currencySpend",t.currencySpendField.value)("currencyReceive",t.currencyReceiveField.value)("showRate",!1!==t.settings.showRate)("rate",null==t.summary?null:t.summary.rate)}}function kt(r,s){if(1&r&&(e.nrm(0,"app-form-textbox",43),e.nI1(1,"transloco")),2&r){const t=e.XpG(2);e.Y8G("placeholder",e.bMT(1,3,"widget-internal-overview.field_wallet"))("maxlength",120)("errorMessages",t.walletErrorMessages)}}function Mt(r,s){1&r&&(e.j41(0,"div",44),e.EFF(1),e.nI1(2,"transloco"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"widget-internal-overview.field_wallet-error-invalid")," "))}function Ot(r,s){if(1&r&&(e.qex(0),e.j41(1,"div",40),e.nrm(2,"app-form-textbox",41),e.nI1(3,"transloco"),e.DNE(4,kt,2,5,"app-form-textbox",42)(5,Mt,3,3,"div",27),e.k0s(),e.bVm()),2&r){const t=e.XpG();e.R7$(2),e.Y8G("placeholder",e.bMT(3,6,"widget-internal-overview.field_email"))("maxlength",50)("errorMessages",t.emailErrorMessages)("separator",!0),e.R7$(2),e.Y8G("ngIf",t.showWallet),e.R7$(),e.Y8G("ngIf",null==t.walletField?null:t.walletField.hasError("walletAddress"))}}function St(r,s){if(1&r&&(e.j41(0,"span",28),e.EFF(1),e.nI1(2,"transloco"),e.j41(3,"a",29),e.EFF(4),e.nI1(5,"transloco"),e.k0s(),e.EFF(6),e.nI1(7,"transloco"),e.j41(8,"a",29),e.EFF(9),e.nI1(10,"transloco"),e.k0s()()),2&r){const t=e.XpG(2);e.R7$(),e.SpI(" ",e.bMT(2,6,"widget-internal-overview.terms_part-1")," "),e.R7$(2),e.Y8G("href",t.termsLink,e.B4B),e.R7$(),e.SpI(" ",e.bMT(5,8,"widget-internal-overview.terms_part-2")," "),e.R7$(2),e.SpI(" ",e.bMT(7,10,"widget-internal-overview.terms_part-3")," "),e.R7$(2),e.Y8G("href",t.privacyLink,e.B4B),e.R7$(),e.SpI(" ",e.bMT(10,12,"widget-internal-overview.terms_part-4")," ")}}function Ft(r,s){if(1&r){const t=e.RV6();e.j41(0,"div",45),e.DNE(1,St,11,14,"span",46),e.j41(2,"button",32),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.onProceed())}),e.j41(3,"span",47),e.EFF(4),e.nI1(5,"transloco"),e.j41(6,"span",48),e.EFF(7,"\xb7"),e.k0s(),e.EFF(8),e.nI1(9,"transloco"),e.k0s()()()}if(2&r){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.isSinglePage),e.R7$(),e.Y8G("disabled",!t.isOrderProceedFormValid),e.R7$(2),e.SpI(" ",e.bMT(5,5,"widget-internal-overview.proceed_button-label")," "),e.R7$(4),e.Lme(" ",e.bMT(9,7,"widget-internal-overview.proceed_button-label-total")," ",t.amountSpendField.valid?t.amountSpendField.value:"---","")}}function Tt(r,s){if(1&r&&(e.nrm(0,"app-form-textbox",49),e.nI1(1,"transloco")),2&r){const t=e.XpG();e.Y8G("label",e.bMT(1,3,"widget-internal-overview.field_wallet"))("maxlength",120)("errorMessages",t.walletErrorMessages)}}function It(r,s){1&r&&(e.j41(0,"div",44),e.EFF(1),e.nI1(2,"transloco"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"widget-internal-overview.field_wallet-error-invalid")," "))}let Rt=(()=>{class r{set errorMessage(t){""!==t&&(this.initialized=!0),this.errorMessageData=t}set isOrderDetailsComplete(t){!t&&!this.isSecondPartActive&&!this.hideProceedButton&&(this.isSecondPartActive=!0)}set depositRate(t){this.pDepositRate=t,this.updateCurrentAmounts(),this.currentCurrencySpend&&this.setSpendValidators(),this.currentCurrencyReceive&&this.setReceiveValidators()}get emailField(){return this.dataForm.get("email")}get amountSpendField(){return this.dataForm.get("amountSpend")}get currencySpendField(){return this.dataForm.get("currencySpend")}get amountReceiveField(){return this.dataForm.get("amountReceive")}get currencyReceiveField(){return this.dataForm.get("currencyReceive")}get transactionField(){return this.dataForm.get("transaction")}get walletSelectorField(){return this.dataForm.get("walletSelector")}get walletField(){return this.dataForm.get("wallet")}get verifyWhenPaidField(){return this.dataForm.get("verifyWhenPaid")}get isOrderDetailsFormValid(){return this.currentTransaction===this.TRANSACTION_TYPE.Buy?this.dataForm.valid&&this.amountSpendField.value&&this.emailField?.valid&&this.walletField?.valid:this.currentTransaction===this.TRANSACTION_TYPE.Sell&&this.amountSpendField.valid&&this.amountSpendField.value&&this.emailField?.valid}get isOrderProceedFormValid(){return this.isSinglePage?this.isOrderDetailsFormValid:this.amountSpendField.valid&&this.amountSpendField.value}constructor(t,n,i,o,d,m,u,f,g,y){this.transloco=t,this.router=n,this.auth=i,this.config=o,this.commonService=d,this.paymentService=m,this.errorHandler=u,this.formBuilder=f,this.profileService=g,this.themeService=y,this.isSinglePage=!1,this.initialized=!1,this.quickCheckout=!1,this.settings=new S.Kg,this.defaultFee=void 0,this.summary=void 0,this.wallets=[],this.onError=new e.bkB,this.onProgress=new e.bkB,this.onDataUpdated=new e.bkB,this.onWalletAddressUpdated=new e.bkB,this.onVerifyWhenPaidChanged=new e.bkB,this.onQuoteChanged=new e.bkB,this.onComplete=new e.bkB,this.USER=void 0,this.logoSrc=`${x.Li.image_host}/images/logo-widget.png`,this.logoAlt=x.Li.product,this.hideProceedButton=!0,this.isSecondPartActive=!1,this.pInitState=!0,this.initValidators=!0,this.pSubscriptions=new O.yU,this.pCurrencies=[],this.pSpendChanged=!1,this.pReceiveChanged=!1,this.pTransactionChanged=!1,this.amountReceiveChanged=!1,this.pSpendAutoUpdated=!1,this.pReceiveAutoUpdated=!1,this.currentQuoteEur=0,this.quoteLimit=0,this.transactionsTotalEur=0,this.pDepositRate=void 0,this.errorMessageData="",this.TRANSACTION_TYPE=l.D_,this.validData=!1,this.mobileSummary=!1,this.currentCurrencySpend=void 0,this.currentCurrencyReceive=void 0,this.currentTransaction=l.D_.Buy,this.spendTitle="",this.receiveTitle="",this.spendCurrencyList=[],this.receiveCurrencyList=[],this.selectedWallet=void 0,this.filteredWallets=[],this.walletInit=!1,this.addressInit=!1,this.quoteExceed=!1,this.quoteExceedHidden=!1,this.quoteUnlimit=!1,this.showWallet=!1,this.showVerifyWhenPaid=!1,this.isMasked=!1,this.currentTier="",this.currentQuote="",this.transactionList=C.gN,this.userAdditionalSettings={},this.emailErrorMessages={pattern:"widget-internal-overview.field_email-error-pattern",required:"widget-internal-overview.field-email-error-required"},this.amountSpendErrorMessages={required:"widget-internal-overview.field_receive-error-required",pattern:"widget-internal-overview.field_receive-error-pattern",min:"widget-internal-overview.field_spend-error-min",max:"widget-internal-overview.field_spend-error-max"},this.amountReceiveErrorMessages={required:"widget-internal-overview.field_receive-error-required",pattern:"widget-internal-overview.field_receive-error-pattern"},this.walletErrorMessages={required:"widget-internal-overview.field_wallet-error-required"},this.dataForm=this.formBuilder.group({email:["",{validators:[c.k0.required,c.k0.email,c.k0.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)],updateOn:"change"}],amountSpend:[void 0,{validators:[],updateOn:"change"}],amountReceive:[void 0,{validators:[],updateOn:"change"}],currencySpend:[null,{validators:[],updateOn:"change"}],currencyReceive:[null,{validators:[],updateOn:"change"}],transaction:[l.D_.Deposit,{validators:[],updateOn:"change"}],verifyWhenPaid:[void 0],walletSelector:[void 0,{validators:[],updateOn:"change"}],wallet:[void 0,{validators:[],updateOn:"change"}]}),this.termsLink=this.config.platformInfo.termsLink,this.privacyLink=this.config.platformInfo.privacyLink,this.isBuyButton=!1,this.isSellButton=!1,this.destroy$=new N.B,this.availableLangs=t.getAvailableLangs();const _=t.getActiveLang();this.activeLang=this.availableLangs.find(h=>h.id===_).label,this.USER=this.auth.user,this.t=t.translate.bind(t)}ngOnInit(){const t=this.auth.getLocalSettingsCommon(),n=t?.additionalSettings,i=null===n?void 0:JSON.parse(n??"{}"),{transactionType:o,address:d,email:m,initialized:u,verifyWhenPaid:f}=this.summary||{},{kycTier:g,kycValid:y}=this.USER||{};t&&(this.userAdditionalSettings="string"==typeof t.userAdditionalSettings?JSON.parse(t.userAdditionalSettings):t.userAdditionalSettings),this.isMasked=this.settings.masked,this.isBuyButton=0===this.settings.transactionTypes?.length||this.settings.transactionTypes.includes(this.TRANSACTION_TYPE.Buy),this.isSellButton=0===this.settings.transactionTypes?.length||this.settings.transactionTypes.includes(this.TRANSACTION_TYPE.Sell),this.showVerifyWhenPaid=i?.core?.verifyWhenPaid||!0,o&&(this.currentTransaction=o,this.transactionField?.setValue(o)),d&&(this.walletField?.setValue(d),this.walletInit=!1,""!==d&&(this.selectedWallet=this.wallets.find(_=>_.address===d),this.walletSelectorField?.setValue(d))),m&&this.emailField?.setValue(m),u&&(this.currentTransaction=o,this.transactionField?.setValue(o)),g?(this.currentTier=g.name,y&&(this.currentQuoteEur=g.amount||0,this.quoteUnlimit=null===g.amount)):(this.currentTier="",this.currentQuoteEur=0),f&&this.verifyWhenPaidField?.setValue(!0),this.setWalletVisible(),this.setAmountTitles(),this.loadDetailsForm(u??!1),this.pSubscriptions.add(this.currencySpendField?.valueChanges.pipe((0,M.F)((_,h)=>_===h)).subscribe(_=>this.onCurrenciesUpdated(_,"Spend"))),this.pSubscriptions.add(this.currencyReceiveField?.valueChanges.pipe((0,M.F)((_,h)=>_===h)).subscribe(_=>this.onCurrenciesUpdated(_,"Receive"))),this.pSubscriptions.add(this.amountSpendField?.valueChanges.pipe((0,M.F)((_,h)=>_===h)).subscribe(_=>this.onAmountSpendUpdated(_))),this.pSubscriptions.add(this.amountReceiveField?.valueChanges.pipe((0,M.F)((_,h)=>_===h)).subscribe(_=>this.onAmountReceiveUpdated(_))),this.pSubscriptions.add(this.walletSelectorField?.valueChanges.pipe((0,M.F)((_,h)=>_===h)).subscribe(_=>this.onWalletSelectorUpdated(_))),this.pSubscriptions.add(this.walletField?.valueChanges.pipe((0,M.F)((_,h)=>_===h)).subscribe(_=>this.onWalletUpdated(_)))}ngAfterViewInit(){this.pInitState=!1}ngOnDestroy(){this.pSubscriptions.unsubscribe(),this.destroy$.next(),this.destroy$.complete()}toggleTransationType(t){this.onTransactionUpdated(t)}loadDetailsForm(t){const n=this.commonService.getSettingsCurrency();this.onProgress.emit(!0),this.pSubscriptions.add(n.valueChanges.subscribe(({data:i})=>{this.loadCurrencyList(i.getSettingsCurrency,t),this.auth.authenticated&&this.USER.email===this.emailField?.value&&this.settings.embedded?(this.loadRates(),this.loadTransactionsTotal()):this.onProgress.emit(!1)},i=>{this.onProgress.emit(!1),this.onError.emit(this.errorHandler.getError(i.message,"Unable to load available list of currency types"))}))}loadCurrencyList(t,n){let i=0;if(this.pCurrencies=[],null!==t){const o=t.settingsCurrency;let d=this.USER?.defaultFiatCurrency||"EUR";const m=this.USER?.defaultCryptoCurrency||"BTC";if(i=o?.count,i>0){o?.list?.find(h=>h.symbol===d&&!0===h.fiat)||(d="EUR");let f=this.summary?.currencyFrom??"",g=this.summary?.currencyTo??"";const y=this.summary?.amountFrom,_=this.summary?.amountTo;this.currentTransaction===l.D_.Buy?(f=f||d,g=g||m):this.currentTransaction===l.D_.Sell&&(g=g||d,f=f||m),this.pCurrencies=o?.list?.map(h=>new C.xD(h))||[],this.dataForm.setValidators(rt.u.addressValidator("wallet","currencyReceive","transaction",this.pCurrencies)),this.addressInit=!1,this.setCurrencyValues(n,f,g,y,_),this.addressInit=!0,this.currentTransaction===l.D_.Buy&&this.wallets.length>0&&this.summary?.address&&this.walletField?.setValue(this.summary?.address)}}}loadRates(){const t=this.pCurrencies.filter(i=>i.fiat&&"EUR"!==i.symbol).map(i=>i.symbol),n=this.paymentService.getOneToManyRates("EUR",t,!1);this.pSubscriptions.add(n.valueChanges.subscribe(({data:i})=>{const o=i.getOneToManyRates;this.pCurrencies.forEach(d=>{if("EUR"===d.symbol)d.rateFactor=1;else{const m=o?.find(u=>u.currencyTo===d.symbol);m&&(d.rateFactor=m.depositRate)}})},i=>{this.onProgress.emit(!1),this.onError.emit(this.errorHandler.getError(i.message,"Unable to load exchange rate"))}))}loadTransactionsTotal(){this.transactionsTotalEur=0;const t=this.commonService.getMyTransactionsTotal();this.pSubscriptions.add(t.valueChanges.subscribe(({data:n})=>{n&&(this.transactionsTotalEur=n.myState.totalAmountEur??0),this.updateQuote(),this.onQuoteChanged.emit(this.quoteLimit),this.onProgress.emit(!1)},n=>{this.onProgress.emit(!1),this.onError.emit(this.errorHandler.getError(n.message,"Unable to load limits"))}))}setCurrencyValues(t,n="",i="",o=void 0,d=void 0){this.setCurrencyLists(),this.spendCurrencyList.length>0&&(""===n?n=this.spendCurrencyList[0].symbol:this.spendCurrencyList.find(u=>u.symbol===n)||(n=this.spendCurrencyList[0].symbol),this.currencySpendField?.setValue(n),this.pSpendAutoUpdated=!0,this.amountSpendField?.setValue(o)),this.receiveCurrencyList.length>0&&(""===i?i=this.receiveCurrencyList[0].symbol:this.receiveCurrencyList.find(u=>u.symbol===i)||(i=this.receiveCurrencyList[0].symbol),this.currencyReceiveField?.setValue(i),this.pReceiveAutoUpdated=!0,this.amountReceiveField?.setValue(d)),!0===t&&(this.pSpendChanged=!0),(this.pSpendChanged||this.pReceiveChanged)&&this.updateCurrentAmounts()}setCurrencyLists(){if(this.currentTransaction===l.D_.Buy||this.currentTransaction===l.D_.Sell){const t=this.currentTransaction===l.D_.Buy;this.spendCurrencyList=this.pCurrencies.filter(n=>t?this.filterFiat(n):this.filterCrypto(n)),this.receiveCurrencyList=this.pCurrencies.filter(n=>t?this.isMasked?this.filterMaskedCrypto(n):this.filterCrypto(n):this.filterFiat(n))}}filterFiat(t){return t.fiat&&(0===this.settings.fiatList.length||this.settings.fiatList.includes(t.symbol))}filterMaskedCrypto(t){return t.fiat&&this.isInCryptoList(t)}filterCrypto(t){return!t.fiat&&this.isInCryptoList(t)}isInCryptoList(t){return 0===this.settings.cryptoList.length||this.settings.cryptoList.includes(t.symbol)}setWalletVisible(){switch(this.currentTransaction){case l.D_.Buy:this.showWallet=!this.settings?.walletAddressPreset&&(this.settings.transfer||!this.settings.embedded);break;case l.D_.Sell:this.showWallet=!1}this.walletField?.setValidators(this.settings?.walletAddressPreset||!1===this.userAdditionalSettings?.transactionSettings?.walletsRequired?[]:[c.k0.required]),this.walletField?.updateValueAndValidity()}sendData(){if(!1===this.pInitState){const t=new C.f;this.amountSpendField?.valid&&(t.amountFrom=parseFloat(this.amountSpendField?.value)),this.amountReceiveField?.valid&&(t.amountTo=parseFloat(this.amountReceiveField?.value)),this.currencySpendField?.valid&&(t.currencyFrom=this.currencySpendField?.value,t.amountFromPrecision=this.currentCurrencySpend?.precision??2),this.currencyReceiveField?.valid&&(t.currencyTo=this.currencyReceiveField?.value,t.amountToPrecision=this.currentCurrencyReceive?.precision??2),this.currentTransaction&&(t.transactionType=this.currentTransaction),this.walletField?.valid&&this.showWallet&&(t.address=this.walletField?.value),t.quoteLimit=this.quoteLimit,this.onDataUpdated.emit(t)}}setSpendValidators(t=void 0){let n=this.currentCurrencySpend?.minAmount??0,i=this.currentCurrencySpend?.display,o=0,d=this.currentCurrencySpend?.minAmount??0,m=0;if(this.currentCurrencySpend?.fiat||(i=this.currentCurrencyReceive?.display,this.pDepositRate&&(d=parseFloat((n*this.pDepositRate).toFixed(2)))),this.settings.currencyAmounts&&0!==this.settings.currencyAmounts.length){const g=this.settings.currencyAmounts.find(y=>y.currency===this.currentCurrencySpend?.display);g?.minAmount&&(n=g.minAmount,d=!this.currentCurrencySpend?.fiat&&this.pDepositRate?parseFloat((n*this.pDepositRate).toFixed(2)):n),g?.maxAmount&&(o=g.maxAmount,m=!this.currentCurrencySpend?.fiat&&this.pDepositRate?parseFloat((o*this.pDepositRate).toFixed(2)):o)}this.amountSpendErrorMessages.min=`Min. amount ${d} ${i}`;let u=[c.k0.required,c.k0.pattern(Z.n),c.k0.min(n)];const f=(g,y)=>!this.currentCurrencySpend?.fiat&&y?parseFloat((g*y).toFixed(2)):g;this.currentTransaction===l.D_.Sell?(0===this.currentCurrencySpend?.maxAmount||this.maxSellAmount<this.currentCurrencySpend?.maxAmount?(o=this.maxSellAmount,m=f(o,this.pDepositRate),i=this.currentCurrencyReceive?.display,this.amountSpendErrorMessages.max=`Amount you'r request exceeds available balance: ${i} ${this.defaultFee?m-m/100*this.defaultFee:o}`):(o=this.currentCurrencySpend?.maxAmount,m=f(o,this.pDepositRate),i=this.currentCurrencyReceive?.display,this.amountSpendErrorMessages.max=this.t(this.amountSpendErrorMessages.max,{value:`${this.defaultFee?m-m/100*this.defaultFee:o} ${i}`})),u=[...u,c.k0.max(o)]):o&&0!==o?(this.amountSpendErrorMessages.max=this.t(this.amountSpendErrorMessages.max,{value:`${m} ${i}`}),u=[...u,c.k0.max(o)]):void 0!==t&&(this.amountSpendErrorMessages.max=t>0?this.t(this.amountSpendErrorMessages.max,{value:`${t} ${i}`}):"widget-internal-overview.spend-max-empty",u=[...u,c.k0.max(t)]),this.initValidators||(this.amountSpendField?.setValidators(u),this.amountSpendField?.updateValueAndValidity())}setReceiveValidators(){this.amountReceiveErrorMessages.min=`Min. amount ${this.currentCurrencyReceive?.minAmount} ${this.currentCurrencyReceive?.display}`,this.initValidators||(this.amountReceiveField?.setValidators([c.k0.required,c.k0.pattern(Z.n)]),this.amountReceiveField?.updateValueAndValidity())}setAmountTitles(){this.currentTransaction===l.D_.Buy?this.quickCheckout?(this.spendTitle="widget-internal-overview.buy-spend-title",this.receiveTitle="widget-internal-overview.buy-receive-title"):(this.spendTitle="widget-internal-overview.buy-spend-q-title",this.receiveTitle="widget-internal-overview.buy-receive-q-title"):this.currentTransaction===l.D_.Sell&&(this.spendTitle="widget-internal-overview.sell-spend-title",this.receiveTitle="widget-internal-overview.sell-receive-title")}checkWalletExisting(t){!1!==this?.userAdditionalSettings?.transactionSettings?.walletsRequired&&(this.summary?.transactionType===l.D_.Sell&&(this.wallets.length>0&&(this.addressInit&&(this.walletField?.setValue(this.summary.address??""),this.walletInit=!1),this.filteredWallets=this.wallets.filter(n=>n.asset===t)),this.settings.embedded&&!this.settings.transfer&&(0===this.filteredWallets.length?(this.walletField?.setValue(this.summary.address??""),this.errorMessageData="Unable to find wallets for selected currency"):(this.filteredWallets.splice(0,0,new R.v({vaultName:"...",address:"",default:!1},"",void 0)),this.errorMessageData=""))),this.wallets.length>0&&this.summary?.transactionType===l.D_.Buy&&(this.addressInit&&(this.walletField?.setValue(this.summary.address??""),this.walletInit=!1),this.filteredWallets=this.wallets.filter(n=>n.asset===t)),this.summary?.transactionType===l.D_.Buy&&this.settings.embedded&&!this.settings.transfer&&(0===this.filteredWallets.length?(this.walletField?.setValue(this.summary.address??""),this.errorMessageData="Unable to find wallets for selected currency"):(this.filteredWallets.splice(0,0,new R.v({vaultName:"...",address:"",default:!1},"",void 0)),this.errorMessageData="")))}onCurrenciesUpdated(t,n){this.pTransactionChanged||("Spend"===n?(this.currentCurrencySpend=this.pCurrencies.find(i=>i.symbol===t),this.currentCurrencySpend?.fiat||this.checkWalletExisting(t)):"Receive"===n&&(this.getMaxSellAmount(),this.currentCurrencyReceive=this.pCurrencies.find(i=>i.symbol===t),this.currentCurrencyReceive?.fiat||this.checkWalletExisting(t)),this.sendData())}getMaxSellAmount(){this.summary?.transactionType===l.D_.Sell&&this.USER&&this.profileService.maxSellAmount(this.currentCurrencySpend.symbol).pipe((0,P.s)(1),(0,b.Q)(this.destroy$)).subscribe(t=>{this.maxSellAmount=t,this.onAmountSpendUpdated(this.amountSpendField.value)})}onAmountSpendUpdated(t){t&&!this.pSpendAutoUpdated&&(this.initValidators&&(this.initValidators=!1,this.currentCurrencySpend&&this.setSpendValidators(),this.currentCurrencyReceive&&this.setReceiveValidators()),this.pSpendChanged=!0,this.updateCurrentAmounts()),this.pSpendAutoUpdated=!1}onAmountReceiveUpdated(t){t&&!this.pReceiveAutoUpdated&&(this.initValidators&&(this.initValidators=!1,this.currentCurrencySpend&&this.setSpendValidators(),this.currentCurrencyReceive&&this.setReceiveValidators()),this.amountReceiveChanged=!0,this.updateCurrentAmounts()),this.pReceiveAutoUpdated=!1}onTransactionUpdated(t){if(this.currentTransaction===t)return;this.walletField?.setValue(void 0),this.currentTransaction=t,this.setAmountTitles(),this.pSpendAutoUpdated=!0,this.pReceiveAutoUpdated=!0,this.pTransactionChanged=!0;const n=this.currentCurrencySpend?.symbol,i=this.currentCurrencyReceive?.symbol;this.currentCurrencySpend=this.pCurrencies.find(o=>o.symbol===i),this.currentCurrencyReceive=this.pCurrencies.find(o=>o.symbol===n),this.setSpendValidators(),this.setReceiveValidators(),this.setCurrencyLists(),this.currencySpendField?.setValue(this.currentCurrencySpend?.symbol),this.currencyReceiveField?.setValue(this.currentCurrencyReceive?.symbol),this.setWalletVisible(),this.pTransactionChanged=!1,this.amountSpendField?.setValue(void 0),this.amountReceiveField?.setValue(void 0),this.sendData(),this.getMaxSellAmount()}onWalletSelectorUpdated(t){this.walletField?.setValue(t)}onWalletUpdated(t){this.walletInit=!0,this.selectedWallet=this.wallets.find(i=>i.address===t),this.selectedWallet||(this.selectedWallet=this.filteredWallets.find(i=>i.address===t)),this.selectedWallet&&this.summary?.transactionType===l.D_.Sell&&(this.initValidators=!1,this.setSpendValidators(this.selectedWallet.total));const n=new C.f;this.selectedWallet?(n.address=this.selectedWallet?.address??"",n.vaultId=this.selectedWallet?.id??""):(n.address=t,n.vaultId=""),this.onWalletAddressUpdated.emit(n)}updateCurrentAmounts(){let t,n;this.validData=!1,this.amountSpendField?.value&&this.amountSpendField?.valid&&(t=parseFloat(this.amountSpendField?.value)),this.amountReceiveField?.value&&this.amountReceiveField?.valid&&(n=parseFloat(this.amountReceiveField?.value)),this.updateAmounts(t,n)}updateQuote(){if(this.currentQuote="",this.currentTransaction===l.D_.Buy&&0!==this.currentQuoteEur){const t=this.pCurrencies.find(n=>n.symbol===this.currentCurrencySpend?.symbol);t&&(this.quoteLimit=(this.currentQuoteEur-this.transactionsTotalEur)*t.rateFactor,this.currentQuote=`${(0,H.Pn)(this.currentCurrencySpend?.display??"")}${this.quoteLimit.toFixed(t.precision)}`)}else if(this.currentTransaction===l.D_.Sell&&0!==this.currentQuoteEur){const t=this.pCurrencies.find(n=>n.symbol===this.currentCurrencyReceive?.symbol);t&&(this.quoteLimit=(this.currentQuoteEur-this.transactionsTotalEur)/((this.pDepositRate??1)/t.rateFactor),this.currentQuote=`${(0,H.Pn)(this.currentCurrencySpend?.display??"")}${this.quoteLimit.toFixed(t.precision)}`)}}updateAmounts(t,n){this.updateQuote(),this.validData=!1;let i=0;if(this.amountReceiveChanged){if(this.currentTransaction===l.D_.Buy?n&&this.pDepositRate&&(i=(this.defaultFee?n+n/100*this.defaultFee:n)*this.pDepositRate,this.validData=!0):this.currentTransaction===l.D_.Sell&&n&&this.pDepositRate&&(i=0===this.pDepositRate?0:(this.defaultFee?n+n/100*this.defaultFee:n)/this.pDepositRate,this.validData=!0),i>0){const o=i.toFixed(this.currentCurrencySpend?.precision);t=Number.parseFloat(o),this.pSpendAutoUpdated=!0,this.amountSpendField?.setValue(o)}}else{if(this.currentTransaction===l.D_.Buy){if(t&&this.pDepositRate){const o=this.pDepositRate;i=0===o?0:(this.defaultFee?t-t/100*this.defaultFee:t)/o,this.validData=!0}}else this.currentTransaction===l.D_.Sell&&t&&this.pDepositRate&&(i=(this.defaultFee?t-t/100*this.defaultFee:t)*this.pDepositRate,this.validData=!0);if(i>0){const o=i.toFixed(this.currentCurrencyReceive?.precision);n=Number.parseFloat(o),this.pReceiveAutoUpdated=!0,this.amountReceiveField?.setValue(o)}}if(this.quoteExceedHidden=!1,this.currentTransaction===l.D_.Buy||this.currentTransaction===l.D_.Sell){const o=this.amountSpendField?.value??0;o>0&&o>this.quoteLimit&&!this.quoteUnlimit&&(this.quoteExceedHidden=!0)}this.quoteExceed=!!this.settings.embedded&&(this.quoteExceedHidden||0===this.quoteLimit&&!this.quoteUnlimit),this.pSpendChanged=!1,this.pReceiveChanged=!1,this.amountReceiveChanged=!1,this.sendData()}showPersonalVerification(){this.router.navigateByUrl(`${this.auth.getUserAccountPage()}/settings/verification`).then(()=>{window.location.reload()})}sendAll(){this.amountSpendField?.setValue(this.selectedWallet?.total)}onSubmit(){this.onProgress.emit(!0),this.USER?.email!==this.emailField?.value&&this.auth.logout(),this.initialized=!1,this.isSecondPartActive=!1,this.onVerifyWhenPaidChanged.emit(this.verifyWhenPaidField?.value??!1),this.onComplete.emit(this.emailField?.value)}onProceed(){this.isSinglePage?this.onSubmit():(this.isSecondPartActive=!0,this.hideProceedButton=!1)}onCancel(){this.isSecondPartActive=!1,this.hideProceedButton=!0}onLangSelect(t){this.transloco.setActiveLang(t.id),this.activeLang=t.label}static#e=this.\u0275fac=function(n){return new(n||r)(e.rXU(w.JO),e.rXU(v.Ix),e.rXU(L.u),e.rXU(ot.o),e.rXU(Y.X),e.rXU(F.m),e.rXU(z.I),e.rXU(c.ze),e.rXU(A.V),e.rXU(I))};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-widget-internal-overview"]],inputs:{isSinglePage:"isSinglePage",initialized:"initialized",quickCheckout:"quickCheckout",errorMessage:"errorMessage",isOrderDetailsComplete:"isOrderDetailsComplete",settings:"settings",defaultFee:"defaultFee",summary:"summary",depositRate:"depositRate",wallets:"wallets"},outputs:{onError:"onError",onProgress:"onProgress",onDataUpdated:"onDataUpdated",onWalletAddressUpdated:"onWalletAddressUpdated",onVerifyWhenPaidChanged:"onVerifyWhenPaidChanged",onQuoteChanged:"onQuoteChanged",onComplete:"onComplete"},decls:55,vars:73,consts:[[1,"order-details__wrapper"],[1,"order-details__content","order-details__content--first"],[1,"__widget-title-container__","order-details__content-header","m-0"],[1,"__widget-title-logo-container","d-flex","m-0","ms-1"],["width","160",1,"__widget-title-logo",3,"src","alt"],[4,"ngIf"],[1,"navbar"],[1,"navbar__item"],[1,"navbar__item-group-link"],["aria-hidden","true",1,"fa","fa-caret-down",2,"display","none"],[1,"navbar__item-group","navbar__item-group--left"],["class","navbar__subitem",4,"ngFor","ngForOf"],[1,"order-details__content-header-buttons"],["class","order-details__content-header-button",3,"order-details__content-header-button--active","click",4,"ngIf"],[3,"formGroup"],[3,"label","boxFieldName","boxField","comboField","comboFieldName","comboList","errorMessages"],["class","mt-3 order-details__theme",4,"ngIf"],[3,"amountSpendField","currencySpend","currencyReceive","spendList","receiveList","mobileSummary","summary"],["class","button-proceed-wrapper",4,"ngIf"],[1,"__widget-data-error"],[1,"order-details__content","order-details__content--second",3,"ngClass"],[1,"order-details__overview",3,"formGroup"],[1,"order-details__overview-details"],[1,"order-details__overview-title"],[1,"order-details__overview-details-item"],["formControlName","email",3,"label","maxlength","errorMessages","separator"],["formControlName","wallet",3,"label","maxlength","errorMessages",4,"ngIf"],["class","__form-assist __form-assist-error",4,"ngIf"],[1,"order-details__overview-terms"],["target","_blank",3,"href"],[1,"order-details__overview-actions"],["type","button","mat-raised-button","",3,"click"],["type","button","mat-raised-button","",3,"click","disabled"],["type","button","mat-icon-button","",3,"click","title","ngClass"],[1,"navbar__subitem"],[1,"navbar__link","navlink",3,"click"],[1,"order-details__content-header-button",3,"click"],[1,"order-details__content-header-button-blink"],[1,"mt-3","order-details__theme"],[1,"__widget-rate-container",3,"currentTransaction","spendList","receiveList","currencySpend","currencyReceive","showRate","rate"],[1,"mt-3"],["formControlName","email",3,"placeholder","maxlength","errorMessages","separator"],["formControlName","wallet",3,"placeholder","maxlength","errorMessages",4,"ngIf"],["formControlName","wallet",3,"placeholder","maxlength","errorMessages"],[1,"__form-assist","__form-assist-error"],[1,"button-proceed-wrapper"],["class","order-details__overview-terms",4,"ngIf"],[1,"d-flex"],[1,"tx-30"],["formControlName","wallet",3,"label","maxlength","errorMessages"]],template:function(n,i){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.nrm(4,"img",4),e.DNE(5,bt,6,10,"ng-container",5),e.nI1(6,"async"),e.j41(7,"div",6)(8,"div",7)(9,"a",8),e.EFF(10),e.nrm(11,"i",9),e.k0s(),e.j41(12,"ul",10),e.DNE(13,wt,3,1,"li",11),e.k0s()()()(),e.j41(14,"div",12),e.DNE(15,vt,3,5,"div",13)(16,Ct,4,7,"div",13),e.k0s()(),e.j41(17,"form",14),e.nrm(18,"app-widget-input-group",15)(19,"app-widget-input-group",15),e.DNE(20,Pt,2,7,"div",16),e.nrm(21,"app-widge-internal-overview-details",17),e.DNE(22,Ot,6,8,"ng-container",5)(23,Ft,10,9,"div",18),e.k0s(),e.j41(24,"div",19),e.EFF(25),e.k0s()(),e.j41(26,"div",20)(27,"form",21)(28,"div",22)(29,"h3",23),e.EFF(30),e.nI1(31,"transloco"),e.k0s(),e.j41(32,"div",24),e.nrm(33,"app-form-textbox",25),e.nI1(34,"transloco"),e.DNE(35,Tt,2,5,"app-form-textbox",26)(36,It,3,3,"div",27),e.k0s()(),e.j41(37,"span",28),e.EFF(38),e.nI1(39,"transloco"),e.j41(40,"a",29),e.EFF(41),e.nI1(42,"transloco"),e.k0s(),e.EFF(43),e.nI1(44,"transloco"),e.j41(45,"a",29),e.EFF(46),e.nI1(47,"transloco"),e.k0s()(),e.j41(48,"div",30)(49,"button",31),e.bIt("click",function(){return i.onCancel()}),e.EFF(50),e.nI1(51,"transloco"),e.k0s(),e.j41(52,"button",32),e.bIt("click",function(){return i.onSubmit()}),e.EFF(53),e.nI1(54,"transloco"),e.k0s()()()()()),2&n&&(e.R7$(4),e.Y8G("src",i.logoSrc,e.B4B)("alt",i.logoAlt),e.R7$(),e.Y8G("ngIf",e.bMT(6,55,i.themeService.theme$)),e.R7$(5),e.SpI("",i.activeLang," "),e.R7$(3),e.Y8G("ngForOf",i.availableLangs),e.R7$(),e.AVh("order-details__content-header-buttons--inactive",!1),e.R7$(),e.Y8G("ngIf",i.isBuyButton),e.R7$(),e.Y8G("ngIf",i.isSellButton),e.R7$(),e.Y8G("formGroup",i.dataForm),e.R7$(),e.Y8G("label",i.spendTitle)("boxFieldName","amountSpend")("boxField",i.amountSpendField)("comboField",i.currencySpendField)("comboFieldName","currencySpend")("comboList",i.spendCurrencyList)("errorMessages",i.amountSpendErrorMessages),e.R7$(),e.Y8G("label",i.receiveTitle)("boxFieldName","amountReceive")("boxField",i.amountReceiveField)("comboField",i.currencyReceiveField)("comboFieldName","currencyReceive")("comboList",i.receiveCurrencyList)("errorMessages",i.amountReceiveErrorMessages),e.R7$(),e.Y8G("ngIf",!i.settings.embedded),e.R7$(),e.Y8G("amountSpendField",i.amountSpendField)("currencySpend",i.currencySpendField.value)("currencyReceive",i.currencyReceiveField.value)("spendList",i.spendCurrencyList)("receiveList",i.receiveCurrencyList)("mobileSummary",i.mobileSummary)("summary",i.summary),e.R7$(),e.Y8G("ngIf",i.isSinglePage),e.R7$(),e.Y8G("ngIf",i.hideProceedButton),e.R7$(2),e.SpI(" ",i.errorMessageData," "),e.R7$(),e.AVh("order-details__content--active",i.isSecondPartActive&&!i.isOrderDetailsComplete),e.Y8G("ngClass",i.isSecondPartActive&&!i.isOrderDetailsComplete?"d-flex":"d-none"),e.R7$(),e.Y8G("formGroup",i.dataForm),e.R7$(3),e.SpI(" ",e.bMT(31,57,"widget-internal-overview.order-details_title2")," "),e.R7$(3),e.Y8G("label",e.bMT(34,59,"widget-internal-overview.field_email"))("maxlength",50)("errorMessages",i.emailErrorMessages)("separator",!0),e.R7$(2),e.Y8G("ngIf",i.showWallet),e.R7$(),e.Y8G("ngIf",null==i.walletField?null:i.walletField.hasError("walletAddress")),e.R7$(2),e.SpI(" ",e.bMT(39,61,"widget-internal-overview.terms_part-1")," "),e.R7$(2),e.Y8G("href",i.termsLink,e.B4B),e.R7$(),e.SpI(" ",e.bMT(42,63,"widget-internal-overview.terms_part-2")," "),e.R7$(2),e.SpI(" ",e.bMT(44,65,"widget-internal-overview.terms_part-2")," "),e.R7$(2),e.Y8G("href",i.privacyLink,e.B4B),e.R7$(),e.SpI(" ",e.bMT(47,67,"widget-internal-overview.terms_part-4")," "),e.R7$(4),e.SpI(" ",e.bMT(51,69,"global.widget_btn-back")," "),e.R7$(2),e.Y8G("disabled",!i.isOrderDetailsFormValid),e.R7$(),e.SpI(" ",e.bMT(54,71,"global.widget_btn-next")," "))},dependencies:[p.YU,p.Sq,p.bT,c.qT,c.BC,c.cb,c.tU,c.j4,c.JD,E.$z,E.iY,k.An,at.W,mt,gt.C,xt,p.Jj,w.Kj],styles:['.order-details__wrapper[_ngcontent-%COMP%]{width:auto;height:630px;justify-content:center;display:flex}.order-details__logo[_ngcontent-%COMP%]{height:36px;display:grid;grid-template-columns:auto 56px;grid-template-rows:36px;margin:auto}.order-details__content[_ngcontent-%COMP%]{position:relative;padding:24px 0;background:#fff;height:630px}.order-details__content-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%}.order-details__content-header[_ngcontent-%COMP%]   .__widget-title-logo-container[_ngcontent-%COMP%]{align-items:center}.order-details__content-header-buttons[_ngcontent-%COMP%]{background:var(--white);display:flex;border-radius:100px;height:40px;padding:4px}.order-details__content-header-buttons--inactive[_ngcontent-%COMP%]{opacity:.4;cursor:not-allowed}.order-details__content-header-buttons--inactive[_ngcontent-%COMP%]   .order-details__content-header-button-blink[_ngcontent-%COMP%]{display:none!important}.order-details__content-header-button[_ngcontent-%COMP%]{position:relative;width:auto;min-width:68px;padding:0 5px;cursor:pointer;display:flex;align-items:center;justify-content:center;text-transform:uppercase;font-style:normal;font-weight:700;font-size:14px;letter-spacing:2px;color:var(--greyscale-700)}.order-details__content-header-button-blink[_ngcontent-%COMP%]{position:absolute;right:2px;top:10px;transform:translate(-50%) translateY(-50%);width:10px;height:10px;display:none}.order-details__content-header-button-blink--active[_ngcontent-%COMP%]{display:block}.order-details__content-header-button-blink[_ngcontent-%COMP%]:before{content:"";display:block;position:relative;top:-7px;width:300%;height:300%;margin-left:-100%;margin-top:-100%;border-radius:100%;background-color:#c42126;animation:_ngcontent-%COMP%_innerBlink 1.5s cubic-bezier(.2,.5,.1,1) infinite}.order-details__content-header-button-blink[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;left:0;top:-7px;width:100%;height:100%;background-color:#c42126;border-radius:100%;animation:_ngcontent-%COMP%_outerBlink 1.5s cubic-bezier(.5,.1,.5,1) -.3s infinite}.order-details__content-header-button--active[_ngcontent-%COMP%]{cursor:default;background:#00a2f8;box-shadow:0 8px 34px #10acea63;border-radius:100px;color:#fff}.order-details__content--first[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap;align-items:center;width:400px;padding-top:10px}.order-details__content--second[_ngcontent-%COMP%]{flex:1 1;display:none;flex-direction:column;width:500px;opacity:0}.order-details__content--active[_ngcontent-%COMP%]{opacity:1;display:flex}.order-details__container[_ngcontent-%COMP%]{scrollbar-width:thin;overflow-y:auto;display:flex;gap:8px 0;flex-direction:column;padding:11px 16px 12px;width:100%;background-color:#fff;border:1px solid lightgray;border-radius:4px}.order-details__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.order-details__header-title[_ngcontent-%COMP%]{font-size:12px;font-weight:700}.order-details__header-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:11px;color:var(--secondary);font-weight:500;letter-spacing:0}.order-details__header-button[_ngcontent-%COMP%]{border:none;background:transparent;padding-right:0;cursor:pointer;margin-left:auto;font-size:11px;color:var(--secondary)}.order-details__item[_ngcontent-%COMP%]{margin-bottom:5px;display:flex;justify-content:space-between;width:100%}.order-details__item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.order-details__item-value[_ngcontent-%COMP%], .order-details__item-label[_ngcontent-%COMP%]{display:flex;font-size:12px;line-height:16px;height:100%;max-height:16px;color:#6c7689}.order-details__overview[_ngcontent-%COMP%]{flex:1 1;background:#fff;padding:57px 24px 24px;margin-left:3px;border-radius:8px;display:flex;flex-direction:column;position:relative;width:516px;height:auto;min-height:290px}.order-details__overview-title[_ngcontent-%COMP%]{margin:-56px auto 20px;font-size:18px;line-height:24px;color:var(--secondary);text-align:center;font-weight:700;width:100%}.order-details__overview-details[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap;justify-content:flex-start;align-items:flex-start;flex-grow:1;position:relative;width:400px;margin:0 auto}.order-details__overview-details-item[_ngcontent-%COMP%]{position:relative;display:flex;flex-flow:row wrap;align-items:center;border-radius:4px;width:100%}.order-details__overview-terms[_ngcontent-%COMP%]{font:500 11px/18px Mulish,sans-serif!important;color:var(--secondary);margin:10px auto;width:400px}.order-details__overview-terms[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font:inherit;text-decoration:underline}.order-details__overview-actions[_ngcontent-%COMP%]{position:sticky;bottom:0;transition:all .3s;display:flex;flex-flow:row nowrap;justify-content:flex-start;align-items:center;width:400px;margin:0 auto;column-gap:24px}.order-details__overview-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-weight:600;padding:16px;min-height:48px;position:relative;text-transform:uppercase}.order-details__overview-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{background:#fff;color:#6c7689}.order-details__overview-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{justify-content:left;flex-grow:1;flex-shrink:0;letter-spacing:2px;background-color:#00a2f8;color:var(--color_white)}.order-details__overview-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:disabled{opacity:.38}.button-proceed-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:24px 0}.button-proceed-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{justify-content:left;font-weight:700;color:var(--color_white);width:100%;padding:16px;min-height:48px;letter-spacing:2px;background-color:#00a2f8;text-transform:uppercase}.button-proceed-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.38}hr.order-details__divider[_ngcontent-%COMP%]{margin:0 auto;background:#d3d3d3;width:100%;height:1px;border:none}app-form-textbox[_ngcontent-%COMP%]{width:100%}@keyframes _ngcontent-%COMP%_innerBlink{0%{transform:scale(.3)}60%,to{opacity:0}}@keyframes _ngcontent-%COMP%_outerBlink{0%{transform:scale(.7)}50%{transform:scale(1)}to{transform:scale(.7)}}.moon[_ngcontent-%COMP%]{color:#f1c40f}.sun[_ngcontent-%COMP%]{color:#f39c12}.navbar[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:3px;padding:0}.navbar[_ngcontent-%COMP%]   .navbar__item[_ngcontent-%COMP%]{box-sizing:border-box;position:relative;cursor:pointer;border-bottom:2px solid transparent;transition:all .2s}.navbar[_ngcontent-%COMP%]   .navbar__item[_ngcontent-%COMP%]   .navbar__item-group-link[_ngcontent-%COMP%]{text-decoration:none;display:block;color:#444;cursor:pointer;font-size:13px}.navbar[_ngcontent-%COMP%]   .navbar__item[_ngcontent-%COMP%]   .navbar__item-group[_ngcontent-%COMP%]{width:auto;list-style:none;padding:0;position:absolute;left:0;top:25px;z-index:22;max-height:0;overflow:hidden;-webkit-transform:perspective(400px) rotate3d(1,0,0,-90deg);-webkit-transform-origin:50% 0;transition:.35s;background-color:#fff;border:1px solid rgba(0,0,0,.1)}.navbar[_ngcontent-%COMP%]   .navbar__item[_ngcontent-%COMP%]   .navbar__item-group[_ngcontent-%COMP%]   .navbar__subitem[_ngcontent-%COMP%]{text-decoration:none}.navbar[_ngcontent-%COMP%]   .navbar__item[_ngcontent-%COMP%]   .navbar__item-group[_ngcontent-%COMP%]   .navbar__subitem[_ngcontent-%COMP%]   .navbar__link[_ngcontent-%COMP%]{color:#444;display:block;font-size:13px;line-height:1;padding:8px 10px;text-decoration:none;white-space:nowrap}.navbar[_ngcontent-%COMP%]   .navbar__item[_ngcontent-%COMP%]   .navbar__item-group[_ngcontent-%COMP%]   .navbar__subitem[_ngcontent-%COMP%]   .navbar__link[_ngcontent-%COMP%]:hover{color:#00a2f8}.navbar[_ngcontent-%COMP%]   .navbar__item[_ngcontent-%COMP%]   .navbar__item-group--left[_ngcontent-%COMP%]{right:0;left:auto}.navbar[_ngcontent-%COMP%]   .navbar__item[_ngcontent-%COMP%]:hover   .navbar__item-group[_ngcontent-%COMP%]{display:block;max-height:1000px;-webkit-transform:perspective(400px) rotate3d(0,0,0,0);opacity:.97;border-bottom-right-radius:3px;border-bottom-left-radius:3px}.navbar[_ngcontent-%COMP%]   .navbar__item[_ngcontent-%COMP%]:after   .navbar__item-group[_ngcontent-%COMP%]{clear:both}.navbar[_ngcontent-%COMP%]   .navbar__item--active[_ngcontent-%COMP%]{border-color:#444}@media (max-width: 567.9px){.order-details__wrapper[_ngcontent-%COMP%]{width:auto}.navbar__item-group-link[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{display:none}}']})}return r})();const jt=["recaptcha"];function Et(r,s){1&r&&(e.j41(0,"div",34),e.nrm(1,"mat-progress-bar",35),e.k0s())}function Bt(r,s){if(1&r){const t=e.RV6();e.j41(0,"app-widget-internal-overview",36),e.bIt("onError",function(i){e.eBV(t);const o=e.XpG(3);return e.Njj(o.handleError(i))})("onProgress",function(i){e.eBV(t);const o=e.XpG(3);return e.Njj(o.progressChanged(i))})("onDataUpdated",function(i){e.eBV(t);const o=e.XpG(3);return e.Njj(o.orderDetailsChanged(i))})("onQuoteChanged",function(i){e.eBV(t);const o=e.XpG(3);return e.Njj(o.orderQuoteChanged(i))})("onWalletAddressUpdated",function(i){e.eBV(t);const o=e.XpG(3);return e.Njj(o.orderWalletChanged(i))})("onVerifyWhenPaidChanged",function(i){e.eBV(t);const o=e.XpG(3);return e.Njj(o.orderVerifyWhenPaidChanged(i))})("onComplete",function(i){e.eBV(t);const o=e.XpG(3);return e.Njj(o.orderDetailsComplete(i))}),e.k0s()}if(2&r){const t=e.XpG(3);e.Y8G("isSinglePage",t.isSinglePage)("quickCheckout",t.quickCheckout)("initialized",!t.initState)("summary",t.summary)("settings",t.widget)("wallets",t.userWallets)("defaultFee",t.defaultFee)("errorMessage",""===t.errorMessage?t.rateErrorMessage:t.errorMessage)("depositRate",null==t.summary||null==t.summary.exchangeRate?null:t.summary.exchangeRate.depositRate)("isOrderDetailsComplete",t.isOrderDetailsComplete)}}function Wt(r,s){1&r&&(e.qex(0),e.nrm(1,"app-spinner"),e.bVm())}function Dt(r,s){if(1&r&&(e.j41(0,"div",32),e.DNE(1,Et,2,0,"div",9),e.j41(2,"div"),e.DNE(3,Bt,1,10,"app-widget-internal-overview",33)(4,Wt,2,0,"ng-container",4),e.k0s()()),2&r){const t=e.XpG(2);e.Y8G("ngSwitch",t.pager.stageId),e.R7$(),e.Y8G("ngIf",t.widget.embedded&&t.inProgress),e.R7$(2),e.Y8G("ngIf",!t.initLoading),e.R7$(),e.Y8G("ngIf",!(null!=t.summary&&t.summary.rate))}}function Gt(r,s){if(1&r&&(e.j41(0,"div",37),e.nrm(1,"app-widget-progress",38),e.k0s()),2&r){const t=e.XpG(2);e.R7$(),e.Y8G("step",t.pager.step)("title",t.pager.title)("progress",t.inProgress)}}function Vt(r,s){1&r&&(e.j41(0,"div",34),e.nrm(1,"mat-progress-bar",35),e.k0s())}function Nt(r,s){if(1&r){const t=e.RV6();e.j41(0,"div",47)(1,"a",48),e.bIt("click",function(){e.eBV(t);const i=e.XpG(3);return e.Njj(i.showTransactions())}),e.EFF(2),e.nI1(3,"transloco"),e.k0s()()}2&r&&(e.R7$(),e.Y8G("routerLink",null),e.R7$(),e.SpI(" ",e.bMT(3,2,"widget-internal.order-summary_subtitle")," "))}function Lt(r,s){if(1&r){const t=e.RV6();e.j41(0,"div",39)(1,"div",40)(2,"div",41)(3,"h3",42),e.EFF(4),e.nI1(5,"transloco"),e.k0s(),e.nrm(6,"app-widget-summary",43),e.DNE(7,Nt,4,4,"div",44),e.k0s(),e.j41(8,"div",45)(9,"button",46),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.mobileSummary=!i.mobileSummary)}),e.j41(10,"mat-icon"),e.EFF(11,"close"),e.k0s()()()()()}if(2&r){const t=e.XpG(2);e.R7$(4),e.JRh(e.bMT(5,3,"widget-internal.order-summary_title")),e.R7$(2),e.Y8G("summary",t.summary),e.R7$(),e.Y8G("ngIf",t.showTransactionsLink)}}function $t(r,s){if(1&r&&e.nrm(0,"app-widget-initialization",49),2&r){const t=e.XpG(2);e.Y8G("message",t.initMessage)}}function At(r,s){if(1&r){const t=e.RV6();e.j41(0,"app-widget-sell-details",50),e.bIt("onBack",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.stageBack())})("onComplete",function(i){e.eBV(t);const o=e.XpG(2);return e.Njj(o.sellComplete(i))})("handleError",function(i){e.eBV(t);const o=e.XpG(2);return e.Njj(o.handleError(i))}),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("summary",t.summary)("widget",t.widget)}}function zt(r,s){if(1&r){const t=e.RV6();e.j41(0,"app-sell-widget-complete",51),e.bIt("onFinish",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.processingComplete())})("onProgress",function(i){e.eBV(t);const o=e.XpG(2);return e.Njj(o.progressChanged(i))}),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("address",t.summary.sourceAddress)("amount",t.summary.amountFrom)("currency",t.summary.currencyFrom)}}function Yt(r,s){if(1&r){const t=e.RV6();e.j41(0,"app-widget-disclaimer",52),e.bIt("onNext",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.introDisclaimerNext())}),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("agreementChecked",t.summary.agreementChecked)("errorMessageData",t.errorMessage)("backButton",!1)}}function Xt(r,s){if(1&r){const t=e.RV6();e.j41(0,"app-widget-disclaimer",53),e.bIt("onBack",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.stageBack())})("onNext",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.disclaimerNext())}),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("agreementChecked",t.summary.agreementChecked)("errorMessageData",t.errorMessage)}}function Ut(r,s){if(1&r){const t=e.RV6();e.j41(0,"app-widget-register",54),e.bIt("onBack",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.stageBack())})("onProgress",function(i){e.eBV(t);const o=e.XpG(2);return e.Njj(o.progressChanged(i))})("onComplete",function(i){e.eBV(t);const o=e.XpG(2);return e.Njj(o.onLoginRequired(i))}),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("email",t.summary.email)}}function qt(r,s){if(1&r){const t=e.RV6();e.j41(0,"app-widget-payment-yapily",55),e.bIt("onBack",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.stageBack())})("onProgress",function(i){e.eBV(t);const o=e.XpG(2);return e.Njj(o.progressChanged(i))})("onComplete",function(i){e.eBV(t);const o=e.XpG(2);return e.Njj(o.onLoginRequired(i))}),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("userParamsId",t.userParamsId)("source",t.widget.source)("summary",t.summary)}}function Qt(r,s){if(1&r){const t=e.RV6();e.j41(0,"app-widget-login-auth",56),e.bIt("onBack",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.stageBack())})("onProgress",function(i){e.eBV(t);const o=e.XpG(2);return e.Njj(o.progressChanged(i))})("onComplete",function(i){e.eBV(t);const o=e.XpG(2);return e.Njj(o.loginComplete(i))}),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("email",t.summary.email)("widget",t.widget)("requiredExtraData",t.requiredExtraData)("allowCreate",t.quickCheckout)("errorMessage",""===t.errorMessage?t.rateErrorMessage:t.errorMessage)}}function Kt(r,s){if(1&r){const t=e.RV6();e.j41(0,"app-widget-code-auth",57),e.bIt("onComplete",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.loginCodeConfirmed())})("onError",function(i){e.eBV(t);const o=e.XpG(2);return e.Njj(o.handleError(i))})("onProgress",function(i){e.eBV(t);const o=e.XpG(2);return e.Njj(o.progressChanged(i))})("onBack",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.stageBack())})("onRegister",function(i){e.eBV(t);const o=e.XpG(2);return e.Njj(o.onRegister(i))})("onTransactionComplete",function(i){e.eBV(t);const o=e.XpG(2);return e.Njj(o.transactionConfiramtionComplete(i))}),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("email",t.summary.email)("codeLength",5)("errorMessage",""===t.errorMessage?t.rateErrorMessage:t.errorMessage)("transactionIdConfirmationCode",t.transactionIdConfirmationCode)}}function Jt(r,s){if(1&r){const t=e.RV6();e.j41(0,"app-widget-payment",58),e.bIt("onBack",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.stageBack())})("onSelect",function(i){e.eBV(t);const o=e.XpG(2);return e.Njj(o.selectProvider(i))}),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("providers",t.paymentProviders)("summary",t.summary)("errorMessage",""===t.errorMessage?t.rateErrorMessage:t.errorMessage)}}function Ht(r,s){if(1&r){const t=e.RV6();e.j41(0,"app-widget-credit-card",59),e.bIt("onBack",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.stageBack())})("onComplete",function(i){e.eBV(t);const o=e.XpG(2);return e.Njj(o.creditCardPaymentComplete(i))}),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("errorMessage",""===t.errorMessage?t.rateErrorMessage:t.errorMessage)}}function Zt(r,s){if(1&r){const t=e.RV6();e.j41(0,"app-widget-wire-transfer",60),e.bIt("onBack",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.stageBack())})("onComplete",function(i){e.eBV(t);const o=e.XpG(2);return e.Njj(o.wireTransferPaymentComplete(i))}),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("bankCategories",t.wireTransferList)("bankAccountId",t.bankAccountId)("errorMessage",""===t.errorMessage?t.rateErrorMessage:t.errorMessage)}}function ei(r,s){if(1&r){const t=e.RV6();e.j41(0,"app-widget-wire-transfer-info-required",61,1),e.bIt("error",function(i){e.eBV(t);const o=e.XpG(2);return e.Njj(o.handleError(i))})("progressChange",function(i){e.eBV(t);const o=e.XpG(2);return e.Njj(o.progressChanged(i))})("done",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.requiredFieldsComplete())}),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("requiredFields",t.requiredFields)}}function ti(r,s){if(1&r){const t=e.RV6();e.j41(0,"company-level-verification",62,1),e.bIt("error",function(i){e.eBV(t);const o=e.XpG(2);return e.Njj(o.handleError(i))})("progressChange",function(i){e.eBV(t);const o=e.XpG(2);return e.Njj(o.progressChanged(i))})("done",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.resetWizard())}),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("levelName",t.overLimitLevel)("errorMessage",""===t.errorMessage?t.rateErrorMessage:t.errorMessage)}}function ii(r,s){if(1&r){const t=e.RV6();e.j41(0,"app-widget-wire-transfer-result",63),e.bIt("onComplete",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.processingComplete())})("onSendEmail",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.sendWireTransaferMessage())}),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("referenceId",t.summary.orderId)("bankData",t.selectedWireTransfer)}}function ni(r,s){if(1&r){const t=e.RV6();e.j41(0,"app-widget-kyc",64),e.bIt("onError",function(i){e.eBV(t);const o=e.XpG(2);return e.Njj(o.handleError(i))})("onAuthError",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.handleAuthError())})("onProgress",function(i){e.eBV(t);const o=e.XpG(2);return e.Njj(o.progressChanged(i))})("onBack",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.stageBack())})("onNext",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.kycComplete())})("onReject",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.handleReject())}),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("summary",t.summary)("levelName",t.overLimitLevel)("completedWhenVerified",t.widget.kycFirst)("kycSubscribeResult",t.kycSubscribeResult)("allowToPayIfKycFailed",t.widget.allowToPayIfKycFailed)("widgetId",t.widget.widgetId)("errorMessage",""===t.errorMessage?t.rateErrorMessage:t.errorMessage)}}function ri(r,s){if(1&r){const t=e.RV6();e.j41(0,"app-widget-processing-frame",65),e.bIt("onComplete",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.processingComplete())}),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("iframeContent",t.iframeContent)("completed",t.paymentComplete)("errorMessage",""===t.errorMessage?t.rateErrorMessage:t.errorMessage)}}function oi(r,s){if(1&r){const t=e.RV6();e.j41(0,"app-widget-processing-instantpay",66),e.bIt("onComplete",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.processingComplete())}),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("details",t.apmResult)("errorMessage",""===t.errorMessage?t.rateErrorMessage:t.errorMessage)}}function ai(r,s){if(1&r){const t=e.RV6();e.j41(0,"app-widget-complete",67),e.bIt("onFinish",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.resetWizard())}),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("showRestartButton",""===t.widget.widgetId)}}function si(r,s){if(1&r){const t=e.RV6();e.j41(0,"app-widget-error",68),e.bIt("onFinish",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.resetWizard())}),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("title",t.transactionErrorTitle)}}function li(r,s){if(1&r&&(e.j41(0,"div",5),e.DNE(1,Dt,5,4,"div",6),e.j41(2,"div",7),e.DNE(3,Gt,2,3,"div",8)(4,Vt,2,0,"div",9)(5,Lt,12,5,"div",10),e.j41(6,"div",11),e.DNE(7,$t,1,1,"app-widget-initialization",12)(8,At,1,2,"app-widget-sell-details",13)(9,zt,1,3,"app-sell-widget-complete",14)(10,Yt,1,3,"app-widget-disclaimer",15)(11,Xt,1,2,"app-widget-disclaimer",16)(12,Ut,1,1,"app-widget-register",17)(13,qt,1,3,"app-widget-payment-yapily",18)(14,Qt,1,5,"app-widget-login-auth",19)(15,Kt,1,4,"app-widget-code-auth",20)(16,Jt,1,3,"app-widget-payment",21)(17,Ht,1,1,"app-widget-credit-card",22)(18,Zt,1,3,"app-widget-wire-transfer",23)(19,ei,2,1,"app-widget-wire-transfer-info-required",24)(20,ti,2,2,"company-level-verification",25)(21,ii,1,2,"app-widget-wire-transfer-result",26)(22,ni,1,7,"app-widget-kyc",27)(23,ri,1,3,"app-widget-processing-frame",28)(24,oi,1,2,"app-widget-processing-instantpay",29)(25,ai,1,1,"app-widget-complete",30)(26,si,1,1,"app-widget-error",31),e.k0s()()()),2&r){const t=e.XpG();e.AVh("widget__wrapper--single",t.isSinglePage),e.R7$(),e.Y8G("ngIf",!t.isSingleOrderDetailsCompleted&&!t.transactionErrorTitle),e.R7$(),e.Y8G("ngClass",t.isOrderDetailsComplete||t.transactionErrorTitle?"d-flex":"d-none")("ngSwitch",t.pager.stageId),e.R7$(),e.Y8G("ngIf",!t.widget.embedded&&!t.recentTransactions&&"error"!==t.pager.stageId),e.R7$(),e.Y8G("ngIf",t.widget.embedded&&t.inProgress),e.R7$(),e.Y8G("ngIf",t.mobileSummary&&!t.recentTransactions),e.R7$(),e.Y8G("ngClass",!t.mobileSummary||t.recentTransactions?"d-block":"d-none"),e.R7$(),e.Y8G("ngSwitchCase","initialization"),e.R7$(),e.Y8G("ngSwitchCase","sell_details"),e.R7$(),e.Y8G("ngSwitchCase","sell_widget_complete"),e.R7$(),e.Y8G("ngSwitchCase","intro_disclaimer"),e.R7$(),e.Y8G("ngSwitchCase","disclaimer"),e.R7$(),e.Y8G("ngSwitchCase","register"),e.R7$(),e.Y8G("ngSwitchCase","payment_Yapily"),e.R7$(),e.Y8G("ngSwitchCase","login_auth"),e.R7$(),e.Y8G("ngSwitchCase","code_auth"),e.R7$(),e.Y8G("ngSwitchCase","payment"),e.R7$(),e.Y8G("ngSwitchCase","credit_card"),e.R7$(),e.Y8G("ngSwitchCase","wire_transfer"),e.R7$(),e.Y8G("ngSwitchCase","wire_transfer_info_required"),e.R7$(),e.Y8G("ngSwitchCase","company_level_verification"),e.R7$(),e.Y8G("ngSwitchCase","wire_transfer_result"),e.R7$(),e.Y8G("ngSwitchCase","verification"),e.R7$(),e.Y8G("ngSwitchCase","processing-frame"),e.R7$(),e.Y8G("ngSwitchCase","processing-instantpay"),e.R7$(),e.Y8G("ngSwitchCase","complete"),e.R7$(),e.Y8G("ngSwitchCase","error")}}function di(r,s){if(1&r){const t=e.RV6();e.j41(0,"div",69)(1,"h5",70),e.EFF(2),e.nI1(3,"transloco"),e.k0s()(),e.j41(4,"div",71)(5,"div",72)(6,"app-recaptcha",73),e.bIt("completed",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.capchaResult())}),e.k0s()()()}2&r&&(e.R7$(2),e.JRh(e.bMT(3,1,"recaptcha.title")))}function ci(r,s){if(1&r){const t=e.RV6();e.j41(0,"div",74)(1,"div",75)(2,"app-widget-recent-transactions",76),e.bIt("back",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.transactionsBack())}),e.k0s()()()}}function pi(r,s){if(1&r&&(e.j41(0,"div"),e.nrm(1,"iframe",77),e.nI1(2,"safeurl"),e.k0s()),2&r){const t=e.XpG();e.R7$(),e.Y8G("src",e.bMT(2,1,t.widgetLink),e.f$h)}}let _i=(()=>{class r{get showTransactionsLink(){return this.auth.user&&this.auth.authenticated}constructor(t,n,i,o,d,m,u,f,g,y,_,h){this.modalService=t,this.changeDetector=n,this.router=i,this.dialog=o,this.pager=d,this.exhangeRate=m,this.widgetService=u,this.notification=f,this.auth=g,this.dataService=y,this.profileService=_,this.errorHandler=h,this.userParamsId="",this.quickCheckout=!1,this.isWidget=!1,this.settings=void 0,this.onComplete=new e.bkB,this.onError=new e.bkB,this.onIFramePay=new e.bkB,this.recaptchaDialog=void 0,this.defaultFee=void 0,this.requiredFields=[],this.errorMessage="",this.rateErrorMessage="",this.transactionErrorTitle="",this.inProgress=!1,this.initLoading=!0,this.initState=!0,this.mobileSummary=!1,this.requiredExtraData=!1,this.initMessage="global.widget_loading",this.summary=new C.f,this.redirectUrl="",this.widget=new S.Kg,this.showWidget=!0,this.widgetLink="",this.userWallets=[],this.paymentProviders=[],this.bankAccountId="",this.wireTransferList=[],this.selectedWireTransfer={id:l.rS.Au,bankAccountId:"",title:"",data:""},this.requestKyc=!1,this.overLimitLevel="",this.iframeContent="",this.apmResult=void 0,this.paymentComplete=!1,this.notificationStarted=!1,this.recentTransactions=!1,this.transactionIdConfirmationCode="",this.kycSubscribeResult=void 0,this.transactionInput=void 0,this.pNotificationsSubscription=void 0,this.externalKycProvideNotificationsSubscription=void 0,this.externalPaymentNotificationsSubscription=void 0,this.isOrderDetailsComplete=!1,this.isSingleOrderDetailsCompleted=!1,this.isSinglePage=!0,this.destroy$=new N.B,this.companyLevelVerificationFlag=!1}ngOnInit(){this.widgetService.register(this.progressChanged.bind(this),this.handleError.bind(this),this.settingsIdRequired.bind(this),this.settingsAuthRequired.bind(this),this.onLoginRequired.bind(this),this.checkLoginResult.bind(this),this.onCodeLoginRequired.bind(this),this.settingsKycState.bind(this),this.settingsCommonComplete.bind(this),this.onWireTransferListLoaded.bind(this),this.userInfoRequired.bind(this),this.companyLevelVerification.bind(this),this.onRecaptchaCallback.bind(this),this.quickCheckout),this.initMessage="global.widget_loading",this.loadAccountData(),this.pager.init("initialization","widget-pager.initialization"),this.initPage()}initPage(){""===this.userParamsId?(this.settings&&(this.widget=this.settings),this.widget.embedded?(this.pager.init("initialization","widget-pager.initialization"),this.loadDefaultFee(),this.loadUserWallets()):(this.quickCheckout?this.pager.init("order_details","widget-pager.order_details"):this.pager.init("intro_disclaimer","widget-pager.disclaimer"),this.initData(void 0)),this.initLoading=!1):(this.pager.init("initialization","widget-pager.initialization"),this.loadUserParams())}ngOnDestroy(){this.stopNotificationListener(),this.exhangeRate.stop(),this.externalKycProvideNotificationsSubscription?.unsubscribe(),this.externalPaymentNotificationsSubscription?.unsubscribe(),this.destroy$.next(),this.destroy$.complete()}initData(t){if(this.requiredExtraData=!1,this.initMessage="global.widget_loading",t){this.widget.allowToPayIfKycFailed=t.allowToPayIfKycFailed??!1;const n={};if(t.additionalSettings){const d=JSON.parse(t.additionalSettings);d.amounts&&0!==d.amounts.length&&(this.widget.currencyAmounts=d.amounts),this.widget.disclaimer=d.disclaimer??!0,this.widget.kycFirst=d.kycBeforePayment??!1,this.widget.minAmountFrom=d.minAmountFrom,this.widget.maxAmountFrom=d.maxAmountFrom,this.widget.showRate=d.showRate}else this.widget.disclaimer=!0,this.widget.kycFirst=!1;let i,o=!1;if(this.widget.widgetId=t.widgetId,this.widget.masked=t.masked,this.widget.email=t.currentUserEmail??"",this.widget.walletAddressPreset=t.hasFixedAddress??!1,t.currentUserParams){const d=JSON.parse(t.currentUserParams).params;d&&(this.widget.amountFrom=d.amount||this.widget.amountFrom,this.summary.amountFrom=this.widget.amountFrom,this.widget.currencyFrom=d.currency||this.widget.currencyFrom,this.summary.currencyFrom=this.widget.currencyFrom,this.widget.currencyTo=d.convertedCurrency||this.widget.currencyTo,this.summary.currencyTo=this.widget.currencyTo,i=d.transactionType||i,o=!!d.destination,this.redirectUrl=d.redirectUrl||this.redirectUrl)}if(t?.fee&&(this.defaultFee=t.fee),this.widget.walletAddressPreset||(this.summary.address=n?.params?.destination?n.params.destination:t?.destinationAddress?t?.destinationAddress:""),o&&(this.widget.walletAddressPreset=!0),this.widget.transaction=void 0,this.widget.transactionTypes=t.transactionTypes,t.currenciesCrypto?.length>0&&(this.widget.cryptoList=t.currenciesCrypto.map(d=>d)),t.currenciesFiat?.length>0&&(this.widget.fiatList=t.currenciesFiat.map(d=>d)),i)this.widget.transaction=i;else if(t.transactionTypes?.length>0){const d=t.transactionTypes.filter(m=>m===l.D_.Buy||m===l.D_.Sell);this.widget.transaction=d.length>0?d[0]:t.transactionTypes[0]}this.widget.source=this.quickCheckout?l.km.QuickCheckout:l.km.Widget}else this.widget.embedded||(this.widget.disclaimer=!1,this.widget.kycFirst=!1,this.widget.email="",this.widget.transaction=l.D_.Buy,this.widget.source=l.km.QuickCheckout),this.summary.amountFrom=this.widget.amountFrom??this.summary.amountFrom,this.summary.currencyFrom=this.widget.currencyFrom||this.summary.currencyFrom,this.summary.currencyTo=this.widget.currencyTo||this.summary.currencyTo;this.summary.agreementChecked=!this.widget.disclaimer||this.summary.agreementChecked,this.summary.email=this.widget.email||this.auth?.user?.email||"",this.summary.transactionType=this.widget.transaction||this.summary.transactionType,this.startExchangeRate()}onRecaptchaCallback(){this.widget&&!this.widget.embedded&&!this.recaptchaDialog&&!this.auth.user&&(this.recaptchaDialog=this.modalService.open(this.recaptchaModalContent,{backdrop:"static",windowClass:"modalCusSty"}))}startExchangeRate(){this.exhangeRate.setCurrency(this.summary.currencyFrom,this.summary.currencyTo,this.summary.transactionType),this.exhangeRate.register(this.onExchangeRateUpdated.bind(this))}startNotificationListener(){this.notificationStarted=!0,this.pNotificationsSubscription=this.notification.subscribeToTransactionNotifications().subscribe({next:({data:t})=>this.handleTransactionSubscription(t),error:t=>{this.notificationStarted=!1,V.c.production||console.error("Notifications error",t)}})}startExternalKycProvideListener(){this.auth.user&&(this.auth.user?.kycProvider===l.xN.Shufti||this.auth.user?.kycProvider===l.xN.Au10tix)&&(console.log("Kyc completed notifications subscribed"),this.externalKycProvideNotificationsSubscription=this.notification.subscribeToKycCompleteNotifications().subscribe({next:({data:n})=>{const i=n.kycCompletedNotification;console.log("KYC completed",i),"completed"===i.kycStatus&&(i.kycValid?this.kycSubscribeResult=!0:(console.log("KYC rejected"),this.kycSubscribeResult=!1)),this.loadAccountData()},error:n=>{console.error("KYC complete notification error",n)}}))}startExternalPaymentNotificationListener(){this.externalPaymentNotificationsSubscription=this.notification.subscribeToExternalPaymentCompleteNotifications().subscribe({next:({data:t})=>{const n=t.externalPaymentCompletedNotification;let i=!1;console.log("External Payment completed",n),"approved"===n.status?(i=!0,this.processingComplete()):"declined"===n.status&&(i=!0,this.setError("External Payment failed","Payment declined")),i&&(this.showWidget=!0,this.widgetLink=void 0,this.onIFramePay.emit(!1))},error:t=>{console.error("External Payment notification error",t),this.setError("External Payment","Payment declined"),this.showWidget=!0,this.widgetLink=void 0,this.onIFramePay.emit(!1)}})}stopNotificationListener(){this.pNotificationsSubscription?.unsubscribe(),this.pNotificationsSubscription=void 0,this.notificationStarted=!1}handleTransactionSubscription(t){let n=!1;"PaymentStatusChanged"===t.transactionServiceNotification.type?n=!0:console.error("transactionApproved: unexpected type",t.transactionServiceNotification.type),n&&(t.transactionServiceNotification.userId===this.auth.user?.userId?n=!0:console.error("transactionApproved: unexpected userId",t.transactionServiceNotification.userId)),n&&("approved"===t.transactionServiceNotification.operationStatus||"declined"===t.transactionServiceNotification.operationStatus||"error"===t.transactionServiceNotification.operationStatus?n=!0:console.error("transactionApproved: unexpected operationStatus",t.transactionServiceNotification.operationStatus)),n&&("preauth"===t.transactionServiceNotification.operationType||"approved"===t.transactionServiceNotification.operationType?n=!0:console.error("transactionApproved: unexpected operationType",t.transactionServiceNotification.operationType)),n&&(this.paymentComplete=!0)}onExchangeRateUpdated(t,n,i,o){this.rateErrorMessage=o,t&&(this.summary.exchangeRate=t)}resetWizard(){""!==this.redirectUrl?window.location.replace(this.redirectUrl):(this.inProgress=!1,this.requiredExtraData=!1,""===this.userParamsId?(this.initData(void 0),this.widget.orderDefault?this.orderDetailsComplete(this.summary.email):(this.pager.init("",""),this.nextStage("order_details","widget-pager.order_details",1))):this.loadUserParams(),this.isOrderDetailsComplete=!1,this.isSinglePage&&this.isSingleOrderDetailsCompleted&&(this.isSingleOrderDetailsCompleted=!1)),this.transactionErrorTitle=void 0}capchaResult(){this.recaptchaDialog?.close(),this.recaptchaDialog=void 0,this.widgetService.authenticate(this.summary.email,this.widget.widgetId)}handleError(t){this.setError("widget-error.title-transaction-failed",t)}handleReject(){this.loadAccountData(),this.widget.kycFirst&&this.widget.allowToPayIfKycFailed&&(this.paymentProviders.length<1?this.setError("No payment providers",`No supported payment providers found for "${this.summary.currencyFrom}"`):this.paymentProviders.length>1?this.nextStage("payment","widget-pager.credit_card",5):this.selectProvider(this.paymentProviders[0]))}handleAuthError(){this.widget.embedded?this.router.navigateByUrl("/"):this.widget.orderDefault?this.nextStage("login_auth","widget-pager.register",3):this.nextStage("order_details","widget-pager.order_details",1)}progressChanged(t){this.inProgress=t,this.changeDetector.detectChanges()}showTransactions(){this.recentTransactions=!0}transactionsBack(){this.recentTransactions=!1,this.mobileSummary=!1}stageBack(){this.inProgress=!1,this.pager.goBack(),"order_details"===this.pager.stageId&&(this.isOrderDetailsComplete=!1,this.isSinglePage&&this.isSingleOrderDetailsCompleted&&(this.isSingleOrderDetailsCompleted=!1))}nextStage(t,n,i){setTimeout(()=>{this.errorMessage="",this.pager.nextStage(t,n,i),this.inProgress=!1},50),"order_details"===t&&this.isOrderDetailsComplete&&(this.isOrderDetailsComplete=!1,this.isSinglePage&&this.isSingleOrderDetailsCompleted&&(this.isSingleOrderDetailsCompleted=!1))}removeStage(t){this.pager.removeStage(t)}loadUserParams(){this.errorMessage="",this.inProgress=!0,this.dataService.getWidget(this.userParamsId).valueChanges.pipe((0,P.s)(1),(0,b.Q)(this.destroy$)).subscribe({next:({data:t})=>{if(this.inProgress=!1,this.initData(t.getWidget),this.widget.transaction){const n=this.widget.transaction.toLowerCase();if(!["buy","sell"].includes(n))return void this.showTransactionError("Wrong widget settings")}if(this.widget.orderDefault)this.auth.user?.email!==this.widget.email&&(this.summary.email=""),this.orderDetailsComplete(this.widget.email);else{const n=this.quickCheckout||this.summary.agreementChecked;this.pager.init(n?"order_details":"intro_disclaimer",n?"widget-pager.order_details":"widget-pager.disclaimer")}this.initLoading=!1},error:()=>{this.inProgress=!1,this.initData(void 0),this.showTransactionError("Wrong widget settings"),this.setOrderDetailsStep()}})}loadUserWallets(){this.errorMessage="",this.inProgress=!0,this.profileService.getMyWallets([]).valueChanges.pipe((0,P.s)(1),(0,b.Q)(this.destroy$)).subscribe({next:({data:t})=>{this.inProgress=!1;const n=t.myWallets;null!==n&&n?.count>0&&(this.userWallets=n?.list?.map(o=>new R.v(o,"",void 0))),this.initData(void 0)},error:()=>{this.inProgress=!1,this.initData(void 0),this.setOrderDetailsStep()}})}loadDefaultFee(){this.errorMessage="",this.inProgress=!0,this.profileService.getMyDefaultSettingsFee().valueChanges.pipe((0,P.s)(1),(0,b.Q)(this.destroy$)).subscribe({next:({data:t})=>{if(this.inProgress=!1,t.myDefaultSettingsFee.terms&&""!==t.myDefaultSettingsFee.terms){const n="string"==typeof t.myDefaultSettingsFee.terms?JSON.parse(t.myDefaultSettingsFee.terms):t.myDefaultSettingsFee.terms;n.Transaction_fee&&(this.defaultFee=n.Transaction_fee)}},error:()=>{this.inProgress=!1,this.initData(void 0),this.setOrderDetailsStep()}})}orderDetailsChanged(t){this.stopNotificationListener(),this.initState&&(t.amountFrom||t.amountTo)&&(this.initState=!1),this.summary.initialized=!0,this.summary.fee=0;const n=t.amountFrom?t.amountFrom?.toFixed(8):void 0;this.summary.amountFrom=n?parseFloat(n):void 0;const i=t.amountTo?t.amountTo?.toFixed(8):void 0;this.summary.amountTo=i?parseFloat(i):void 0,this.summary.amountFromPrecision=t.amountFromPrecision,this.summary.amountToPrecision=t.amountToPrecision;const o=this.summary.currencyFrom!==t.currencyFrom,d=this.summary.currencyTo!==t.currencyTo;this.summary.currencyFrom=t.currencyFrom,this.summary.currencyTo=t.currencyTo,this.summary.transactionType=t.transactionType,this.summary.quoteLimit=t.quoteLimit,(o||d)&&(this.exhangeRate.setCurrency(this.summary.currencyFrom,this.summary.currencyTo,this.summary.transactionType),this.exhangeRate.update())}orderQuoteChanged(t){this.summary.quoteLimit=t}orderWalletChanged(t){this.summary.address=t.address??"",this.summary.vaultId=t.vaultId??""}orderVerifyWhenPaidChanged(t){this.summary.verifyWhenPaid=t}orderDetailsComplete(t){this.summary.email===t&&this.auth.user?this.disclaimerNext():(this.summary.transactionId="",this.summary.fee=0,this.summary.email=t,this.widgetService.authenticate(t,this.widget.widgetId)),this.isOrderDetailsComplete=!0,this.isSinglePage&&!this.isSingleOrderDetailsCompleted&&(this.isSingleOrderDetailsCompleted=!0)}sellComplete(t){const n=JSON.stringify({accountType:t});this.createTransaction(this.summary.providerView?.id??"",l.iw.WireTransfer,n)}disclaimerNext(){this.summary.agreementChecked=!0,this.widgetService.getSettingsCommon(this.summary,this.widget,this.widget.orderDefault)}introDisclaimerNext(){this.summary.agreementChecked=!0;let t=!0;this.widget.transaction&&(t=this.widget.transaction===l.D_.Buy||this.widget.transaction===l.D_.Sell),this.widget.orderDefault&&t?(this.auth.user?.email!==this.widget.email&&(this.summary.email=""),this.orderDetailsComplete(this.widget.email)):this.setOrderDetailsStep()}settingsAuthRequired(){this.widgetService.authenticate(this.summary.email,this.widget.widgetId)}settingsIdRequired(){this.widget.orderDefault?this.orderDetailsComplete(this.summary.email):this.nextStage("order_details","widget-pager.order_details",1)}settingsKycState(t,n){0!==this.summary.quoteLimit&&(this.widget.kycFirst=!0),""!==n&&(this.overLimitLevel=n),this.requestKyc=t}settingsCommonComplete(t){this.paymentProviders=t.map(i=>i),this.widget.kycFirst&&this.requestKyc&&!this.widget.embedded?(this.startExternalKycProvideListener(),this.companyLevelVerificationFlag?this.nextStage("company_level_verification","widget-pager.company_level_verification",this.pager.step):("verification"===this.pager.stageId&&this.pager.goBack(),this.nextStage("verification","widget-pager.company_level_verification",4))):this.paymentProviders.length<1?this.setError("Payment providers not found",`No supported payment providers found for "${this.summary.currencyFrom}"`):this.paymentProviders.length>1?(this.notificationStarted||this.startNotificationListener(),this.nextStage("payment","widget-pager.credit_card",4)):this.selectProvider(this.paymentProviders[0])}selectProvider(t){this.summary.transactionType===l.D_.Buy?(this.summary.providerView=this.paymentProviders.find(n=>n.id===t.id),t.instrument===l.iw.WireTransfer?this.startPayment():t.instrument===l.iw.OpenBanking?this.nextStage(`payment_${t.name}`,"widget-pager.wire_transfer_result",5):this.createTransaction(t.id,t.instrument,"")):this.profileService.maxSellAmount(this.summary.currencyFrom).pipe((0,P.s)(1),(0,b.Q)(this.destroy$)).subscribe(n=>{this.summary.amountFrom>n?this.nextStage("order_details","widget-pager.order_details",1):t.instrument===l.iw.WireTransfer?this.nextStage("sell_details","widget-pager.bank-details",2):this.createTransaction(t.id,t.instrument,"")})}creditCardPaymentComplete(t){this.paymentComplete=!1,this.completeCreditCardTransaction(this.summary.transactionId,this.summary.providerView?.id??"",t)}wireTransferPaymentComplete(t){this.selectedWireTransfer=t.selected;const i=JSON.stringify({settingsCostId:t.id,accountType:t.selected});this.createTransaction(this.summary.providerView.id,l.iw.WireTransfer,i)}sendWireTransaferMessageResult(){this.dialog.open(ne.o,{width:"450px",data:{title:"Email Sent",message:"Bank details has been sent to your Email address"}})}sendWireTransaferMessage(){this.widgetService.sendWireTransferMessage(this.summary.email,this.summary.transactionId,this.sendWireTransaferMessageResult.bind(this))}requiredFieldsComplete(){this.createTransactionInternal()}processingComplete(){if(this.widget.embedded){const t=new S.Km;t.amount=parseFloat(this.summary.amountTo?.toFixed(this.summary.amountToPrecision)??"0"),t.currency=this.summary.currencyTo,this.onComplete.emit(t)}else this.widget.kycFirst||!this.requestKyc||this.widget.embedded?this.nextStage("complete","widget-pager.complete",6):this.nextStage("verification","widget-pager.company_level_verification",5)}onRegister(t){this.summary.email=t,this.nextStage("register","widget-pager.register",3)}onLoginRequired(t){this.widget.embedded?this.router.navigateByUrl("/"):((this.auth.user?.email??"")!==t&&(this.auth.logout(),this.summary.transactionId="",this.summary.fee=0),this.summary.email=t,""===this.summary.transactionId?this.nextStage("login_auth","widget-pager.register",3):this.startPayment())}onCodeLoginRequired(t){this.summary.email=t,this.nextStage("code_auth","widget-pager.register",3)}loginCodeConfirmed(){this.widgetService.getSettingsCommon(this.summary,this.widget,!0)}loginComplete(t){this.checkLoginResult(t)}transactionConfiramtionComplete(t){this.summary.orderId=t.code,this.summary.fee=t.feeFiat??0,this.summary.feeMinFiat=t.feeMinFiat??0,this.summary.feePercent=t.feePercent??0,this.summary.networkFee=t.approxNetworkFee??0,this.summary.transactionDate=(new Date).toLocaleString(),this.summary.transactionId=t.transactionId,this.summary.instrument===l.iw.WireTransfer?this.nextStage("wire_transfer_result","widget-pager.processing-frame",5):this.startPayment()}kycComplete(){this.widget.kycFirst?(this.loadAccountData(),console.log("KYC COMPLETE"),this.widgetService.getSettingsCommon(this.summary,this.widget,this.widget.orderDefault),this.kycSubscribeResult=void 0):this.nextStage("complete","widget-pager.complete",6)}checkLoginResult(t){this.stopNotificationListener(),t.user&&(this.summary.email=t.user.email),"Default"===t.authTokenAction||"KycRequired"===t.authTokenAction?(this.auth.setLoginUser(t),this.externalKycProvideNotificationsSubscription&&this.externalKycProvideNotificationsSubscription.unsubscribe(),this.startExternalKycProvideListener(),this.summary.agreementChecked?""===this.summary.transactionId?this.disclaimerNext():this.startPayment():this.nextStage("disclaimer","widget-pager.disclaimer",2)):"UserInfoRequired"===t.authTokenAction?(this.auth.setLoginUser(t),this.requiredExtraData=!0,this.nextStage("login_auth","widget-pager.register",3)):this.setError("Authentication failed",`Unable to authenticate user with the action "${t.authTokenAction}"`)}createTransaction(t,n,i){this.transactionInput={type:this.summary.transactionType,source:this.widget.source,sourceVaultId:""===this.summary.vaultId?void 0:this.summary.vaultId,currencyToSpend:this.summary.currencyFrom,currencyToReceive:""!==this.summary.currencyTo?this.summary.currencyTo:void 0,amountToSpend:this.summary.amountFrom??0,instrument:n,instrumentDetails:""!==i?i:void 0,paymentProvider:""!==t?t:void 0,widgetUserParamsId:""!==this.userParamsId?this.userParamsId:void 0,destination:this.summary.transactionType===l.D_.Buy?this.summary.address:"",verifyWhenPaid:this.summary.transactionType===l.D_.Buy&&this.summary.verifyWhenPaid},this.createTransactionInternal()}createTransactionInternal(){this.errorMessage="",this.inProgress=!0;const t=this.pager.swapStage("initialization");this.initMessage="global.widget_processing",this.dataService.createTransaction(this.transactionInput).pipe((0,b.Q)(this.destroy$)).subscribe(({data:n})=>{this.notificationStarted||this.startNotificationListener();const i=n.createTransaction;this.inProgress=!1,i.requiredFields&&0!==i.requiredFields.length?this.userInfoRequired(i.requiredFields):i.code?this.transactionWithCodeHandler(i):this.transactionWithoutCodeHandler(i,t)},n=>{if(this.inProgress=!1,"verification"===t&&this.pager.goBack(),"auth.token_invalid"===this.errorHandler.getCurrentError()||"Access denied"===n.message)this.handleAuthError();else{const i=this.errorHandler.getError(n.message,"Unable to register a new transaction");this.errorMessage=i,this.widget.embedded?this.onError.emit({errorMessage:i}):this.setError("Transaction handling failed",i)}})}transactionWithCodeHandler(t){if(this.summary.orderId=t.code,this.summary.fee=t.feeFiat??0,this.summary.feeMinFiat=t.feeMinFiat??0,this.summary.feePercent=t.feePercent??0,this.summary.networkFee=t.approxNetworkFee??0,this.summary.transactionDate=(new Date).toLocaleString(),this.summary.transactionId=t.transactionId,this.transactionInput.type===l.D_.Buy)if(this.summary.instrument=this.transactionInput.instrument,this.summary.providerView=this.paymentProviders.find(n=>n.id===this.transactionInput.paymentProvider),this.transactionInput.instrument===l.iw.WireTransfer){if(t.instrumentDetails){const n="string"==typeof t.instrumentDetails?JSON.parse(t.instrumentDetails):t.instrumentDetails;this.selectedWireTransfer.data=n.accountType.data}this.nextStage("wire_transfer_result","widget-pager.wire_transfer_result",5)}else this.startPayment();else this.transactionInput.type===l.D_.Sell&&(this.isWidget&&t.sourceAddress?(this.summary.sourceAddress=t.sourceAddress,this.nextStage("sell_widget_complete","widget-pager.complete",5)):this.processingComplete())}transactionWithoutCodeHandler(t,n){this.errorMessage="Order code is invalid",this.widget.embedded?this.onError.emit({errorMessage:this.errorMessage}):"verification"!==n?t.transactionId?(this.transactionInput.type===l.D_.Buy&&(this.summary.instrument=this.transactionInput.instrument,this.summary.providerView=this.paymentProviders.find(i=>i.id===this.transactionInput.paymentProvider)),this.transactionIdConfirmationCode=t.transactionId,this.nextStage("code_auth","widget-pager.login_auth",3)):this.transactionInput.type===l.D_.Buy?this.pager.swapStage(n):this.transactionInput.type===l.D_.Sell&&this.setError("widget-error.title-transaction-failed",this.errorMessage):this.pager.goBack()}startPayment(){this.summary.providerView?.instrument===l.iw.CreditCard?this.nextStage("credit_card","widget-pager.credit_card",this.pager.step):this.summary.providerView?.instrument===l.iw.Apm?this.completeApmTransaction(this.summary.transactionId,l.iw.Apm):this.summary.providerView?.instrument===l.iw.FiatVault?this.nextStage("complete","widget-pager.complete",6):this.summary.providerView?.instrument===l.iw.WireTransfer?this.widgetService.getWireTransferSettings(this.summary,this.widget):this.setError("Invalid payment instrument",`Invalid payment instrument ${this.summary.providerView?.instrument}`)}completeApmTransaction(t,n){this.inProgress=!0,this.dataService.createApmPayment(t,n).pipe((0,b.Q)(this.destroy$)).subscribe({next:({data:i})=>{this.inProgress=!1;const o=i.createApmPayment;o.type===l.fm.External?(this.showWidget=!1,this.inProgress=!1,this.onIFramePay.emit(!0),this.widgetLink=o.externalUrl,this.widgetLink&&this.startExternalPaymentNotificationListener()):(this.apmResult=o,this.nextStage("processing-instantpay","widget-pager.processing-instantpay",this.pager.step))},error:i=>{this.inProgress=!1,"auth.token_invalid"===this.errorHandler.getCurrentError()||"Access denied"===i.message?this.handleAuthError():(this.errorMessage=this.errorHandler.getError(i.message,"Unable to confirm your order"),this.widget.embedded?this.onError.emit({errorMessage:this.errorMessage}):this.setError("widget-error.title-transaction-failed",this.errorMessage))}})}completeCreditCardTransaction(t,n,i){this.inProgress=!0,this.iframeContent="",this.dataService.preAuthCard(t,l.iw.CreditCard,n,i).pipe((0,b.Q)(this.destroy$)).subscribe({next:({data:o})=>{this.notificationStarted||this.startNotificationListener();const d=o.preauth,m=d.order;this.summary.setPaymentInfo(l.iw.CreditCard,m?.paymentInfo),this.iframeContent=d.html,this.inProgress=!1,this.nextStage("processing-frame","widget-pager.processing-frame",this.pager.step)},error:o=>{this.inProgress=!1,"auth.token_invalid"===this.errorHandler.getCurrentError()||"Access denied"===o.message?this.handleAuthError():(this.errorMessage=this.errorHandler.getError(o.message,"Unable to confirm your order"),this.widget.embedded?this.onError.emit({errorMessage:this.errorMessage}):this.setError("widget-error.title-transaction-failed",this.errorMessage))}})}loadAccountData(){this.profileService.getProfileData().valueChanges.pipe((0,P.s)(1),(0,b.Q)(this.destroy$)).subscribe(({data:t})=>{t&&(console.log("loadAccountData result:",t),this.auth.setUser(t.me),this.auth.notifyUserUpdated())})}onWireTransferListLoaded(t,n){this.bankAccountId=n,this.wireTransferList=t,this.wireTransferList.length>1?this.nextStage("wire_transfer","widget-pager.credit_card",this.pager.step):1===this.wireTransferList.length?this.wireTransferPaymentComplete({id:this.bankAccountId,selected:this.wireTransferList[0]}):this.setError("widget-error.title-transaction-failed","No settings found for wire transfer")}userInfoRequired(t){this.requiredFields=t,this.nextStage("wire_transfer_info_required","widget-pager.credit_card",this.pager.step)}companyLevelVerification(){this.companyLevelVerificationFlag=!0}setError(t,n){this.errorMessage=n,this.changeDetector.detectChanges(),("order_details"!==this.pager.stageId||"order_details"===this.pager.stageId&&this.isSingleOrderDetailsCompleted)&&this.showTransactionError(t)}showTransactionError(t){this.transactionErrorTitle=t,this.nextStage("error","widget-pager.error",6)}setOrderDetailsStep(){this.pager.init("order_details","widget-pager.order_details"),this.isOrderDetailsComplete=!1,this.isSinglePage&&this.isSingleOrderDetailsCompleted&&(this.isSingleOrderDetailsCompleted=!1)}static#e=this.\u0275fac=function(n){return new(n||r)(e.rXU(ae.Bq),e.rXU(e.gRc),e.rXU(v.Ix),e.rXU(se.bZ),e.rXU(le.n),e.rXU(re.J),e.rXU(oe.C),e.rXU($.J),e.rXU(L.u),e.rXU(F.m),e.rXU(A.V),e.rXU(z.I))};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-widget-internal"]],viewQuery:function(n,i){if(1&n&&e.GBs(jt,5),2&n){let o;e.mGM(o=e.lsd())&&(i.recaptchaModalContent=o.first)}},inputs:{userParamsId:"userParamsId",quickCheckout:"quickCheckout",isWidget:"isWidget",settings:"settings"},outputs:{onComplete:"onComplete",onError:"onError",onIFramePay:"onIFramePay"},decls:5,vars:3,consts:[["recaptcha",""],["signupInfo",""],["class","widget__wrapper",3,"widget__wrapper--single",4,"ngIf"],["class","__widget-data-container",4,"ngIf"],[4,"ngIf"],[1,"widget__wrapper"],["class","m-0 widget__container-1",3,"ngSwitch",4,"ngIf"],[1,"m-0","widget__container-2",3,"ngClass","ngSwitch"],["class","__widget-progress-container",4,"ngIf"],["class","__widget-embedded-progress-container",4,"ngIf"],["class","__widget-mobile-summary-container",4,"ngIf"],[3,"ngClass"],[3,"message",4,"ngSwitchCase"],[3,"summary","widget","onBack","onComplete","handleError",4,"ngSwitchCase"],[3,"address","amount","currency","onFinish","onProgress",4,"ngSwitchCase"],[3,"agreementChecked","errorMessageData","backButton","onNext",4,"ngSwitchCase"],[3,"agreementChecked","errorMessageData","onBack","onNext",4,"ngSwitchCase"],[3,"email","onBack","onProgress","onComplete",4,"ngSwitchCase"],[3,"userParamsId","source","summary","onBack","onProgress","onComplete",4,"ngSwitchCase"],[3,"email","widget","requiredExtraData","allowCreate","errorMessage","onBack","onProgress","onComplete",4,"ngSwitchCase"],[3,"email","codeLength","errorMessage","transactionIdConfirmationCode","onComplete","onError","onProgress","onBack","onRegister","onTransactionComplete",4,"ngSwitchCase"],[3,"providers","summary","errorMessage","onBack","onSelect",4,"ngSwitchCase"],[3,"errorMessage","onBack","onComplete",4,"ngSwitchCase"],[3,"bankCategories","bankAccountId","errorMessage","onBack","onComplete",4,"ngSwitchCase"],["buttonTitle","SAVE",3,"requiredFields","error","progressChange","done",4,"ngSwitchCase"],["buttonTitle","SEND",3,"levelName","errorMessage","error","progressChange","done",4,"ngSwitchCase"],[3,"referenceId","bankData","onComplete","onSendEmail",4,"ngSwitchCase"],["class","widget-kyc-size",3,"summary","levelName","completedWhenVerified","kycSubscribeResult","allowToPayIfKycFailed","widgetId","errorMessage","onError","onAuthError","onProgress","onBack","onNext","onReject",4,"ngSwitchCase"],[3,"iframeContent","completed","errorMessage","onComplete",4,"ngSwitchCase"],[3,"details","errorMessage","onComplete",4,"ngSwitchCase"],[3,"showRestartButton","onFinish",4,"ngSwitchCase"],[3,"title","onFinish",4,"ngSwitchCase"],[1,"m-0","widget__container-1",3,"ngSwitch"],[3,"isSinglePage","quickCheckout","initialized","summary","settings","wallets","defaultFee","errorMessage","depositRate","isOrderDetailsComplete","onError","onProgress","onDataUpdated","onQuoteChanged","onWalletAddressUpdated","onVerifyWhenPaidChanged","onComplete",4,"ngIf"],[1,"__widget-embedded-progress-container"],["color","accent","mode","indeterminate"],[3,"onError","onProgress","onDataUpdated","onQuoteChanged","onWalletAddressUpdated","onVerifyWhenPaidChanged","onComplete","isSinglePage","quickCheckout","initialized","summary","settings","wallets","defaultFee","errorMessage","depositRate","isOrderDetailsComplete"],[1,"__widget-progress-container"],[3,"step","title","progress"],[1,"__widget-mobile-summary-container"],[1,"__widget-mobile-summary-box"],[1,"__widget-mobile-summary-data-box"],[1,"__widget-summary-title"],[1,"__widget-summary-data",3,"summary"],["class","__widget-summary-total",4,"ngIf"],[1,"__widget-mobile-summary-button-box"],["type","button",1,"__widget-summary-close-button",3,"click"],[1,"__widget-summary-total"],["href","#",3,"click","routerLink"],[3,"message"],[3,"onBack","onComplete","handleError","summary","widget"],[3,"onFinish","onProgress","address","amount","currency"],[3,"onNext","agreementChecked","errorMessageData","backButton"],[3,"onBack","onNext","agreementChecked","errorMessageData"],[3,"onBack","onProgress","onComplete","email"],[3,"onBack","onProgress","onComplete","userParamsId","source","summary"],[3,"onBack","onProgress","onComplete","email","widget","requiredExtraData","allowCreate","errorMessage"],[3,"onComplete","onError","onProgress","onBack","onRegister","onTransactionComplete","email","codeLength","errorMessage","transactionIdConfirmationCode"],[3,"onBack","onSelect","providers","summary","errorMessage"],[3,"onBack","onComplete","errorMessage"],[3,"onBack","onComplete","bankCategories","bankAccountId","errorMessage"],["buttonTitle","SAVE",3,"error","progressChange","done","requiredFields"],["buttonTitle","SEND",3,"error","progressChange","done","levelName","errorMessage"],[3,"onComplete","onSendEmail","referenceId","bankData"],[1,"widget-kyc-size",3,"onError","onAuthError","onProgress","onBack","onNext","onReject","summary","levelName","completedWhenVerified","kycSubscribeResult","allowToPayIfKycFailed","widgetId","errorMessage"],[3,"onComplete","iframeContent","completed","errorMessage"],[3,"onComplete","details","errorMessage"],[3,"onFinish","showRestartButton"],[3,"onFinish","title"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"recaptcha-container"],[3,"completed"],[1,"__widget-data-container"],[1,"__widget-wizard-container","__widget-wizard-container-single","__widget-wizard-container-data-list"],[3,"back"],["frameborder","0","allow","camera",1,"widget-iframe",3,"src"]],template:function(n,i){1&n&&e.DNE(0,li,27,29,"div",2)(1,di,7,3,"ng-template",null,0,e.C5r)(3,ci,3,0,"div",3)(4,pi,3,3,"div",4),2&n&&(e.Y8G("ngIf",!i.recentTransactions&&i.showWidget),e.R7$(3),e.Y8G("ngIf",i.recentTransactions),e.R7$(),e.Y8G("ngIf",i.widgetLink))},dependencies:[p.YU,p.bT,p.ux,p.e1,v.Wk,k.An,de.HM,ce.J,j.t,pe.h,_e.C,me.s,ge.L,ue.g,he.x,fe.f,xe.m,ye.M,be.R,we.p,ve.j,Ce.u,ke,Me.l,Oe.d,Se.A,Ze,et.o,tt.a,it.X,nt.S,Rt,K.d,w.Kj],styles:[".widget-iframe[_ngcontent-%COMP%]{height:100vh;max-height:100vh;width:100%;background:transparent}.widget__wrapper[_ngcontent-%COMP%]{width:auto;height:630px;justify-content:center;display:flex}.widget__wrapper--single[_ngcontent-%COMP%], .widget__wrapper--single[_ngcontent-%COMP%]   .widget__container-2[_ngcontent-%COMP%]{width:400px}.widget__container-1[_ngcontent-%COMP%]{position:relative;display:flex;flex-flow:column nowrap;align-items:center;width:400px;height:630px;background:#fff;border-radius:8px}.widget__container-2[_ngcontent-%COMP%]{flex:1 1;background:#fff;padding:10px;margin-left:3px;border-radius:8px;display:flex;flex-direction:column;position:relative;width:500px;height:630px}.widget__wrapper--dark[_ngcontent-%COMP%]{background-color:#000}"]})}return r})();const mi=r=>({"__widget-frame-box--dark":r}),gi=r=>({margin:"0 auto","letter-spacing":".1em","min-width":r});function ui(r,s){1&r&&(e.j41(0,"div",3),e.EFF(1," mkBUjw37y46goULToq6b7y6ciJc3Qi32YM\n"),e.k0s())}let W=(()=>{class r{constructor(t,n){this.route=t,this.themeService=n,this.prodMode=V.c.production,this.userParamsId="",this.expressFrom="",this.expressTo="",this.expressValue=0,this.widgetSize=!0,this.settings=void 0,this.bg_mask="true"===x.Li.widget_bg_mask,this.pSubscriptions=new O.yU,this.userParamsId=this.route.snapshot.params.userParamsId??"",this.expressFrom=this.route.snapshot.params.from??"",this.expressTo=this.route.snapshot.params.to??"",this.expressValue=this.route.snapshot.params.value??0,""!==this.expressFrom&&""!==this.expressTo&&0!==this.expressValue&&(this.settings=new S.Kg,this.settings.currencyFrom=this.expressFrom,this.settings.currencyTo=this.expressTo,this.settings.amountFrom=this.expressValue)}iframePay(t){this.widgetSize=!t}ngOnDestroy(){this.pSubscriptions.unsubscribe()}static#e=this.\u0275fac=function(n){return new(n||r)(e.rXU(v.nX),e.rXU(I))};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["ng-component"]],decls:4,vars:13,consts:[[1,"__widget-frame-box",3,"ngClass"],[3,"onIFramePay","ngStyle","settings","userParamsId","isWidget","quickCheckout"],["style","grid-column: 3;grid-row: 1;padding: 12px;color: #1A68AD;height: 48px;z-index: 333;",4,"ngIf"],[2,"grid-column","3","grid-row","1","padding","12px","color","#1A68AD","height","48px","z-index","333"]],template:function(n,i){1&n&&(e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"app-widget-internal",1),e.bIt("onIFramePay",function(d){return i.iframePay(d)}),e.k0s()(),e.DNE(3,ui,2,0,"div",2)),2&n&&(e.Y8G("ngClass",e.eq3(9,mi,"dark"===e.bMT(1,7,i.themeService.theme$))),e.R7$(2),e.Y8G("ngStyle",e.eq3(11,gi,i.widgetSize?"":"100%"))("settings",i.settings)("userParamsId",i.userParamsId)("isWidget",!0)("quickCheckout",!0),e.R7$(),e.Y8G("ngIf",!i.prodMode))},dependencies:[p.YU,p.bT,p.B3,_i,p.Jj],encapsulation:2})}return r})();var hi=a(8530);const fi=r=>({"max-width":r});let xi=(()=>{class r{constructor(t){this.route=t,this.userParamsId="",this.widgetSize=!0,this.userParamsId=this.route.snapshot.params.userParamsId??""}iframePay(){this.widgetSize=!1}static#e=this.\u0275fac=function(n){return new(n||r)(e.rXU(v.nX))};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["ng-component"]],decls:2,vars:5,consts:[[1,"__widget-frame-box"],[1,"widget-size-widget",3,"onIFramePay","ngStyle","userParamsId","quickCheckout"]],template:function(n,i){1&n&&(e.j41(0,"div",0)(1,"app-widget",1),e.bIt("onIFramePay",function(){return i.iframePay()}),e.k0s()()),2&n&&(e.R7$(),e.Y8G("ngStyle",e.eq3(3,fi,i.widgetSize?"":"100%"))("userParamsId",i.userParamsId)("quickCheckout",!1))},dependencies:[p.B3,hi.W],encapsulation:2})}return r})();var yi=a(85),D=a(5893);const wi=(r,s)=>({"__widget-frame-background":r,"__widget-frame-background-img":s});function vi(r,s){1&r&&e.nrm(0,"div",4)}const Pi=(r,s)=>({"__widget-frame-background":r,"__widget-frame-background-img":s});function ki(r,s){1&r&&e.nrm(0,"div",4)}const Oi=null,Si=v.iI.forChild([{path:"quickcheckout",component:W},{path:"quickcheckout/:userParamsId",component:W},{path:"quickcheckout-express/:from/:to/:value",component:W},{path:"widget/:userParamsId",component:xi},{path:"crypto/:userParamsId",component:(()=>{class r{constructor(t){this.route=t,this.userParamsId="",this.userParamsId=this.route.snapshot.params.userParamsId??""}static#e=this.\u0275fac=function(n){return new(n||r)(e.rXU(v.nX))};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["ng-component"]],decls:1,vars:1,consts:[[1,"__widget-wrap-container",3,"userParamsId"]],template:function(n,i){1&n&&e.nrm(0,"app-crypto-widget",0),2&n&&e.Y8G("userParamsId",i.userParamsId)},dependencies:[D.lj],encapsulation:2})}return r})()},{path:"crypto-wizard",component:(()=>{class r{constructor(){this.bg_mask="true"===x.Li.widget_bg_mask}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["ng-component"]],decls:5,vars:5,consts:[[1,"__widget-frame-container"],[3,"ngClass"],["class","__widget-frame-background-pipes",4,"ngIf"],[1,"__widget-frame-box"],[1,"__widget-frame-background-pipes"]],template:function(n,i){1&n&&(e.j41(0,"div",0),e.nrm(1,"div",1),e.DNE(2,vi,1,0,"div",2),e.j41(3,"div",3),e.nrm(4,"app-crypto-widget-wizard"),e.k0s()()),2&n&&(e.R7$(),e.Y8G("ngClass",e.l_i(2,wi,i.bg_mask,!i.bg_mask)),e.R7$(),e.Y8G("ngIf",i.bg_mask))},dependencies:[p.YU,p.bT,D.Sx],encapsulation:2})}return r})()},{path:"widget-wizard",component:(()=>{class r{constructor(){this.bg_mask="true"===x.Li.widget_bg_mask}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["ng-component"]],decls:5,vars:5,consts:[[1,"__widget-frame-container"],[3,"ngClass"],["class","__widget-frame-background-pipes",4,"ngIf"],[1,"__widget-frame-box"],[1,"__widget-frame-background-pipes"]],template:function(n,i){1&n&&(e.j41(0,"div",0),e.nrm(1,"div",1),e.DNE(2,ki,1,0,"div",2),e.j41(3,"div",3),e.nrm(4,"app-widget-widget-wizard"),e.k0s()()),2&n&&(e.R7$(),e.Y8G("ngClass",e.l_i(2,Pi,i.bg_mask,!i.bg_mask)),e.R7$(),e.Y8G("ngIf",i.bg_mask))},dependencies:[p.YU,p.bT,D.fb],encapsulation:2})}return r})()},{path:"**",redirectTo:"quickcheckout"}]);let Fi=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=e.$C({type:r});static#i=this.\u0275inj=e.G2t({imports:[ee.mB.forRoot(),p.MD,c.YN,c.X1,Si,te.hI,yi.L7]})}return r})()}}]);