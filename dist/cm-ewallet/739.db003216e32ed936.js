(self.webpackChunkcm_ewallet=self.webpackChunkcm_ewallet||[]).push([[739],{7739:(qe,Se,f)=>{"use strict";f.r(Se),f.d(Se,{AdminModule:()=>zw,options:()=>Xw});var se=f(5188),e=f(4438),d=f(9417),T=f(6977),M=f(3798),N=f(9172),D=f(8141),q=f(152),W=f(5964),b=f(6354),U=f(536),be=f(5007),y=f(1413),ee=f(3726),Ae=f(7786),h=f(177);const Qe=["content"],ut=["scroll"],Ze=["padding"],$e=["*"],et=a=>({searchTerm:a});function Un(a,r){if(1&a&&(e.j41(0,"div",6),e.eu8(1,7),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.Y8G("ngTemplateOutlet",t.headerTemplate)("ngTemplateOutletContext",e.eq3(2,et,t.filterValue))}}function Ln(a,r){if(1&a&&(e.j41(0,"div",8),e.eu8(1,7),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.Y8G("ngTemplateOutlet",t.footerTemplate)("ngTemplateOutletContext",e.eq3(2,et,t.filterValue))}}const Yn=["searchInput"],qn=(a,r,t)=>({item:a,clear:r,label:t}),Wn=(a,r)=>({items:a,clear:r}),Xn=(a,r,t,i)=>({item:a,item$:r,index:t,searchTerm:i});function zn(a,r){if(1&a){const t=e.RV6();e.j41(0,"span",21),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.unselect(n))}),e.EFF(1,"\xd7"),e.k0s(),e.nrm(2,"span",22)}if(2&a){const t=e.XpG().$implicit,i=e.XpG(2);e.R7$(2),e.Y8G("ngItemLabel",t.label)("escape",i.escapeHTML)}}function Hn(a,r){}function Kn(a,r){if(1&a&&(e.j41(0,"div",19),e.DNE(1,zn,3,2,"ng-template",null,1,e.C5r)(3,Hn,0,0,"ng-template",20),e.k0s()),2&a){const t=r.$implicit,i=e.sdS(2),n=e.XpG(2);e.AVh("ng-value-disabled",t.disabled),e.R7$(3),e.Y8G("ngTemplateOutlet",n.labelTemplate||i)("ngTemplateOutletContext",e.sMw(4,qn,t.value,n.clearItem,t.label))}}function Jn(a,r){if(1&a&&(e.qex(0),e.DNE(1,Kn,4,8,"div",18),e.bVm()),2&a){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.selectedItems)("ngForTrackBy",t.trackByOption)}}function Qn(a,r){}function Zn(a,r){if(1&a&&e.DNE(0,Qn,0,0,"ng-template",20),2&a){const t=e.XpG();e.Y8G("ngTemplateOutlet",t.multiLabelTemplate)("ngTemplateOutletContext",e.l_i(2,Wn,t.selectedValues,t.clearItem))}}function ei(a,r){1&a&&e.nrm(0,"div",24)}function ti(a,r){}function ai(a,r){if(1&a&&(e.qex(0),e.DNE(1,ei,1,0,"ng-template",null,2,e.C5r)(3,ti,0,0,"ng-template",23),e.bVm()),2&a){const t=e.sdS(2),i=e.XpG();e.R7$(3),e.Y8G("ngTemplateOutlet",i.loadingSpinnerTemplate||t)}}function ni(a,r){if(1&a&&(e.j41(0,"span",25)(1,"span",26),e.EFF(2,"\xd7"),e.k0s()()),2&a){const t=e.XpG();e.FS9("title",t.clearAllText)}}function ii(a,r){if(1&a&&e.nrm(0,"span",31),2&a){const t=e.XpG().$implicit,i=e.XpG(2);e.Y8G("ngItemLabel",t.label)("escape",i.escapeHTML)}}function ri(a,r){}function oi(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",30),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG(2);return e.Njj(o.toggleItem(n))})("mouseover",function(){const n=e.eBV(t).$implicit,o=e.XpG(2);return e.Njj(o.onItemHover(n))}),e.DNE(1,ii,1,2,"ng-template",null,3,e.C5r)(3,ri,0,0,"ng-template",20),e.k0s()}if(2&a){const t=r.$implicit,i=e.sdS(2),n=e.XpG(2);e.AVh("ng-option-disabled",t.disabled)("ng-option-selected",t.selected)("ng-optgroup",t.children)("ng-option",!t.children)("ng-option-child",!!t.parent)("ng-option-marked",t===n.itemsList.markedItem),e.BMQ("role",t.children?"group":"option")("aria-selected",t.selected)("id",null==t?null:t.htmlId),e.R7$(3),e.Y8G("ngTemplateOutlet",t.children?n.optgroupTemplate||i:n.optionTemplate||i)("ngTemplateOutletContext",e.ziG(17,Xn,t.value,t,t.index,n.searchTerm))}}function si(a,r){if(1&a&&(e.j41(0,"span")(1,"span",33),e.EFF(2),e.k0s(),e.EFF(3),e.k0s()),2&a){const t=e.XpG(3);e.R7$(2),e.JRh(t.addTagText),e.R7$(),e.SpI('"',t.searchTerm,'"')}}function li(a,r){}function di(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",32),e.bIt("mouseover",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.itemsList.unmarkItem())})("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.selectTag())}),e.DNE(1,si,4,2,"ng-template",null,4,e.C5r)(3,li,0,0,"ng-template",20),e.k0s()}if(2&a){const t=e.sdS(2),i=e.XpG(2);e.AVh("ng-option-marked",!i.itemsList.markedItem),e.R7$(3),e.Y8G("ngTemplateOutlet",i.tagTemplate||t)("ngTemplateOutletContext",e.eq3(4,et,i.searchTerm))}}function ci(a,r){if(1&a&&(e.j41(0,"div",34),e.EFF(1),e.k0s()),2&a){const t=e.XpG(3);e.R7$(),e.JRh(t.notFoundText)}}function mi(a,r){}function pi(a,r){if(1&a&&(e.qex(0),e.DNE(1,ci,2,1,"ng-template",null,5,e.C5r)(3,mi,0,0,"ng-template",20),e.bVm()),2&a){const t=e.sdS(2),i=e.XpG(2);e.R7$(3),e.Y8G("ngTemplateOutlet",i.notFoundTemplate||t)("ngTemplateOutletContext",e.eq3(2,et,i.searchTerm))}}function ui(a,r){if(1&a&&(e.j41(0,"div",34),e.EFF(1),e.k0s()),2&a){const t=e.XpG(3);e.R7$(),e.JRh(t.typeToSearchText)}}function hi(a,r){}function fi(a,r){if(1&a&&(e.qex(0),e.DNE(1,ui,2,1,"ng-template",null,6,e.C5r)(3,hi,0,0,"ng-template",23),e.bVm()),2&a){const t=e.sdS(2),i=e.XpG(2);e.R7$(3),e.Y8G("ngTemplateOutlet",i.typeToSearchTemplate||t)}}function gi(a,r){if(1&a&&(e.j41(0,"div",34),e.EFF(1),e.k0s()),2&a){const t=e.XpG(3);e.R7$(),e.JRh(t.loadingText)}}function _i(a,r){}function bi(a,r){if(1&a&&(e.qex(0),e.DNE(1,gi,2,1,"ng-template",null,7,e.C5r)(3,_i,0,0,"ng-template",20),e.bVm()),2&a){const t=e.sdS(2),i=e.XpG(2);e.R7$(3),e.Y8G("ngTemplateOutlet",i.loadingTextTemplate||t)("ngTemplateOutletContext",e.eq3(2,et,i.searchTerm))}}function vi(a,r){if(1&a){const t=e.RV6();e.j41(0,"ng-dropdown-panel",27),e.bIt("update",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.viewPortItems=n)})("scroll",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.scroll.emit(n))})("scrollToEnd",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.scrollToEnd.emit(n))})("outsideClick",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.close())}),e.qex(1),e.DNE(2,oi,4,22,"div",28)(3,di,4,6,"div",29),e.bVm(),e.DNE(4,pi,4,4,"ng-container",11)(5,fi,4,1,"ng-container",11)(6,bi,4,4,"ng-container",11),e.k0s()}if(2&a){const t=e.XpG();e.AVh("ng-select-multiple",t.multiple),e.Y8G("virtualScroll",t.virtualScroll)("bufferAmount",t.bufferAmount)("appendTo",t.appendTo)("position",t.dropdownPosition)("headerTemplate",t.headerTemplate)("footerTemplate",t.footerTemplate)("filterValue",t.searchTerm)("items",t.itemsList.filteredItems)("markedItem",t.itemsList.markedItem)("ngClass",t.appendTo?t.classes:null)("id",t.dropdownId),e.R7$(2),e.Y8G("ngForOf",t.viewPortItems)("ngForTrackBy",t.trackByOption),e.R7$(),e.Y8G("ngIf",t.showAddTag),e.R7$(),e.Y8G("ngIf",t.showNoItemsFound()),e.R7$(),e.Y8G("ngIf",t.showTypeToSearch()),e.R7$(),e.Y8G("ngIf",t.loading&&0===t.itemsList.filteredItems.length)}}const ka=/[&<>"']/g,yi=RegExp(ka.source),Ci={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function H(a){return null!=a}function tt(a){return"object"==typeof a&&H(a)}function ht(a){return a instanceof Function}let Ti=(()=>{class a{constructor(t){this.element=t,this.escape=!0}ngOnChanges(t){this.element.nativeElement.innerHTML=this.escape?function ki(a){return a&&yi.test(a)?a.replace(ka,r=>Ci[r]):a}(this.ngItemLabel):this.ngItemLabel}}return a.\u0275fac=function(t){return new(t||a)(e.rXU(e.aKT))},a.\u0275dir=e.FsC({type:a,selectors:[["","ngItemLabel",""]],inputs:{ngItemLabel:"ngItemLabel",escape:"escape"},features:[e.OA$]}),a})(),at=(()=>{class a{constructor(t){this.template=t}}return a.\u0275fac=function(t){return new(t||a)(e.rXU(e.C4Q))},a.\u0275dir=e.FsC({type:a,selectors:[["","ng-option-tmp",""]]}),a})(),Fa=(()=>{class a{constructor(t){this.template=t}}return a.\u0275fac=function(t){return new(t||a)(e.rXU(e.C4Q))},a.\u0275dir=e.FsC({type:a,selectors:[["","ng-optgroup-tmp",""]]}),a})(),xi=(()=>{class a{constructor(t){this.template=t}}return a.\u0275fac=function(t){return new(t||a)(e.rXU(e.C4Q))},a.\u0275dir=e.FsC({type:a,selectors:[["","ng-label-tmp",""]]}),a})(),wi=(()=>{class a{constructor(t){this.template=t}}return a.\u0275fac=function(t){return new(t||a)(e.rXU(e.C4Q))},a.\u0275dir=e.FsC({type:a,selectors:[["","ng-multi-label-tmp",""]]}),a})(),Si=(()=>{class a{constructor(t){this.template=t}}return a.\u0275fac=function(t){return new(t||a)(e.rXU(e.C4Q))},a.\u0275dir=e.FsC({type:a,selectors:[["","ng-header-tmp",""]]}),a})(),Di=(()=>{class a{constructor(t){this.template=t}}return a.\u0275fac=function(t){return new(t||a)(e.rXU(e.C4Q))},a.\u0275dir=e.FsC({type:a,selectors:[["","ng-footer-tmp",""]]}),a})(),Ii=(()=>{class a{constructor(t){this.template=t}}return a.\u0275fac=function(t){return new(t||a)(e.rXU(e.C4Q))},a.\u0275dir=e.FsC({type:a,selectors:[["","ng-notfound-tmp",""]]}),a})(),Ei=(()=>{class a{constructor(t){this.template=t}}return a.\u0275fac=function(t){return new(t||a)(e.rXU(e.C4Q))},a.\u0275dir=e.FsC({type:a,selectors:[["","ng-typetosearch-tmp",""]]}),a})(),Pi=(()=>{class a{constructor(t){this.template=t}}return a.\u0275fac=function(t){return new(t||a)(e.rXU(e.C4Q))},a.\u0275dir=e.FsC({type:a,selectors:[["","ng-loadingtext-tmp",""]]}),a})(),Ta=(()=>{class a{constructor(t){this.template=t}}return a.\u0275fac=function(t){return new(t||a)(e.rXU(e.C4Q))},a.\u0275dir=e.FsC({type:a,selectors:[["","ng-tag-tmp",""]]}),a})(),Ai=(()=>{class a{constructor(t){this.template=t}}return a.\u0275fac=function(t){return new(t||a)(e.rXU(e.C4Q))},a.\u0275dir=e.FsC({type:a,selectors:[["","ng-loadingspinner-tmp",""]]}),a})();function xa(){return"axxxxxxxxxxx".replace(/[x]/g,()=>(16*Math.random()|0).toString(16))}const Ri={"\u24b6":"A",\uff21:"A",\u00c0:"A",\u00c1:"A",\u00c2:"A",\u1ea6:"A",\u1ea4:"A",\u1eaa:"A",\u1ea8:"A",\u00c3:"A",\u0100:"A",\u0102:"A",\u1eb0:"A",\u1eae:"A",\u1eb4:"A",\u1eb2:"A",\u0226:"A",\u01e0:"A",\u00c4:"A",\u01de:"A",\u1ea2:"A",\u00c5:"A",\u01fa:"A",\u01cd:"A",\u0200:"A",\u0202:"A",\u1ea0:"A",\u1eac:"A",\u1eb6:"A",\u1e00:"A",\u0104:"A",\u023a:"A",\u2c6f:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY","\u24b7":"B",\uff22:"B",\u1e02:"B",\u1e04:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0181:"B","\u24b8":"C",\uff23:"C",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0187:"C",\u023b:"C",\ua73e:"C","\u24b9":"D",\uff24:"D",\u1e0a:"D",\u010e:"D",\u1e0c:"D",\u1e10:"D",\u1e12:"D",\u1e0e:"D",\u0110:"D",\u018b:"D",\u018a:"D",\u0189:"D",\ua779:"D",\u01f1:"DZ",\u01c4:"DZ",\u01f2:"Dz",\u01c5:"Dz","\u24ba":"E",\uff25:"E",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u1ec0:"E",\u1ebe:"E",\u1ec4:"E",\u1ec2:"E",\u1ebc:"E",\u0112:"E",\u1e14:"E",\u1e16:"E",\u0114:"E",\u0116:"E",\u00cb:"E",\u1eba:"E",\u011a:"E",\u0204:"E",\u0206:"E",\u1eb8:"E",\u1ec6:"E",\u0228:"E",\u1e1c:"E",\u0118:"E",\u1e18:"E",\u1e1a:"E",\u0190:"E",\u018e:"E","\u24bb":"F",\uff26:"F",\u1e1e:"F",\u0191:"F",\ua77b:"F","\u24bc":"G",\uff27:"G",\u01f4:"G",\u011c:"G",\u1e20:"G",\u011e:"G",\u0120:"G",\u01e6:"G",\u0122:"G",\u01e4:"G",\u0193:"G",\ua7a0:"G",\ua77d:"G",\ua77e:"G","\u24bd":"H",\uff28:"H",\u0124:"H",\u1e22:"H",\u1e26:"H",\u021e:"H",\u1e24:"H",\u1e28:"H",\u1e2a:"H",\u0126:"H",\u2c67:"H",\u2c75:"H",\ua78d:"H","\u24be":"I",\uff29:"I",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u0128:"I",\u012a:"I",\u012c:"I",\u0130:"I",\u00cf:"I",\u1e2e:"I",\u1ec8:"I",\u01cf:"I",\u0208:"I",\u020a:"I",\u1eca:"I",\u012e:"I",\u1e2c:"I",\u0197:"I","\u24bf":"J",\uff2a:"J",\u0134:"J",\u0248:"J","\u24c0":"K",\uff2b:"K",\u1e30:"K",\u01e8:"K",\u1e32:"K",\u0136:"K",\u1e34:"K",\u0198:"K",\u2c69:"K",\ua740:"K",\ua742:"K",\ua744:"K",\ua7a2:"K","\u24c1":"L",\uff2c:"L",\u013f:"L",\u0139:"L",\u013d:"L",\u1e36:"L",\u1e38:"L",\u013b:"L",\u1e3c:"L",\u1e3a:"L",\u0141:"L",\u023d:"L",\u2c62:"L",\u2c60:"L",\ua748:"L",\ua746:"L",\ua780:"L",\u01c7:"LJ",\u01c8:"Lj","\u24c2":"M",\uff2d:"M",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u019c:"M","\u24c3":"N",\uff2e:"N",\u01f8:"N",\u0143:"N",\u00d1:"N",\u1e44:"N",\u0147:"N",\u1e46:"N",\u0145:"N",\u1e4a:"N",\u1e48:"N",\u0220:"N",\u019d:"N",\ua790:"N",\ua7a4:"N",\u01ca:"NJ",\u01cb:"Nj","\u24c4":"O",\uff2f:"O",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u1ed2:"O",\u1ed0:"O",\u1ed6:"O",\u1ed4:"O",\u00d5:"O",\u1e4c:"O",\u022c:"O",\u1e4e:"O",\u014c:"O",\u1e50:"O",\u1e52:"O",\u014e:"O",\u022e:"O",\u0230:"O",\u00d6:"O",\u022a:"O",\u1ece:"O",\u0150:"O",\u01d1:"O",\u020c:"O",\u020e:"O",\u01a0:"O",\u1edc:"O",\u1eda:"O",\u1ee0:"O",\u1ede:"O",\u1ee2:"O",\u1ecc:"O",\u1ed8:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u0186:"O",\u019f:"O",\ua74a:"O",\ua74c:"O",\u01a2:"OI",\ua74e:"OO",\u0222:"OU","\u24c5":"P",\uff30:"P",\u1e54:"P",\u1e56:"P",\u01a4:"P",\u2c63:"P",\ua750:"P",\ua752:"P",\ua754:"P","\u24c6":"Q",\uff31:"Q",\ua756:"Q",\ua758:"Q",\u024a:"Q","\u24c7":"R",\uff32:"R",\u0154:"R",\u1e58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1e5a:"R",\u1e5c:"R",\u0156:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua75a:"R",\ua7a6:"R",\ua782:"R","\u24c8":"S",\uff33:"S",\u1e9e:"S",\u015a:"S",\u1e64:"S",\u015c:"S",\u1e60:"S",\u0160:"S",\u1e66:"S",\u1e62:"S",\u1e68:"S",\u0218:"S",\u015e:"S",\u2c7e:"S",\ua7a8:"S",\ua784:"S","\u24c9":"T",\uff34:"T",\u1e6a:"T",\u0164:"T",\u1e6c:"T",\u021a:"T",\u0162:"T",\u1e70:"T",\u1e6e:"T",\u0166:"T",\u01ac:"T",\u01ae:"T",\u023e:"T",\ua786:"T",\ua728:"TZ","\u24ca":"U",\uff35:"U",\u00d9:"U",\u00da:"U",\u00db:"U",\u0168:"U",\u1e78:"U",\u016a:"U",\u1e7a:"U",\u016c:"U",\u00dc:"U",\u01db:"U",\u01d7:"U",\u01d5:"U",\u01d9:"U",\u1ee6:"U",\u016e:"U",\u0170:"U",\u01d3:"U",\u0214:"U",\u0216:"U",\u01af:"U",\u1eea:"U",\u1ee8:"U",\u1eee:"U",\u1eec:"U",\u1ef0:"U",\u1ee4:"U",\u1e72:"U",\u0172:"U",\u1e76:"U",\u1e74:"U",\u0244:"U","\u24cb":"V",\uff36:"V",\u1e7c:"V",\u1e7e:"V",\u01b2:"V",\ua75e:"V",\u0245:"V",\ua760:"VY","\u24cc":"W",\uff37:"W",\u1e80:"W",\u1e82:"W",\u0174:"W",\u1e86:"W",\u1e84:"W",\u1e88:"W",\u2c72:"W","\u24cd":"X",\uff38:"X",\u1e8a:"X",\u1e8c:"X","\u24ce":"Y",\uff39:"Y",\u1ef2:"Y",\u00dd:"Y",\u0176:"Y",\u1ef8:"Y",\u0232:"Y",\u1e8e:"Y",\u0178:"Y",\u1ef6:"Y",\u1ef4:"Y",\u01b3:"Y",\u024e:"Y",\u1efe:"Y","\u24cf":"Z",\uff3a:"Z",\u0179:"Z",\u1e90:"Z",\u017b:"Z",\u017d:"Z",\u1e92:"Z",\u1e94:"Z",\u01b5:"Z",\u0224:"Z",\u2c7f:"Z",\u2c6b:"Z",\ua762:"Z","\u24d0":"a",\uff41:"a",\u1e9a:"a",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u1ea7:"a",\u1ea5:"a",\u1eab:"a",\u1ea9:"a",\u00e3:"a",\u0101:"a",\u0103:"a",\u1eb1:"a",\u1eaf:"a",\u1eb5:"a",\u1eb3:"a",\u0227:"a",\u01e1:"a",\u00e4:"a",\u01df:"a",\u1ea3:"a",\u00e5:"a",\u01fb:"a",\u01ce:"a",\u0201:"a",\u0203:"a",\u1ea1:"a",\u1ead:"a",\u1eb7:"a",\u1e01:"a",\u0105:"a",\u2c65:"a",\u0250:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay","\u24d1":"b",\uff42:"b",\u1e03:"b",\u1e05:"b",\u1e07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24d2":"c",\uff43:"c",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0188:"c",\u023c:"c",\ua73f:"c",\u2184:"c","\u24d3":"d",\uff44:"d",\u1e0b:"d",\u010f:"d",\u1e0d:"d",\u1e11:"d",\u1e13:"d",\u1e0f:"d",\u0111:"d",\u018c:"d",\u0256:"d",\u0257:"d",\ua77a:"d",\u01f3:"dz",\u01c6:"dz","\u24d4":"e",\uff45:"e",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u1ec1:"e",\u1ebf:"e",\u1ec5:"e",\u1ec3:"e",\u1ebd:"e",\u0113:"e",\u1e15:"e",\u1e17:"e",\u0115:"e",\u0117:"e",\u00eb:"e",\u1ebb:"e",\u011b:"e",\u0205:"e",\u0207:"e",\u1eb9:"e",\u1ec7:"e",\u0229:"e",\u1e1d:"e",\u0119:"e",\u1e19:"e",\u1e1b:"e",\u0247:"e",\u025b:"e",\u01dd:"e","\u24d5":"f",\uff46:"f",\u1e1f:"f",\u0192:"f",\ua77c:"f","\u24d6":"g",\uff47:"g",\u01f5:"g",\u011d:"g",\u1e21:"g",\u011f:"g",\u0121:"g",\u01e7:"g",\u0123:"g",\u01e5:"g",\u0260:"g",\ua7a1:"g",\u1d79:"g",\ua77f:"g","\u24d7":"h",\uff48:"h",\u0125:"h",\u1e23:"h",\u1e27:"h",\u021f:"h",\u1e25:"h",\u1e29:"h",\u1e2b:"h",\u1e96:"h",\u0127:"h",\u2c68:"h",\u2c76:"h",\u0265:"h",\u0195:"hv","\u24d8":"i",\uff49:"i",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u0129:"i",\u012b:"i",\u012d:"i",\u00ef:"i",\u1e2f:"i",\u1ec9:"i",\u01d0:"i",\u0209:"i",\u020b:"i",\u1ecb:"i",\u012f:"i",\u1e2d:"i",\u0268:"i",\u0131:"i","\u24d9":"j",\uff4a:"j",\u0135:"j",\u01f0:"j",\u0249:"j","\u24da":"k",\uff4b:"k",\u1e31:"k",\u01e9:"k",\u1e33:"k",\u0137:"k",\u1e35:"k",\u0199:"k",\u2c6a:"k",\ua741:"k",\ua743:"k",\ua745:"k",\ua7a3:"k","\u24db":"l",\uff4c:"l",\u0140:"l",\u013a:"l",\u013e:"l",\u1e37:"l",\u1e39:"l",\u013c:"l",\u1e3d:"l",\u1e3b:"l",\u017f:"l",\u0142:"l",\u019a:"l",\u026b:"l",\u2c61:"l",\ua749:"l",\ua781:"l",\ua747:"l",\u01c9:"lj","\u24dc":"m",\uff4d:"m",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u026f:"m","\u24dd":"n",\uff4e:"n",\u01f9:"n",\u0144:"n",\u00f1:"n",\u1e45:"n",\u0148:"n",\u1e47:"n",\u0146:"n",\u1e4b:"n",\u1e49:"n",\u019e:"n",\u0272:"n",\u0149:"n",\ua791:"n",\ua7a5:"n",\u01cc:"nj","\u24de":"o",\uff4f:"o",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u1ed3:"o",\u1ed1:"o",\u1ed7:"o",\u1ed5:"o",\u00f5:"o",\u1e4d:"o",\u022d:"o",\u1e4f:"o",\u014d:"o",\u1e51:"o",\u1e53:"o",\u014f:"o",\u022f:"o",\u0231:"o",\u00f6:"o",\u022b:"o",\u1ecf:"o",\u0151:"o",\u01d2:"o",\u020d:"o",\u020f:"o",\u01a1:"o",\u1edd:"o",\u1edb:"o",\u1ee1:"o",\u1edf:"o",\u1ee3:"o",\u1ecd:"o",\u1ed9:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u0254:"o",\ua74b:"o",\ua74d:"o",\u0275:"o",\u01a3:"oi",\u0223:"ou",\ua74f:"oo","\u24df":"p",\uff50:"p",\u1e55:"p",\u1e57:"p",\u01a5:"p",\u1d7d:"p",\ua751:"p",\ua753:"p",\ua755:"p","\u24e0":"q",\uff51:"q",\u024b:"q",\ua757:"q",\ua759:"q","\u24e1":"r",\uff52:"r",\u0155:"r",\u1e59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1e5b:"r",\u1e5d:"r",\u0157:"r",\u1e5f:"r",\u024d:"r",\u027d:"r",\ua75b:"r",\ua7a7:"r",\ua783:"r","\u24e2":"s",\uff53:"s",\u00df:"s",\u015b:"s",\u1e65:"s",\u015d:"s",\u1e61:"s",\u0161:"s",\u1e67:"s",\u1e63:"s",\u1e69:"s",\u0219:"s",\u015f:"s",\u023f:"s",\ua7a9:"s",\ua785:"s",\u1e9b:"s","\u24e3":"t",\uff54:"t",\u1e6b:"t",\u1e97:"t",\u0165:"t",\u1e6d:"t",\u021b:"t",\u0163:"t",\u1e71:"t",\u1e6f:"t",\u0167:"t",\u01ad:"t",\u0288:"t",\u2c66:"t",\ua787:"t",\ua729:"tz","\u24e4":"u",\uff55:"u",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u0169:"u",\u1e79:"u",\u016b:"u",\u1e7b:"u",\u016d:"u",\u00fc:"u",\u01dc:"u",\u01d8:"u",\u01d6:"u",\u01da:"u",\u1ee7:"u",\u016f:"u",\u0171:"u",\u01d4:"u",\u0215:"u",\u0217:"u",\u01b0:"u",\u1eeb:"u",\u1ee9:"u",\u1eef:"u",\u1eed:"u",\u1ef1:"u",\u1ee5:"u",\u1e73:"u",\u0173:"u",\u1e77:"u",\u1e75:"u",\u0289:"u","\u24e5":"v",\uff56:"v",\u1e7d:"v",\u1e7f:"v",\u028b:"v",\ua75f:"v",\u028c:"v",\ua761:"vy","\u24e6":"w",\uff57:"w",\u1e81:"w",\u1e83:"w",\u0175:"w",\u1e87:"w",\u1e85:"w",\u1e98:"w",\u1e89:"w",\u2c73:"w","\u24e7":"x",\uff58:"x",\u1e8b:"x",\u1e8d:"x","\u24e8":"y",\uff59:"y",\u1ef3:"y",\u00fd:"y",\u0177:"y",\u1ef9:"y",\u0233:"y",\u1e8f:"y",\u00ff:"y",\u1ef7:"y",\u1e99:"y",\u1ef5:"y",\u01b4:"y",\u024f:"y",\u1eff:"y","\u24e9":"z",\uff5a:"z",\u017a:"z",\u1e91:"z",\u017c:"z",\u017e:"z",\u1e93:"z",\u1e95:"z",\u01b6:"z",\u0225:"z",\u0240:"z",\u2c6c:"z",\ua763:"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038a:"\u0399",\u03aa:"\u0399",\u038c:"\u039f",\u038e:"\u03a5",\u03ab:"\u03a5",\u038f:"\u03a9",\u03ac:"\u03b1",\u03ad:"\u03b5",\u03ae:"\u03b7",\u03af:"\u03b9",\u03ca:"\u03b9",\u0390:"\u03b9",\u03cc:"\u03bf",\u03cd:"\u03c5",\u03cb:"\u03c5",\u03b0:"\u03c5",\u03c9:"\u03c9",\u03c2:"\u03c3"};function ft(a){return a.replace(/[^\u0000-\u007E]/g,t=>Ri[t]||t)}class Oi{constructor(r,t){this._ngSelect=r,this._selectionModel=t,this._items=[],this._filteredItems=[],this._markedIndex=-1}get items(){return this._items}get filteredItems(){return this._filteredItems}get markedIndex(){return this._markedIndex}get selectedItems(){return this._selectionModel.value}get markedItem(){return this._filteredItems[this._markedIndex]}get noItemsToSelect(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}get maxItemsSelected(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}get lastSelectedItem(){let r=this.selectedItems.length-1;for(;r>=0;r--){const t=this.selectedItems[r];if(!t.disabled)return t}return null}setItems(r){this._items=r.map((t,i)=>this.mapItem(t,i)),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=[...this._items]}select(r){if(r.selected||this.maxItemsSelected)return;const t=this._ngSelect.multiple;t||this.clearSelected(),this._selectionModel.select(r,t,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(r)}unselect(r){r.selected&&(this._selectionModel.unselect(r,this._ngSelect.multiple),this._ngSelect.hideSelected&&H(r.index)&&this._ngSelect.multiple&&this._showSelected(r))}findItem(r){let t;return t=this._ngSelect.compareWith?i=>this._ngSelect.compareWith(i.value,r):this._ngSelect.bindValue?i=>!i.children&&this.resolveNested(i.value,this._ngSelect.bindValue)===r:i=>i.value===r||!i.children&&i.label&&i.label===this.resolveNested(r,this._ngSelect.bindLabel),this._items.find(i=>t(i))}addItem(r){const t=this.mapItem(r,this._items.length);return this._items.push(t),this._filteredItems.push(t),t}clearSelected(r=!1){this._selectionModel.clear(r),this._items.forEach(t=>{t.selected=r&&t.selected&&t.disabled,t.marked=!1}),this._ngSelect.hideSelected&&this.resetFilteredItems()}findByLabel(r){return r=ft(r).toLocaleLowerCase(),this.filteredItems.find(t=>ft(t.label).toLocaleLowerCase().substr(0,r.length)===r)}filter(r){if(!r)return void this.resetFilteredItems();this._filteredItems=[],r=this._ngSelect.searchFn?r:ft(r).toLocaleLowerCase();const t=this._ngSelect.searchFn||this._defaultSearchFn,i=this._ngSelect.hideSelected;for(const n of Array.from(this._groups.keys())){const o=[];for(const s of this._groups.get(n))i&&(s.parent&&s.parent.selected||s.selected)||t(r,this._ngSelect.searchFn?s.value:s)&&o.push(s);if(o.length>0){const[s]=o.slice(-1);if(s.parent){const l=this._items.find(m=>m===s.parent);this._filteredItems.push(l)}this._filteredItems.push(...o)}}}resetFilteredItems(){this._filteredItems.length!==this._items.length&&(this._filteredItems=this._ngSelect.hideSelected&&this.selectedItems.length>0?this._items.filter(r=>!r.selected):this._items)}unmarkItem(){this._markedIndex=-1}markNextItem(){this._stepToItem(1)}markPreviousItem(){this._stepToItem(-1)}markItem(r){this._markedIndex=this._filteredItems.indexOf(r)}markSelectedOrDefault(r){if(0===this._filteredItems.length)return;const t=this._getLastMarkedIndex();this._markedIndex=t>-1?t:r?this.filteredItems.findIndex(i=>!i.disabled):-1}resolveNested(r,t){if(!tt(r))return r;if(-1===t.indexOf("."))return r[t];{const i=t.split(".");let n=r;for(let o=0,s=i.length;o<s;++o){if(null==n)return null;n=n[i[o]]}return n}}mapItem(r,t){const i=H(r.$ngOptionLabel)?r.$ngOptionLabel:this.resolveNested(r,this._ngSelect.bindLabel),n=H(r.$ngOptionValue)?r.$ngOptionValue:r;return{index:t,label:H(i)?i.toString():"",value:n,disabled:r.disabled,htmlId:`${this._ngSelect.dropdownId}-${t}`}}mapSelectedItems(){const r=this._ngSelect.multiple;for(const t of this.selectedItems){const i=this._ngSelect.bindValue?this.resolveNested(t.value,this._ngSelect.bindValue):t.value,n=H(i)?this.findItem(i):null;this._selectionModel.unselect(t,r),this._selectionModel.select(n||t,r,this._ngSelect.selectableGroupAsModel)}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter(t=>-1===this.selectedItems.indexOf(t)))}_showSelected(r){if(this._filteredItems.push(r),r.parent){const t=r.parent;this._filteredItems.find(n=>n===t)||this._filteredItems.push(t)}else if(r.children)for(const t of r.children)t.selected=!1,this._filteredItems.push(t);this._filteredItems=[...this._filteredItems.sort((t,i)=>t.index-i.index)]}_hideSelected(r){this._filteredItems=this._filteredItems.filter(t=>t!==r),r.parent?r.parent.children.every(i=>i.selected)&&(this._filteredItems=this._filteredItems.filter(i=>i!==r.parent)):r.children&&(this._filteredItems=this.filteredItems.filter(t=>t.parent!==r))}_defaultSearchFn(r,t){return ft(t.label).toLocaleLowerCase().indexOf(r)>-1}_getNextItemIndex(r){return r>0?this._markedIndex>=this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}_stepToItem(r){0===this._filteredItems.length||this._filteredItems.every(t=>t.disabled)||(this._markedIndex=this._getNextItemIndex(r),this.markedItem.disabled&&this._stepToItem(r))}_getLastMarkedIndex(){if(this._ngSelect.hideSelected||this._markedIndex>-1&&void 0===this.markedItem)return-1;const r=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&r<0?-1:Math.max(this.markedIndex,r)}_groupBy(r,t){const i=new Map;if(0===r.length)return i;if(Array.isArray(r[0].value[t])){for(const s of r){const l=(s.value[t]||[]).map((m,u)=>this.mapItem(m,u));i.set(s,l)}return i}const n=ht(this._ngSelect.groupBy),o=s=>{const l=n?t(s.value):s.value[t];return H(l)?l:void 0};for(const s of r){const l=o(s),m=i.get(l);m?m.push(s):i.set(l,[s])}return i}_flatten(r){const t=ht(this._ngSelect.groupBy),i=[];for(const n of Array.from(r.keys())){let o=i.length;if(void 0===n){const C=r.get(void 0)||[];i.push(...C.map(x=>(x.index=o++,x)));continue}const s=tt(n),l={label:s?"":String(n),children:void 0,parent:null,index:o++,disabled:!this._ngSelect.selectableGroup,htmlId:xa()},m=t?this._ngSelect.bindLabel:this._ngSelect.groupBy,u=this._ngSelect.groupValue||(()=>s?n.value:{[m]:n}),g=r.get(n).map(C=>(C.parent=l,C.children=void 0,C.index=o++,C));l.children=g,l.value=u(n,g.map(C=>C.value)),i.push(l),i.push(...g)}return i}}var Re=function(a){return a[a.Tab=9]="Tab",a[a.Enter=13]="Enter",a[a.Esc=27]="Esc",a[a.Space=32]="Space",a[a.ArrowUp=38]="ArrowUp",a[a.ArrowDown=40]="ArrowDown",a[a.Backspace=8]="Backspace",a}(Re||{});let wa=(()=>{class a{constructor(){this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}get dimensions(){return this._dimensions}calculateItems(t,i,n){const o=this._dimensions,s=o.itemHeight*i,m=Math.max(0,t)/s*i;let u=Math.min(i,Math.ceil(m)+(o.itemsPerViewport+1));const C=Math.max(0,u-o.itemsPerViewport);let x=Math.min(C,Math.floor(m)),j=o.itemHeight*Math.ceil(x)-o.itemHeight*Math.min(x,n);return j=isNaN(j)?0:j,x=isNaN(x)?-1:x,u=isNaN(u)?-1:u,x-=n,x=Math.max(0,x),u+=n,u=Math.min(i,u),{topPadding:j,scrollHeight:s,start:x,end:u}}setDimensions(t,i){const n=Math.max(1,Math.floor(i/t));this._dimensions={itemHeight:t,panelHeight:i,itemsPerViewport:n}}getScrollTo(t,i,n){const{panelHeight:o}=this.dimensions,s=t+i,m=n+o;return o>=s&&n===t?null:s>m?n+s-m:t<=n?t:null}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=e.jDH({token:a,factory:a.\u0275fac}),a})();const Sa=["top","right","bottom","left"],ji=typeof requestAnimationFrame<"u"?U.X:be.$;let Da=(()=>{class a{constructor(t,i,n,o,s){this._renderer=t,this._zone=i,this._panelService=n,this._document=s,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.update=new e.bkB,this.scroll=new e.bkB,this.scrollToEnd=new e.bkB,this.outsideClick=new e.bkB,this._destroy$=new y.B,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=o.nativeElement}get currentPosition(){return this._currentPosition}get itemsLength(){return this._itemsLength}set itemsLength(t){t!==this._itemsLength&&(this._itemsLength=t,this._onItemsLengthChanged())}get _startOffset(){if(this.markedItem){const{itemHeight:t,panelHeight:i}=this._panelService.dimensions,n=this.markedItem.index*t;return i>n?0:n}return 0}ngOnInit(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown(),this._setupMousedownListener()}ngOnChanges(t){if(t.items){const i=t.items;this._onItemsChange(i.currentValue,i.firstChange)}}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}scrollTo(t,i=!1){if(!t)return;const n=this.items.indexOf(t);if(n<0||n>=this.itemsLength)return;let o;if(this.virtualScroll){const s=this._panelService.dimensions.itemHeight;o=this._panelService.getScrollTo(n*s,s,this._lastScrollPosition)}else{const s=this._dropdown.querySelector(`#${t.htmlId}`);o=this._panelService.getScrollTo(s.offsetTop,s.clientHeight,i?s.offsetTop:this._lastScrollPosition)}H(o)&&(this._scrollablePanel.scrollTop=o)}scrollToTag(){const t=this._scrollablePanel;t.scrollTop=t.scrollHeight-t.clientHeight}adjustPosition(){this._updateYPosition()}_handleDropdownPosition(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),Sa.includes(this._currentPosition)?this._updateDropdownClass(this._currentPosition):this._updateDropdownClass("bottom"),this.appendTo&&this._updateYPosition(),this._dropdown.style.opacity="1"}_updateDropdownClass(t){Sa.forEach(n=>{const o=`ng-select-${n}`;this._renderer.removeClass(this._dropdown,o),this._renderer.removeClass(this._select,o)});const i=`ng-select-${t}`;this._renderer.addClass(this._dropdown,i),this._renderer.addClass(this._select,i)}_handleScroll(){this._zone.runOutsideAngular(()=>{(0,ee.R)(this.scrollElementRef.nativeElement,"scroll").pipe((0,T.Q)(this._destroy$),(0,M.Z)(0,ji)).subscribe(t=>{const i=t.path||t.composedPath&&t.composedPath();this._onContentScrolled(i&&0!==i.length?i[0].scrollTop:t.target.scrollTop)})})}_handleOutsideClick(){this._document&&this._zone.runOutsideAngular(()=>{(0,Ae.h)((0,ee.R)(this._document,"touchstart",{capture:!0}),(0,ee.R)(this._document,"mousedown",{capture:!0})).pipe((0,T.Q)(this._destroy$)).subscribe(t=>this._checkToClose(t))})}_checkToClose(t){if(this._select.contains(t.target)||this._dropdown.contains(t.target))return;const i=t.path||t.composedPath&&t.composedPath();t.target&&t.target.shadowRoot&&i&&i[0]&&this._select.contains(i[0])||this._zone.run(()=>this.outsideClick.emit())}_onItemsChange(t,i){this.items=t||[],this._scrollToEndFired=!1,this.itemsLength=t.length,this.virtualScroll?this._updateItemsRange(i):(this._setVirtualHeight(),this._updateItems(i))}_updateItems(t){this.update.emit(this.items),!1!==t&&this._zone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._panelService.setDimensions(0,this._scrollablePanel.clientHeight),this._handleDropdownPosition(),this.scrollTo(this.markedItem,t)})})}_updateItemsRange(t){this._zone.runOutsideAngular(()=>{this._measureDimensions().then(()=>{t?(this._renderItemsRange(this._startOffset),this._handleDropdownPosition()):this._renderItemsRange()})})}_onContentScrolled(t){this.virtualScroll&&this._renderItemsRange(t),this._lastScrollPosition=t,this._fireScrollToEnd(t)}_updateVirtualHeight(t){this._updateScrollHeight&&(this._virtualPadding.style.height=`${t}px`,this._updateScrollHeight=!1)}_setVirtualHeight(){this._virtualPadding&&(this._virtualPadding.style.height="0px")}_onItemsLengthChanged(){this._updateScrollHeight=!0}_renderItemsRange(t=null){if(t&&this._lastScrollPosition===t)return;const i=this._panelService.calculateItems(t=t||this._scrollablePanel.scrollTop,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(i.scrollHeight),this._contentPanel.style.transform=`translateY(${i.topPadding}px)`,this._zone.run(()=>{this.update.emit(this.items.slice(i.start,i.end)),this.scroll.emit({start:i.start,end:i.end})}),H(t)&&0===this._lastScrollPosition&&(this._scrollablePanel.scrollTop=t,this._lastScrollPosition=t)}_measureDimensions(){if(this._panelService.dimensions.itemHeight>0||0===this.itemsLength)return Promise.resolve(this._panelService.dimensions);const[t]=this.items;return this.update.emit([t]),Promise.resolve().then(()=>{const n=this._dropdown.querySelector(`#${t.htmlId}`).clientHeight;return this._virtualPadding.style.height=n*this.itemsLength+"px",this._panelService.setDimensions(n,this._scrollablePanel.clientHeight),this._panelService.dimensions})}_fireScrollToEnd(t){this._scrollToEndFired||0===t||t+this._dropdown.clientHeight>=(this.virtualScroll?this._virtualPadding:this._contentPanel).clientHeight-1&&(this._zone.run(()=>this.scrollToEnd.emit()),this._scrollToEndFired=!0)}_calculateCurrentPosition(t){if("auto"!==this.position)return this.position;const i=this._select.getBoundingClientRect(),n=document.documentElement.scrollTop||document.body.scrollTop;return i.top+window.pageYOffset+i.height+t.getBoundingClientRect().height>n+document.documentElement.clientHeight?"top":"bottom"}_appendDropdown(){if(this.appendTo){if(this._parent=document.querySelector(this.appendTo),!this._parent)throw new Error(`appendTo selector ${this.appendTo} did not found any parent element`);this._updateXPosition(),this._parent.appendChild(this._dropdown)}}_updateXPosition(){const t=this._select.getBoundingClientRect(),i=this._parent.getBoundingClientRect();this._dropdown.style.left=t.left-i.left+"px",this._dropdown.style.width=t.width+"px",this._dropdown.style.minWidth=t.width+"px"}_updateYPosition(){const t=this._select.getBoundingClientRect(),i=this._parent.getBoundingClientRect(),n=t.height;"top"===this._currentPosition?(this._dropdown.style.bottom=i.bottom-t.bottom+n+"px",this._dropdown.style.top="auto"):"bottom"===this._currentPosition&&(this._dropdown.style.top=t.top-i.top+n+"px",this._dropdown.style.bottom="auto")}_setupMousedownListener(){this._zone.runOutsideAngular(()=>{(0,ee.R)(this._dropdown,"mousedown").pipe((0,T.Q)(this._destroy$)).subscribe(t=>{"INPUT"!==t.target.tagName&&t.preventDefault()})})}}return a.\u0275fac=function(t){return new(t||a)(e.rXU(e.sFG),e.rXU(e.SKi),e.rXU(wa),e.rXU(e.aKT),e.rXU(h.qQ,8))},a.\u0275cmp=e.VBU({type:a,selectors:[["ng-dropdown-panel"]],viewQuery:function(t,i){if(1&t&&(e.GBs(Qe,7,e.aKT),e.GBs(ut,7,e.aKT),e.GBs(Ze,7,e.aKT)),2&t){let n;e.mGM(n=e.lsd())&&(i.contentElementRef=n.first),e.mGM(n=e.lsd())&&(i.scrollElementRef=n.first),e.mGM(n=e.lsd())&&(i.paddingElementRef=n.first)}},inputs:{items:"items",markedItem:"markedItem",position:"position",appendTo:"appendTo",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",headerTemplate:"headerTemplate",footerTemplate:"footerTemplate",filterValue:"filterValue"},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},features:[e.OA$],ngContentSelectors:$e,decls:9,vars:6,consts:[["scroll",""],["padding",""],["content",""],["class","ng-dropdown-header",4,"ngIf"],[1,"ng-dropdown-panel-items","scroll-host"],["class","ng-dropdown-footer",4,"ngIf"],[1,"ng-dropdown-header"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ng-dropdown-footer"]],template:function(t,i){1&t&&(e.NAR(),e.DNE(0,Un,2,4,"div",3),e.j41(1,"div",4,0),e.nrm(3,"div",null,1),e.j41(5,"div",null,2),e.SdG(7),e.k0s()(),e.DNE(8,Ln,2,4,"div",5)),2&t&&(e.Y8G("ngIf",i.headerTemplate),e.R7$(3),e.AVh("total-padding",i.virtualScroll),e.R7$(2),e.AVh("scrollable-content",i.virtualScroll&&i.items.length),e.R7$(3),e.Y8G("ngIf",i.footerTemplate))},dependencies:[h.bT,h.T3],encapsulation:2,changeDetection:0}),a})(),Oe=(()=>{class a{constructor(t){this.elementRef=t,this.stateChange$=new y.B,this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=this._isDisabled(t)}get label(){return(this.elementRef.nativeElement.textContent||"").trim()}ngOnChanges(t){t.disabled&&this.stateChange$.next({value:this.value,disabled:this._disabled})}ngAfterViewChecked(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this._disabled,label:this.elementRef.nativeElement.innerHTML}))}ngOnDestroy(){this.stateChange$.complete()}_isDisabled(t){return null!=t&&"false"!=`${t}`}}return a.\u0275fac=function(t){return new(t||a)(e.rXU(e.aKT))},a.\u0275cmp=e.VBU({type:a,selectors:[["ng-option"]],inputs:{value:"value",disabled:"disabled"},features:[e.OA$],ngContentSelectors:$e,decls:1,vars:0,template:function(t,i){1&t&&(e.NAR(),e.SdG(0))},encapsulation:2,changeDetection:0}),a})(),$i=(()=>{class a{constructor(){this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Mi=(()=>{class a{warn(t){console.warn(t)}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Ia=new e.nKC("ng-select-selection-model");let te=(()=>{class a{constructor(t,i,n,o,s,l,m){this.classes=t,this.autoFocus=i,this.config=n,this._cd=l,this._console=m,this.markFirst=!0,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.keyDownFn=u=>!0,this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new e.bkB,this.focusEvent=new e.bkB,this.changeEvent=new e.bkB,this.openEvent=new e.bkB,this.closeEvent=new e.bkB,this.searchEvent=new e.bkB,this.clearEvent=new e.bkB,this.addEvent=new e.bkB,this.removeEvent=new e.bkB,this.scroll=new e.bkB,this.scrollToEnd=new e.bkB,this.useDefaultClass=!0,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=xa(),this.escapeHTML=!0,this._items=[],this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new y.B,this._keyPress$=new y.B,this._onChange=u=>{},this._onTouched=()=>{},this.clearItem=u=>{const g=this.selectedItems.find(C=>C.value===u);this.unselect(g)},this.trackByOption=(u,g)=>this.trackByFn?this.trackByFn(g.value):g,this._mergeGlobalConfig(n),this.itemsList=new Oi(this,o()),this.element=s.nativeElement}get items(){return this._items}set items(t){null===t&&(t=[]),this._itemsAreUsed=!0,this._items=t}get compareWith(){return this._compareWith}set compareWith(t){if(null!=t&&!ht(t))throw Error("`compareWith` must be a function.");this._compareWith=t}get clearSearchOnAdd(){return H(this._clearSearchOnAdd)?this._clearSearchOnAdd:H(this.config.clearSearchOnAdd)?this.config.clearSearchOnAdd:this.closeOnSelect}set clearSearchOnAdd(t){this._clearSearchOnAdd=t}get disabled(){return this.readonly||this._disabled}get filtered(){return!!this.searchTerm&&this.searchable||this._isComposing}get single(){return!this.multiple}get _editableSearchTerm(){return this.editableSearchTerm&&!this.multiple}get selectedItems(){return this.itemsList.selectedItems}get selectedValues(){return this.selectedItems.map(t=>t.value)}get hasValue(){return this.selectedItems.length>0}get currentPanelPosition(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}ngOnInit(){this._handleKeyPresses(),this._setInputAttributes()}ngOnChanges(t){t.multiple&&this.itemsList.clearSelected(),t.items&&this._setItems(t.items.currentValue||[]),t.isOpen&&(this._manualOpen=H(t.isOpen.currentValue))}ngAfterViewInit(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),H(this.autoFocus)&&this.focus()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}handleKeyDown(t){if(Re[t.which]){if(!1===this.keyDownFn(t))return;this.handleKeyCode(t)}else t.key&&1===t.key.length&&this._keyPress$.next(t.key.toLocaleLowerCase())}handleKeyCode(t){switch(t.which){case Re.ArrowDown:this._handleArrowDown(t);break;case Re.ArrowUp:this._handleArrowUp(t);break;case Re.Space:this._handleSpace(t);break;case Re.Enter:this._handleEnter(t);break;case Re.Tab:this._handleTab(t);break;case Re.Esc:this.close(),t.preventDefault();break;case Re.Backspace:this._handleBackspace()}}handleMousedown(t){const i=t.target;"INPUT"!==i.tagName&&t.preventDefault(),i.classList.contains("ng-clear-wrapper")?this.handleClearClick():i.classList.contains("ng-arrow-wrapper")?this.handleArrowClick():i.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}handleArrowClick(){this.isOpen?this.close():this.open()}handleClearClick(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}clearModel(){this.clearable&&(this.itemsList.clearSelected(),this._updateNgModel())}writeValue(t){this.itemsList.clearSelected(),this._handleWriteValue(t),this._cd.markForCheck()}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._disabled=t,this._cd.markForCheck()}toggle(){this.isOpen?this.close():this.open()}open(){this.disabled||this.isOpen||this._manualOpen||!this._isTypeahead&&!this.addTag&&this.itemsList.noItemsToSelect||(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}close(){!this.isOpen||this._manualOpen||(this.isOpen=!1,this._isComposing=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}toggleItem(t){!t||t.disabled||this.disabled||(this.multiple&&t.selected?this.unselect(t):this.select(t),this._editableSearchTerm&&this._setSearchTermFromItems(),this._onSelectionChanged())}select(t){t.selected||(this.itemsList.select(t),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(t.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close()}focus(){this.searchInput.nativeElement.readOnly||this.searchInput.nativeElement.focus()}blur(){this.searchInput.nativeElement.blur()}unselect(t){t&&(this.itemsList.unselect(t),this.focus(),this._updateNgModel(),this.removeEvent.emit(t))}selectTag(){let t;t=ht(this.addTag)?this.addTag(this.searchTerm):this._primitive?this.searchTerm:{[this.bindLabel]:this.searchTerm};const i=n=>this._isTypeahead||!this.isOpen?this.itemsList.mapItem(n,null):this.itemsList.addItem(n);!function Fi(a){return a instanceof Promise}(t)?t&&this.select(i(t)):t.then(n=>this.select(i(n))).catch(()=>{})}showClear(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}get showAddTag(){if(!this._validTerm)return!1;const t=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some(i=>i.label.toLowerCase()===t)&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some(i=>i.label.toLowerCase()===t))&&!this.loading}showNoItemsFound(){const t=0===this.itemsList.filteredItems.length;return(t&&!this._isTypeahead&&!this.loading||t&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}showTypeToSearch(){return 0===this.itemsList.filteredItems.length&&this._isTypeahead&&!this._validTerm&&!this.loading}onCompositionStart(){this._isComposing=!0}onCompositionEnd(t){this._isComposing=!1,!this.searchWhileComposing&&this.filter(t)}filter(t){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=t,this._isTypeahead&&(this._validTerm||0===this.minTermLength)&&this.typeahead.next(t),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:t,items:this.itemsList.filteredItems.map(i=>i.value)}),this.open())}onInputFocus(t){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(t),this.focused=!0)}onInputBlur(t){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(t),!this.isOpen&&!this.disabled&&this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}onItemHover(t){t.disabled||this.itemsList.markItem(t)}detectChanges(){this._cd.destroyed||this._cd.detectChanges()}_setSearchTermFromItems(){const t=this.selectedItems&&this.selectedItems[0];this.searchTerm=t&&t.label||null}_setItems(t){const i=t[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=H(i)?!tt(i):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(t),t.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&H(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}_setItemsFromNgOptions(){const t=n=>{this.items=n.map(o=>({$ngOptionValue:o.value,$ngOptionLabel:o.elementRef.nativeElement.innerHTML,disabled:o.disabled})),this.itemsList.setItems(this.items),this.hasValue&&this.itemsList.mapSelectedItems(),this.detectChanges()},i=()=>{const n=(0,Ae.h)(this.ngOptions.changes,this._destroy$);(0,Ae.h)(...this.ngOptions.map(o=>o.stateChange$)).pipe((0,T.Q)(n)).subscribe(o=>{const s=this.itemsList.findItem(o.value);s.disabled=o.disabled,s.label=o.label||s.label,this._cd.detectChanges()})};this.ngOptions.changes.pipe((0,N.Z)(this.ngOptions),(0,T.Q)(this._destroy$)).subscribe(n=>{this.bindLabel=this._defaultLabel,t(n),i()})}_isValidWriteValue(t){if(!H(t)||this.multiple&&""===t||Array.isArray(t)&&0===t.length)return!1;const i=n=>!(!H(this.compareWith)&&tt(n)&&this.bindValue&&(this._console.warn(`Setting object(${JSON.stringify(n)}) as your model with bindValue is not allowed unless [compareWith] is used.`),1));return this.multiple?Array.isArray(t)?t.every(n=>i(n)):(this._console.warn("Multiple select ngModel should be array."),!1):i(t)}_handleWriteValue(t){if(!this._isValidWriteValue(t))return;const i=n=>{let o=this.itemsList.findItem(n);if(o)this.itemsList.select(o);else{const s=tt(n);s||!s&&!this.bindValue?this.itemsList.select(this.itemsList.mapItem(n,null)):this.bindValue&&(o={[this.bindLabel]:null,[this.bindValue]:n},this.itemsList.select(this.itemsList.mapItem(o,null)))}};this.multiple?t.forEach(n=>i(n)):i(t)}_handleKeyPresses(){this.searchable||this._keyPress$.pipe((0,T.Q)(this._destroy$),(0,D.M)(t=>this._pressedKeys.push(t)),(0,q.B)(200),(0,W.p)(()=>this._pressedKeys.length>0),(0,b.T)(()=>this._pressedKeys.join(""))).subscribe(t=>{const i=this.itemsList.findByLabel(t);i&&(this.isOpen?(this.itemsList.markItem(i),this._scrollToMarked(),this._cd.markForCheck()):this.select(i)),this._pressedKeys=[]})}_setInputAttributes(){const t=this.searchInput.nativeElement,i={type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:this.labelForId?"off":this.dropdownId,...this.inputAttrs};for(const n of Object.keys(i))t.setAttribute(n,i[n])}_updateNgModel(){const t=[];for(const n of this.selectedItems)if(this.bindValue){let o=null;o=n.children?n.value[(this.groupValue?this.bindValue:this.groupBy)||this.groupBy]:this.itemsList.resolveNested(n.value,this.bindValue),t.push(o)}else t.push(n.value);const i=this.selectedItems.map(n=>n.value);this.multiple?(this._onChange(t),this.changeEvent.emit(i)):(this._onChange(H(t[0])?t[0]:null),this.changeEvent.emit(i[0])),this._cd.markForCheck()}_clearSearch(){this.searchTerm&&(this._changeSearch(null),this.itemsList.resetFilteredItems())}_changeSearch(t){this.searchTerm=t,this._isTypeahead&&this.typeahead.next(t)}_scrollToMarked(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollTo(this.itemsList.markedItem)}_scrollToTag(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollToTag()}_onSelectionChanged(){this.isOpen&&this.multiple&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}_handleTab(t){!1===this.isOpen&&!this.addTag||(this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),t.preventDefault()):this.showAddTag?(this.selectTag(),t.preventDefault()):this.close():this.close())}_handleEnter(t){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else{if(!this.openOnEnter)return;this.open()}t.preventDefault()}_handleSpace(t){this.isOpen||this._manualOpen||(this.open(),t.preventDefault())}_handleArrowDown(t){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),t.preventDefault()}_handleArrowUp(t){this.isOpen&&(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),t.preventDefault())}_nextItemIsTag(t){const i=this.itemsList.markedIndex+t;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(i<0||i===this.itemsList.filteredItems.length)}_handleBackspace(){this.searchTerm||!this.clearable||!this.clearOnBackspace||!this.hasValue||(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}get _isTypeahead(){return this.typeahead&&this.typeahead.observers.length>0}get _validTerm(){const t=this.searchTerm&&this.searchTerm.trim();return t&&t.length>=this.minTermLength}_mergeGlobalConfig(t){this.placeholder=this.placeholder||t.placeholder,this.notFoundText=this.notFoundText||t.notFoundText,this.typeToSearchText=this.typeToSearchText||t.typeToSearchText,this.addTagText=this.addTagText||t.addTagText,this.loadingText=this.loadingText||t.loadingText,this.clearAllText=this.clearAllText||t.clearAllText,this.virtualScroll=H(this.virtualScroll)?this.virtualScroll:!!H(t.disableVirtualScroll)&&!t.disableVirtualScroll,this.openOnEnter=H(this.openOnEnter)?this.openOnEnter:t.openOnEnter,this.appendTo=this.appendTo||t.appendTo,this.bindValue=this.bindValue||t.bindValue,this.bindLabel=this.bindLabel||t.bindLabel,this.appearance=this.appearance||t.appearance}}return a.\u0275fac=function(t){return new(t||a)(e.kS0("class"),e.kS0("autofocus"),e.rXU($i),e.rXU(Ia),e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(Mi))},a.\u0275cmp=e.VBU({type:a,selectors:[["ng-select"]],contentQueries:function(t,i,n){if(1&t&&(e.wni(n,at,5,e.C4Q),e.wni(n,Fa,5,e.C4Q),e.wni(n,xi,5,e.C4Q),e.wni(n,wi,5,e.C4Q),e.wni(n,Si,5,e.C4Q),e.wni(n,Di,5,e.C4Q),e.wni(n,Ii,5,e.C4Q),e.wni(n,Ei,5,e.C4Q),e.wni(n,Pi,5,e.C4Q),e.wni(n,Ta,5,e.C4Q),e.wni(n,Ai,5,e.C4Q),e.wni(n,Oe,5)),2&t){let o;e.mGM(o=e.lsd())&&(i.optionTemplate=o.first),e.mGM(o=e.lsd())&&(i.optgroupTemplate=o.first),e.mGM(o=e.lsd())&&(i.labelTemplate=o.first),e.mGM(o=e.lsd())&&(i.multiLabelTemplate=o.first),e.mGM(o=e.lsd())&&(i.headerTemplate=o.first),e.mGM(o=e.lsd())&&(i.footerTemplate=o.first),e.mGM(o=e.lsd())&&(i.notFoundTemplate=o.first),e.mGM(o=e.lsd())&&(i.typeToSearchTemplate=o.first),e.mGM(o=e.lsd())&&(i.loadingTextTemplate=o.first),e.mGM(o=e.lsd())&&(i.tagTemplate=o.first),e.mGM(o=e.lsd())&&(i.loadingSpinnerTemplate=o.first),e.mGM(o=e.lsd())&&(i.ngOptions=o)}},viewQuery:function(t,i){if(1&t&&(e.GBs(Da,5),e.GBs(Yn,7)),2&t){let n;e.mGM(n=e.lsd())&&(i.dropdownPanel=n.first),e.mGM(n=e.lsd())&&(i.searchInput=n.first)}},hostVars:20,hostBindings:function(t,i){1&t&&e.bIt("keydown",function(o){return i.handleKeyDown(o)}),2&t&&e.AVh("ng-select-typeahead",i.typeahead)("ng-select-multiple",i.multiple)("ng-select-taggable",i.addTag)("ng-select-searchable",i.searchable)("ng-select-clearable",i.clearable)("ng-select-opened",i.isOpen)("ng-select",i.useDefaultClass)("ng-select-disabled",i.disabled)("ng-select-filtered",i.filtered)("ng-select-single",i.single)},inputs:{bindLabel:"bindLabel",bindValue:"bindValue",markFirst:"markFirst",placeholder:"placeholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",appearance:"appearance",dropdownPosition:"dropdownPosition",appendTo:"appendTo",loading:"loading",closeOnSelect:"closeOnSelect",hideSelected:"hideSelected",selectOnTab:"selectOnTab",openOnEnter:"openOnEnter",maxSelectedItems:"maxSelectedItems",groupBy:"groupBy",groupValue:"groupValue",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",selectableGroup:"selectableGroup",selectableGroupAsModel:"selectableGroupAsModel",searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:"clearOnBackspace",labelForId:"labelForId",inputAttrs:"inputAttrs",tabIndex:"tabIndex",readonly:"readonly",searchWhileComposing:"searchWhileComposing",minTermLength:"minTermLength",editableSearchTerm:"editableSearchTerm",keyDownFn:"keyDownFn",typeahead:"typeahead",multiple:"multiple",addTag:"addTag",searchable:"searchable",clearable:"clearable",isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},features:[e.Jv_([{provide:d.kq,useExisting:(0,e.Rfq)(()=>a),multi:!0},wa]),e.OA$],decls:14,vars:19,consts:[["searchInput",""],["defaultLabelTemplate",""],["defaultLoadingSpinnerTemplate",""],["defaultOptionTemplate",""],["defaultTagTemplate",""],["defaultNotFoundTemplate",""],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""],[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[1,"ng-placeholder"],[4,"ngIf"],["role","combobox","aria-haspopup","listbox",1,"ng-input"],["aria-autocomplete","list",3,"input","compositionstart","compositionend","focus","blur","change","readOnly","disabled","value"],["class","ng-clear-wrapper",3,"title",4,"ngIf"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],["class","ng-dropdown-panel","role","listbox","aria-label","Options list",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id","update","scroll","scrollToEnd","outsideClick",4,"ngIf"],["class","ng-value",3,"ng-value-disabled",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ng-value"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],[3,"ngTemplateOutlet"],[1,"ng-spinner-loader"],[1,"ng-clear-wrapper",3,"title"],["aria-hidden","true",1,"ng-clear"],["role","listbox","aria-label","Options list",1,"ng-dropdown-panel",3,"update","scroll","scrollToEnd","outsideClick","virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id"],["class","ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked","click","mouseover",4,"ngFor","ngForOf","ngForTrackBy"],["class","ng-option","role","option",3,"ng-option-marked","mouseover","click",4,"ngIf"],[1,"ng-option",3,"click","mouseover"],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],[1,"ng-tag-label"],[1,"ng-option","ng-option-disabled"]],template:function(t,i){if(1&t){const n=e.RV6();e.j41(0,"div",8),e.bIt("mousedown",function(s){return e.eBV(n),e.Njj(i.handleMousedown(s))}),e.j41(1,"div",9)(2,"div",10),e.EFF(3),e.k0s(),e.DNE(4,Jn,2,2,"ng-container",11)(5,Zn,1,5,null,11),e.j41(6,"div",12)(7,"input",13,0),e.bIt("input",function(){e.eBV(n);const s=e.sdS(8);return e.Njj(i.filter(s.value))})("compositionstart",function(){return e.eBV(n),e.Njj(i.onCompositionStart())})("compositionend",function(){e.eBV(n);const s=e.sdS(8);return e.Njj(i.onCompositionEnd(s.value))})("focus",function(s){return e.eBV(n),e.Njj(i.onInputFocus(s))})("blur",function(s){return e.eBV(n),e.Njj(i.onInputBlur(s))})("change",function(s){return e.eBV(n),e.Njj(s.stopPropagation())}),e.k0s()()(),e.DNE(9,ai,4,1,"ng-container",11)(10,ni,3,1,"span",14),e.j41(11,"span",15),e.nrm(12,"span",16),e.k0s()(),e.DNE(13,vi,7,19,"ng-dropdown-panel",17)}2&t&&(e.AVh("ng-appearance-outline","outline"===i.appearance)("ng-has-value",i.hasValue),e.R7$(3),e.JRh(i.placeholder),e.R7$(),e.Y8G("ngIf",(!i.multiLabelTemplate||!i.multiple)&&i.selectedItems.length>0),e.R7$(),e.Y8G("ngIf",i.multiple&&i.multiLabelTemplate&&i.selectedValues.length>0),e.R7$(),e.BMQ("aria-expanded",i.isOpen)("aria-owns",i.isOpen?i.dropdownId:null),e.R7$(),e.Y8G("readOnly",!i.searchable||i.itemsList.maxItemsSelected)("disabled",i.disabled)("value",i.searchTerm?i.searchTerm:""),e.BMQ("id",i.labelForId)("tabindex",i.tabIndex)("aria-activedescendant",i.isOpen?null==i.itemsList||null==i.itemsList.markedItem?null:i.itemsList.markedItem.htmlId:null)("aria-controls",i.isOpen?i.dropdownId:null),e.R7$(2),e.Y8G("ngIf",i.loading),e.R7$(),e.Y8G("ngIf",i.showClear()),e.R7$(3),e.Y8G("ngIf",i.isOpen))},dependencies:[h.YU,h.Sq,h.bT,h.T3,Da,Ti],styles:['@charset "UTF-8";.ng-select{position:relative;display:block;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:none;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none transparent;border:0 none;box-shadow:none;outline:none;padding:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:none;user-select:none;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);animation:load8 .8s infinite linear}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@keyframes load8{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label:empty:before{content:"\\200b"}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}\n'],encapsulation:2,changeDetection:0}),a})();function Ni(){return new Vi}class Vi{constructor(){this._selected=[]}get value(){return this._selected}select(r,t,i){if(r.selected=!0,(!r.children||!t&&i)&&this._selected.push(r),t)if(r.parent){const n=r.parent.children.length,o=r.parent.children.filter(s=>s.selected).length;r.parent.selected=n===o}else r.children&&(this._setChildrenSelectedState(r.children,!0),this._removeChildren(r),this._selected=i&&this._activeChildren(r)?[...this._selected.filter(n=>n.parent!==r),r]:[...this._selected,...r.children.filter(n=>!n.disabled)])}unselect(r,t){if(this._selected=this._selected.filter(i=>i!==r),r.selected=!1,t)if(r.parent&&r.parent.selected){const i=r.parent.children;this._removeParent(r.parent),this._removeChildren(r.parent),this._selected.push(...i.filter(n=>n!==r&&!n.disabled)),r.parent.selected=!1}else r.children&&(this._setChildrenSelectedState(r.children,!1),this._removeChildren(r))}clear(r){this._selected=r?this._selected.filter(t=>t.disabled):[]}_setChildrenSelectedState(r,t){for(const i of r)i.disabled||(i.selected=t)}_removeChildren(r){this._selected=[...this._selected.filter(t=>t.parent!==r),...r.children.filter(t=>t.parent===r&&t.disabled&&t.selected)]}_removeParent(r){this._selected=this._selected.filter(t=>t!==r)}_activeChildren(r){return r.children.every(t=>!t.disabled||t.selected)}}let Gi=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.$C({type:a}),a.\u0275inj=e.G2t({providers:[{provide:Ia,useValue:Ni}],imports:[h.MD]}),a})();var ve=f(6850),De=f(6471),ie=f(4823),Bi=f(3902),p=f(9159),$t=f(6695),$=f(2042),ue=f(2102),We=f(9631),K=f(8834),gt=f(2798),Mt=f(850),Nt=f(9213),z=f(7575),Ea=f(7626),Ge=f(5478),je=f(6860),le=f(4085),_t=f(8617),R=f(8359),Ui=f(3236),Li=f(1584),Vt=f(1985),Me=f(4412),P=f(6697),J=f(5558);function Gt(a,r,t){for(let i in r)if(r.hasOwnProperty(i)){const n=r[i];n?a.setProperty(i,n,t?.has(i)?"important":""):a.removeProperty(i)}return a}function Xe(a,r){const t=r?"":"none";Gt(a.style,{"touch-action":r?"":"none","-webkit-user-drag":r?"":"none","-webkit-tap-highlight-color":r?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function Aa(a,r,t){Gt(a.style,{position:r?"":"fixed",top:r?"":"0",opacity:r?"":"0",left:r?"":"-999em"},t)}function bt(a,r){return r&&"none"!=r?a+" "+r:a}function Ra(a){const r=a.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(a)*r}function Bt(a,r){return a.getPropertyValue(r).split(",").map(i=>i.trim())}function Ut(a){const r=a.getBoundingClientRect();return{top:r.top,right:r.right,bottom:r.bottom,left:r.left,width:r.width,height:r.height,x:r.x,y:r.y}}function Lt(a,r,t){const{top:i,bottom:n,left:o,right:s}=a;return t>=i&&t<=n&&r>=o&&r<=s}function nt(a,r,t){a.top+=r,a.bottom=a.top+a.height,a.left+=t,a.right=a.left+a.width}function Oa(a,r,t,i){const{top:n,right:o,bottom:s,left:l,width:m,height:u}=a,g=m*r,C=u*r;return i>n-C&&i<s+C&&t>l-g&&t<o+g}f(8203);class ja{constructor(r){this._document=r,this.positions=new Map}clear(){this.positions.clear()}cache(r){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),r.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:Ut(t)})})}handleScroll(r){const t=(0,je.Fb)(r),i=this.positions.get(t);if(!i)return null;const n=i.scrollPosition;let o,s;if(t===this._document){const u=this.getViewportScrollPosition();o=u.top,s=u.left}else o=t.scrollTop,s=t.scrollLeft;const l=n.top-o,m=n.left-s;return this.positions.forEach((u,g)=>{u.clientRect&&t!==g&&t.contains(g)&&nt(u.clientRect,l,m)}),n.top=o,n.left=s,{top:l,left:m}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function $a(a){const r=a.cloneNode(!0),t=r.querySelectorAll("[id]"),i=a.nodeName.toLowerCase();r.removeAttribute("id");for(let n=0;n<t.length;n++)t[n].removeAttribute("id");return"canvas"===i?Va(a,r):("input"===i||"select"===i||"textarea"===i)&&Na(a,r),Ma("canvas",a,r,Va),Ma("input, textarea, select",a,r,Na),r}function Ma(a,r,t,i){const n=r.querySelectorAll(a);if(n.length){const o=t.querySelectorAll(a);for(let s=0;s<n.length;s++)i(n[s],o[s])}}let Wi=0;function Na(a,r){"file"!==r.type&&(r.value=a.value),"radio"===r.type&&r.name&&(r.name=`mat-clone-${r.name}-${Wi++}`)}function Va(a,r){const t=r.getContext("2d");if(t)try{t.drawImage(a,0,0)}catch{}}const Ga=(0,je.BQ)({passive:!0}),vt=(0,je.BQ)({passive:!1}),Yt=new Set(["position"]);class zi{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(r){r!==this._disabled&&(this._disabled=r,this._toggleNativeDragInteractions(),this._handles.forEach(t=>Xe(t,r)))}constructor(r,t,i,n,o,s){this._config=t,this._document=i,this._ngZone=n,this._viewportRuler=o,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new y.B,this._pointerMoveSubscription=R.yU.EMPTY,this._pointerUpSubscription=R.yU.EMPTY,this._scrollSubscription=R.yU.EMPTY,this._resizeSubscription=R.yU.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new y.B,this.started=new y.B,this.released=new y.B,this.ended=new y.B,this.entered=new y.B,this.exited=new y.B,this.dropped=new y.B,this.moved=this._moveEvents,this._pointerDown=l=>{if(this.beforeStarted.next(),this._handles.length){const m=this._getTargetHandle(l);m&&!this._disabledHandles.has(m)&&!this.disabled&&this._initializeDragSequence(m,l)}else this.disabled||this._initializeDragSequence(this._rootElement,l)},this._pointerMove=l=>{const m=this._getPointerPositionOnPage(l);if(!this._hasStartedDragging){if(Math.abs(m.x-this._pickupPositionOnPage.x)+Math.abs(m.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const j=Date.now()>=this._dragStartTime+this._getDragStartDelay(l),Z=this._dropContainer;if(!j)return void this._endDragSequence(l);(!Z||!Z.isDragging()&&!Z.isReceiving())&&(l.cancelable&&l.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(l)))}return}l.cancelable&&l.preventDefault();const u=this._getConstrainedPointerPosition(m);if(this._hasMoved=!0,this._lastKnownPointerPosition=m,this._updatePointerDirectionDelta(u),this._dropContainer)this._updateActiveDropContainer(u,m);else{const g=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,C=this._activeTransform;C.x=u.x-g.x+this._passiveTransform.x,C.y=u.y-g.y+this._passiveTransform.y,this._applyRootElementTransform(C.x,C.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:u,event:l,distance:this._getDragDistance(u),delta:this._pointerDirectionDelta})})},this._pointerUp=l=>{this._endDragSequence(l)},this._nativeDragStart=l=>{if(this._handles.length){const m=this._getTargetHandle(l);m&&!this._disabledHandles.has(m)&&!this.disabled&&l.preventDefault()}else this.disabled||l.preventDefault()},this.withRootElement(r).withParent(t.parentDragRef||null),this._parentPositions=new ja(i),s.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(r){this._handles=r.map(i=>(0,le.i8)(i)),this._handles.forEach(i=>Xe(i,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&t.add(i)}),this._disabledHandles=t,this}withPreviewTemplate(r){return this._previewTemplate=r,this}withPlaceholderTemplate(r){return this._placeholderTemplate=r,this}withRootElement(r){const t=(0,le.i8)(r);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,vt),t.addEventListener("touchstart",this._pointerDown,Ga),t.addEventListener("dragstart",this._nativeDragStart,vt)}),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(r){return this._boundaryElement=r?(0,le.i8)(r):null,this._resizeSubscription.unsubscribe(),r&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(r){return this._parentDragRef=r,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(r){!this._disabledHandles.has(r)&&this._handles.indexOf(r)>-1&&(this._disabledHandles.add(r),Xe(r,!0))}enableHandle(r){this._disabledHandles.has(r)&&(this._disabledHandles.delete(r),Xe(r,this.disabled))}withDirection(r){return this._direction=r,this}_withDropContainer(r){this._dropContainer=r}getFreeDragPosition(){const r=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:r.x,y:r.y}}setFreeDragPosition(r){return this._activeTransform={x:0,y:0},this._passiveTransform.x=r.x,this._passiveTransform.y=r.y,this._dropContainer||this._applyRootElementTransform(r.x,r.y),this}withPreviewContainer(r){return this._previewContainer=r,this}_sortFromLastPointerPosition(){const r=this._lastKnownPointerPosition;r&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(r),r)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(r){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:r}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(r),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(r);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:r})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(r){it(r)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const i=this._rootElement,n=i.parentNode,o=this._placeholder=this._createPlaceholderElement(),s=this._anchor=this._anchor||this._document.createComment(""),l=this._getShadowRoot();n.insertBefore(s,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),Aa(i,!1,Yt),this._document.body.appendChild(n.replaceChild(o,i)),this._getPreviewInsertionPoint(n,l).appendChild(this._preview),this.started.next({source:this,event:r}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this,event:r}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(r,t){this._parentDragRef&&t.stopPropagation();const i=this.isDragging(),n=it(t),o=!n&&0!==t.button,s=this._rootElement,l=(0,je.Fb)(t),m=!n&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),u=n?(0,_t.w6)(t):(0,_t._G)(t);if(l&&l.draggable&&"mousedown"===t.type&&t.preventDefault(),i||o||m||u)return;if(this._handles.length){const x=s.style;this._rootElementTapHighlight=x.webkitTapHighlightColor||"",x.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(x=>this._updateOnScroll(x)),this._boundaryElement&&(this._boundaryRect=Ut(this._boundaryElement));const g=this._previewTemplate;this._pickupPositionInElement=g&&g.template&&!g.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,r,t);const C=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:C.x,y:C.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(r){Aa(this._rootElement,!0,Yt),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,i=t.getItemIndex(this),n=this._getPointerPositionOnPage(r),o=this._getDragDistance(n),s=t._isOverContainer(n.x,n.y);this.ended.next({source:this,distance:o,dropPoint:n,event:r}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:o,dropPoint:n,event:r}),t.drop(this,i,this._initialIndex,this._initialContainer,s,o,n,r),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:r,y:t},{x:i,y:n}){let o=this._initialContainer._getSiblingContainerFromPosition(this,r,t);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(r,t)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,r,t,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,n),this._dropContainer._sortItem(this,r,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(r,t):this._applyPreviewTransform(r-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const r=this._previewTemplate,t=this.previewClass,i=r?r.template:null;let n;if(i&&r){const o=r.matchSize?this._initialDomRect:null,s=r.viewContainer.createEmbeddedView(i,r.context);s.detectChanges(),n=Ua(s,this._document),this._previewRef=s,r.matchSize?La(n,o):n.style.transform=yt(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else n=$a(this._rootElement),La(n,this._initialDomRect),this._initialTransform&&(n.style.transform=this._initialTransform);return Gt(n.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Yt),Xe(n,!1),n.classList.add("cdk-drag-preview"),n.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(o=>n.classList.add(o)):n.classList.add(t)),n}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const r=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(r.left,r.top);const t=function qi(a){const r=getComputedStyle(a),t=Bt(r,"transition-property"),i=t.find(l=>"transform"===l||"all"===l);if(!i)return 0;const n=t.indexOf(i),o=Bt(r,"transition-duration"),s=Bt(r,"transition-delay");return Ra(o[n])+Ra(s[n])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const n=s=>{(!s||(0,je.Fb)(s)===this._preview&&"transform"===s.propertyName)&&(this._preview?.removeEventListener("transitionend",n),i(),clearTimeout(o))},o=setTimeout(n,1.5*t);this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){const r=this._placeholderTemplate,t=r?r.template:null;let i;return t?(this._placeholderRef=r.viewContainer.createEmbeddedView(t,r.context),this._placeholderRef.detectChanges(),i=Ua(this._placeholderRef,this._document)):i=$a(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(r,t,i){const n=t===this._rootElement?null:t,o=n?n.getBoundingClientRect():r,s=it(i)?i.targetTouches[0]:i,l=this._getViewportScrollPosition();return{x:o.left-r.left+(s.pageX-o.left-l.left),y:o.top-r.top+(s.pageY-o.top-l.top)}}_getPointerPositionOnPage(r){const t=this._getViewportScrollPosition(),i=it(r)?r.touches[0]||r.changedTouches[0]||{pageX:0,pageY:0}:r,n=i.pageX-t.left,o=i.pageY-t.top;if(this._ownerSVGElement){const s=this._ownerSVGElement.getScreenCTM();if(s){const l=this._ownerSVGElement.createSVGPoint();return l.x=n,l.y=o,l.matrixTransform(s.inverse())}}return{x:n,y:o}}_getConstrainedPointerPosition(r){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:n}=this.constrainPosition?this.constrainPosition(r,this,this._initialDomRect,this._pickupPositionInElement):r;if("x"===this.lockAxis||"x"===t?n=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===t)&&(i=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:o,y:s}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,l=this._boundaryRect,{width:m,height:u}=this._getPreviewRect(),g=l.top+s,C=l.bottom-(u-s);i=Ba(i,l.left+o,l.right-(m-o)),n=Ba(n,g,C)}return{x:i,y:n}}_updatePointerDirectionDelta(r){const{x:t,y:i}=r,n=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,s=Math.abs(t-o.x),l=Math.abs(i-o.y);return s>this._config.pointerDirectionChangeThreshold&&(n.x=t>o.x?1:-1,o.x=t),l>this._config.pointerDirectionChangeThreshold&&(n.y=i>o.y?1:-1,o.y=i),n}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const r=this._handles.length>0||!this.isDragging();r!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=r,Xe(this._rootElement,r))}_removeRootElementListeners(r){r.removeEventListener("mousedown",this._pointerDown,vt),r.removeEventListener("touchstart",this._pointerDown,Ga),r.removeEventListener("dragstart",this._nativeDragStart,vt)}_applyRootElementTransform(r,t){const i=yt(r,t),n=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=n.transform&&"none"!=n.transform?n.transform:""),n.transform=bt(i,this._initialTransform)}_applyPreviewTransform(r,t){const i=this._previewTemplate?.template?void 0:this._initialTransform,n=yt(r,t);this._preview.style.transform=bt(n,i)}_getDragDistance(r){const t=this._pickupPositionOnPage;return t?{x:r.x-t.x,y:r.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:r,y:t}=this._passiveTransform;if(0===r&&0===t||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),n=this._boundaryElement.getBoundingClientRect();if(0===n.width&&0===n.height||0===i.width&&0===i.height)return;const o=n.left-i.left,s=i.right-n.right,l=n.top-i.top,m=i.bottom-n.bottom;n.width>i.width?(o>0&&(r+=o),s>0&&(r-=s)):r=0,n.height>i.height?(l>0&&(t+=l),m>0&&(t-=m)):t=0,(r!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:r})}_getDragStartDelay(r){const t=this.dragStartDelay;return"number"==typeof t?t:it(r)?t.touch:t?t.mouse:0}_updateOnScroll(r){const t=this._parentPositions.handleScroll(r);if(t){const i=(0,je.Fb)(r);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&nt(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,je.KT)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(r,t){const i=this._previewContainer||"global";if("parent"===i)return r;if("global"===i){const n=this._document;return t||n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement||n.body}return(0,le.i8)(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(r){return this._handles.find(t=>r.target&&(r.target===t||t.contains(r.target)))}}function yt(a,r){return`translate3d(${Math.round(a)}px, ${Math.round(r)}px, 0)`}function Ba(a,r,t){return Math.max(r,Math.min(t,a))}function it(a){return"t"===a.type[0]}function Ua(a,r){const t=a.rootNodes;if(1===t.length&&t[0].nodeType===r.ELEMENT_NODE)return t[0];const i=r.createElement("div");return t.forEach(n=>i.appendChild(n)),i}function La(a,r){a.style.width=`${r.width}px`,a.style.height=`${r.height}px`,a.style.transform=yt(r.left,r.top)}function rt(a,r){return Math.max(0,Math.min(r,a))}class Ki{constructor(r,t){this._element=r,this._dragDropRegistry=t,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(r){this.withItems(r)}sort(r,t,i,n){const o=this._itemPositions,s=this._getItemIndexFromPointerPosition(r,t,i,n);if(-1===s&&o.length>0)return null;const l="horizontal"===this.orientation,m=o.findIndex(L=>L.drag===r),u=o[s],C=u.clientRect,x=m>s?1:-1,j=this._getItemOffsetPx(o[m].clientRect,C,x),Z=this._getSiblingOffsetPx(m,o,x),ce=o.slice();return function Hi(a,r,t){const i=rt(r,a.length-1),n=rt(t,a.length-1);if(i===n)return;const o=a[i],s=n<i?-1:1;for(let l=i;l!==n;l+=s)a[l]=a[l+s];a[n]=o}(o,m,s),o.forEach((L,ge)=>{if(ce[ge]===L)return;const k=L.drag===r,Fe=k?j:Z,_e=k?r.getPlaceholderElement():L.drag.getRootElement();L.offset+=Fe,l?(_e.style.transform=bt(`translate3d(${Math.round(L.offset)}px, 0, 0)`,L.initialTransform),nt(L.clientRect,0,Fe)):(_e.style.transform=bt(`translate3d(0, ${Math.round(L.offset)}px, 0)`,L.initialTransform),nt(L.clientRect,Fe,0))}),this._previousSwap.overlaps=Lt(C,t,i),this._previousSwap.drag=u.drag,this._previousSwap.delta=l?n.x:n.y,{previousIndex:m,currentIndex:s}}enter(r,t,i,n){const o=null==n||n<0?this._getItemIndexFromPointerPosition(r,t,i):n,s=this._activeDraggables,l=s.indexOf(r),m=r.getPlaceholderElement();let u=s[o];if(u===r&&(u=s[o+1]),!u&&(null==o||-1===o||o<s.length-1)&&this._shouldEnterAsFirstChild(t,i)&&(u=s[0]),l>-1&&s.splice(l,1),u&&!this._dragDropRegistry.isDragging(u)){const g=u.getRootElement();g.parentElement.insertBefore(m,g),s.splice(o,0,r)}else(0,le.i8)(this._element).appendChild(m),s.push(r);m.style.transform="",this._cacheItemPositions()}withItems(r){this._activeDraggables=r.slice(),this._cacheItemPositions()}withSortPredicate(r){this._sortPredicate=r}reset(){this._activeDraggables.forEach(r=>{const t=r.getRootElement();if(t){const i=this._itemPositions.find(n=>n.drag===r)?.initialTransform;t.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(r){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===r)}updateOnScroll(r,t){this._itemPositions.forEach(({clientRect:i})=>{nt(i,r,t)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}_cacheItemPositions(){const r="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(t=>{const i=t.getVisibleElement();return{drag:t,offset:0,initialTransform:i.style.transform||"",clientRect:Ut(i)}}).sort((t,i)=>r?t.clientRect.left-i.clientRect.left:t.clientRect.top-i.clientRect.top)}_getItemOffsetPx(r,t,i){const n="horizontal"===this.orientation;let o=n?t.left-r.left:t.top-r.top;return-1===i&&(o+=n?t.width-r.width:t.height-r.height),o}_getSiblingOffsetPx(r,t,i){const n="horizontal"===this.orientation,o=t[r].clientRect,s=t[r+-1*i];let l=o[n?"width":"height"]*i;if(s){const m=n?"left":"top",u=n?"right":"bottom";-1===i?l-=s.clientRect[m]-o[u]:l+=o[m]-s.clientRect[u]}return l}_shouldEnterAsFirstChild(r,t){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,n="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const s=i[i.length-1].clientRect;return n?r>=s.right:t>=s.bottom}{const s=i[0].clientRect;return n?r<=s.left:t<=s.top}}_getItemIndexFromPointerPosition(r,t,i,n){const o="horizontal"===this.orientation,s=this._itemPositions.findIndex(({drag:l,clientRect:m})=>l!==r&&((!n||l!==this._previousSwap.drag||!this._previousSwap.overlaps||(o?n.x:n.y)!==this._previousSwap.delta)&&(o?t>=Math.floor(m.left)&&t<Math.floor(m.right):i>=Math.floor(m.top)&&i<Math.floor(m.bottom))));return-1!==s&&this._sortPredicate(s,r)?s:-1}}var ye=function(a){return a[a.NONE=0]="NONE",a[a.UP=1]="UP",a[a.DOWN=2]="DOWN",a}(ye||{}),me=function(a){return a[a.NONE=0]="NONE",a[a.LEFT=1]="LEFT",a[a.RIGHT=2]="RIGHT",a}(me||{});class Ji{constructor(r,t,i,n,o){this._dragDropRegistry=t,this._ngZone=n,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new y.B,this.entered=new y.B,this.exited=new y.B,this.dropped=new y.B,this.sorted=new y.B,this.receivingStarted=new y.B,this.receivingStopped=new y.B,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=R.yU.EMPTY,this._verticalScrollDirection=ye.NONE,this._horizontalScrollDirection=me.NONE,this._stopScrollTimers=new y.B,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function Yi(a=0,r=Ui.E){return a<0&&(a=0),(0,Li.O)(a,a,r)}(0,U.X).pipe((0,T.Q)(this._stopScrollTimers)).subscribe(()=>{const s=this._scrollNode,l=this.autoScrollStep;this._verticalScrollDirection===ye.UP?s.scrollBy(0,-l):this._verticalScrollDirection===ye.DOWN&&s.scrollBy(0,l),this._horizontalScrollDirection===me.LEFT?s.scrollBy(-l,0):this._horizontalScrollDirection===me.RIGHT&&s.scrollBy(l,0)})},this.element=(0,le.i8)(r),this._document=i,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new ja(i),this._sortStrategy=new Ki(this.element,t),this._sortStrategy.withSortPredicate((s,l)=>this.sortPredicate(s,l,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(r,t,i,n){this._draggingStarted(),null==n&&this.sortingDisabled&&(n=this._draggables.indexOf(r)),this._sortStrategy.enter(r,t,i,n),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:r,container:this,currentIndex:this.getItemIndex(r)})}exit(r){this._reset(),this.exited.next({item:r,container:this})}drop(r,t,i,n,o,s,l,m={}){this._reset(),this.dropped.next({item:r,currentIndex:t,previousIndex:i,container:this,previousContainer:n,isPointerOverContainer:o,distance:s,dropPoint:l,event:m})}withItems(r){const t=this._draggables;return this._draggables=r,r.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(t.filter(n=>n.isDragging()).every(n=>-1===r.indexOf(n))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(r){return this._sortStrategy.direction=r,this}connectedTo(r){return this._siblings=r.slice(),this}withOrientation(r){return this._sortStrategy.orientation=r,this}withScrollableParents(r){const t=(0,le.i8)(this.element);return this._scrollableElements=-1===r.indexOf(t)?[t,...r]:r.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(r){return this._isDragging?this._sortStrategy.getItemIndex(r):this._draggables.indexOf(r)}isReceiving(){return this._activeSiblings.size>0}_sortItem(r,t,i,n){if(this.sortingDisabled||!this._domRect||!Oa(this._domRect,.05,t,i))return;const o=this._sortStrategy.sort(r,t,i,n);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:r})}_startScrollingIfNecessary(r,t){if(this.autoScrollDisabled)return;let i,n=ye.NONE,o=me.NONE;if(this._parentPositions.positions.forEach((s,l)=>{l===this._document||!s.clientRect||i||Oa(s.clientRect,.05,r,t)&&([n,o]=function Qi(a,r,t,i,n){const o=Wa(r,n),s=Xa(r,i);let l=ye.NONE,m=me.NONE;if(o){const u=a.scrollTop;o===ye.UP?u>0&&(l=ye.UP):a.scrollHeight-u>a.clientHeight&&(l=ye.DOWN)}if(s){const u=a.scrollLeft;"rtl"===t?s===me.RIGHT?u<0&&(m=me.RIGHT):a.scrollWidth+u>a.clientWidth&&(m=me.LEFT):s===me.LEFT?u>0&&(m=me.LEFT):a.scrollWidth-u>a.clientWidth&&(m=me.RIGHT)}return[l,m]}(l,s.clientRect,this._sortStrategy.direction,r,t),(n||o)&&(i=l))}),!n&&!o){const{width:s,height:l}=this._viewportRuler.getViewportSize(),m={width:s,height:l,top:0,right:s,bottom:l,left:0};n=Wa(m,t),o=Xa(m,r),i=window}i&&(n!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=n,this._horizontalScrollDirection=o,this._scrollNode=i,(n||o)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const r=(0,le.i8)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=r.msScrollSnapType||r.scrollSnapType||"",r.scrollSnapType=r.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const r=(0,le.i8)(this.element);this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(r).clientRect}_reset(){this._isDragging=!1;const r=(0,le.i8)(this.element).style;r.scrollSnapType=r.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(r,t){return null!=this._domRect&&Lt(this._domRect,r,t)}_getSiblingContainerFromPosition(r,t,i){return this._siblings.find(n=>n._canReceive(r,t,i))}_canReceive(r,t,i){if(!this._domRect||!Lt(this._domRect,t,i)||!this.enterPredicate(r,this))return!1;const n=this._getShadowRoot().elementFromPoint(t,i);if(!n)return!1;const o=(0,le.i8)(this.element);return n===o||o.contains(n)}_startReceiving(r,t){const i=this._activeSiblings;!i.has(r)&&t.every(n=>this.enterPredicate(n,this)||this._draggables.indexOf(n)>-1)&&(i.add(r),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:r,receiver:this,items:t}))}_stopReceiving(r){this._activeSiblings.delete(r),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:r,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(r=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(r);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const r=(0,je.KT)((0,le.i8)(this.element));this._cachedShadowRoot=r||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const r=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,r))}}function Wa(a,r){const{top:t,bottom:i,height:n}=a,o=.05*n;return r>=t-o&&r<=t+o?ye.UP:r>=i-o&&r<=i+o?ye.DOWN:ye.NONE}function Xa(a,r){const{left:t,right:i,width:n}=a,o=.05*n;return r>=t-o&&r<=t+o?me.LEFT:r>=i-o&&r<=i+o?me.RIGHT:me.NONE}const Ct=(0,je.BQ)({passive:!1,capture:!0});let Zi=(()=>{class a{constructor(t,i){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=n=>n.isDragging(),this.pointerMove=new y.B,this.pointerUp=new y.B,this.scroll=new y.B,this._preventDefaultWhileDragging=n=>{this._activeDragInstances.length>0&&n.preventDefault()},this._persistentTouchmoveListener=n=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&n.preventDefault(),this.pointerMove.next(n))},this._document=i}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Ct)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Ct)}startDragging(t,i){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const n=i.type.startsWith("touch");this._globalListeners.set(n?"touchend":"mouseup",{handler:o=>this.pointerUp.next(o),options:!0}).set("scroll",{handler:o=>this.scroll.next(o),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Ct}),n||this._globalListeners.set("mousemove",{handler:o=>this.pointerMove.next(o),options:Ct}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((o,s)=>{this._document.addEventListener(s,o.handler,o.options)})})}}stopDragging(t){const i=this._activeDragInstances.indexOf(t);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const i=[this.scroll];return t&&t!==this._document&&i.push(new Vt.c(n=>this._ngZone.runOutsideAngular(()=>{const s=l=>{this._activeDragInstances.length&&n.next(l)};return t.addEventListener("scroll",s,!0),()=>{t.removeEventListener("scroll",s,!0)}}))),(0,Ae.h)(...i)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,i)=>{this._document.removeEventListener(i,t.handler,t.options)}),this._globalListeners.clear()}static#e=this.\u0275fac=function(i){return new(i||a)(e.KVO(e.SKi),e.KVO(h.qQ))};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();const er={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let qt=(()=>{class a{constructor(t,i,n,o){this._document=t,this._ngZone=i,this._viewportRuler=n,this._dragDropRegistry=o}createDrag(t,i=er){return new zi(t,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new Ji(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static#e=this.\u0275fac=function(i){return new(i||a)(e.KVO(h.qQ),e.KVO(e.SKi),e.KVO(Ge.Xj),e.KVO(Zi))};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),cr=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275mod=e.$C({type:a});static#a=this.\u0275inj=e.G2t({providers:[qt],imports:[Ge.Gj]})}return a})();var mr=f(450),pr=f(9183),ze=f(6600),A=f(9969);let hr=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275mod=e.$C({type:a});static#a=this.\u0275inj=e.G2t({imports:[ze.yE,Ge.Gj,Ge.Gj,ze.yE]})}return a})();var Ja=f(5911),Ie=f(5416),Q=f(5596),Qa=f(5024);let fr=0;const Xt=new e.nKC("CdkAccordion");let gr=(()=>{class a{constructor(){this._stateChanges=new y.B,this._openCloseAllActions=new y.B,this.id="cdk-accordion-"+fr++,this.multi=!1}openAll(){this.multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275dir=e.FsC({type:a,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:[e.Mj6.HasDecoratorInputTransform,"multi","multi",e.L39]},exportAs:["cdkAccordion"],standalone:!0,features:[e.Jv_([{provide:Xt,useExisting:a}]),e.GFd,e.OA$]})}return a})(),_r=0,br=(()=>{class a{get expanded(){return this._expanded}set expanded(t){this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}constructor(t,i,n){this.accordion=t,this._changeDetectorRef=i,this._expansionDispatcher=n,this._openCloseAllSubscription=R.yU.EMPTY,this.closed=new e.bkB,this.opened=new e.bkB,this.destroyed=new e.bkB,this.expandedChange=new e.bkB,this.id="cdk-accordion-child-"+_r++,this._expanded=!1,this.disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=n.listen((o,s)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===s&&this.id!==o&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(Xt,12),e.rXU(e.gRc),e.rXU(Qa.zP))};static#t=this.\u0275dir=e.FsC({type:a,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[e.Mj6.HasDecoratorInputTransform,"expanded","expanded",e.L39],disabled:[e.Mj6.HasDecoratorInputTransform,"disabled","disabled",e.L39]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],standalone:!0,features:[e.Jv_([{provide:Xt,useValue:void 0}]),e.GFd]})}return a})(),vr=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275mod=e.$C({type:a});static#a=this.\u0275inj=e.G2t({})}return a})();var zt=f(6939),st=f(7336),Za=f(983);const yr=["body"],Cr=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],kr=["mat-expansion-panel-header","*","mat-action-row"];function Fr(a,r){}const Tr=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],xr=["mat-panel-title","mat-panel-description","*"];function wr(a,r){if(1&a&&(e.j41(0,"span",1),e.qSk(),e.j41(1,"svg",2),e.nrm(2,"path",3),e.k0s()()),2&a){const t=e.XpG();e.Y8G("@indicatorRotate",t._getExpandedState())}}const Ht=new e.nKC("MAT_ACCORDION"),en="225ms cubic-bezier(0.4,0.0,0.2,1)",tn={indicatorRotate:(0,A.hZ)("indicatorRotate",[(0,A.wk)("collapsed, void",(0,A.iF)({transform:"rotate(0deg)"})),(0,A.wk)("expanded",(0,A.iF)({transform:"rotate(180deg)"})),(0,A.kY)("expanded <=> collapsed, void => collapsed",(0,A.i0)(en))]),bodyExpansion:(0,A.hZ)("bodyExpansion",[(0,A.wk)("collapsed, void",(0,A.iF)({height:"0px",visibility:"hidden"})),(0,A.wk)("expanded",(0,A.iF)({height:"*",visibility:""})),(0,A.kY)("expanded <=> collapsed, void => collapsed",(0,A.i0)(en))])},an=new e.nKC("MAT_EXPANSION_PANEL");let Sr=(()=>{class a{constructor(t,i){this._template=t,this._expansionPanel=i}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.C4Q),e.rXU(an,8))};static#t=this.\u0275dir=e.FsC({type:a,selectors:[["ng-template","matExpansionPanelContent",""]],standalone:!0})}return a})(),Dr=0;const nn=new e.nKC("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let kt=(()=>{class a extends br{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=t}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}constructor(t,i,n,o,s,l,m){super(t,i,n),this._viewContainerRef=o,this._animationMode=l,this._hideToggle=!1,this.afterExpand=new e.bkB,this.afterCollapse=new e.bkB,this._inputChanges=new y.B,this._headerId="mat-expansion-panel-header-"+Dr++,this.accordion=t,this._document=s,this._animationsDisabled="NoopAnimations"===l,m&&(this.hideToggle=m.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe((0,N.Z)(null),(0,W.p)(()=>this.expanded&&!this._portal),(0,P.s)(1)).subscribe(()=>{this._portal=new zt.VA(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,i=this._body.nativeElement;return t===i||i.contains(t)}return!1}_animationStarted(t){!rn(t)&&!this._animationsDisabled&&this._body&&this._body?.nativeElement.setAttribute("inert","")}_animationDone(t){rn(t)||("expanded"===t.toState?this.afterExpand.emit():"collapsed"===t.toState&&this.afterCollapse.emit(),!this._animationsDisabled&&this._body&&this._body.nativeElement.removeAttribute("inert"))}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(Ht,12),e.rXU(e.gRc),e.rXU(Qa.zP),e.rXU(e.c1b),e.rXU(h.qQ),e.rXU(e.bc$,8),e.rXU(nn,8))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["mat-expansion-panel"]],contentQueries:function(i,n,o){if(1&i&&e.wni(o,Sr,5),2&i){let s;e.mGM(s=e.lsd())&&(n._lazyContent=s.first)}},viewQuery:function(i,n){if(1&i&&e.GBs(yr,5),2&i){let o;e.mGM(o=e.lsd())&&(n._body=o.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(i,n){2&i&&e.AVh("mat-expanded",n.expanded)("_mat-animation-noopable",n._animationsDisabled)("mat-expansion-panel-spacing",n._hasSpacing())},inputs:{hideToggle:[e.Mj6.HasDecoratorInputTransform,"hideToggle","hideToggle",e.L39],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],standalone:!0,features:[e.Jv_([{provide:Ht,useValue:void 0},{provide:an,useExisting:a}]),e.GFd,e.Vt3,e.OA$,e.aNF],ngContentSelectors:kr,decls:7,vars:4,consts:[["body",""],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(i,n){if(1&i){const o=e.RV6();e.NAR(Cr),e.SdG(0),e.j41(1,"div",1,0),e.bIt("@bodyExpansion.start",function(l){return e.eBV(o),e.Njj(n._animationStarted(l))})("@bodyExpansion.done",function(l){return e.eBV(o),e.Njj(n._animationDone(l))}),e.j41(3,"div",2),e.SdG(4,1),e.DNE(5,Fr,0,0,"ng-template",3),e.k0s(),e.SdG(6,2),e.k0s()}2&i&&(e.R7$(),e.Y8G("@bodyExpansion",n._getExpandedState())("id",n.id),e.BMQ("aria-labelledby",n._headerId),e.R7$(4),e.Y8G("cdkPortalOutlet",n._portal))},dependencies:[zt.I3],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color);color:var(--mat-expansion-container-text-color);border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font);font-size:var(--mat-expansion-container-text-size);font-weight:var(--mat-expansion-container-text-weight);line-height:var(--mat-expansion-container-text-line-height);letter-spacing:var(--mat-expansion-container-text-tracking)}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color)}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[tn.bodyExpansion]},changeDetection:0})}return a})();function rn(a){return"void"===a.fromState}let Ft=(()=>{class a{constructor(t,i,n,o,s,l,m){this.panel=t,this._element=i,this._focusMonitor=n,this._changeDetectorRef=o,this._animationMode=l,this._parentChangeSubscription=R.yU.EMPTY,this.tabIndex=0;const u=t.accordion?t.accordion._stateChanges.pipe((0,W.p)(g=>!(!g.hideToggle&&!g.togglePosition))):Za.w;this.tabIndex=parseInt(m||"")||0,this._parentChangeSubscription=(0,Ae.h)(t.opened,t.closed,u,t._inputChanges.pipe((0,W.p)(g=>!!(g.hideToggle||g.disabled||g.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe((0,W.p)(()=>t._containsFocus())).subscribe(()=>n.focusVia(i,"program")),s&&(this.expandedHeight=s.expandedHeight,this.collapsedHeight=s.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case st.t6:case st.Fm:(0,st.rp)(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t,i){t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(kt,1),e.rXU(e.aKT),e.rXU(_t.FN),e.rXU(e.gRc),e.rXU(nn,8),e.rXU(e.bc$,8),e.kS0("tabindex"))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(i,n){1&i&&e.bIt("click",function(){return n._toggle()})("keydown",function(s){return n._keydown(s)}),2&i&&(e.BMQ("id",n.panel._headerId)("tabindex",n.disabled?-1:n.tabIndex)("aria-controls",n._getPanelId())("aria-expanded",n._isExpanded())("aria-disabled",n.panel.disabled),e.xc7("height",n._getHeaderHeight()),e.AVh("mat-expanded",n._isExpanded())("mat-expansion-toggle-indicator-after","after"===n._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===n._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===n._animationMode))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[e.Mj6.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?0:(0,e.Udg)(t)]},standalone:!0,features:[e.GFd,e.aNF],ngContentSelectors:xr,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(i,n){1&i&&(e.NAR(Tr),e.j41(0,"span",0),e.SdG(1),e.SdG(2,1),e.SdG(3,2),e.k0s(),e.DNE(4,wr,3,1,"span",1)),2&i&&(e.AVh("mat-content-hide-toggle",!n._showToggle()),e.R7$(4),e.vxM(4,n._showToggle()?4:-1))},styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font);font-size:var(--mat-expansion-header-text-size);font-weight:var(--mat-expansion-header-text-weight);line-height:var(--mat-expansion-header-text-line-height);letter-spacing:var(--mat-expansion-header-text-tracking)}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color)}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color)}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color);display:inline-block;display:var(--mat-expansion-legacy-header-indicator-display, inline-block)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color);display:none;display:var(--mat-expansion-header-indicator-display, none)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[tn.indicatorRotate]},changeDetection:0})}return a})(),Kt=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275dir=e.FsC({type:a,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"],standalone:!0})}return a})(),Jt=(()=>{class a extends gr{constructor(){super(...arguments),this._ownHeaders=new e.rOR,this.hideToggle=!1,this.displayMode="default",this.togglePosition="after"}ngAfterContentInit(){this._headers.changes.pipe((0,N.Z)(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new _t.Bu(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(t){this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}static#e=this.\u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static#t=this.\u0275dir=e.FsC({type:a,selectors:[["mat-accordion"]],contentQueries:function(i,n,o){if(1&i&&e.wni(o,Ft,5),2&i){let s;e.mGM(s=e.lsd())&&(n._headers=s)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(i,n){2&i&&e.AVh("mat-accordion-multi",n.multi)},inputs:{hideToggle:[e.Mj6.HasDecoratorInputTransform,"hideToggle","hideToggle",e.L39],displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],standalone:!0,features:[e.Jv_([{provide:Ht,useExisting:a}]),e.GFd,e.Vt3]})}return a})(),Qt=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275mod=e.$C({type:a});static#a=this.\u0275inj=e.G2t({imports:[ze.yE,vr,zt.jc]})}return a})();var Ir=f(9809),Er=f(5951),_=f(6911);class Ne{constructor(r,t,i,n){this.r=r,this.g=t,this.b=i,this.a=n}}class Zt{constructor(r,t,i,n){this.h=r,this.s=t,this.v=i,this.a=n}}class He{constructor(r,t,i,n){this.h=r,this.s=t,this.l=i,this.a=n}}class Tt{constructor(r,t,i,n,o=1){this.c=r,this.m=t,this.y=i,this.k=n,this.a=o}}let zr=(()=>{class a{constructor(){this.active=null}setActive(t){this.active&&this.active!==t&&"inline"!==this.active.cpDialogDisplay&&this.active.closeDialog(),this.active=t}hsva2hsla(t){const i=t.h,n=t.s,o=t.v,s=t.a;if(0===o)return new He(i,0,0,s);if(0===n&&1===o)return new He(i,1,1,s);{const l=o*(2-n)/2;return new He(i,o*n/(1-Math.abs(2*l-1)),l,s)}}hsla2hsva(t){const i=Math.min(t.h,1),n=Math.min(t.s,1),o=Math.min(t.l,1),s=Math.min(t.a,1);if(0===o)return new Zt(i,0,0,s);{const l=o+n*(1-Math.abs(2*o-1))/2;return new Zt(i,2*(l-o)/l,l,s)}}hsvaToRgba(t){let i,n,o;const s=t.h,l=t.s,m=t.v,u=t.a,g=Math.floor(6*s),C=6*s-g,x=m*(1-l),j=m*(1-C*l),Z=m*(1-(1-C)*l);switch(g%6){case 0:i=m,n=Z,o=x;break;case 1:i=j,n=m,o=x;break;case 2:i=x,n=m,o=Z;break;case 3:i=x,n=j,o=m;break;case 4:i=Z,n=x,o=m;break;case 5:i=m,n=x,o=j;break;default:i=0,n=0,o=0}return new Ne(i,n,o,u)}cmykToRgb(t){return new Ne((1-t.c)*(1-t.k),(1-t.m)*(1-t.k),(1-t.y)*(1-t.k),t.a)}rgbaToCmyk(t){const i=1-Math.max(t.r,t.g,t.b);return 1===i?new Tt(0,0,0,1,t.a):new Tt((1-t.r-i)/(1-i),(1-t.g-i)/(1-i),(1-t.b-i)/(1-i),i,t.a)}rgbaToHsva(t){let i,n;const o=Math.min(t.r,1),s=Math.min(t.g,1),l=Math.min(t.b,1),m=Math.min(t.a,1),u=Math.max(o,s,l),g=Math.min(o,s,l),C=u,x=u-g;if(n=0===u?0:x/u,u===g)i=0;else{switch(u){case o:i=(s-l)/x+(s<l?6:0);break;case s:i=(l-o)/x+2;break;case l:i=(o-s)/x+4;break;default:i=0}i/=6}return new Zt(i,n,C,m)}rgbaToHex(t,i){let n="#"+(16777216|t.r<<16|t.g<<8|t.b).toString(16).substr(1);return i&&(n+=(256|Math.round(255*t.a)).toString(16).substr(1)),n}normalizeCMYK(t){return new Tt(t.c/100,t.m/100,t.y/100,t.k/100,t.a)}denormalizeCMYK(t){return new Tt(Math.floor(100*t.c),Math.floor(100*t.m),Math.floor(100*t.y),Math.floor(100*t.k),t.a)}denormalizeRGBA(t){return new Ne(Math.round(255*t.r),Math.round(255*t.g),Math.round(255*t.b),t.a)}stringToHsva(t="",i=!1){let n=null;t=(t||"").toLowerCase();const o=[{re:/(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(s){return new Ne(parseInt(s[2],10)/255,parseInt(s[3],10)/255,parseInt(s[4],10)/255,isNaN(parseFloat(s[5]))?1:parseFloat(s[5]))}},{re:/(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(s){return new He(parseInt(s[2],10)/360,parseInt(s[3],10)/100,parseInt(s[4],10)/100,isNaN(parseFloat(s[5]))?1:parseFloat(s[5]))}}];o.push(i?{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,parse:function(s){return new Ne(parseInt(s[1],16)/255,parseInt(s[2],16)/255,parseInt(s[3],16)/255,parseInt(s[4]||"FF",16)/255)}}:{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,parse:function(s){return new Ne(parseInt(s[1],16)/255,parseInt(s[2],16)/255,parseInt(s[3],16)/255,1)}}),o.push({re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,parse:function(s){return new Ne(parseInt(s[1]+s[1],16)/255,parseInt(s[2]+s[2],16)/255,parseInt(s[3]+s[3],16)/255,1)}});for(const s in o)if(o.hasOwnProperty(s)){const l=o[s],m=l.re.exec(t),u=m&&l.parse(m);if(u)return u instanceof Ne?n=this.rgbaToHsva(u):u instanceof He&&(n=this.hsla2hsva(u)),n}return n}outputFormat(t,i,n){switch("auto"===i&&(i=t.a<1?"rgba":"hex"),i){case"hsla":const o=this.hsva2hsla(t),s=new He(Math.round(360*o.h),Math.round(100*o.s),Math.round(100*o.l),Math.round(100*o.a)/100);return t.a<1||"always"===n?"hsla("+s.h+","+s.s+"%,"+s.l+"%,"+s.a+")":"hsl("+s.h+","+s.s+"%,"+s.l+"%)";case"rgba":const l=this.denormalizeRGBA(this.hsvaToRgba(t));return t.a<1||"always"===n?"rgba("+l.r+","+l.g+","+l.b+","+Math.round(100*l.a)/100+")":"rgb("+l.r+","+l.g+","+l.b+")";default:const m="always"===n||"forced"===n;return this.rgbaToHex(this.denormalizeRGBA(this.hsvaToRgba(t)),m)}}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=e.jDH({token:a,factory:a.\u0275fac}),a})();typeof window<"u"&&window;let Hr=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.$C({type:a}),a.\u0275inj=e.G2t({providers:[zr],imports:[h.MD]}),a})();var w=f(9192),pe=f(7285);let on=(()=>{class a{constructor(){this.emitChangeSource=new y.B,this.changeEmitted=this.emitChangeSource.asObservable(),this.emitHoverChangeSource=new y.B,this.changeHoverEmitted=this.emitHoverChangeSource.asObservable()}emitChange(t){this.emitChangeSource.next(t)}emitHoverChange(t){this.emitHoverChangeSource.next(t)}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),Kr=(()=>{class a{constructor(){}onHover(){window.innerWidth>768&&document.querySelector(".sidenav-toggled")?.classList.add("sidenav-toggled-open")}onLeave(){window.innerWidth>768&&document.querySelector(".sidenav-toggled")?.classList.remove("sidenav-toggled-open")}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275dir=e.FsC({type:a,selectors:[["","appHoverEffectSidebar",""]],hostBindings:function(i,n){1&i&&e.bIt("mouseover",function(){return n.onHover()})("mouseleave",function(){return n.onLeave()})}})}return a})();var I=f(9363),c=f(2512);let ea=(()=>{class a{constructor(t){this.router=t,this.unsubscriber=new y.B,this.screenWidth=new Me.t(window.innerWidth),this.search=!1,this.language=!1,this.megaMenu=!1,this.levelMenu=!1,this.megaMenuColapse=window.innerWidth<1199,this.collapseSidebar=window.innerWidth<991,this.horizontal=!(window.innerWidth<991),this.fullScreen=!1,this.MENUITEMS=[{headTitle:"MAIN"},{path:"/admin/dashboard",icon:"dashboard",title:"Dashboard",type:"link"},{path:"/admin/transactions",icon:"compare_arrows",title:"Transactions",type:"link",code:c.G4.Transactions},{title:"Users",icon:"account_box",type:"sub",active:!1,children:[{path:"/admin/customers",title:"Customers",type:"link",code:c.G4.Customers},{path:"/admin/system-users",title:"System users",type:"link",code:c.G4.SystemUsers}]},{title:"Wallets",icon:"wallet_membership",type:"sub",active:!1,code:c.G4.Wallets,children:[{path:"/admin/fiat-wallets",title:"FIat wallets",type:"link"}]},{path:"/admin/widgets",icon:"device_hub",title:"Widgets",type:"link",code:c.G4.Widgets},{path:"/admin/notifications",icon:"notifications",title:"Notifications",type:"link",code:c.G4.Notifications},{path:"/admin/emails",icon:"messages",title:"Emails",type:"link",code:c.G4.Messages},{path:"/admin/risk-center",icon:"bolt",title:"Risk center",type:"link",code:c.G4.Risks},{title:"System logs",icon:"settings",type:"sub",active:!1,children:[{path:"/admin/user-actions",title:"User actions",type:"link",code:c.G4.UserActions},{path:"/admin/transaction-status-history",icon:"compare_arrows",title:"Transaction history",type:"link",code:c.G4.TransactionHistoryLog}]},{headTitle:"SETTINGS"},{path:"/admin/fees",icon:"payment",title:"Fees",type:"link",code:c.G4.Fees},{title:"Costs",icon:"attach_money",type:"sub",active:!1,code:c.G4.Costs,children:[{path:"/admin/costs",title:"Schemes",type:"link"},{path:"/admin/bank-accounts",title:"Bank accounts",type:"link"}]},{title:"KYC / KYB",icon:"assignment_ind",type:"sub",active:!1,code:c.G4.Kyc,children:[{path:"/admin/levels",title:"Levels",type:"link"},{path:"/admin/tiers",title:"Tiers",type:"link"},{path:"/admin/black-list",title:"Black list",type:"link"}]},{title:"Settings",icon:"settings",type:"sub",active:!1,code:c.G4.Settings,children:[{path:"/admin/common",title:"Common",type:"link"},{path:"/admin/api-keys",title:"API keys",type:"link"},{path:"/admin/currency-pairs",title:"Currency pairs",type:"link"}]},{path:"/admin/faq",icon:"bolt",title:"FAQ",type:"link"}],this.items=new Me.t(this.MENUITEMS),this.setScreenWidth(window.innerWidth),(0,ee.R)(window,"resize").pipe((0,q.B)(1e3),(0,T.Q)(this.unsubscriber)).subscribe(i=>{this.setScreenWidth(i.target.innerWidth),i.target.innerWidth<991&&(this.collapseSidebar=!0,this.megaMenu=!1,this.levelMenu=!1),i.target.innerWidth<1199&&(this.megaMenuColapse=!0)}),window.innerWidth<991&&this.router.events.subscribe(()=>{this.collapseSidebar=!0,this.megaMenu=!1,this.levelMenu=!1})}ngOnDestroy(){this.unsubscriber.complete()}setScreenWidth(t){this.screenWidth.next(t)}static#e=this.\u0275fac=function(i){return new(i||a)(e.KVO(w.Ix))};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),Jr=(()=>{class a{constructor(){this.emitSidebarNofitSource=new y.B,this.SidebarNotifyChangeEmitted=this.emitSidebarNofitSource.asObservable(),this.emitSwitcherSource=new y.B,this.SwitcherChangeEmitted=this.emitSwitcherSource.asObservable()}emitSidebarNotifyChange(t){this.emitSidebarNofitSource.next(t)}emitSwitcherChange(t){this.emitSwitcherSource.next(t)}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),Qr=(()=>{class a{constructor(){this.body=document.querySelector("body")}toggleSidemenu(){this.body.classList.contains("sidenav-toggled")?document.querySelector("body")?.classList.remove("sidenav-toggled"):document.querySelector("body")?.classList.add("sidenav-toggled")}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275dir=e.FsC({type:a,selectors:[["","appSidemenuToggle",""]],hostBindings:function(i,n){1&i&&e.bIt("click",function(){return n.toggleSidemenu()})}})}return a})(),Zr=(()=>{class a{constructor(t,i,n,o,s){this.layoutService=t,this.switcherService=i,this.navServices=n,this.auth=o,this.router=s,this.body=document.querySelector("body"),this.isCollapsed=!0,this.activated=!1,this.logoSrc=`${pe.Li.image_host}/images/logo-dark.png`,this.logoAlt=pe.Li.product}ngOnInit(){}toggleSwitcher(){this.switcherService.emitChange(!0)}toggleSidebarNotification(){this.layoutService.emitSidebarNotifyChange(!0)}goToMainPage(){this.auth.isUserRole(this.auth.user,["USER"])&&this.router.navigate([this.auth.getUserMainPage()])}signout(){this.auth.logout(),this.router.navigateByUrl("/").then(()=>{window.location.reload()})}searchToggle(){this.body.classList.contains("search-open")?(this.activated=!1,this.body.classList.remove("search-open")):(this.activated=!0,this.body.classList.add("search-open"))}closeToggle(){this.activated=!1,this.body.classList.remove("search-open")}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(Jr),e.rXU(on),e.rXU(ea),e.rXU(I.u),e.rXU(w.Ix))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-header"]],decls:19,vars:4,consts:[[1,"main-header","side-header","sticky","nav","nav-item"],[1,"main-container","container-fluid"],[1,"main-header-left"],[1,"responsive-logo"],[2,"display","flex","padding","0 30px"],[1,"__admin-top-menu-logo","logo-fix",3,"click","src","alt"],["data-bs-toggle","sidebar",1,"app-sidebar__toggle"],["appSidemenuToggle","","href","javascript:void(0);",1,"open-toggle"],[1,"header-icon","fe","fe-align-left"],["appSidemenuToggle","","href","javascript:void(0);",1,"close-toggle"],[1,"header-icon","fe","fe-x"],[1,"logo-horizontal"],[1,"main-header-right"],[1,"d-flex"],["href","javascript:void(0);",1,"demo-icon","new","nav-link",3,"click"],[1,"material-icons",2,"font-size","20px","color","rgb(136, 136, 136)"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"img",5),e.bIt("click",function(){return n.goToMainPage()}),e.k0s()()(),e.j41(6,"div",6)(7,"a",7),e.nrm(8,"i",8),e.k0s(),e.j41(9,"a",9),e.nrm(10,"i",10),e.k0s()(),e.j41(11,"div",11)(12,"div",4)(13,"img",5),e.bIt("click",function(){return n.goToMainPage()}),e.k0s()()()(),e.j41(14,"div",12)(15,"div",13)(16,"a",14),e.bIt("click",function(){return n.signout()}),e.j41(17,"i",15),e.EFF(18,"logout"),e.k0s()()()()()()),2&i&&(e.R7$(5),e.Y8G("src",n.logoSrc,e.B4B)("alt",n.logoAlt),e.R7$(8),e.Y8G("src",n.logoSrc,e.B4B)("alt",n.logoAlt))},dependencies:[Qr],styles:['@import"https://fonts.googleapis.com/css2?family=Montserrat+Alternates:wght@800&display=swap";li[_ngcontent-%COMP%]::marker{color:transparent}.main-header-notification.show[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:after, .main-header-message.show[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:after, .drop-flag.show[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:after{display:none}  .sidenav-toggled .open-toggle{display:none}  .sidenav-toggled .close-toggle{display:block;color:#000}  .dark-theme .btn-check:checked+.btn-country,   .dark-theme .btn-country.active,   .dark-theme .btn-country:active{color:#eee;background-color:#2a2e3f}  .rtl .modal-header .close{margin:-1rem auto -1rem 1rem!important}  form[role=search].active{left:initial;border-right:0px solid #e3e3f7;right:0}  .rtl form[role=search].active{left:0;border-right:0px solid #e3e3f7;right:0}  .rtl form[role=search].active input{right:0!important}  .transparent-theme .btn-country.active{color:#000!important}  .transparent-theme form[role=search].active input{color:#fff!important}  .transparent-theme form[role=search].active input::placeholder{color:#eee!important}  .rtl app-header .input-group:not(.has-validation)>.dropdown-toggle:nth-last-child(n+3),   .rtl app-header .input-group:not(.has-validation)>:not(:last-child):not(.dropdown-toggle):not(.dropdown-menu){border-radius:5px!important}.__admin-top-menu-logo[_ngcontent-%COMP%]{margin:8px 0 0 8px;font-family:Montserrat Alternates;font-weight:800;font-size:26px;color:var(--color_purple_800);cursor:pointer}.logo-fix[_ngcontent-%COMP%]{margin:10px auto 0!important;max-height:50px!important}']})}return a})();const eo=a=>({"sticky-pin":a}),to=(a,r,t,i)=>({"side-item side-item-category":a,slide:r,active:t,"is-expanded":i}),Be=a=>[a],ao=a=>({active:a}),no=a=>({"d-none":a}),ta=a=>({open:a}),aa=a=>({"is-expanded":a});function io(a,r){if(1&a&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&a){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.headTitle," ")}}function ro(a,r){if(1&a){const t=e.RV6();e.j41(0,"a",21),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG();return e.Njj(o.toggleNavActive(n))}),e.nrm(1,"span",11)(2,"span",12),e.j41(3,"span",13)(4,"span",14),e.EFF(5),e.k0s()(),e.j41(6,"span",22),e.EFF(7),e.k0s()()}if(2&a){const t=e.XpG().$implicit;e.Y8G("routerLink",t.type?e.eq3(3,Be,t.path):null),e.R7$(5),e.SpI(" ",t.icon," "),e.R7$(2),e.JRh(t.title)}}function oo(a,r){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&a){const t=e.XpG(2).$implicit;e.ZvI("badge bg-",t.badgeClass," side-badge"),e.R7$(),e.SpI(" ",t.badgeValue," ")}}function so(a,r){if(1&a){const t=e.RV6();e.j41(0,"a",23),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG();return e.Njj(o.toggleNavActive(n))}),e.nrm(1,"span",11)(2,"span",12),e.j41(3,"span",13)(4,"span",14),e.EFF(5),e.k0s()(),e.j41(6,"span",22),e.EFF(7),e.k0s(),e.DNE(8,oo,2,4,"span",24),e.nrm(9,"i",25),e.k0s()}if(2&a){const t=e.XpG().$implicit;e.Y8G("routerLink",t.type?null:e.eq3(6,Be,t.path))("ngClass",e.eq3(8,ao,t.active)),e.R7$(5),e.SpI(" ",t.icon," "),e.R7$(2),e.JRh(t.title),e.R7$(),e.Y8G("ngIf",t.badgeClass&&t.badgeValue),e.R7$(),e.Y8G("ngClass",e.eq3(10,no,t.badgeClass))}}function lo(a,r){if(1&a){const t=e.RV6();e.j41(0,"a",32),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(3);return e.Njj(o.toggleNavActive(n))}),e.EFF(1),e.k0s()}if(2&a){const t=e.XpG().$implicit;e.Y8G("routerLink",t.type?e.eq3(2,Be,t.path):null),e.R7$(),e.SpI(" ",t.title," ")}}function co(a,r){if(1&a){const t=e.RV6();e.j41(0,"a",33),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(3);return e.Njj(o.toggleNavActive(n))}),e.j41(1,"span",34),e.EFF(2),e.k0s(),e.nrm(3,"i",35),e.k0s()}if(2&a){const t=e.XpG().$implicit;e.Y8G("routerLink",t.type?null:e.eq3(2,Be,t.path)),e.R7$(2),e.SpI(" ",t.title,"")}}function mo(a,r){if(1&a){const t=e.RV6();e.j41(0,"a",41),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(5);return e.Njj(o.toggleNavActive(n))}),e.EFF(1),e.k0s()}if(2&a){const t=e.XpG().$implicit;e.Y8G("routerLink",t.type?e.eq3(2,Be,t.path):null),e.R7$(),e.SpI(" ",t.title," ")}}function po(a,r){if(1&a){const t=e.RV6();e.j41(0,"a",33),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(5);return e.Njj(o.toggleNavActive(n))}),e.j41(1,"span",42),e.EFF(2),e.k0s(),e.nrm(3,"i",43),e.k0s()}if(2&a){const t=e.XpG().$implicit;e.Y8G("routerLink",t.type?null:e.eq3(2,Be,t.path)),e.R7$(2),e.SpI(" ",t.title," ")}}function uo(a,r){if(1&a&&(e.j41(0,"a",47),e.EFF(1),e.k0s()),2&a){const t=e.XpG().$implicit;e.Y8G("routerLink",t.type?e.eq3(2,Be,t.path):null),e.R7$(),e.SpI(" ",t.title,"")}}function ho(a,r){if(1&a&&(e.j41(0,"li",38),e.DNE(1,uo,2,4,"a",46),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",e.eq3(2,aa,t.active)),e.R7$(),e.Y8G("ngIf","link"===t.type)}}function fo(a,r){if(1&a&&(e.j41(0,"ul",44),e.DNE(1,ho,2,4,"li",45),e.k0s()),2&a){const t=e.XpG().$implicit;e.Y8G("ngClass",e.eq3(2,ta,t.active)),e.R7$(),e.Y8G("ngForOf",t.children)}}function go(a,r){if(1&a&&(e.j41(0,"li",38),e.DNE(1,mo,2,4,"a",39)(2,po,4,4,"a",30)(3,fo,2,4,"ul",40),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",e.eq3(4,aa,t.active)),e.R7$(),e.Y8G("ngIf","link"===t.type),e.R7$(),e.Y8G("ngIf","sub"===t.type),e.R7$(),e.Y8G("ngIf",t.children)}}function _o(a,r){if(1&a&&(e.j41(0,"ul",36),e.DNE(1,go,4,6,"li",37),e.k0s()),2&a){const t=e.XpG().$implicit;e.Y8G("ngClass",e.eq3(2,ta,t.active)),e.R7$(),e.Y8G("ngForOf",t.children)}}function bo(a,r){if(1&a&&(e.j41(0,"li",28),e.DNE(1,lo,2,4,"a",29)(2,co,4,4,"a",30)(3,_o,2,4,"ul",31),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",e.eq3(4,aa,t.active)),e.R7$(),e.Y8G("ngIf","link"===t.type),e.R7$(),e.Y8G("ngIf","sub"===t.type),e.R7$(),e.Y8G("ngIf",t.children)}}function vo(a,r){if(1&a&&(e.j41(0,"ul",26),e.DNE(1,bo,4,6,"li",27),e.k0s()),2&a){const t=e.XpG().$implicit;e.Y8G("ngClass",e.eq3(2,ta,t.active)),e.R7$(),e.Y8G("ngForOf",t.children)}}function yo(a,r){if(1&a&&(e.j41(0,"li",16),e.DNE(1,io,2,1,"div",17)(2,ro,8,5,"a",18)(3,so,10,12,"a",19)(4,vo,2,4,"ul",20),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",e.ziG(5,to,t.headTitle,t.title,t.active,t.active)),e.R7$(),e.Y8G("ngIf",t.headTitle),e.R7$(),e.Y8G("ngIf","link"===t.type),e.R7$(),e.Y8G("ngIf","sub"===t.type),e.R7$(),e.Y8G("ngIf",t.children)}}let Co=(()=>{class a{constructor(t,i,n,o){this.router=t,this.auth=i,this.navServices=n,this.elRef=o,this.logoSrc=`${pe.Li.image_host}/images/logo-dark.png`,this.logoAlt=pe.Li.product,this.scrolled=!1,this.navServices.items.subscribe(s=>{this.menuItems=this.filterMenuItemsByPermissions(s),this.router.events.subscribe(l=>{l instanceof w.wF&&s.filter(m=>(m.path===l.url&&this.setNavActive(m),!!m.children&&(m.children.filter(u=>(u.path===l.url&&this.setNavActive(u),!!u.children&&(u.children.filter(g=>(g.path===l.url&&this.setNavActive(g),!0)),!0))),!0)))})})}setNavActive(t){this.menuItems.filter(i=>{i!==t&&(i.active=!1,document.querySelector(".app")?.classList.remove("sidenav-toggled"),document.querySelector(".app")?.classList.remove("sidenav-toggled1"),this.navServices.collapseSidebar=!1),i.children?.includes(t)&&(i.active=!0),i.children&&i.children.filter(n=>{n.children?.includes(t)&&(i.active=!0,n.active=!0)})})}toggleNavActive(t){t.active||this.menuItems.forEach(i=>(this.menuItems.includes(t)&&(i.active=!1),!!i.children&&(i.children.forEach(n=>{i.children.includes(t)&&(n.active=!1)}),!0))),t.active=!t.active}ngOnInit(){const t=document.querySelector(".side-menu");t?.addEventListener("scroll",()=>{},{passive:!1}),t?.addEventListener("wheel",()=>{},{passive:!1}),(0,ee.R)(window,"resize").subscribe(()=>{window.innerWidth>772&&document.querySelector("body.horizontal")?.classList.remove("sidenav-toggled"),document.querySelector("body")?.classList.contains("horizontal-hover")&&window.innerWidth>772&&document.querySelectorAll(".side-menu li").forEach(n=>{n.classList.remove("is-expanded")})})}goToMainPage(){this.auth.isUserRole(this.auth.user,["USER"])&&this.router.navigate([this.auth.getUserMainPage()])}sidebarClose(){!0===this.navServices.collapseSidebar&&(document.querySelector(".app")?.classList.remove("sidenav-toggled"),this.navServices.collapseSidebar=!1)}onWindowScroll(){this.scrolled=window.scrollY>70}filterMenuItemsByPermissions(t){const i=[];for(const n of t)n.code?this.auth.isPermittedObjectCode(n.code)&&i.push(n):n.children?(n.children=this.filterMenuItemsByPermissions(n.children),n.children.length&&i.push(n)):i.push(n);return i}simulate(){window.open(`${window.location.origin}/admin/transaction-simulation`,"targetWindow","resizable=0, width=515, height=585").blur(),window.focus()}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(w.Ix),e.rXU(I.u),e.rXU(ea),e.rXU(e.aKT))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-sidebar"]],hostBindings:function(i,n){1&i&&e.bIt("scroll",function(){return n.onWindowScroll()},!1,e.tSv)},decls:18,vars:6,consts:[[1,"app-sidebar__overlay",3,"click"],[1,"sticky",3,"ngClass"],[1,"app-sidebar"],[1,"main-sidebar-header","active","p-0"],[2,"display","flex","padding","0 30px"],[1,"__admin-top-menu-logo","logo-fix",3,"click","src","alt"],[1,"main-sidemenu"],[1,"side-menu"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"slide","sidebar-bottom-item"],[1,"side-menu__item"],[1,"shape1"],[1,"shape2"],[1,"side-menu__icon"],[1,"material-icons",2,"font-size","18px"],[1,"side-menu__label",3,"click"],[3,"ngClass"],[4,"ngIf"],["class","side-menu__item","routerLinkActive","active",3,"routerLink","click",4,"ngIf"],["class","side-menu__item",3,"routerLink","ngClass","click",4,"ngIf"],["class","slide-menu",3,"ngClass",4,"ngIf"],["routerLinkActive","active",1,"side-menu__item",3,"click","routerLink"],[1,"side-menu__label"],[1,"side-menu__item",3,"click","routerLink","ngClass"],[3,"class",4,"ngIf"],[1,"angle","fe","fe-chevron-right",3,"ngClass"],[1,"slide-menu",3,"ngClass"],["class","sub-slide",3,"ngClass",4,"ngFor","ngForOf"],[1,"sub-slide",3,"ngClass"],["class","slide-item","routerLinkActive","active",3,"routerLink","click",4,"ngIf"],["class","sub-side-menu__item",3,"routerLink","click",4,"ngIf"],["class","sub-slide-menu",3,"ngClass",4,"ngIf"],["routerLinkActive","active",1,"slide-item",3,"click","routerLink"],[1,"sub-side-menu__item",3,"click","routerLink"],[1,"sub-side-menu__label"],[1,"sub-angle","fe","fe-chevron-right"],[1,"sub-slide-menu",3,"ngClass"],["class","",3,"ngClass",4,"ngFor","ngForOf"],[1,"",3,"ngClass"],["class","sub-side-menu__item","routerLinkActive","active",3,"routerLink","click",4,"ngIf"],["class","sub-slide-menu2",3,"ngClass",4,"ngIf"],["routerLinkActive","active",1,"sub-side-menu__item",3,"click","routerLink"],[1,"sub-side-menu__label2"],[1,"sub-angle2","fe","fe-chevron-right"],[1,"sub-slide-menu2",3,"ngClass"],["class"," ",3,"ngClass",4,"ngFor","ngForOf"],["class","sub-slide-item2","routerLinkActive","active",3,"routerLink",4,"ngIf"],["routerLinkActive","active",1,"sub-slide-item2",3,"routerLink"]],template:function(i,n){1&i&&(e.j41(0,"div",0),e.bIt("click",function(){return n.sidebarClose()}),e.k0s(),e.j41(1,"div",1)(2,"aside",2)(3,"div",3)(4,"div",4)(5,"img",5),e.bIt("click",function(){return n.goToMainPage()}),e.k0s()()(),e.j41(6,"div",6)(7,"ul",7),e.DNE(8,yo,5,10,"li",8),e.j41(9,"li",9)(10,"a",10),e.nrm(11,"span",11)(12,"span",12),e.j41(13,"span",13)(14,"span",14),e.EFF(15," compare_arrows "),e.k0s()(),e.j41(16,"span",15),e.bIt("click",function(){return n.simulate()}),e.EFF(17,"Simulate Transaction"),e.k0s()()()()()()()),2&i&&(e.R7$(),e.Y8G("ngClass",e.eq3(4,eo,n.scrolled)),e.R7$(4),e.Y8G("src",n.logoSrc,e.B4B)("alt",n.logoAlt),e.R7$(3),e.Y8G("ngForOf",n.menuItems))},dependencies:[h.YU,h.Sq,h.bT,w.Wk,w.wQ],styles:['@import"https://fonts.googleapis.com/css2?family=Montserrat+Alternates:wght@800&display=swap";.side-menu .side-menu__icon:before{display:none}body:not(.horizontal-hover) .sub-slide-menu.open{display:block!important}body:not(.horizontal-hover) .slide-menu.open{display:block!important}@media screen and (max-width: 767.98px){.slide-menu.open{display:block!important}}@media (min-width: 1400px){.horizontal.layout-boxed .sticky-pin{max-width:100%!important}}.main-sidemenu .side-menu{transition:margin-left .32s ease,width .32s ease}@media (max-width: 767.9px){.slide-leftRTL,.slide-rightRTL,.slide-left,.slide-right{display:none!important}.side-menu{margin-inline:0!important}}@media (min-width: 768px){.horizontal-hover .side-menu__item{pointer-events:none}.ltr .slide-leftRTL,.ltr .slide-rightRTL{display:none!important}.ltr .slide-left,.ltr .slide-right{display:block}.rtl .slide-leftRTL{display:block;right:0;transform:rotate(180deg)}.rtl .slide-rightRTL{display:block;left:0;transform:rotate(180deg)}.rtl .slide-left,.rtl .slide-right{display:none!important}.horizontal .main-sidemenu .slide-leftRTL,.horizontal .main-sidemenu .slide-rightRTL{position:absolute;top:0;padding:17px;color:#fff;display:flex;align-items:center;justify-content:center;z-index:1;cursor:pointer}}@media screen and (max-width: 767.98px){.horizontal-hover .sub-slide.is-expanded .sub-slide-menu{display:block!important}}@media (min-width: 1400px){.horizontal.layout-boxed .sticky-pin{max-width:80%!important}.horizontal.layout-boxed.scrollable-layout .sticky-pin{max-width:100%!important}}.slide.active.is-expanded{background:transparent!important}.sidenav-toggled-open .side-menu .slide.active .side-menu__label,.side-menu .slide.active .side-menu__icon{color:#4a4a69!important}.rtl:not(.horizontal) .slide-leftRTL,.rtl:not(.horizontal) .slide-rightRTL{display:none}.transparent-theme.horizontal .side-item-category:first-child{margin-top:1.2rem}.transparent-theme.horizontal-hover .slide:hover .side-menu__label,.transparent-theme.horizontal-hover .slide:hover .angle,.transparent-theme.horizontal-hover .slide:hover .side-menu__icon{color:#fff!important}.rtl.transparent-theme .main-sidebar-header{border-left-color:transparent!important;border-right:transparent!important}.horizontal.tarnsparent-theme .sub-side-menu__item:hover{color:#fff!important}.__admin-top-menu-logo{margin:8px 0 0 8px;font-family:Montserrat Alternates;font-weight:800;font-size:26px;color:var(--color_purple_800);cursor:pointer}.logo-fix{margin:10px auto 0!important;max-height:50px!important}.sidebar-bottom-item{cursor:pointer}\n'],encapsulation:2})}return a})();function ko(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",2)(1,"div",3)(2,"div"),e.nrm(3,"app-admin-header")(4,"app-admin-sidebar",4),e.k0s(),e.j41(5,"div",5)(6,"div",6),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleSwitcherBody())}),e.nrm(7,"router-outlet"),e.k0s()()()()}}function Fo(a,r){1&a&&e.nrm(0,"router-outlet")}let To=(()=>{class a{constructor(t,i,n,o){this.document=t,this.switcherService=i,this._router=n,this._cdr=o,this.hideRootWrapper=!1,this._destroy$=new y.B,this.hideRootWrapper=this.needHideTabs(n.url),this._cdr.markForCheck(),this._router.events.pipe((0,T.Q)(this._destroy$)).subscribe(l=>{l instanceof w.wF&&(this.hideRootWrapper=this.needHideTabs(l.urlAfterRedirects),this._cdr.markForCheck())}),this.loadFont(),t.querySelector("body")?.classList.contains("app")||(t.querySelector("body")?.classList.add("main-body"),t.querySelector("body")?.classList.add("app"),t.querySelector("body")?.classList.add("sidebar-mini"))}toggleSwitcherBody(){this.switcherService.emitChange(!1)}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}loadFont(){const t=this.document.getElementsByTagName("head")[0],i=this.document.getElementById("admin-font"),n=pe.Li.admin_font,s=`https://fonts.googleapis.com/css2?family=${n.replace(" ","+")}:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap`;if(i)i.href=s;else{const l=this.document.createElement("link");l.id="admin-font",l.rel="stylesheet",l.href=s,t.appendChild(l)}this.document.documentElement.style.setProperty("--font_admin",n)}needHideTabs(t){return!t.includes("transaction-simulation")}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(h.qQ),e.rXU(on),e.rXU(w.Ix),e.rXU(e.gRc))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-new"]],decls:4,vars:2,consts:[["emptyOutlet",""],["class","horizontalMenucontainer",4,"ngIf","ngIfElse"],[1,"horizontalMenucontainer"],[1,"page"],["appHoverEffectSidebar",""],[1,"main-content","app-content"],[1,"main-container","container-fluid","container-top",3,"click"]],template:function(i,n){if(1&i&&(e.qex(0),e.DNE(1,ko,8,0,"div",1)(2,Fo,1,0,"ng-template",null,0,e.C5r),e.bVm()),2&i){const o=e.sdS(3);e.R7$(),e.Y8G("ngIf",n.hideRootWrapper)("ngIfElse",o)}},dependencies:[h.bT,w.n3,Kr,Zr,Co],styles:["a:link{font-family:var(--font_admin),sans-serif}  *{font-family:var(--font_admin),sans-serif;font-size:medium;-webkit-font-smoothing:antialiased}"]})}return a})();var sn=f(467);const xo=["MERCHANT","MANAGER","SUPPORT","ADMIN","DEMO"];let oe=(()=>{class a{constructor(t,i,n){this.router=t,this.auth=i,this.navServices=n}canActivate(t,i){var n=this;return(0,sn.A)(function*(){if(!n.auth.isAuthenticatedUserRole(xo))return n.router.navigateByUrl("/"),!1;if(!0===t.data.defaultRoute){const o=n.findMainRouteWithAccess(Gn);let s="";return o?(s=`/admin/${o}`,i.url===s||(yield n.router.navigate([s]),!1)):(yield n.router.navigateByUrl("/"),!1)}return!t.data.code||0!==n.auth.isPermittedObjectCode(t.data.code)||(yield n.router.navigateByUrl("/"),!1)})()}findMainRouteWithAccess(t){let i="";for(const n of t)if(!0===n?.data?.main){if(0!==this.auth.isPermittedObjectCode(n.data.code)){i=`${i}/${n.path}`;break}}else if(n.children?.length){const o=this.findMainRouteWithAccess(n.children);if(""!=o){i=`${n.path}${o}`;break}}return i}static#e=this.\u0275fac=function(i){return new(i||a)(e.KVO(w.Ix),e.KVO(I.u),e.KVO(ea))};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();var lt=f(4836),v=f(4421),xt=f(8810),re=f(869),F=f(8245);const Ke=[{id:c.km.Widget,title:"Widget",imgClass:"",imgSource:""},{id:c.km.Wallet,title:"Wallet",imgClass:"",imgSource:""},{id:c.km.QuickCheckout,title:"Quick Checkout",imgClass:"",imgSource:""}];class ln{constructor(r){this.isDefault=!1,this.costSchemeName="",this.target=null,this.targetValues=[],this.trxType=[],this.instrument=[],this.currenciesFrom=[],this.currenciesTo=[],this.userType=[],this.userMode=[],this.provider=[],null!==r?(this.widgetIds=r.widgetIds,this.name=r.name,this.id=r.settingsFeeId,this.isDefault=r.default,this.description=r.description,this.terms=new dn(r.terms),this.details=new cn(r.wireDetails),this.currency=r.currency??"euro",this.currenciesFrom=r.targetCurrenciesFrom??[],this.currenciesTo=r.targetCurrenciesTo??[],this.rateToEur=r.rateToEur,this.deleted=r?.deleted,r.targetInstruments?.forEach(t=>this.instrument.push(t)),r.targetPaymentProviders?.forEach(t=>this.provider.push(t)),r.targetTransactionTypes?.forEach(t=>this.trxType.push(t)),r.targetUserTypes?.forEach(t=>this.userType.push(t)),r.targetUserModes?.forEach(t=>this.userMode.push(t)),this.target=r.targetFilterType,r.targetFilterValues?.forEach(this.target===c.hF.Country?t=>{const i=(0,re.Al)(t);null!=i&&this.targetValues.push(i.code3)}:t=>this.targetValues.push(t))):(this.terms=new dn(""),this.details=new cn(""))}setTarget(r,t){this.target=r,this.targetValues=t?.map(i=>i.id)}setWidgets(r){this.widgetIds=r?.map(t=>t.id)}setTargetOld(r,t){this.target=r,t.forEach(i=>{if(r===c.hF.Country){const n=(0,re.JJ)(i);null!==n&&this.targetValues.push(n.code3)}else this.targetValues.push(i)})}setCostSchemeName(r){this.instrument.length>0&&this.instrument[0]===c.iw.WireTransfer&&(this.costSchemeName=r)}get targetName(){return F.Wu.find(r=>r.id===this.target)?.name}get transactionTypeList(){let r="",t=!1;return this.trxType.forEach(i=>{const n=F.ln.find(o=>o.id===i)?.name;r=`${r}${t?", ":""}${n}`,t=!0}),r}get instrumentList(){let r="",t=!1;return this.instrument.forEach(i=>{const n=F.m0.find(o=>o.id===i)?.name;r=`${r}${t?", ":""}${n}`,t=!0}),r}get providerList(){let r="";return this.instrument.length>0&&this.instrument[0]===c.iw.WireTransfer&&(r=this.costSchemeName),""===r&&(r=this.provider.join(", ")),r}get feeSchemasListDataColumnStyle(){return[`fee-schemas-list-column-${this.getColorStyles()}`]}getColorStyles(){return this.deleted?"grey":"white"}}class dn{constructor(r){if(""!==r){const t=JSON.parse(r);this.transactionFees=t.Transaction_fee,this.minTransactionFee=t.Min_transaction_fee,this.rollingReserves=t.Rolling_reserves,this.rollingReservesDays=t.Rolling_reserves_days,this.chargebackFees=t.Chargeback_fees,this.monthlyFees=t.Monthly_fees,this.minMonthlyFees=t.Min_monthly_fees,this.minMonthlyFees=t.Min_monthly_fees,this.riskFees=t.Risk_fees}}getObject(){return JSON.stringify({Transaction_fee:this.transactionFees,Min_transaction_fee:this.minTransactionFee,Rolling_reserves:this.rollingReserves,Rolling_reserves_days:this.rollingReservesDays,Chargeback_fees:this.chargebackFees,Monthly_fees:this.monthlyFees,Min_monthly_fees:this.minMonthlyFees,Risk_fees:this.riskFees})}}class cn{constructor(r){if(""!==r){const t=JSON.parse(r);this.bankAddress=t.Bank_address,this.bankName=t.Bank_name,this.beneficiaryAddress=t.Beneficiary_address,this.beneficiaryName=t.Beneficiary_name,this.iban=t.Iban,this.swift=t.Swift}}getObject(){return JSON.stringify({Bank_address:this.bankAddress,Bank_name:this.bankName,Beneficiary_address:this.beneficiaryAddress,Beneficiary_name:this.beneficiaryName,Iban:this.iban,Swift:this.swift})}}var dt=f(8083),na=f(3763),V=f(980),Ee=f(9437),Ce=f(5746);class wo{constructor(r){this.address="",r&&(this.address=r.address,this.legacyAddress=r.legacyAddress,this.description=r.description,this.type=r.type,this.addressFormat=r.addressFormat,this.assetId=r.assetId,this.originalId=r.originalId,this.total=r.total,this.available=r.available,this.pending=r.pending,this.lockedAmount=r.lockedAmount,this.vaultId=r.vaultId,this.vaultName=r.vaultName,this.userId=r.userId,this.userEmail=r.userEmail,this.custodyProvider=r.custodyProvider??"",this.custodyProviderLink=r.custodyProviderLink??"")}}class So{constructor(r){if(this.id="",this.asset="",this.created="",this.balance=0,this.userId="",r){const t=r.vault,i=r.user;if(t){const n=new h.vh("en-US");this.created=n.transform(t.created,"dd-MM-YYYY HH:mm:ss"),this.id=t.fiatVaultId??"",this.asset=t.currency??"",this.balance=t.balance??0}if(i){const n=new Ce.Dn(i);this.userId=`${n.email} - ${n.fullName}`}}}}var Do=f(6934);class ia{constructor(r){if(this.id="",this.transactions=[],this.currenciesCrypto=[],this.currenciesFiat=[],this.destinationAddress=[],this.merchantFeeDestinationAddress=[],this.merchantFeeMinAmount=0,this.merchantFeePercent=0,this.destinationAddresses=[],this.countriesCode2=[],this.countries=[],this.instruments=[],this.paymentProviders=[],this.link="",this.maskLink="",this.secret="",this.selected=!1,this.allowToPayIfKycFailed=!1,this.newVaultPerTransaction=!1,this.fee=0,this.masked=!1,r){const t=new h.vh("en-US");if(this.id=r.widgetId??"",this.code=r.code??"",this.link=`${pe.Li.client_host}/payment/quickcheckout/${this.id}`,this.maskLink=`${pe.Li.client_host}/payment/widget/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx`,this.name=r.name,this.description=r.description??"",this.secret=r.secret??"",this.allowToPayIfKycFailed=r.allowToPayIfKycFailed??!1,this.newVaultPerTransaction=r.newVaultPerTransaction??!1,this.masked=r.masked??!1,this.additionalSettings=r.additionalSettings,this.userId=r.userId,this.created=t.transform(r.created,"dd-MM-YYYY HH:mm:ss")??"",r.fee&&(this.fee=r.fee),r.merchantFeeMinAmount&&(this.merchantFeeMinAmount=r.merchantFeeMinAmount),r.merchantFeePercent&&(this.merchantFeePercent=r.merchantFeePercent),r.createdByUser){this.createdByEmail=r.createdByUser.email;const i=r.createdByUser.firstName??"",n=r.createdByUser.lastName??"";this.createdByName=`${i}${""!==i&&""!==n?" ":""}${n}`}this.transactionType=void 0,r.transactionTypes&&r.transactionTypes.length>0&&(this.transactionType=r.transactionTypes[0]),this.countries=[],r.countriesCode2&&(this.countries=r.countriesCode2.map(i=>{const n=(0,re.tJ)(i);return n?n.name:i})),this.transactionTypes=r.transactionTypes??[],this.transactions=r.transactionTypes?.map(i=>{const n=F.ln.find(o=>o.id===i);return n?n.name:i})??[],this.currenciesCrypto=r.currenciesCrypto??[],this.currenciesFiat=r.currenciesFiat??[],this.destinationAddress=r.destinationAddress,r.merchantFeeAddress&&0!==r.merchantFeeAddress?.length&&(this.merchantFeeDestinationAddress=r.merchantFeeAddress),this.countriesCode2=r.countriesCode2??[],this.instruments=r.instruments??[],this.paymentProviders=r.paymentProviders??[],this.liquidityProvider=r.liquidityProvider}}}class Io{constructor(r){if(this.created="",this.details="",this.riskAlertType="",this.entity="",this.user=void 0,r){const t=new h.vh("en-US");this.created=r.created?t.transform(r.created,"dd MMM YYYY HH:mm:ss"):"",this.riskAlertId=r.riskAlertId,this.riskAlertType=r.riskAlertTypeCode??"",this.details=r.details??"{}",null===r.details&&(this.details="{}");const i=JSON.parse(this.details);i.riskAlertTypeCode&&(this.riskAlertType=i.riskAlertTypeCode),i.entity&&(this.entity=i.entity),this.userId=r.userId,r.user&&(this.user=new Ce.Dn(r.user))}}}var mn=f(6034);const ct=[{id:c.sM.Bitstamp,name:"Bitstamp"},{id:c.sM.Kraken,name:"Kraken"},{id:c.sM.PrimeTrustLiquidity,name:"PrimeTrustLiquidity"},{id:c.sM.Xbo,name:"Xbo"}],Eo=[{id:c.SZ.UserAge,name:"User age"},{id:c.SZ.TooManyFailedLoginAttempts,name:"Too many failed login attempts"},{id:c.SZ.UnusualUserIpAddress,name:"Unusual user IP address"},{id:c.SZ.TwoOrMoreCustomersWithdrawalSameAddress,name:"Two or more customers made withdrawal to the same address"},{id:c.SZ.DepositXPercentUpThanTheLastOne,name:"Deposit percentage is higher than the last one"},{id:c.SZ.DepositAbove_10K,name:"Deposit above 10000"},{id:c.SZ.DepositAbove_50K,name:"Deposit above 50000"},{id:c.SZ.DepositAboveXAmountInYTimeframe,name:"Deposit amount exceeds timeframe limit"},{id:c.SZ.SumsubWords,name:"Sumsub words"},{id:c.SZ.WithdrawalOwner,name:"Withdrawal owner"}];class Po{constructor(r){this.currencyPairLiquidityProviderId="",this.fromCurrency="",this.toCurrency="",this.liquidityProviderId="",this.fixedRate=0,this.liquidityProviderName=void 0,this.deleted=!1,this.currencyPairLiquidityProviderId=r.currencyPairLiquidityProviderId??"",this.fromCurrency=r.fromCurrency??"",this.toCurrency=r.toCurrency??"",this.liquidityProviderId=r.liquidityProviderId??"",this.fixedRate=r.fixedRate??0,r.liquidityProviderName&&(this.liquidityProviderName=ct.find(t=>t.id==r.liquidityProviderName)),r.deleted&&""!=r.deleted&&(this.deleted=!0)}}class Ao{constructor(r){this.liquidityProviderId="",this.name=void 0,this.order=0,this.liquidityProviderId=r.liquidityProviderId??"",this.order=r.order??0,r.name&&(this.name=ct.find(t=>t.id===r.name))}}class Ro{constructor(r){if(this.id="",this.userId="",this.messageEmailId="",this.messageStatus="",this.messageType="",this.objectId="",this.params={},this.userNotificationId="",this.created="",this.userEmail="",null!==r){this.id=r.messageId,this.userId=r.userId,this.messageEmailId=r.messageEmailId,this.messageStatus=r.messageStatus,this.messageType=r.messageType,this.objectId=r.objectId,this.params=r.params?JSON.parse(r.params):void 0,this.userNotificationId=r.userNotificationId,r.user&&(this.userEmail=r.user.email);const t=new h.vh("en-US");this.created=r.created?t.transform(r.created,"dd MMM YYYY HH:mm:ss"):""}}}var wt=f(5432);const Oo=v.J1`
  query GetDashboardStats(
    $createdDateInterval: DateTimeInterval
    $completedDateInterval: DateTimeInterval
    $updateDateInterval: DateTimeInterval
    $userIdsOnly: [String!]
    $widgetIdsOnly: [String!]
    $sourcesOnly: [TransactionSource!]
    $countriesOnly: [String!]
    $countryCodeType: CountryCodeType
    $accountTypesOnly: [UserType!]
    $fiatCurrency: String
  ) {
    getDashboardStats(
      createdDateInterval: $createdDateInterval
      completedDateInterval: $completedDateInterval
      updateDateInterval: $updateDateInterval
      userIdsOnly: $userIdsOnly
      widgetIdsOnly: $widgetIdsOnly
      sourcesOnly: $sourcesOnly
      countriesOnly: $countriesOnly
      countryCodeType: $countryCodeType
      accountTypesOnly: $accountTypesOnly
      fiatCurrency: $fiatCurrency
    ) {
      buys {
        approved {count, volume},
        declined {count, volume},
        failed {count, volume},
        chargedBack {count, volume},
        abandoned {count, volume},
        inProcess {count, volume},
        fee {count, volume},
        ratio,
        byInstruments {
          instrument,
          approved {count, volume},
          declined {count, volume},
          failed {count, volume},
          chargedBack {count, volume},
          abandoned {count, volume},
          inProcess {count, volume},
          fee {count, volume},
          ratio
        }
      }
			paids {
				buys {
					count
					volume
				}
				sells {
					count
					volume
				}
			}
      deposits {
        approved {count, volume},
        declined {count, volume},
        failed {count, volume},
        chargedBack {count, volume},
        abandoned {count, volume},
        inProcess {count, volume},
        fee {count, volume},
        ratio,
        byInstruments {
          instrument,
          approved {count, volume},
          declined {count, volume},
          failed {count, volume},
          chargedBack {count, volume},
          abandoned {count, volume},
          inProcess {count, volume},
          fee {count, volume},
          ratio
        }
      }
      transfers {
        approved {count, volume},
        declined {count, volume},
        failed {count, volume},
        chargedBack {count, volume},
        abandoned {count, volume},
        inProcess {count, volume},
        fee {count, volume},
        ratio,
        toMerchant {
          instrument,
          approved {count, volume},
          declined {count, volume},
          failed {count, volume},
          chargedBack {count, volume},
          abandoned {count, volume},
          inProcess {count, volume},
          fee {count, volume}
          ratio
        },
        toCustomer {
          instrument,
          approved {count, volume},
          declined {count, volume},
          failed {count, volume},
          chargedBack {count, volume},
          abandoned {count, volume},
          inProcess {count, volume},
          fee {count, volume},
          ratio
        }
      }
      receives {
        approved {count, volume},
        declined {count, volume},
        failed {count, volume},
        chargedBack {count, volume},
        abandoned {count, volume},
        inProcess {count, volume},
        fee {count, volume},
        ratio,
        toMerchant {
          instrument,
          approved {count, volume},
          declined {count, volume},
          failed {count, volume},
          chargedBack {count, volume},
          abandoned {count, volume},
          inProcess {count, volume},
          fee {count, volume}
          ratio
        },
        toCustomer {
          instrument,
          approved {count, volume},
          declined {count, volume},
          failed {count, volume},
          chargedBack {count, volume},
          abandoned {count, volume},
          inProcess {count, volume},
          fee {count, volume},
          ratio
        }
      }
      withdrawals {
        approved {count, volume},
        declined {count, volume},
        failed {count, volume},
        chargedBack {count, volume},
        abandoned {count, volume},
        inProcess {count, volume},
        fee {count, volume},
        ratio,
        byInstruments {
          instrument,
          ratio,
          approved {count, volume},
          declined {count, volume},
          failed {count, volume},
          chargedBack {count, volume},
          abandoned {count, volume},
          inProcess {count, volume},
          fee {count, volume}
        }
      }
      sells {
        approved {count, volume},
        declined {count, volume},
        failed {count, volume},
        chargedBack {count, volume},
        abandoned {count, volume},
        inProcess {count, volume},
        fee {count, volume},
        ratio,
        byInstruments {
          instrument,
          ratio,
          approved {count, volume},
          declined {count, volume},
          failed {count, volume},
          chargedBack {count, volume},
          abandoned {count, volume},
          inProcess {count, volume},
          fee {count, volume}
        }
      }
      balances {
        currency,
        volume {count, volume}
      }
      openpaydBalances {
        currency, balance
      }
      monoovaBalances {
        currency, balance
      }
      liquidityProviderBalances {
        currency, balance
      }
    }
  }
`,jo=v.J1`
  query getDashboardMerchantStats(
    $createdDateInterval: DateTimeInterval
    $completedDateInterval: DateTimeInterval
    $updateDateInterval: DateTimeInterval
    $userIdsOnly: [String!]
    $widgetIdsOnly: [String!]
    $sourcesOnly: [TransactionSource!]
    $countriesOnly: [String!]
    $countryCodeType: CountryCodeType
    $accountTypesOnly: [UserType!]
    $fiatCurrency: String
  ) {
    getDashboardMerchantStats(
      createdDateInterval: $createdDateInterval
      completedDateInterval: $completedDateInterval
      updateDateInterval: $updateDateInterval
      userIdsOnly: $userIdsOnly
      widgetIdsOnly: $widgetIdsOnly
      sourcesOnly: $sourcesOnly
      countriesOnly: $countriesOnly
      countryCodeType: $countryCodeType
      accountTypesOnly: $accountTypesOnly
      fiatCurrency: $fiatCurrency
    ) {
      transactionsAmount,
      transactionsTotal,
      usersTotal,
      usersKycWaitingTotal,
      currency
    }
  }
`,$o=v.J1`
  query GetSettingsFee {
    getSettingsFee(
      filter: ""
      orderBy: [
        { orderBy: "default", desc: true }
        { orderBy: "name", desc: false }
      ]
    ) {
      count
      list {
        settingsFeeId
        name
        default
        description
        terms
        wireDetails
        targetInstruments
        targetUserTypes
        targetUserModes
        targetPaymentProviders
        targetTransactionTypes
        targetFilterType
        targetFilterValues
        currency
        rateToEur
        targetCurrenciesFrom
        targetCurrenciesTo
        deleted
        widgetIds
      }
    }
  }
`,Mo=v.J1`
  query GetSettingsCost {
    getSettingsCost(
      filter: ""
      orderBy: [
        { orderBy: "default", desc: true }
        { orderBy: "name", desc: false }
      ]
    ) {
      count
      list {
        settingsCostId
        name
        default
        description
        bankAccounts { bankAccountId, name }
        terms
        targetFilterType
        targetFilterValues
        targetInstruments
        targetTransactionTypes
        targetPaymentProviders
        widgetIds
      }
    }
  }
`,No=v.J1`
query GetWireTransferBankAccounts {
  getWireTransferBankAccounts {
    count
    list {
      bankAccountId
      name
      description
      au
      uk
      eu
      paymentProviders
    }
  }
}
`,Vo=v.J1`
query GetSettingsKycTiers($userId: String) {
  getSettingsKycTiers(
    userId: $userId
    orderBy: [
      { orderBy: "amount", desc: false }
    ]
  ) {
      count
      list {
        settingsKycTierId
        name
      }
    }
  }
`,Go=v.J1`
query GetSettingsKycTiers {
  getSettingsKycTiers(
    orderBy: [
      { orderBy: "name", desc: false }
    ]
  ) {
      count
      list {
        settingsKycTierId
        name
        description
        amount
        targetKycProviders
        targetUserType
        targetUserModes
        targetFilterType
        targetFilterValues
        level {
          settingsKycLevelId
          name
          data
          description
          order
        }
        requireUserFullName
        requireUserPhone
        requireUserBirthday
        requireUserAddress
        requireUserFlatNumber
        created
        createdBy
        default
      }
    }
  }
`,Bo=v.J1`
  query GetSettingsKyc {
    getSettingsKyc(
      filter: ""
      orderBy: [
        { orderBy: "default", desc: true }
        { orderBy: "name", desc: false }
      ]
    ) {
      count
      list {
        default
        settingsKycId
        name
        description
        targetKycProviders
        targetUserType
        targetUserModes
        targetFilterType
        targetFilterValues
        requireUserFullName
        requireUserPhone
        requireUserBirthday
        requireUserAddress
        requireUserFlatNumber
        levels {
          settingsKycLevelId
          name
          data
          description
          order
        }
      }
    }
  }
`,Uo=v.J1`
  query GetSettingsKycLevels($filter: String) {
    getSettingsKycLevels(
      filter: $filter
      orderBy: [{ orderBy: "name", desc: false }]
    ) {
      count
      list {
        settingsKycLevelId
        name
        description
        userType
        data
        order
        created
        createdBy
      }
    }
  }
`,Lo=v.J1`
  query GetNotifications(
    $skip: Int
    $first: Int
    $orderBy: [OrderBy!]
    $filter: String
    $userNotificationTypeCode: String
  ) {
    getNotifications(
      skip: $skip
      first: $first
      orderBy: $orderBy
      filter: $filter
      userNotificationTypeCode: $userNotificationTypeCode
    ) {
      count
      list {
        created
        linkedId
        linkedTable
        params
        text
        title
        user {
          email
        }
        userId
        userNotificationId
        userNotificationLevel
        userNotificationTypeCode
        viewed
      }
    }
  }
`,Yo=v.J1`
  query GetMessages(
    $skip: Int
    $first: Int
    $orderBy: [OrderBy!]
    $filter: String
  ) {
    getMessages(
      skip: $skip
      first: $first
      orderBy: $orderBy
      filter: $filter
    ) {
      count
      list {
        messageId
        userNotificationId
        userId
        objectId
        messageType
        created
        params
        messageEmailId
        messageStatus
        user {
          email
        }
      }
    }
  }
`,qo=v.J1`
query GetUserActions(
  $skip: Int
  $first: Int
  $orderBy: [OrderBy!]
  $filter: String
  $userId: String
  $resultsOnly: [UserActionResult!]
  $statusesOnly: [String!]
  $actionTypesOnly: [UserActionType!]
  $createdDateInterval: DateTimeInterval
) {
  getUserActions(
    skip: $skip
    first: $first
    orderBy: $orderBy
    filter: $filter
    userId: $userId
    resultsOnly: $resultsOnly
    statusesOnly: $statusesOnly
    actionTypesOnly: $actionTypesOnly
    createdDateInterval: $createdDateInterval
  ) {
    count
    list {
      userActionId
      userId
      userEmail
      currentUserEmail
      ip
      objectId
      actionType
      linkedIds
      info
      result
      status
      date
    }
  }
}
`,Wo=v.J1`
query GetCountryBlackList {
  getCountryBlackList {
    count
    list {
      countryCode2
    }
  }
}
`,Xo=v.J1`
  query GetRiskAlerts(
    $userId: String
    $code: RiskAlertCodes
    $filter: String
    $skip: Int
    $first: Int
    $orderBy: [OrderBy!]
  ) {
    getRiskAlerts(
      userId: $userId
      code: $code
      filter: $filter
      skip: $skip
      first: $first
      orderBy: $orderBy
    ) {
      count
      list {
        created
        details
        riskAlertId
        riskAlertTypeCode
        userId
        user { firstName, lastName, email, mode, type }
      }
    }
  }
`,zo=v.J1`
  query GetRiskAlertTypes {
    getRiskAlertTypes {
      riskAlertTypeCode
      description
      created
      disabled
    }
  }
`,Ho=v.J1`
query GetDevices {
  getDevices {
    count
    list {
      userDeviceId
      userId
      created
      countryCode2
      countryCode3
      city
      region
      eu
      metro
      area
      location
      browser
      device
      deviceConfirmed
      ip
    }
  }
}
`,pn=v.J1`
  query GetTransactions(
    $transactionIdsOnly: [String!]
    $userIdsOnly: [String!]
    $sourcesOnly: [TransactionSource!]
    $from: String
    $widgetIdsOnly: [String!]
    $countriesOnly: [String!]
    $countryCodeType: CountryCodeType
    $accountTypesOnly: [UserType!]
    $accountModesOnly: [UserMode]
    $transactionTypesOnly: [TransactionType!]
    $transactionStatusesOnly: [String!]
    $userTierLevelsOnly: [String!]
    $riskLevelsOnly: [String!]
    $paymentInstrumentsOnly: [PaymentInstrument!]
    $kycStatusesOnly: [TransactionKycStatus!]
    $createdDateInterval: DateTimeInterval
    $completedDateInterval: DateTimeInterval
    $updateDateInterval: DateTimeInterval
    $walletAddressOnly: String
    $verifyWhenPaid: Boolean
    $filter: String
    $skip: Int
    $first: Int
    $orderBy: [OrderBy!]
    $flag: Boolean
    $transactionWasEverCompleted: Boolean
    $preauth: Boolean
    $fiatCurrency: String
    $recallNumber: String
    $hasRecallNumber: Boolean
    $reversalProcessedDateInterval: DateTimeInterval
    $recallRegisteredDateInterval: DateTimeInterval
  ) {
    getTransactions(
      transactionIdsOnly: $transactionIdsOnly
      userIdsOnly: $userIdsOnly
      sourcesOnly: $sourcesOnly
      from: $from,
      widgetIdsOnly: $widgetIdsOnly
      countriesOnly: $countriesOnly
      countryCodeType: $countryCodeType
      accountTypesOnly: $accountTypesOnly
      accountModesOnly: $accountModesOnly
      transactionTypesOnly: $transactionTypesOnly
      transactionStatusesOnly: $transactionStatusesOnly
      userTierLevelsOnly: $userTierLevelsOnly
      riskLevelsOnly: $riskLevelsOnly
      paymentInstrumentsOnly: $paymentInstrumentsOnly
      kycStatusesOnly: $kycStatusesOnly
      createdDateInterval: $createdDateInterval
      completedDateInterval: $completedDateInterval
      updateDateInterval: $updateDateInterval
      walletAddressOnly: $walletAddressOnly
      verifyWhenPaid: $verifyWhenPaid
      filter: $filter
      flag: $flag
      transactionWasEverCompleted: $transactionWasEverCompleted
      recallNumber: $recallNumber
      hasRecallNumber: $hasRecallNumber
      reversalProcessedDateInterval: $reversalProcessedDateInterval
      recallRegisteredDateInterval: $recallRegisteredDateInterval
      preauth: $preauth
      fiatCurrency: $fiatCurrency
      skip: $skip
      first: $first
      orderBy: $orderBy
    ) {
      count
      list {
        accountStatus
        amountToReceive
        amountToReceiveWithoutFee
        amountToSpend
        approxNetworkFeeFiat
        benchmarkTransferOrder {
          orderId
          transferDetails
          transferHash
          originalOrderId
          status
          subStatus
        }
        benchmarkTransferOrderBlockchainLink
        merchantFeeTransferOrderBlockchainLink
        code
        comment
        flag
        created
        currencyToReceive
        currencyToSpend
        data
        destination
        destVault
        destVaultId
        executed
        feeDetails
        feeFiat
        feeMinFiat
        feePercent
        initialAmountToReceive
        initialAmountToReceiveWithoutFee
        initialRate
        instrument
        instrumentDetails
        kycStatus
        liquidityOrder { 
          statusReason
          status
          state
          executingResult
          orderId
          originalOrderId
        }
        liquidityOrderId
        liquidityProvider
        paymentOrderId
        paymentOrder {
          amount
          captureOperationSn
          currency
          preauth
          provider
          operations {
            operationId
            created
            type
            sn
            status
            details
            callbackDetails
            errorCode
            errorMessage
          }
          orderId
          originalOrderId
          paymentInfo
          preauthOperationSn
          refundOperationSn
          statusReason
          status
        }
        paymentProvider
        rate
        source
        sourceVault
        sourceVaultId
        sourceAddress
        status
        subStatus
        updated
        user {
          buildingName
          buildingNumber
          countryCode2
          email
          firstName
          flatNumber
          kycStatus
          mode
          lastName
          postCode
          referralCode
          stateName
          street
          subStreet
          town
          type
          userId
          companyName
        }
        userId
        userIp
        userTier { name }
        transactionId
        transferOrder {
          amount
          executingResult
          feeCurrency
          orderId
          originalOrderId
          publishingResult
          status
          subStatus
          transferDetails
          transferHash
          screeningAnswer
          screeningRiskscore
          screeningStatus
          screeningData
          sourceVaultId
        }
        merchantTransferOrder {
          amount
          executingResult
          feeCurrency
          orderId
          originalOrderId
          publishingResult
          status
          subStatus
          transferDetails
          transferHash
          screeningAnswer
          screeningRiskscore
          screeningStatus
          screeningData
        }
        widgetUserParams {
          merchantFeePercent
        }
        transferOrderBlockchainLink
        type        
        verifyWhenPaid        
        widget
        widgetId
        screeningAnswer
        risk
        riskCodes
        screeningRiskscore
        screeningStatus
        screeningData
        canBeCancelled
        hasToBeRefunded
        canBeReviewed
        merchantFeePercent
        recallNumber
        reversalProcessed
        recallRegistered
        paymentOrderRecallNumberLink
        senderName
        recipientName
      }
    }
  }
`,Ko=v.J1`
  query getTransactionStatusHistory(
    $transactionIds: [String!]
    $userIds: [String!]
    $statusesOnly: [String!]
    $createdDateInterval: DateTimeInterval
    $filter: String
    $skip: Int
    $first: Int
    $orderBy: [OrderBy!]
  ) {
    getTransactionStatusHistory(
      transactionIds: $transactionIds
      userIds: $userIds
      statusesOnly: $statusesOnly
      createdDateInterval: $createdDateInterval
      filter: $filter
      skip: $skip
      first: $first
      orderBy: $orderBy
    ) {
      count
      list {
        transactionStatusHistoryId, 
        transactionId, 
        userId, 
        transaction{
          code,email
        }, 
        userEmail, 
        created, 
        oldStatus, 
        newStatus, 
        newStatusReason
      }
    }
  }
`,un=v.J1`
  query GetUsers(
    $userIdsOnly: [String!]
    $roleIdsOnly: [String!]
    $accountTypesOnly: [UserType!]
    $accountModesOnly: [UserMode!]
    $accountStatusesOnly: [AccountStatus!]
    $userTierLevelsOnly: [String!]
    $riskLevelsOnly: [RiskLevel!]
    $countriesOnly: [String!]
    $countryCodeType: CountryCodeType!
    $kycStatusesOnly: [KycStatus!]
    $registrationDateInterval: DateTimeInterval
    $widgetIdsOnly: [String!]
    $totalBuyVolumeOver: Int
    $transactionCountOver: Int
    $verifyWhenPaid: Boolean
    $flag: Boolean
    $filter: String
    $skip: Int
    $first: Int
    $orderBy: [OrderBy!]
  ) {
    getUsers(
      userIdsOnly: $userIdsOnly
      roleIdsOnly: $roleIdsOnly
      accountTypesOnly: $accountTypesOnly
      accountModesOnly: $accountModesOnly
      accountStatusesOnly: $accountStatusesOnly
      userTierLevelsOnly: $userTierLevelsOnly
      riskLevelsOnly: $riskLevelsOnly
      countriesOnly: $countriesOnly
      countryCodeType: $countryCodeType
      kycStatusesOnly: $kycStatusesOnly
      registrationDateInterval: $registrationDateInterval
      widgetIdsOnly: $widgetIdsOnly
      totalBuyVolumeOver: $totalBuyVolumeOver
      transactionCountOver: $transactionCountOver
      verifyWhenPaid: $verifyWhenPaid
      flag: $flag
      filter: $filter,
      skip: $skip,
      first: $first,
      orderBy: $orderBy
      ) {
      count
      list {
        userId
        email
        emailConfirmed
        affiliateId
        firstName
        lastName
        type
        mode
        birthday
        gender
        countryCode2
        countryCode3
        created
        updated
        deleted
        defaultFiatCurrency
        defaultCryptoCurrency
        accountStatus
        kycProvider
        kycStatus
        kycTier { name }
        kycReviewDate
        kycStatusDate
        kycReviewComment
        kycPrivateComment
        kycReviewRejectedType
        kycReviewRejectedLabels
        kycReviewResult
        kycStatusUpdateRequired
        kycValid
        phone
        postCode
        town
        street
        subStreet
        stateName
        buildingName
        buildingNumber
        flatNumber
        addressLine
        referralCode
        widgetId
        widgetName
        widgetCode
        affiliateId
        affiliateCode
        risk
        riskCodes
        totalTransactionCount
        averageTransaction
        totalDepositCompleted
        totalDepositCompletedCount
        totalDepositInProcess
        totalDepositInProcessCount
        totalWithdrawalCompleted
        totalWithdrawalCompletedCount
        totalWithdrawalInProcess
        totalWithdrawalInProcessCount
        totalBoughtCompleted
        totalBoughtCompletedCount
        totalBoughtInProcess
        totalBoughtInProcessCount
        totalSoldCompleted
        totalSoldCompletedCount
        totalSoldInProcess
        totalSoldInProcessCount
        totalSentCompleted
        totalSentCompletedCount
        totalSentInProcess
        totalSentInProcessCount
        totalReceivedCompleted
        totalReceivedCompletedCount
        totalReceivedInProcess
        totalReceivedInProcessCount
        comment
        flag
        companyName
      }
    }
  }
`,Jo=v.J1`
  query GetUsers(
    $userIdsOnly: [String!]
    $roleIdsOnly: [String!]
    $accountTypesOnly: [UserType!]
    $accountModesOnly: [UserMode!]
    $accountStatusesOnly: [AccountStatus!]
    $countriesOnly: [String!]
    $countryCodeType: CountryCodeType!
    $registrationDateInterval: DateTimeInterval
    $filter: String
    $skip: Int
    $first: Int
    $orderBy: [OrderBy!]
  ) {
    getUsers(
      userIdsOnly: $userIdsOnly
      roleIdsOnly: $roleIdsOnly
      accountTypesOnly: $accountTypesOnly
      accountModesOnly: $accountModesOnly
      accountStatusesOnly: $accountStatusesOnly
      countriesOnly: $countriesOnly
      countryCodeType: $countryCodeType
      registrationDateInterval: $registrationDateInterval
      filter: $filter,
      skip: $skip,
      first: $first,
      orderBy: $orderBy) {
      count
      list {
        userId
        email
        emailConfirmed
        affiliateId
        firstName
        lastName
        gender
        type
        mode
        birthday
        countryCode2
        countryCode3
        created
        updated
        deleted
        lastLogin
        accountStatus
        phone
        postCode
        town
        street
        subStreet
        stateName
        buildingName
        buildingNumber
        flatNumber
        addressLine
        kycProvider
        referralCode
        comment
        roles {
          userRoleId
          name
          code
        }
      }
    }
  }
`,Qo=v.J1`
  query GetUsers(
    $userIdsOnly: [String!]
    $accountTypesOnly: [UserType!]
    $accountModesOnly: [UserMode!]
    $accountStatusesOnly: [AccountStatus!]
    $userTierLevelsOnly: [String!]
    $riskLevelsOnly: [RiskLevel!]
    $countriesOnly: [String!]
    $countryCodeType: CountryCodeType!
    $kycStatusesOnly: [KycStatus!]
    $registrationDateInterval: DateTimeInterval
    $widgetIdsOnly: [String!]
    $totalBuyVolumeOver: Int
    $transactionCountOver: Int
    $filter: String
    $skip: Int
    $first: Int
    $orderBy: [OrderBy!]
  ) {
    getUsers(
      userIdsOnly: $userIdsOnly
      accountTypesOnly: $accountTypesOnly
      accountModesOnly: $accountModesOnly
      accountStatusesOnly: $accountStatusesOnly
      userTierLevelsOnly: $userTierLevelsOnly
      riskLevelsOnly: $riskLevelsOnly
      countriesOnly: $countriesOnly
      countryCodeType: $countryCodeType
      kycStatusesOnly: $kycStatusesOnly
      registrationDateInterval: $registrationDateInterval
      widgetIdsOnly: $widgetIdsOnly
      totalBuyVolumeOver: $totalBuyVolumeOver
      transactionCountOver: $transactionCountOver
      filter: $filter,
      skip: $skip,
      first: $first,
      orderBy: $orderBy) {
      count
      list {
        userId
        email
        firstName
        lastName
        type
        mode
        countryCode2
        countryCode3
        roles {
          userRoleId
          name
          code
        }
      }
    }
  }
`,Zo=v.J1`
  query GetUserKycInfo(
    $userId: String
  ) {
    getUserKycInfo(
      userId: $userId
    ) {
      appliedDocuments {
        code
        firstName
        lastName
        issuedDate
        validUntil
        number
        countryCode2
        countryCode3
        
      }
    }
  }
`,es=v.J1`
  query GetUserState(
    $userId: String
  ) {
    getUserState(
      userId: $userId
    ) {
      kycProviderLink
      vaults {
        totalBalanceEur
      }
    }
  }
`,ts=v.J1`
  query GetTransactionLifelines($transactionId: String){
    getTransactionLifelines(transactionId: $transactionId){
      lifeline
      {
        list{
          lifelineId
          lifelineStatus{
            created
            resultStatusParams
            resultFailureParams
            resultSuccessParams
            transactionLifelineStatusId
            transactionStatus
            transactionStatusResult
            lifelineStatusDescriptor{
              newNode
              seqNo
              statusDescription
              statusName
            }
          }
        }
      }
    }
  }
`,as=v.J1`
query GetVerificationLink(
  $userId: String
) {
  getVerificationLink(
    userId: $userId
  )
}
`,ns=v.J1`
  query GetWallets(
    $userIdsOnly: [String!]
    $assetIdsOnly: [String!]
    $zeroBalance: Boolean
    $walletIdsOnly: [String!]
    $filter: String
    $skip: Int
    $first: Int
    $orderBy: [OrderBy!]
  ) {
    getWallets(
      userIdsOnly: $userIdsOnly
      assetIdsOnly: $assetIdsOnly
      zeroBalance: $zeroBalance
      walletIdsOnly: $walletIdsOnly
      filter: $filter
      skip: $skip
      first: $first
      orderBy: $orderBy
    ) {
      count
      list {
        address
        legacyAddress
        description
        type
        addressFormat
        assetId
        originalId
        total
        available
        pending
        lockedAmount
        vaultId
        vaultName
        userId
        userEmail
        custodyProvider
        custodyProviderLink
      }
    }
  }
`,is=v.J1`
  query GetFiatVaults(
    $userIdsOnly: [String]
    $assetsOnly: [String]
    $vaultIdsOnly: [String]
    $zeroBalance: Boolean
    $skip: Int
    $first: Int
    $orderBy: [OrderBy!]
  ) {
    getFiatVaults(
      userIdsOnly: $userIdsOnly
      assetsOnly: $assetsOnly
      vaultIdsOnly: $vaultIdsOnly
      zeroBalance: $zeroBalance
      skip: $skip
      first: $first
      orderBy: $orderBy
    ) {
      count
      list {
        vault {
          fiatVaultId
          balance
          created
          currency
        }
        user {
          mode
          userId
          email
          type
          firstName
          lastName
        }
      }
    }
  }
`,rs=v.J1`
  query GetWidgetIds(
    $filter: String
    $skip: Int
    $first: Int
    $orderBy: [OrderBy!]
  ) {
    getWidgets(filter: $filter, skip: $skip, first: $first, orderBy: $orderBy) {
      count
      list {
        widgetId
        code
        name
      }
    }
  }
`,os=v.J1`
  query GetWidgets(
    $widgetIdsOnly: [String!]
    $userIdsOnly: [String!]
    $filter: String
    $skip: Int
    $first: Int
    $orderBy: [OrderBy!]
  ) {
    getWidgets(
      widgetIdsOnly: $widgetIdsOnly,
      userIdsOnly: $userIdsOnly,
      filter: $filter,
      skip: $skip,
      first: $first,
      orderBy: $orderBy) {
      count
      list {
        additionalSettings
        widgetId
        userId
        code
        name
        description
        created
        createdByUser {
          userId
          email
          firstName
          lastName
        }
        transactionTypes
        currenciesCrypto
        currenciesFiat
        destinationAddress{
          currency
          destination
        }
        countriesCode2
        instruments
        paymentProviders
        liquidityProvider
        secret
        allowToPayIfKycFailed
        newVaultPerTransaction
        fee
        masked
        merchantFeeAddress{
          currency
          destination
        }
        merchantFeeMinAmount
        merchantFeePercent
      }
    }
  }
`,ss=v.J1`
query GetProviders {
  getPaymentProviders {
    paymentProviderId
    name
    displayName
    currencies
    countriesCode2
    instruments
    virtual
  }
}
`,ls=v.J1`
query {
    getSettingsCommon {
      settingsCommonId,
      liquidityProvider,
      custodyProvider,
      kycProvider,
      adminEmails,
      stoppedForServicing,
      additionalSettings,
      adminAdditionalSettings,
      userAdditionalSettings,
      transactionTypeSettings{
        transactionType
        allowChange
      }
    }
  }
`,ds=v.J1`
query IsPaymentOrderCompleted(
  $transactionId: String!
) {
  isPaymentOrderCompleted(
    transactionId: $transactionId
  )
}
`,cs=v.J1`
  query GetCurrencyPairLiquidityProviders{
    getCurrencyPairLiquidityProviders{
      count
      list {
        currencyPairLiquidityProviderId
        fromCurrency
        toCurrency
        liquidityProviderId
        liquidityProviderName
        fixedRate
        deleted
      }
    }
  }
`,ms=v.J1`
  query GetLiquidityProviders{
    getLiquidityProviders{
      liquidityProviderId
      name
      order
    }
  }
`,ps=v.J1`
  query GetApiKeys(
    $filter: String
    $skip: Int
    $first: Int
    $orderBy: [OrderBy!]
  ) {
    getApiKeys(
      filter: $filter
      skip: $skip
      first: $first
      orderBy: $orderBy
    ) {
      count
      list {
        apiKeyId
        user {
          userId
          email
          type
          firstName
          lastName
        }
        created
        disabled
      }
    }
  }
`,us=v.J1`
  mutation UpdateSettingsCommon(
    $settingsId: ID!
    $liquidityProvider: String!
    $custodyProvider: String!
    $kycProvider: String!
    $adminEmails: [String!]
    $stoppedForServicing: Boolean!
    $additionalSettings: String
  ) {
    updateSettingsCommon(
      settingsId: $settingsId,
      settings: {
        liquidityProvider: $liquidityProvider
        custodyProvider: $custodyProvider
        kycProvider: $kycProvider
        adminEmails: $adminEmails
        stoppedForServicing: $stoppedForServicing
        additionalSettings: $additionalSettings
      }
    ) {
      settingsCommonId
    }
  }
`,hs=v.J1`
  mutation CreatePaymentProviderPayout(
    $paymentProvider: String!, $type: PaymentProviderPayoutType
  ) {
    createPaymentProviderPayout(
      paymentProvider: $paymentProvider,
      type: $type,
    )
  }
`,fs=v.J1`
  mutation CreatePaymentProviderRefund(
    $paymentProvider: String!, 
    $amount: Float, 
    $transactionId: String
  ) {
    createPaymentProviderRefund(
      paymentProvider: $paymentProvider,
      options: {
        amount: $amount, 
        transactionId: $transactionId
      }
    )
  }
`,gs=v.J1`
  mutation AddSettingsFee(
    $name: String!
    $description: String
    $targetFilterType: SettingsFeeTargetFilterType!
    $targetFilterValues: [String!]
    $targetInstruments: [PaymentInstrument!]
    $targetUserTypes: [UserType!]
    $targetUserModes: [UserMode!]
    $targetTransactionTypes: [TransactionType!]
    $targetPaymentProviders: [String!]
    $targetCurrenciesFrom: [String!]
    $targetCurrenciesTo: [String!]
    $terms: String!
    $wireDetails: String!
    $widgetIds: [String]
  ) {
    addSettingsFee(
      settings: {
        name: $name
        description: $description
        targetFilterType: $targetFilterType
        targetFilterValues: $targetFilterValues
        targetInstruments: $targetInstruments
        targetUserTypes: $targetUserTypes
        targetUserModes: $targetUserModes
        targetTransactionTypes: $targetTransactionTypes
        targetPaymentProviders: $targetPaymentProviders
        targetCurrenciesFrom: $targetCurrenciesFrom
        targetCurrenciesTo: $targetCurrenciesTo
        terms: $terms
        wireDetails: $wireDetails
        widgetIds: $widgetIds
      }
    ) {
      settingsFeeId
    }
  }
`,_s=v.J1`
  fragment FeeObjectDetails on SettingsFeeSimilarObject {
    title
    feeData {
      schema {
        name
        settingsFeeId
      }
      similarValues
    }
  }

  mutation SettingsFeeSimilars(
    $name: String!
    $description: String
    $targetFilterType: SettingsFeeTargetFilterType!
    $targetFilterValues: [String!]
    $targetInstruments: [PaymentInstrument!]
    $targetUserTypes: [UserType!]
    $targetUserModes: [UserMode!]
    $targetTransactionTypes: [TransactionType!]
    $targetPaymentProviders: [String!]
    $targetCurrenciesFrom: [String!]
    $targetCurrenciesTo: [String!]
    $terms: String!
    $wireDetails: String!
    $widgetIds: [String]
  ) {
    settingsFeeSimilars(
      settings: {
        name: $name
        description: $description
        targetFilterType: $targetFilterType
        targetFilterValues: $targetFilterValues
        targetInstruments: $targetInstruments
        targetUserTypes: $targetUserTypes
        targetUserModes: $targetUserModes
        targetTransactionTypes: $targetTransactionTypes
        targetPaymentProviders: $targetPaymentProviders
        targetCurrenciesFrom: $targetCurrenciesFrom
        targetCurrenciesTo: $targetCurrenciesTo
        terms: $terms
        wireDetails: $wireDetails
        widgetIds: $widgetIds
      }
    ) {
      targetCurrenciesFrom {
        ...FeeObjectDetails
      }
      targetCurrenciesTo {
        ...FeeObjectDetails
      }
      targetFilterValues {
        ...FeeObjectDetails
      }
      targetTransactionTypes {
        ...FeeObjectDetails
      }
      targetInstruments {
        ...FeeObjectDetails
      }
      targetPaymentProviders {
        ...FeeObjectDetails
      }
      targetUserTypes {
        ...FeeObjectDetails
      }
      targetUserModes {
        ...FeeObjectDetails
      }
      widgetIds {
        ...FeeObjectDetails
      }
    }
  }
`,bs=v.J1`
  mutation AddSettingsCost(
    $name: String!
    $description: String
    $bankAccountIds: [String!]
    $targetFilterType: SettingsCostTargetFilterType!
    $targetFilterValues: [String!]
    $targetInstruments: [PaymentInstrument!]
    $targetTransactionTypes: [TransactionType!]
    $targetPaymentProviders: [String!]
    $terms: String!
    $widgetIds: [String]
  ) {
    addSettingsCost(
      settings: {
        name: $name
        description: $description
        bankAccountIds: $bankAccountIds
        targetFilterType: $targetFilterType
        targetFilterValues: $targetFilterValues
        targetInstruments: $targetInstruments
        targetTransactionTypes: $targetTransactionTypes
        targetPaymentProviders: $targetPaymentProviders
        terms: $terms
        widgetIds: $widgetIds
      }
    ) {
      settingsCostId
    }
  }
`,vs=v.J1`
  fragment CostObjectDetails on SettingsCostSimilarObject {
    title
    costData {
      schema {
        name
        settingsCostId
      }
      similarValues
    }
  }

  mutation SettingsCostSimilars(
    $name: String!
    $description: String
    $bankAccountIds: [String!]
    $targetFilterType: SettingsCostTargetFilterType!
    $targetFilterValues: [String!]
    $targetInstruments: [PaymentInstrument!]
    $targetTransactionTypes: [TransactionType!]
    $targetPaymentProviders: [String!]
    $terms: String!
    $widgetIds: [String]
  ) {
    settingsCostSimilars(
      settings: {
        name: $name
        description: $description
        bankAccountIds: $bankAccountIds
        targetFilterType: $targetFilterType
        targetFilterValues: $targetFilterValues
        targetInstruments: $targetInstruments
        targetTransactionTypes: $targetTransactionTypes
        targetPaymentProviders: $targetPaymentProviders
        terms: $terms
        widgetIds: $widgetIds
      }
    ) {
      targetFilterValues {
        ...CostObjectDetails
      }
      targetTransactionTypes {
        ...CostObjectDetails
      }
      targetInstruments {
        ...CostObjectDetails
      }
      targetPaymentProviders {
        ...CostObjectDetails
      }
      widgetIds {
        ...CostObjectDetails
      }
      bankAccounts {
        ...CostObjectDetails
      }
    }
  }
`,ys=v.J1`
mutation AddWireTransferBankAccount(
  $name: String!
  $description: String
  $au: String
  $uk: String
  $eu: String,
  $paymentProviders: [String]
) {
  addWireTransferBankAccount(
    bankAccount: {
      name: $name
      description: $description
      au: $au
      uk: $uk
      eu: $eu
      paymentProviders: $paymentProviders
    }
  ) {
    bankAccountId
  }
}
`,Cs=v.J1`
  mutation AddSettingsKyc(
    $name: String!
    $description: String
    $targetKycProviders: [KycProvider!]
    $targetUserType: UserType!
    $targetUserModes: [UserMode!]
    $targetFilterType: SettingsKycTargetFilterType!
    $targetFilterValues: [String!]
    $levelIds: [String!]
    $requireUserFullName: Boolean
    $requireUserPhone: Boolean
    $requireUserBirthday: Boolean
    $requireUserAddress: Boolean
    $requireUserFlatNumber: Boolean
  ) {
    addSettingsKyc(
      settings: {
        name: $name
        description: $description
        targetKycProviders: $targetKycProviders
        targetUserType: $targetUserType
        targetUserModes: $targetUserModes
        targetFilterType: $targetFilterType
        targetFilterValues: $targetFilterValues
        requireUserFullName: $requireUserFullName
        requireUserPhone: $requireUserPhone
        requireUserBirthday: $requireUserBirthday
        requireUserAddress: $requireUserAddress
        requireUserFlatNumber: $requireUserFlatNumber
        levelIds: $levelIds
      }
    ) {
      settingsKycId
    }
  }
`,ks=v.J1`
  mutation AddSettingsKycTier(
    $name: String!
    $description: String
    $amount: Float
    $default: Boolean
    $targetKycProviders: [KycProvider!]
    $targetUserType: UserType!
    $targetUserModes: [UserMode!]
    $targetFilterType: SettingsKycTargetFilterType!
    $targetFilterValues: [String!]
    $levelId: String!
    $requireUserFullName: Boolean
    $requireUserPhone: Boolean
    $requireUserBirthday: Boolean
    $requireUserAddress: Boolean
    $requireUserFlatNumber: Boolean
  ) {
    addSettingsKycTier(
      settings: {
        name: $name
        description: $description
        amount: $amount
        default: $default
        targetKycProviders: $targetKycProviders
        targetUserType: $targetUserType
        targetUserModes: $targetUserModes
        targetFilterType: $targetFilterType
        targetFilterValues: $targetFilterValues
        requireUserFullName: $requireUserFullName
        requireUserPhone: $requireUserPhone
        requireUserBirthday: $requireUserBirthday
        requireUserAddress: $requireUserAddress
        requireUserFlatNumber: $requireUserFlatNumber
        levelId: $levelId
      }
    )
  }
`,Fs=v.J1`
  mutation AddSettingsKycLevel(
    $name: String!
    $description: String
    $userType: UserType!
    $originalLevelName: String!
    $originalFlowName: String!
    $data: String!
  ) {
    addSettingsKycLevel(
      settingsLevel: {
        name: $name
        description: $description
        userType: $userType
        data: $data
        originalLevelName: $originalLevelName
        originalFlowName: $originalFlowName
      }
    ) {
      settingsKycLevelId
    }
  }
`,Ts=v.J1`
mutation AddBlackCountry(
  $countryCode2: String!
) {
  addBlackCountry(
    countryCode2: $countryCode2
  ) {
    countryCode2
  }
}
`,xs=v.J1`
  mutation CreateWidget(
    $userId: String!
    $name: String!
    $description: String
    $countriesCode2: [String!]
    $currenciesCrypto: [String!]
    $currenciesFiat: [String!]
    $destinationAddress: [WidgetDestinationInput]
    $instruments: [PaymentInstrument!]
    $liquidityProvider: LiquidityProvider
    $paymentProviders: [String!]
    $transactionTypes: [TransactionType!]
    $additionalSettings: String,
    $secret: String, 
    $allowToPayIfKycFailed: Boolean
    $newVaultPerTransaction: Boolean
    $fee: Float
    $masked: Boolean
    $merchantFeeDestinationAddress: [WidgetDestinationInput!]
    $merchantFeeMinAmount: Float
    $merchantFeePercent: Float
  ) {
    createWidget(
      userId: $userId
      widget: {
        name: $name
        description: $description
        additionalSettings: $additionalSettings
        transactionTypes: $transactionTypes
        currenciesCrypto: $currenciesCrypto
        currenciesFiat: $currenciesFiat
        destinationAddress: $destinationAddress
        countriesCode2: $countriesCode2
        instruments: $instruments
        paymentProviders: $paymentProviders
        liquidityProvider: $liquidityProvider
        secret: $secret,
        allowToPayIfKycFailed: $allowToPayIfKycFailed
        newVaultPerTransaction: $newVaultPerTransaction
        fee: $fee
        masked: $masked
        merchantFeeAddress: $merchantFeeDestinationAddress
        merchantFeeMinAmount: $merchantFeeMinAmount
        merchantFeePercent: $merchantFeePercent
      }
    ) {
      widgetId
    }
  }
`,ws=v.J1`
  mutation UpdateWidget(
    $widgetId: String
    $userId: String!
    $name: String!
    $description: String
    $countriesCode2: [String!]
    $currenciesCrypto: [String!]
    $currenciesFiat: [String!]
    $destinationAddress: [WidgetDestinationInput]
    $instruments: [PaymentInstrument!]
    $liquidityProvider: LiquidityProvider
    $paymentProviders: [String!]
    $transactionTypes: [TransactionType!]
    $additionalSettings: String
    $secret: String,
    $allowToPayIfKycFailed: Boolean
    $newVaultPerTransaction: Boolean
    $fee: Float
    $masked: Boolean
    $merchantFeeDestinationAddress: [WidgetDestinationInput!]
    $merchantFeeMinAmount: Float
    $merchantFeePercent: Float
  ) {
    updateWidget(
      widgetId: $widgetId,
      widget: {
        userId: $userId
        name: $name
        description: $description
        additionalSettings: $additionalSettings
        transactionTypes: $transactionTypes
        currenciesCrypto: $currenciesCrypto
        currenciesFiat: $currenciesFiat
        destinationAddress: $destinationAddress
        countriesCode2: $countriesCode2
        instruments: $instruments
        paymentProviders: $paymentProviders
        liquidityProvider: $liquidityProvider
        secret: $secret,
        allowToPayIfKycFailed: $allowToPayIfKycFailed
        newVaultPerTransaction: $newVaultPerTransaction
        fee: $fee
        masked: $masked
        merchantFeeAddress: $merchantFeeDestinationAddress
        merchantFeeMinAmount: $merchantFeeMinAmount
        merchantFeePercent: $merchantFeePercent
      }
    ) {
      widgetId
    }
  }
`,Ss=v.J1`
  mutation DeleteBlackCountry(
    $countryCode2: String!
  ) {
    deleteBlackCountry(
      countryCode2: $countryCode2
    ) {
      countryCode2
    }
  }
`,Ds=v.J1`
  mutation DeleteWidget(
    $widgetId: String
  ) {
    deleteWidget(
      widgetId: $widgetId
    ) {
      widgetId
    }
  }
`,Is=v.J1`
mutation UpdateUserVault(
  $userId: ID!
  $vaultId: String!
  $vaultName: String!
) {
  updateUserVault(
    userId: $userId
    vaultId: $vaultId
    vaultName: $vaultName
  ) {
    id
  }
}
`,Es=v.J1`
mutation UpdateUserFilters(
  $filters: UserFilterInput
) {
  updateUserFilters(
    filters: $filters
  ) {
    actions
    cryptoWallets
    customers
    dashboard
    fiatWallets
    risks
    transactions
    transactionsHistory
    users
    widgets
    notifications
    messages
  }
}
`,Ps=v.J1`
mutation UpdateUser(
  $userId: ID!
  $email: String!,
  $changePasswordRequired: Boolean,
  $firstName: String
  $lastName: String
  $birthday: DateTime
  $gender: Gender
  $countryCode2: String
  $countryCode3: String
  $postCode: String
  $town: String
  $street: String
  $subStreet: String
  $stateName: String
  $buildingName: String
  $buildingNumber: String
  $flatNumber: String
  $phone: String
  $risk: RiskLevel
  $accountStatus: AccountStatus
  $kycTierId: String
  $defaultFiatCurrency: String
  $defaultCryptoCurrency: String
  $kycProvider: KycProvider
  $comment: String
  $flag: Boolean
  $companyName: String
  $widgetId: String
  $affiliateId: String
) {
  updateUser(
    userId: $userId
    user: {
      email: $email
      changePasswordRequired: $changePasswordRequired
      firstName: $firstName
      lastName: $lastName
      birthday: $birthday
      gender: $gender
      countryCode2: $countryCode2
      countryCode3: $countryCode3
      postCode: $postCode
      town: $town
      street: $street
      subStreet: $subStreet
      stateName: $stateName
      buildingName: $buildingName
      buildingNumber: $buildingNumber
      flatNumber: $flatNumber
      phone: $phone
      risk: $risk
      accountStatus: $accountStatus
      kycTierId: $kycTierId
      defaultFiatCurrency: $defaultFiatCurrency
      defaultCryptoCurrency: $defaultCryptoCurrency
      kycProvider: $kycProvider
      comment: $comment
      flag: $flag
      companyName: $companyName
      widgetId: $widgetId
      affiliateId: $affiliateId
    }
  ) {
    userId
  }
}
`,As=v.J1`
mutation CreateUser(
  $roles: [String!]
  $email: String!
  $type: UserType!
  $mode: UserMode!
  $changePasswordRequired: Boolean
  $firstName: String
  $lastName: String
  $birthday: DateTime
  $gender: Gender
  $countryCode2: String
  $countryCode3: String
  $postCode: String
  $town: String
  $street: String
  $subStreet: String
  $stateName: String
  $buildingName: String
  $buildingNumber: String
  $flatNumber: String
  $phone: String
  $risk: RiskLevel
  $accountStatus: AccountStatus
  $kycTierId: String
  $defaultFiatCurrency: String
  $defaultCryptoCurrency: String
  $kycProvider: KycProvider
  $comment: String
  $companyName: String
) {
  createUser(
    user: {
      email: $email
      type: $type
      mode: $mode
      changePasswordRequired: $changePasswordRequired
      firstName: $firstName
      lastName: $lastName
      birthday: $birthday
      gender: $gender
      countryCode2: $countryCode2
      countryCode3: $countryCode3
      postCode: $postCode
      town: $town
      street: $street
      subStreet: $subStreet
      stateName: $stateName
      buildingName: $buildingName
      buildingNumber: $buildingNumber
      flatNumber: $flatNumber
      phone: $phone
      risk: $risk
      accountStatus: $accountStatus
      kycTierId: $kycTierId
      defaultFiatCurrency: $defaultFiatCurrency
      defaultCryptoCurrency: $defaultCryptoCurrency
      kycProvider: $kycProvider
      comment: $comment
      companyName: $companyName
    }
    roles: $roles
  ) {
    userId
  }
}
`,Rs=v.J1`
mutation DeleteUser(
  $customerId: ID!
) {
  deleteUser(
    userId: $customerId
  ) {
    userId
  }
}
`,Os=v.J1`
mutation RestoreUser(
  $customerId: ID!
) {
  restoreUser(
    userId: $customerId
  ) {
    userId
  }
}
`,js=v.J1`
mutation ConfirmUserEmail(
  $user_id: String!
) {
  confirmUserEmail(
    user_id: $user_id
  )
}
`,$s=v.J1`
mutation ConfirmUserDevice(
  $device_id: String!
) {
  confirmUserDevice(
    device_id: $device_id
  )
}
`,Ms=v.J1`
mutation CreateUserTransaction(
  $transactionType: TransactionType!,
  $source: TransactionSource!,
  $currencyToSpend: String!,
  $currencyToReceive: String!,
  $amountToSpend: Float!,
  $instrument: PaymentInstrument,
  $paymentProvider: String,
  $userId: String,
  $rate: Float
) {
  createUserTransaction(
    transaction: {
      type: $transactionType
      source: $source
      currencyToSpend: $currencyToSpend
      currencyToReceive: $currencyToReceive
      amountToSpend: $amountToSpend
      instrument: $instrument
      paymentProvider: $paymentProvider
    }
    userId: $userId
    rate: $rate
  ) {
    transactionId,
    code,
    feeFiat,
    feePercent,
    feeMinFiat,
    approxNetworkFee,
    data,
    userTier {
      name
      amount
      originalLevelName
      originalFlowName
    },
    requiredUserTier {
      name
      amount
      originalLevelName
      originalFlowName
    }
  }
}
`,Ns=v.J1`
mutation SimulateTransaction(
  $transactionType: TransactionType!,
  $source: TransactionSource!,
  $currencyToSpend: String!,
  $currencyToReceive: String!,
  $amountToSpend: Float!,
  $instrument: PaymentInstrument,
  $paymentProvider: String,
  $rate: Float,
  $userId: String
) {
  simulateTransaction(
    transaction: {
      type: $transactionType
      source: $source
      currencyToSpend: $currencyToSpend
      currencyToReceive: $currencyToReceive
      amountToSpend: $amountToSpend
      instrument: $instrument
      paymentProvider: $paymentProvider
    }
    rate: $rate
    userId: $userId
  ) {
    costSchema {
      name
      settingsCostId
    }

    feeSchema {
      name
      settingsFeeId
    }
  }
}
`,Vs=v.J1`
mutation CancelTransaction(
  $transactionId: String!
) {
  cancelTransaction(
    transactionId: $transactionId
  ) {
    userId
  }
}
`,Gs=v.J1`
mutation UnbenchmarkTransactions(
  $transactionIds: [String!]
) {
  unbenchmarkTransactions(
    transactionIds: $transactionIds
  ) {
    transactionId
  }
}
`,Bs=v.J1`
mutation UpdateTransaction(
  $transactionId: String!
  $currencyToSpend: String
  $currencyToReceive: String
  $amountToSpend: Float
  $amountToReceive: Float
  $rate: Float
  $feeFiat: Float
  $destination: String
  $status: TransactionStatus
  $kycStatus: TransactionKycStatus
  $accountStatus: AccountStatus
  $launchAfterUpdate: Boolean
  $recalculate: Boolean
  $transferOrder: TransactionUpdateTransferOrderChanges
  $benchmarkTransferOrder: TransactionUpdateTransferOrderChanges
  $refundTransferOrderChanges: TransactionUpdateRefundTransferOrderChanges
  $widgetUserParamsChanges: WidgetUserParamsChanges
  $comment: String
  $widgetId: String
  $flag: Boolean
  $merchantFeePercent: Float
  $feePercent: Float
  $type: TransactionType
  $paymentOrderChanges: TransactionUpdatePaymentOrderChanges
) {
  updateTransaction(
    transactionId: $transactionId
    recalculate: $recalculate
    transaction: {
      currencyToSpend: $currencyToSpend
      currencyToReceive: $currencyToReceive
      amountToSpend: $amountToSpend
      amountToReceive: $amountToReceive
      rate: $rate
      feeFiat: $feeFiat
      destination: $destination
      status: $status
      widgetId: $widgetId
      kycStatus: $kycStatus
      accountStatus: $accountStatus
      launchAfterUpdate: $launchAfterUpdate
      transferOrderChanges: $transferOrder
      benchmarkTransferOrderChanges: $benchmarkTransferOrder
      refundTransferOrderChanges: $refundTransferOrderChanges
      widgetUserParamsChanges: $widgetUserParamsChanges
      comment: $comment
      flag: $flag
      merchantFeePercent: $merchantFeePercent
      feePercent: $feePercent
      type: $type
      paymentOrderChanges: $paymentOrderChanges
    }
  ) {
    transactionId
  }
}
`,Us=v.J1`
mutation UpdateTransactionFlag(
  $transactionId: String!
  $flag: Boolean!
) {
  updateTransactionFlag(
    transactionId: $transactionId
    flag: $flag
  ) {
    transactionId
  }
}
`,Ls=v.J1`
mutation UpdateUserFlag(
  $userId: ID!
  $flag: Boolean!
) {
  updateUserFlag(
    userId: $userId
    flag: $flag
  ) {
    userId
  }
}
`,Ys=v.J1`
mutation SendAdminNotification(
  $notifiedUserIds: [String!]
  $title: String
  $text: String
  $level: UserNotificationLevel
) {
  sendAdminNotification(
    notifiedUserIds: $notifiedUserIds
    title: $title
    text: $text
    level: $level
  ) {
    userNotificationId
  }
}
`,qs=v.J1`
mutation ResendNotification(
  $notificationId: String
) {
  resendNotification(
    notificationId: $notificationId
  ) {
    userNotificationId
  }
}
`,Ws=v.J1`
mutation AssignRole(
  $userId: ID!
  $roleCodes: [String!]
) {
  assignRole(
    userId: $userId
    roleCodes: $roleCodes
  ) {
    userId
  }
}
`,Xs=v.J1`
mutation RemoveRole(
  $userId: ID!
  $roleCodes: [String!]
) {
  removeRole(
    userId: $userId
    roleCodes: $roleCodes
  ) {
    userId
  }
}
`,zs=v.J1`
  mutation CreateUserApiKey(
    $userId: String!
  ) {
    createUserApiKey(
      userId: $userId
    ) {
      apiKeyId
      secret
    }
  }
`,Hs=v.J1`
  mutation SetCurrencyPairLiquidityProvider(
    $fromCurrency: String!,
    $toCurrency: String!,
    $liquidityProviderId: String!
    $fixedRate: Float
  ) {
    setCurrencyPairLiquidityProvider(
      fromCurrency: $fromCurrency
      toCurrency: $toCurrency
      liquidityProviderId: $liquidityProviderId
      fixedRate: $fixedRate
    ) {
      currencyPairLiquidityProviderId
      fromCurrency
      toCurrency
      liquidityProviderId
      liquidityProviderName
      fixedRate
      deleted
    }
  }
`,Ks=v.J1`
  mutation DeleteCurrencyPair(
    $currencyPairLiquidityProviderId: String!
  ) {
    delCurrencyPairLiquidityProvider(
      currencyPairLiquidityProviderId: $currencyPairLiquidityProviderId
    ) {
      currencyPairLiquidityProviderId
    }
  }
`,Js=v.J1`
  mutation DeleteUserApiKey(
    $apiKeyId: String!
  ) {
    deleteUserApiKey(
      apiKeyId: $apiKeyId
    ) {
      apiKeyId
    }
  }
`,Qs=v.J1`
mutation DeleteDevice(
  $deviceIds: [String]
) {
  deleteDevice(
    deviceIds: $deviceIds
  ) {
    count
  }
}
`,Zs=v.J1`
mutation ExportTransactionsToCsv(
  $transactionIdsOnly: [String!]
  $userIdsOnly: [String!]
  $sourcesOnly: [TransactionSource!]
  $widgetIdsOnly: [String!]
  $countriesOnly: [String!]
  $countryCodeType: CountryCodeType
  $accountTypesOnly: [UserType!]
  $transactionTypesOnly: [TransactionType!]
  $transactionStatusesOnly: [String!]
  $userTierLevelsOnly: [String!]
  $riskLevelsOnly: [String!]
  $paymentInstrumentsOnly: [PaymentInstrument!]
  $createdDateInterval: DateTimeInterval
  $completedDateInterval: DateTimeInterval
  $walletAddressOnly: String
  $filter: String
  $orderBy: [OrderBy!]) {
  exportTransactionsToCsv (
    transactionIdsOnly: $transactionIdsOnly
    userIdsOnly: $userIdsOnly
    sourcesOnly: $sourcesOnly
    widgetIdsOnly: $widgetIdsOnly
    countriesOnly: $countriesOnly
    countryCodeType: $countryCodeType
    accountTypesOnly: $accountTypesOnly
    transactionTypesOnly: $transactionTypesOnly
    transactionStatusesOnly: $transactionStatusesOnly
    userTierLevelsOnly: $userTierLevelsOnly
    riskLevelsOnly: $riskLevelsOnly
    paymentInstrumentsOnly: $paymentInstrumentsOnly
    createdDateInterval: $createdDateInterval
    completedDateInterval: $completedDateInterval
    walletAddressOnly: $walletAddressOnly
    filter: $filter
    orderBy: $orderBy
  )
}
`,el=v.J1`
mutation ExportUsersToCsv(
  $userIdsOnly: [String!]
  $roleIdsOnly: [String!]
  $accountTypesOnly: [UserType!]
  $accountModesOnly: [UserMode!]
  $accountStatusesOnly: [AccountStatus!]
  $userTierLevelsOnly: [String!]
  $riskLevelsOnly: [RiskLevel!]
  $countriesOnly: [String!]
  $countryCodeType: CountryCodeType!
  $kycStatusesOnly: [KycStatus!]
  $registrationDateInterval: DateTimeInterval
  $widgetIdsOnly: [String!]
  $totalBuyVolumeOver: Int
  $transactionCountOver: Int
  $filter: String
  $orderBy: [OrderBy!]) {
  exportUsersToCsv (
    userIdsOnly: $userIdsOnly
    roleIdsOnly: $roleIdsOnly
    accountTypesOnly: $accountTypesOnly
    accountModesOnly: $accountModesOnly
    accountStatusesOnly: $accountStatusesOnly
    userTierLevelsOnly: $userTierLevelsOnly
    riskLevelsOnly: $riskLevelsOnly
    countriesOnly: $countriesOnly
    countryCodeType: $countryCodeType
    kycStatusesOnly: $kycStatusesOnly
    registrationDateInterval: $registrationDateInterval
    widgetIdsOnly: $widgetIdsOnly
    totalBuyVolumeOver: $totalBuyVolumeOver
    transactionCountOver: $transactionCountOver
    filter: $filter,
    orderBy: $orderBy
  )
}
`,tl=v.J1`
mutation ExportWidgetsToCsv(
  $widgetIdsOnly: [String!]
  $userIdsOnly: [String!]
  $filter: String
  $orderBy: [OrderBy!]) {
  exportWidgetsToCsv (
    widgetIdsOnly: $widgetIdsOnly,
      userIdsOnly: $userIdsOnly,
      filter: $filter,
      orderBy: $orderBy
  )
}
`,al=v.J1`
  mutation UpdateSettingsFee(
    $settingsId: ID!
    $name: String!
    $description: String
    $targetFilterType: SettingsFeeTargetFilterType!
    $targetFilterValues: [String!]
    $targetInstruments: [PaymentInstrument!]
    $targetUserTypes: [UserType!]
    $targetUserModes: [UserMode!]
    $targetTransactionTypes: [TransactionType!]
    $targetPaymentProviders: [String!]
    $terms: String!
    $wireDetails: String!
    $targetCurrenciesFrom: [String!]
    $targetCurrenciesTo: [String!]
    $widgetIds: [String]
  ) {
    updateSettingsFee(
      settingsId: $settingsId
      settings: {
        name: $name
        description: $description
        targetFilterType: $targetFilterType
        targetFilterValues: $targetFilterValues
        targetInstruments: $targetInstruments
        targetUserTypes: $targetUserTypes
        targetUserModes: $targetUserModes
        targetTransactionTypes: $targetTransactionTypes
        targetPaymentProviders: $targetPaymentProviders
        terms: $terms
        wireDetails: $wireDetails
        targetCurrenciesFrom: $targetCurrenciesFrom
        targetCurrenciesTo: $targetCurrenciesTo
        widgetIds: $widgetIds
      }
    ) {
      settingsFeeId
    }
  }
`,nl=v.J1`
  mutation AssignCostToFees(
    $settingsIds: [ID!], 
    $costId: ID!
  ) {
    assignCostToFees(
      settingsIds: $settingsIds
      costId: $costId
    ) {
      settingsFeeId
    }
  }
`,il=v.J1`
  mutation UpdateSettingsCost(
    $settingsId: ID!
    $name: String!
    $description: String
    $bankAccountIds: [String!]
    $targetFilterType: SettingsCostTargetFilterType!
    $targetFilterValues: [String!]
    $targetInstruments: [PaymentInstrument!]
    $targetTransactionTypes: [TransactionType!]
    $targetPaymentProviders: [String!]
    $terms: String!
    $widgetIds: [String]
  ) {
    updateSettingsCost(
      settingsId: $settingsId
      settings: {
        name: $name
        description: $description
        bankAccountIds: $bankAccountIds
        targetFilterType: $targetFilterType
        targetFilterValues: $targetFilterValues
        targetInstruments: $targetInstruments
        targetTransactionTypes: $targetTransactionTypes
        targetPaymentProviders: $targetPaymentProviders
        terms: $terms
        widgetIds: $widgetIds
      }
    ) {
      settingsCostId
    }
  }
`,rl=v.J1`
  mutation UpdateWireTransferBankAccount(
    $bankAccountId: ID!
    $name: String!
    $description: String
    $au: String
    $uk: String
    $eu: String
    $paymentProviders: [String]
  ) {
    updateWireTransferBankAccount(
      bankAccountId: $bankAccountId
      bankAccount: {
        name: $name
        description: $description
        au: $au
        uk: $uk
        eu: $eu
        paymentProviders: $paymentProviders
      }
    ) {
      bankAccountId
    }
  }
`,ol=v.J1`
  mutation UpdateSettingsKyc(
    $settingsId: ID!
    $name: String!
    $description: String
    $targetKycProviders: [KycProvider!]
    $targetUserType: UserType!
    $targetUserModes: [UserMode!]
    $targetFilterType: SettingsKycTargetFilterType!
    $targetFilterValues: [String!]
    $requireUserFullName: Boolean
    $requireUserPhone: Boolean
    $requireUserBirthday: Boolean
    $requireUserAddress: Boolean
    $requireUserFlatNumber: Boolean
    $levelIds: [String!]
  ) {
    updateSettingsKyc(
      settingsId: $settingsId
      settings: {
        name: $name
        description: $description
        targetKycProviders: $targetKycProviders
        targetUserType: $targetUserType
        targetUserModes: $targetUserModes
        targetFilterType: $targetFilterType
        targetFilterValues: $targetFilterValues
        requireUserFullName: $requireUserFullName
        requireUserPhone: $requireUserPhone
        requireUserBirthday: $requireUserBirthday
        requireUserAddress: $requireUserAddress
        requireUserFlatNumber: $requireUserFlatNumber
        levelIds: $levelIds
      }
    ) {
      settingsKycId
    }
  }
`,sl=v.J1`
  mutation UpdateSettingsKycTier(
    $settingsId: ID!
    $name: String!
    $description: String
    $amount: Float
    $default: Boolean
    $targetKycProviders: [KycProvider!]
    $targetUserType: UserType!
    $targetUserModes: [UserMode!]
    $targetFilterType: SettingsKycTargetFilterType!
    $targetFilterValues: [String!]
    $requireUserFullName: Boolean
    $requireUserPhone: Boolean
    $requireUserBirthday: Boolean
    $requireUserAddress: Boolean
    $requireUserFlatNumber: Boolean
    $levelId: String
  ) {
    updateSettingsKycTier(
      settingsId: $settingsId
      settings: {
        name: $name
        description: $description
        amount: $amount
        default: $default
        targetKycProviders: $targetKycProviders
        targetUserType: $targetUserType
        targetUserModes: $targetUserModes
        targetFilterType: $targetFilterType
        targetFilterValues: $targetFilterValues
        requireUserFullName: $requireUserFullName
        requireUserPhone: $requireUserPhone
        requireUserBirthday: $requireUserBirthday
        requireUserAddress: $requireUserAddress
        requireUserFlatNumber: $requireUserFlatNumber
        levelId: $levelId
      }
    )
  }
`,ll=v.J1`
  mutation UpdateSettingsKycLevel(
    $settingsId: ID!
    $name: String!
    $description: String
    $userType: UserType!
    $originalLevelName: String!
    $originalFlowName: String!
    $data: String!
  ) {
    updateSettingsKycLevel(
      settingsLevelId: $settingsId
      settingsLevel: {
        name: $name
        description: $description
        userType: $userType
        data: $data
        originalLevelName: $originalLevelName
        originalFlowName: $originalFlowName
      }
    ) {
      settingsKycLevelId
    }
  }
`,dl=v.J1`
  mutation DeleteSettingsFee($settingsId: ID!) {
    deleteSettingsFee(settingsId: $settingsId) {
      settingsFeeId
    }
  }
`,cl=v.J1`
  mutation DisableSettingsFee($settingsId: ID!) {
    disableSettingsFee(settingsId: $settingsId) {
      settingsFeeId
    }
  }
`,ml=v.J1`
  mutation EnableSettingsFee($settingsId: ID!) {
   enableSettingsFee(settingsId: $settingsId) {
      settingsFeeId
    }
  }
`,pl=v.J1`
  mutation DeleteSettingsCost($settingsId: ID!) {
    deleteSettingsCost(settingsId: $settingsId) {
      settingsCostId
    }
  }
`,ul=v.J1`
  mutation DeleteWireTransferBankAccount($bankAccountId: ID!) {
    deleteWireTransferBankAccount(bankAccountId: $bankAccountId) {
      bankAccountId
    }
  }
`,hl=v.J1`
  mutation DeleteSettingsKyc($settingsId: ID!) {
    deleteSettingsKyc(settingsId: $settingsId) {
      settingsKycId
    }
  }
`,fl=v.J1`
  mutation DeleteSettingsKycTier($settingsId: ID!) {
    deleteSettingsKycTier(settingsId: $settingsId) {
      settingsKycTierId
    }
  }
`,gl=v.J1`
  mutation DeleteSettingsKycLevel($settingsId: ID!) {
    deleteSettingsKycLevel(settingsId: $settingsId) {
      settingsKycLevelId
    }
  }
`;let E=(()=>{class a{constructor(t,i,n,o,s){this.router=t,this.apollo=i,this.auth=n,this.errorHandler=o,this.snackBar=s,this.activeQueryCounter=0,this.isBusySubject=new Me.t(!1)}get isBusy(){return this.isBusySubject.asObservable()}getDashboardStats(t){return this.watchQuery({query:Oo,variables:{createdDateInterval:t.createdDateInterval,completedDateInterval:t.completedDateInterval,updateDateInterval:t.updatedDateInterval,userIdsOnly:t.user?[t.user]:[],widgetIdsOnly:t.widgetNames,sourcesOnly:t.sources,countriesOnly:t.countries,countryCodeType:c.UR.Code3,accountTypesOnly:t.accountTypes,fiatCurrency:t.fiatCurrency},fetchPolicy:"network-only"}).pipe((0,b.T)(n=>n.data.getDashboardStats))}getDashboardMerchantStats(t){return this.watchQuery({query:jo,variables:{createdDateInterval:t.createdDateInterval,completedDateInterval:t.completedDateInterval,updateDateInterval:t.updatedDateInterval,userIdsOnly:t.user?[t.user]:[],widgetIdsOnly:t.widgetNames,sourcesOnly:t.sources,countriesOnly:t.countries,countryCodeType:c.UR.Code3,accountTypesOnly:t.accountTypes,fiatCurrency:t.fiatCurrency},fetchPolicy:"network-only"}).pipe((0,b.T)(n=>n.data.getDashboardMerchantStats))}getFeeSettings(){return this.watchQuery({query:$o,fetchPolicy:"network-only"}).pipe((0,b.T)(t=>t.data?.getSettingsFee?.list&&t.data?.getSettingsFee?.count?{list:t.data.getSettingsFee.list.map(i=>new ln(i)),count:t.data.getSettingsFee.count}:{list:[],count:0}))}getCostSettings(){return this.apollo.watchQuery({query:Mo,fetchPolicy:"network-only"})}getWireTransferBankAccounts(){return this.apollo.watchQuery({query:No,fetchPolicy:"network-only"})}getSettingsKycTiers(t){return this.watchQuery({query:Vo,variables:{userId:""!==t?t:void 0},fetchPolicy:"network-only"}).pipe((0,b.T)(i=>i.data?.getSettingsKycTiers?.list&&i.data?.getSettingsKycTiers?.count?{list:i.data.getSettingsKycTiers.list,count:i.data.getSettingsKycTiers.count}:{list:[],count:0}))}getKycTiers(){return this.watchQuery({query:Go,fetchPolicy:"network-only"}).pipe((0,b.T)(t=>t.data?.getSettingsKycTiers?.list&&t.data?.getSettingsKycTiers?.count?{list:t.data.getSettingsKycTiers.list.map(i=>new dt.Kn(i)),count:t.data.getSettingsKycTiers.count}:{list:[],count:0}))}getKycSettings(){return this.watchQuery({query:Bo,fetchPolicy:"network-only"}).pipe((0,b.T)(t=>t.data?.getSettingsKyc?.list&&t.data?.getSettingsKyc?.count?{list:t.data.getSettingsKyc.list.map(i=>new dt.TJ(i)),count:t.data.getSettingsKyc.count}:{list:[],count:0}))}getKycLevels(t){const i=null===t?"":t?.toString();return this.watchQuery({query:Uo,variables:{filter:i},fetchPolicy:"network-only"}).pipe((0,b.T)(n=>n.data?.getSettingsKycLevels?.list&&n.data?.getSettingsKycLevels?.count?{list:n.data.getSettingsKycLevels.list.map(o=>new dt.CC(o)),count:n.data.getSettingsKycLevels.count}:{list:[],count:0}))}getCountryBlackList(){return this.apollo.watchQuery({query:Wo,fetchPolicy:"network-only"})}getMessages(t,i,n,o,s){return this.watchQuery({query:Yo,variables:{filter:s?.search,skip:t*i,first:i,orderBy:[{orderBy:n,desc:o}]},fetchPolicy:"network-only"}).pipe((0,b.T)(m=>m.data?.getMessages?.list&&m.data?.getMessages?.count?{list:m.data.getMessages.list.map(u=>new Ro(u)),count:m.data.getMessages.count}:{list:[],count:0}))}getNotifications(t,i,n,o,s){return this.watchQuery({query:Lo,variables:{filter:s?.search,userNotificationTypeCode:s?.notificationType,skip:t*i,first:i,orderBy:[{orderBy:n,desc:o}]},fetchPolicy:"network-only"}).pipe((0,b.T)(m=>m.data?.getNotifications?.list&&m.data?.getNotifications?.count?{list:m.data.getNotifications.list.map(u=>new Do.r(u)),count:m.data.getNotifications.count}:{list:[],count:0}))}getUserActions(t,i,n,o,s){return this.watchQuery({query:qo,variables:{filter:s?.search,skip:t*i,first:i,orderBy:[{orderBy:n,desc:o}],userId:s?.user,resultsOnly:s?.resultsOnly,statusesOnly:s?.statusesOnly,actionTypesOnly:s?.userActionTypes,createdDateInterval:s?.createdDateInterval},fetchPolicy:"network-only"}).pipe((0,b.T)(m=>m.data?.getUserActions?.list&&m.data?.getUserActions?.count?{list:m.data.getUserActions.list.map(u=>new Ce.Ff(u)),count:m.data.getUserActions.count}:{list:[],count:0}))}getRiskAlerts(t,i,n,o,s){return this.watchQuery({query:Xo,variables:{userId:s?.user??null,code:s?.riskAlertCode,filter:s?.search,skip:t*i,first:i,orderBy:[{orderBy:n,desc:o}]},fetchPolicy:"network-only"}).pipe((0,b.T)(m=>m.data?.getRiskAlerts?.list&&m.data?.getRiskAlerts?.count?{list:m.data.getRiskAlerts.list.map(u=>new Io(u)),count:m.data.getRiskAlerts.count}:{list:[],count:0}))}getRiskAlertTypes(){return this.watchQuery({query:zo,fetchPolicy:"network-only"}).pipe((0,b.T)(t=>t.data.getRiskAlertTypes))}getDevices(t){return this.watchQuery({query:Ho,fetchPolicy:"network-only"}).pipe((0,b.T)(i=>i.data?.getDevices?.list&&i.data?.getDevices?.count?{list:i.data.getDevices.list.filter(n=>n?.userId===t).map(n=>new Ce.UD(n)),count:i.data.getDevices.count}:{list:[],count:0}))}getTransaction(t){return this.watchQuery({query:pn,variables:{transactionIdsOnly:[t],filter:void 0,skip:0,first:1},fetchPolicy:"network-only"}).pipe((0,b.T)(i=>{const n=i?.data?.getTransactions.list;return n&&1===n.length?new na.R4(n[0]):void 0}))}getTransactions(t,i,n,o,s){let l=[];return s?.widgets&&(l=l.concat(s.widgets)),s?.widgetNames&&(l=l.concat(s.widgetNames)),this.watchQuery({query:pn,variables:{transactionIdsOnly:s?.transactionIds,accountTypesOnly:s?.accountTypes,accountModesOnly:s?.accountModes,countriesOnly:s?.countries,countryCodeType:c.UR.Code3,sourcesOnly:s?.sources,from:s?.from,userIdsOnly:s?.users,widgetIdsOnly:l,flag:s?.transactionFlag,transactionWasEverCompleted:s?.transactionWasEverCompleted,recallNumber:s?.recallNumber,reversalProcessedDateInterval:s?.reversalProcessedInterval,recallRegisteredDateInterval:s?.recallRegisteredInterval,hasRecallNumber:s?.hasRecallNumber,preauth:s?.preauthFlag,fiatCurrency:s?.fiatCurrency,kycStatusesOnly:s?.transactionKycStatuses,transactionTypesOnly:s?.transactionTypes,transactionStatusesOnly:s?.transactionStatuses,userTierLevelsOnly:s?.tiers,riskLevelsOnly:s?.riskLevels,paymentInstrumentsOnly:s?.paymentInstruments,createdDateInterval:s?.createdDateInterval,completedDateInterval:s?.completedDateInterval,updateDateInterval:s?.updatedDateInterval,walletAddressOnly:s?.walletAddress,filter:s?.search,verifyWhenPaid:s?.verifyWhenPaid,skip:t*i,first:i,orderBy:[{orderBy:n,desc:o}]},fetchPolicy:"network-only"}).pipe((0,b.T)(u=>u.data?.getTransactions?.list&&u.data?.getTransactions?.count?{list:u.data.getTransactions.list.map(g=>new na.R4(g)),count:u.data.getTransactions.count}:{list:[],count:0}))}getTransactionLifeline(t){return this.watchQuery({query:ts,variables:{transactionId:t},fetchPolicy:"network-only"}).pipe((0,b.T)(i=>i?.data?.getTransactionLifelines?.lifeline.list||[]))}getTransactionStatusHistory(t,i,n,o,s){return this.watchQuery({query:Ko,variables:{transactionIds:s?.transactionIds,userIds:s?.users,statusesOnly:s?.transactionStatuses,createdDateInterval:s?.createdDateInterval,skip:t*i,first:i,orderBy:[{orderBy:n,desc:o}]},fetchPolicy:"network-only"}).pipe((0,b.T)(m=>m.data?.getTransactionStatusHistory?.list&&m.data?.getTransactionStatusHistory?.count?{list:m.data.getTransactionStatusHistory.list.map(u=>new na.q0(u)),count:m.data.getTransactionStatusHistory.count}:{list:[],count:0}))}getUsers(t,i,n,o,s,l){return this.watchQuery({query:un,variables:{userIdsOnly:l?.users,roleIdsOnly:t.length>0?t:void 0,accountTypesOnly:l?.accountTypes,accountModesOnly:l?.accountModes,accountStatusesOnly:l?.accountStatuses,userTierLevelsOnly:l?.tiers,riskLevelsOnly:l?.riskLevels,countriesOnly:l?.countries,countryCodeType:c.UR.Code3,kycStatusesOnly:l.kycStatuses,registrationDateInterval:l?.registrationDateInterval,widgetIdsOnly:l?.widgetNames,totalBuyVolumeOver:l?.totalBuyVolumeOver,transactionCountOver:l?.transactionCountOver,skip:i*n,first:n,orderBy:[{orderBy:o,desc:s}],filter:l?.search,verifyWhenPaid:l?.verifyWhenPaid,flag:l?.transactionFlag},fetchPolicy:"network-only"}).pipe((0,b.T)(u=>u.data?.getUsers?.list&&u.data?.getUsers?.count?{list:u.data.getUsers.list.map(g=>new Ce.Dn(g)),count:u.data.getUsers.count}:{list:[],count:0}))}getSystemUsers(t,i,n,o,s,l){return this.watchQuery({query:Jo,variables:{userIdsOnly:l?.users,roleIdsOnly:t.length>0?t:void 0,accountTypesOnly:l?.accountTypes,accountStatusesOnly:l?.accountStatuses,countriesOnly:l?.countries,countryCodeType:c.UR.Code3,registrationDateInterval:l?.registrationDateInterval,skip:i*n,first:n,orderBy:[{orderBy:o,desc:s}],filter:l?.search},fetchPolicy:"network-only"}).pipe((0,b.T)(u=>u.data?.getUsers?.list&&u.data?.getUsers?.count?{list:u.data.getUsers.list.map(g=>new Ce.Dn(g)),count:u.data.getUsers.count}:{list:[],count:0}))}findUsers(t){return this.watchQuery({query:Qo,variables:{userIdsOnly:t?.users,accountTypesOnly:t?.accountTypes,accountStatusesOnly:t?.accountStatuses,riskLevelsOnly:t?.riskLevels,countriesOnly:t?.countries,countryCodeType:c.UR.Code3,kycStatusesOnly:t.kycStatuses,registrationDateInterval:t?.registrationDateInterval,widgetIdsOnly:t?.widgets,totalBuyVolumeOver:t?.totalBuyVolumeOver,transactionCountOver:t?.transactionCountOver,skip:0,first:1e3,orderBy:[{orderBy:"email",desc:!0}],filter:t?.search},fetchPolicy:"network-only"}).pipe((0,b.T)(n=>n.data?.getUsers?.list&&n.data?.getUsers?.count?{list:n.data.getUsers.list.map(o=>new Ce.Dn(o)),count:n.data.getUsers.count}:{list:[],count:0}))}getUser(t){return this.watchQuery({query:un,variables:{userIdsOnly:[t],countryCodeType:c.UR.Code3,skip:0,first:1},fetchPolicy:"network-only"}).pipe((0,b.T)(i=>{const n=i?.data?.getUsers.list;return n&&1===n.length?new Ce.Dn(n[0]):void 0}))}getUserKycInfo(t){return this.watchQuery({query:Zo,variables:{userId:t},fetchPolicy:"network-only"}).pipe((0,b.T)(i=>i?.data?.getUserKycInfo??void 0))}getUserState(t){return this.watchQuery({query:es,variables:{userId:t},fetchPolicy:"network-only"}).pipe((0,b.T)(i=>i?.data?.getUserState??void 0))}getVerificationLink(t){return this.apollo.watchQuery({query:as,variables:{userId:t},fetchPolicy:"network-only"})}getWallets(t,i,n,o,s){return this.watchQuery({query:ns,variables:{userIdsOnly:s?.users,assetIdsOnly:s?.assets,zeroBalance:s?.zeroBalance,walletIdsOnly:s?.walletIds,filter:s?.search,skip:t*i,first:i,orderBy:[{orderBy:n,desc:o}]},fetchPolicy:"network-only"}).pipe((0,b.T)(m=>m.data?.getWallets?.list&&m.data?.getWallets?.count?{list:m.data.getWallets.list.map(u=>new wo(u)),count:m.data.getWallets.count}:{list:[],count:0}))}getFiatWallets(t,i,n,o,s){return this.watchQuery({query:is,variables:{userIdsOnly:s?.users,assetsOnly:s?.assets,vaultIdsOnly:s?.walletIds,zeroBalance:s?.zeroBalance,skip:t*i,first:i,orderBy:[{orderBy:n,desc:o}]},fetchPolicy:"network-only"}).pipe((0,b.T)(m=>m.data?.getFiatVaults?.list&&m.data?.getFiatVaults?.count?{list:m.data.getFiatVaults.list.map(u=>new So(u)),count:m.data.getFiatVaults.count}:{list:[],count:0}))}getWidgetIds(t,i,n,o,s){const l=[{orderBy:o,desc:s}],u={filter:null===t?"":t?.toString(),skip:i*n,first:n,orderBy:l};return this.watchQuery({query:rs,variables:u,fetchPolicy:"network-only"}).pipe((0,b.T)(g=>g.data?.getWidgets?.list&&g.data?.getWidgets?.count?{list:g.data.getWidgets.list.map(C=>new ia(C)),count:g.data.getWidgets.count}:{list:[],count:0}))}getWidgets(t,i,n,o,s){return this.watchQuery({query:os,variables:{userIdsOnly:s.users,widgetIdsOnly:s.widgets,filter:s.search,skip:t*i,first:i,orderBy:[{orderBy:n,desc:o}]},fetchPolicy:"network-only"}).pipe((0,b.T)(u=>u.data?.getWidgets?.list&&u.data?.getWidgets?.count?{list:u.data.getWidgets.list.map(g=>new ia(g)),count:u.data.getWidgets.count}:{list:[],count:0}))}getProviders(){return this.apollo.watchQuery({query:ss,fetchPolicy:"network-only"})}getSettingsCommon(){return void 0!==this.apollo.client?this.apollo.watchQuery({query:ls,fetchPolicy:"network-only"}):null}isPaymentOrderCompleted(t){return this.watchQuery({query:ds,variables:{transactionId:t},fetchPolicy:"network-only"}).pipe((0,b.T)(i=>i.data.isPaymentOrderCompleted))}getCurrencyPairLiquidityProviders(){return this.watchQuery({query:cs,fetchPolicy:"network-only"}).pipe((0,b.T)(t=>t.data?.getCurrencyPairLiquidityProviders?.list&&t.data?.getCurrencyPairLiquidityProviders?.count?{list:t.data.getCurrencyPairLiquidityProviders.list.map(i=>new Po(i)),count:t.data.getCurrencyPairLiquidityProviders.count}:{list:[],count:0}))}getLiquidityProviders(){return this.watchQuery({query:ms,fetchPolicy:"network-only"}).pipe((0,b.T)(t=>t.data?.getLiquidityProviders&&0!=t.data?.getLiquidityProviders?.length?{list:t.data.getLiquidityProviders.map(i=>new Ao(i)),count:t.data.getLiquidityProviders.length}:{list:[],count:0}))}getApiKeys(t,i,n,o){return this.watchQuery({query:ps,variables:{skip:t*i,first:i,orderBy:[{orderBy:n,desc:o}]},fetchPolicy:"network-only"}).pipe((0,b.T)(l=>l.data?.getApiKeys?.list&&l.data?.getApiKeys?.count?{list:l.data.getApiKeys.list.map(m=>new mn.N(m)),count:l.data.getApiKeys.count}:{list:[],count:0}))}updateSettingsCommon(t){return this.mutate({mutation:us,variables:{settingsId:t.settingsCommonId,liquidityProvider:t.liquidityProvider,custodyProvider:t.custodyProvider,kycProvider:t.kycProvider,adminEmails:t.adminEmails,stoppedForServicing:t.stoppedForServicing,additionalSettings:t.additionalSettings}})}createPaymentProviderPayout(t,i){return this.mutate({mutation:hs,variables:{paymentProvider:t,type:i}})}createPaymentProviderRefund(t,i,n){return this.mutate({mutation:fs,variables:{paymentProvider:t,amount:i,transactionId:n}})}getFeeSettingsSimilar(t){return this.mutate({mutation:_s,variables:{name:t.name,description:t.description,targetFilterType:t.target,targetFilterValues:t.targetValues,targetInstruments:t.instrument,targetUserTypes:t.userType,targetUserModes:t.userMode,targetTransactionTypes:t.trxType,targetPaymentProviders:t.provider,targetCurrenciesFrom:t.currenciesFrom,targetCurrenciesTo:t.currenciesTo,terms:t.terms.getObject(),wireDetails:t.details.getObject(),widgetIds:t.widgetIds}}).pipe((0,b.T)(i=>i.data.settingsFeeSimilars))}saveFeeSettings(t){return this.mutate(t.id?{mutation:al,variables:{settingsId:t.id,name:t.name,description:t.description,targetFilterType:t.target,targetFilterValues:t.targetValues,targetInstruments:t.instrument,targetUserTypes:t.userType,targetUserModes:t.userMode,targetTransactionTypes:t.trxType,targetPaymentProviders:t.provider,terms:t.terms.getObject(),wireDetails:t.details.getObject(),targetCurrenciesFrom:t.currenciesFrom,targetCurrenciesTo:t.currenciesTo,widgetIds:t.widgetIds}}:{mutation:gs,variables:{name:t.name,description:t.description,targetFilterType:t.target,targetFilterValues:t.targetValues,targetInstruments:t.instrument,targetUserTypes:t.userType,targetUserModes:t.userMode,targetTransactionTypes:t.trxType,targetPaymentProviders:t.provider,targetCurrenciesFrom:t.currenciesFrom,targetCurrenciesTo:t.currenciesTo,terms:t.terms.getObject(),wireDetails:t.details.getObject(),widgetIds:t.widgetIds}})}getCostSettingsSimilar(t){return this.mutate({mutation:vs,variables:{name:t.name,description:t.description,bankAccountIds:t.bankAccountIds,targetFilterType:t.target,targetFilterValues:t.targetValues,targetInstruments:t.instrument,targetTransactionTypes:t.trxType,targetPaymentProviders:t.provider,terms:t.terms.getObject(),widgetIds:t.widgetIds}}).pipe((0,b.T)(i=>i.data.settingsCostSimilars))}saveCostSettings(t,i){return this.apollo.mutate(i?{mutation:bs,variables:{name:t.name,description:t.description,bankAccountIds:t.bankAccountIds,targetFilterType:t.target,targetFilterValues:t.targetValues,targetInstruments:t.instrument,targetTransactionTypes:t.trxType,targetPaymentProviders:t.provider,terms:t.terms.getObject(),widgetIds:t.widgetIds}}:{mutation:il,variables:{settingsId:t.id,name:t.name,description:t.description,bankAccountIds:t.bankAccountIds,targetFilterType:t.target,targetFilterValues:t.targetValues,targetInstruments:t.instrument,targetTransactionTypes:t.trxType,targetPaymentProviders:t.provider,terms:t.terms.getObject(),widgetIds:t.widgetIds}})}assignCostToFees(t,i){return this.mutate({mutation:nl,variables:{settingsIds:t,costId:i}})}saveBankAccountSettings(t,i){return this.apollo.mutate(i?{mutation:ys,variables:{name:t.name,description:t.description,au:t.au,uk:t.uk,eu:t.eu,paymentProviders:t.paymentProviders}}:{mutation:rl,variables:{bankAccountId:t.bankAccountId,name:t.name,description:t.description,au:t.au,uk:t.uk,eu:t.eu,paymentProviders:t.paymentProviders}})}saveKycSettings(t,i){return this.apollo.mutate(i?{mutation:Cs,variables:{name:t.name,description:t.description,targetFilterType:t.target,targetFilterValues:t.targetValues,targetKycProviders:t.kycProviders,targetUserType:t.userType,targetUserModes:t.userModes,requireUserFullName:t.requireUserFullName,requireUserPhone:t.requireUserPhone,requireUserBirthday:t.requireUserBirthday,requireUserAddress:t.requireUserAddress,requireUserFlatNumber:t.requireUserFlatNumber,levelIds:[t.levelId]}}:{mutation:ol,variables:{settingsId:t.id,name:t.name,description:t.description,targetFilterType:t.target,targetFilterValues:t.targetValues,targetKycProviders:t.kycProviders,targetUserType:t.userType,targetUserModes:t.userModes,requireUserFullName:t.requireUserFullName,requireUserPhone:t.requireUserPhone,requireUserBirthday:t.requireUserBirthday,requireUserAddress:t.requireUserAddress,requireUserFlatNumber:t.requireUserFlatNumber,levelIds:[t.levelId]}})}saveKycTierSettings(t,i){return this.apollo.mutate(i?{mutation:ks,variables:{name:t.name,description:t.description,amount:t.amount,default:t.isDefault,targetFilterType:t.target,targetFilterValues:t.targetValues,targetKycProviders:t.kycProviders,targetUserType:t.userType,targetUserModes:t.userModes,requireUserFullName:t.requireUserFullName,requireUserPhone:t.requireUserPhone,requireUserBirthday:t.requireUserBirthday,requireUserAddress:t.requireUserAddress,requireUserFlatNumber:t.requireUserFlatNumber,levelId:t.levelId}}:{mutation:sl,variables:{settingsId:t.id,name:t.name,description:t.description,amount:t.amount,default:t.isDefault,targetFilterType:t.target,targetFilterValues:t.targetValues,targetKycProviders:t.kycProviders,targetUserType:t.userType,targetUserModes:t.userModes,requireUserFullName:t.requireUserFullName,requireUserPhone:t.requireUserPhone,requireUserBirthday:t.requireUserBirthday,requireUserAddress:t.requireUserAddress,requireUserFlatNumber:t.requireUserFlatNumber,levelId:t.levelId}})}saveKycLevelSettings(t,i){return this.apollo.mutate(i?{mutation:Fs,variables:{name:t.name,description:t.description,userType:t.userType,originalLevelName:t.levelData.value,originalFlowName:t.flowData.value,data:t.getDataObject()}}:{mutation:ll,variables:{settingsId:t.id,name:t.name,description:t.description,userType:t.userType,originalLevelName:t.levelData.value,originalFlowName:t.flowData.value,data:t.getDataObject()}})}addBlackCountry(t){return this.apollo.mutate({mutation:Ts,variables:{countryCode2:t}})}saveWidget(t){return t.id?this.apollo.mutate({mutation:ws,variables:{widgetId:t.id,userId:t.userId,name:t.name,description:t.description,transactionTypes:t.transactionTypes,currenciesCrypto:t.currenciesCrypto,currenciesFiat:t.currenciesFiat,destinationAddress:t.destinationAddress,countriesCode2:t.countriesCode2,instruments:t.instruments,paymentProviders:t.paymentProviders,liquidityProvider:t.liquidityProvider,additionalSettings:t.additionalSettings,secret:t.secret,allowToPayIfKycFailed:t.allowToPayIfKycFailed,newVaultPerTransaction:t.newVaultPerTransaction,fee:t.fee,masked:t.masked,merchantFeeDestinationAddress:t.merchantFeeDestinationAddress,merchantFeeMinAmount:t.merchantFeeMinAmount,merchantFeePercent:t.merchantFeePercent}}).pipe((0,D.M)(()=>{this.snackBar.open("Widget was updated",void 0,{duration:5e3})})):this.apollo.mutate({mutation:xs,variables:{userId:t.userId,name:t.name,description:t.description,transactionTypes:t.transactionTypes,currenciesCrypto:t.currenciesCrypto,currenciesFiat:t.currenciesFiat,destinationAddress:t.destinationAddress,countriesCode2:t.countriesCode2,instruments:t.instruments,paymentProviders:t.paymentProviders,liquidityProvider:t.liquidityProvider,additionalSettings:t.additionalSettings,secret:t.secret,allowToPayIfKycFailed:t.allowToPayIfKycFailed,newVaultPerTransaction:t.newVaultPerTransaction,fee:t.fee,masked:t.masked,merchantFeeDestinationAddress:t.merchantFeeDestinationAddress}}).pipe((0,D.M)(()=>{this.snackBar.open("Widget was created",void 0,{duration:5e3})}))}updateUserFlag(t,i){return this.apollo.mutate({mutation:Ls,variables:{userId:i,flag:t}})}saveCustomer(t,i,n=["USER"]){return""===t?this.apollo.mutate({mutation:As,variables:{roles:n,type:i.type,mode:c.Pd.InternalWallet,email:i.email,changePasswordRequired:i.changePasswordRequired,firstName:i.firstName,lastName:i.lastName,gender:i.gender,birthday:i.birthday,countryCode2:i.countryCode2,countryCode3:i.countryCode3,postCode:i.postCode,town:i.town,street:i.street,subStreet:i.subStreet,stateName:i.stateName,buildingName:i.buildingName,buildingNumber:i.buildingNumber,flatNumber:i.flatNumber,phone:i.phone,risk:i.risk,accountStatus:i.accountStatus,kycTierId:i.kycTierId,defaultFiatCurrency:i.defaultFiatCurrency,defaultCryptoCurrency:i.defaultCryptoCurrency,kycProvider:i.kycProvider,comment:i.comment,flag:i.flag,companyName:i.companyName}}).pipe((0,D.M)(()=>{this.snackBar.open("User was created",void 0,{duration:5e3})})):this.apollo.mutate({mutation:Ps,variables:{userId:t,email:i.email,changePasswordRequired:i.changePasswordRequired,firstName:i.firstName,lastName:i.lastName,gender:i.gender,birthday:i.birthday,countryCode2:i.countryCode2,countryCode3:i.countryCode3,postCode:i.postCode,town:i.town,street:i.street,subStreet:i.subStreet,stateName:i.stateName,buildingName:i.buildingName,buildingNumber:i.buildingNumber,flatNumber:i.flatNumber,phone:i.phone,risk:i.risk,accountStatus:i.accountStatus,kycTierId:i.kycTierId,defaultFiatCurrency:i.defaultFiatCurrency,defaultCryptoCurrency:i.defaultCryptoCurrency,kycProvider:i.kycProvider,comment:i.comment,flag:i.flag,companyName:i.companyName,widgetId:i.widgetId,affiliateId:i.affiliateId}}).pipe((0,D.M)(()=>{this.snackBar.open("User was updated",void 0,{duration:5e3})}))}updateUserFilters(t){return this.apollo.mutate({mutation:Es,variables:{filters:t}}).pipe((0,D.M)(()=>{this.snackBar.open("User filter was updated",void 0,{duration:5e3})}))}updateUserVault(t){return this.apollo.mutate({mutation:Is,variables:{userId:t.userId,vaultId:t.vaultId,vaultName:t.vaultName}}).pipe((0,D.M)(()=>{this.snackBar.open("Wallet was updated",void 0,{duration:5e3})}))}deleteFeeSettings(t){return this.mutate({mutation:dl,variables:{settingsId:t}})}disableFeeSettings(t){return this.mutate({mutation:cl,variables:{settingsId:t}})}enableFeeSettings(t){return this.mutate({mutation:ml,variables:{settingsId:t}})}deleteCostSettings(t){return this.apollo.mutate({mutation:pl,variables:{settingsId:t}})}deleteBankAccountSettings(t){return this.apollo.mutate({mutation:ul,variables:{bankAccountId:t}})}deleteKycSettings(t){return this.apollo.mutate({mutation:hl,variables:{settingsId:t}})}deleteKycTierSettings(t){return this.apollo.mutate({mutation:fl,variables:{settingsId:t}})}deleteKycLevelSettings(t){return this.apollo.mutate({mutation:gl,variables:{settingsId:t}})}deleteBlackCountry(t){return this.apollo.mutate({mutation:Ss,variables:{countryCode2:t}})}deleteWidget(t){return this.mutate({mutation:Ds,variables:{widgetId:t}}).pipe((0,D.M)(()=>{this.snackBar.open("Widget was deleted",void 0,{duration:5e3})}))}deleteCustomer(t){return this.mutate({mutation:Rs,variables:{customerId:t}}).pipe((0,D.M)(()=>{this.snackBar.open("Customer was disabled",void 0,{duration:5e3})}))}restoreCustomer(t){return this.mutate({mutation:Os,variables:{customerId:t}}).pipe((0,D.M)(()=>{this.snackBar.open("Customer was restored",void 0,{duration:5e3})}))}confirmEmail(t){return this.mutate({mutation:js,variables:{user_id:t}})}confirmDevice(t){return this.mutate({mutation:$s,variables:{device_id:t}})}deleteTransaction(t){return this.mutate({mutation:Vs,variables:{transactionId:t}}).pipe((0,D.M)(()=>{this.snackBar.open("Transaction was cancelled",void 0,{duration:5e3})}))}createUserTransaction(t,i,n){return this.mutate({mutation:Ms,variables:{transactionType:t.type,source:t.source,currencyToSpend:t.currencyToSpend,currencyToReceive:t.currencyToReceive,amountToSpend:t.amountToSpend,instrument:t.instrument,paymentProvider:t.paymentProvider,userId:i,rate:n}}).pipe((0,D.M)(()=>{this.snackBar.open("Transaction was created",void 0,{duration:5e3})}))}simulateTransaction(t,i,n,o=void 0){return this.mutate({mutation:Ns,variables:{transactionType:t.type,source:t.source,currencyToSpend:t.currencyToSpend,currencyToReceive:t.currencyToReceive,amountToSpend:t.amountToSpend,instrument:t.instrument,paymentProvider:t.paymentProvider,widgetUserParamsId:o,rate:n,userId:i}}).pipe((0,b.T)(s=>s.data.simulateTransaction))}unbenchmarkTransaction(t){return this.mutate({mutation:Gs,variables:{transactionIds:t}}).pipe((0,D.M)(()=>{this.snackBar.open("Transactions were changed",void 0,{duration:5e3})}))}updateTransaction(t,i,n,o){const s={transactionId:t,launchAfterUpdate:n,recalculate:o,...i};return this.mutate({mutation:Bs,variables:s})}updateTransactionFlag(t,i){return this.mutate({mutation:Us,variables:{transactionId:i,flag:t}})}sendAdminNotification(t,i,n,o){return this.mutate({mutation:Ys,variables:{notifiedUserIds:t,title:n,text:o,level:i}}).pipe((0,D.M)(()=>{this.snackBar.open("Message was sent",void 0,{duration:5e3})}))}resendAdminNotification(t){return this.mutate({mutation:qs,variables:{notificationId:t}})}assignRole(t,i){return this.mutate({mutation:Ws,variables:{userId:t,roleCodes:i}}).pipe((0,D.M)(()=>this.snackBar.open("Roles are assigned",void 0,{duration:5e3})))}removeRole(t,i){return this.mutate({mutation:Xs,variables:{userId:t,roleCodes:i}}).pipe((0,D.M)(()=>this.snackBar.open("Roles are removed",void 0,{duration:5e3})))}createApiKey(t){return this.apollo.mutate({mutation:zs,variables:{userId:t}})}createCurrencyPair(t,i,n,o){return this.apollo.mutate({mutation:Hs,variables:{fromCurrency:t,toCurrency:i,liquidityProviderId:n,fixedRate:o}})}deleteCurrencyPair(t){return this.apollo.mutate({mutation:Ks,variables:{currencyPairLiquidityProviderId:t}})}deleteApiKey(t){return this.apollo.mutate({mutation:Js,variables:{apiKeyId:t}})}deleteDevice(t){return this.apollo.mutate({mutation:Qs,variables:{deviceIds:[t]}})}exportUsersToCsv(t,i,n,o,s){let l={};return l=0===t.length?{userIdsOnly:s?.users,roleIdsOnly:i.length>0?i:void 0,accountTypesOnly:s?.accountTypes,accountStatusesOnly:s?.accountStatuses,riskLevelsOnly:s?.riskLevels,countriesOnly:s?.countries,countryCodeType:c.UR.Code3,kycStatusesOnly:s.kycStatuses,registrationDateInterval:s?.registrationDateInterval,widgetIdsOnly:s?.widgets,totalBuyVolumeOver:s?.totalBuyVolumeOver,transactionCountOver:s?.transactionCountOver,orderBy:[{orderBy:n,desc:o}],filter:s?.search}:{userIdsOnly:t,roleIdsOnly:i.length>0?i:void 0,countryCodeType:c.UR.Code3,orderBy:[{orderBy:n,desc:o}]},this.apollo.mutate({mutation:el,variables:l})}exportTransactionsToCsv(t,i,n,o){let s={};return s=0===t.length?{transactionIdsOnly:o?.transactionIds,accountTypesOnly:o?.accountTypes,countriesOnly:o?.countries,countryCodeType:c.UR.Code3,sourcesOnly:o?.sources,userIdsOnly:o?.users,widgetIdsOnly:o?.widgets,transactionTypesOnly:o?.transactionTypes,transactionStatusesOnly:o?.transactionStatuses,userTierLevelsOnly:o?.tiers,riskLevelsOnly:o?.riskLevels,paymentInstrumentsOnly:o?.paymentInstruments,createdDateInterval:o?.createdDateInterval,completedDateInterval:o?.completedDateInterval,walletAddressOnly:o?.walletAddress,filter:o?.search,orderBy:[{orderBy:i,desc:n}]}:{transactionIdsOnly:t,countryCodeType:c.UR.Code3,orderBy:[{orderBy:i,desc:n}]},this.apollo.mutate({mutation:Zs,variables:s})}exportWidgetsToCsv(t,i,n,o){const s=[{orderBy:i,desc:n}];let l={};return l=0===t.length?{userIdsOnly:o.users,widgetIdsOnly:o.widgets,filter:o.search,orderBy:s}:{widgetIdsOnly:t,orderBy:s},this.apollo.mutate({mutation:tl,variables:l})}updateIsBusy(t){"on"===t?(this.activeQueryCounter++,this.isBusySubject.value||setTimeout(()=>{this.isBusySubject.next(!0)},0)):(this.activeQueryCounter--,this.activeQueryCounter=this.activeQueryCounter<0?0:this.activeQueryCounter,0===this.activeQueryCounter&&setTimeout(()=>{this.isBusySubject.next(!1)},0))}watchQuery(t){return this.updateIsBusy("on"),void 0!==this.apollo.client?new Vt.c(n=>{this.apollo.watchQuery(t).valueChanges.pipe((0,D.M)(()=>this.updateIsBusy("off")),(0,V.j)(()=>this.updateIsBusy("off")),(0,Ee.W)(o=>(""!==this.auth.token?this.snackBar.open(this.errorHandler.getError(o.message,"Unable to load data"),void 0,{duration:5e3}):this.router.navigateByUrl("/").then(),n.error(o),n.complete(),(0,xt.$)(()=>o)))).subscribe(o=>{n.next(o),n.complete()})}):(this.snackBar.open("Apollo not ready",void 0,{duration:5e3}),(0,xt.$)(null))}mutate(t){return void 0!==this.apollo.client?this.apollo.mutate(t).pipe((0,Ee.W)(i=>(""!==this.auth.token?this.snackBar.open(this.errorHandler.getError(i.message,"Unable to perform action"),void 0,{duration:5e3}):this.router.navigateByUrl("/").then(),(0,xt.$)(null)))):(this.snackBar.open("Apollo not ready",void 0,{duration:5e3}),(0,xt.$)(null))}static#e=this.\u0275fac=function(i){return new(i||a)(e.KVO(w.Ix),e.KVO(v.Ic),e.KVO(I.u),e.KVO(wt.I),e.KVO(Ie.UG))};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();function _l(a,r){if(1&a&&(e.j41(0,"li",7)(1,"a",8),e.EFF(2),e.k0s()()),2&a){const t=r.$implicit;e.R7$(2),e.JRh(t)}}let X=(()=>{class a{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-page-header"]],inputs:{title:"title",items:"items",active_item:"active_item"},decls:9,vars:3,consts:[[1,"breadcrumb-header","justify-content-between"],[1,"left-content"],[1,"main-content-title","mg-b-0","mg-b-lg-1"],[1,"justify-content-center","mt-2"],[1,"breadcrumb"],["class","breadcrumb-item tx-15",4,"ngFor","ngForOf"],["aria-current","page",1,"breadcrumb-item","active"],[1,"breadcrumb-item","tx-15"],["href","javascript:;"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"span",2),e.EFF(3),e.k0s()(),e.j41(4,"div",3)(5,"ol",4),e.DNE(6,_l,3,1,"li",5),e.j41(7,"li",6),e.EFF(8),e.k0s()()()()),2&i&&(e.R7$(3),e.JRh(n.title),e.R7$(3),e.Y8G("ngForOf",n.items),e.R7$(2),e.JRh(n.active_item))},dependencies:[h.Sq],styles:["@media screen and (max-width: 767.9px){  .horizontal .breadcrumb-header{margin-top:78px}}"]})}return a})();var ae=f(3013);const bl=a=>({"has-error":a});function vl(a,r){1&a&&(e.j41(0,"div",23)(1,"small"),e.EFF(2," Account name is required "),e.k0s()())}function yl(a,r){1&a&&(e.j41(0,"div",23)(1,"small"),e.EFF(2," Select at least one payment provider "),e.k0s()())}function Cl(a,r){1&a&&(e.j41(0,"div")(1,"div",5)(2,"label",6),e.EFF(3," Account Name "),e.k0s(),e.nrm(4,"input",24),e.k0s(),e.j41(5,"div",5)(6,"label",6),e.EFF(7," Account Number "),e.k0s(),e.nrm(8,"input",25),e.k0s(),e.j41(9,"div",5)(10,"label",6),e.EFF(11," BSB "),e.k0s(),e.nrm(12,"input",26),e.k0s()())}function kl(a,r){1&a&&(e.j41(0,"div")(1,"div",5)(2,"label",6),e.EFF(3," Bank Address "),e.k0s(),e.nrm(4,"input",27),e.k0s(),e.j41(5,"div",5)(6,"label",6),e.EFF(7," Bank Name "),e.k0s(),e.nrm(8,"input",28),e.k0s(),e.j41(9,"div",5)(10,"label",6),e.EFF(11," Beneficiary Address "),e.k0s(),e.nrm(12,"input",29),e.k0s(),e.j41(13,"div",5)(14,"label",6),e.EFF(15," Beneficiary Name "),e.k0s(),e.nrm(16,"input",30),e.k0s(),e.j41(17,"div",5)(18,"label",6),e.EFF(19," IBAN "),e.k0s(),e.nrm(20,"input",31),e.k0s(),e.j41(21,"div",5)(22,"label",6),e.EFF(23," SWIFT / BIC "),e.k0s(),e.nrm(24,"input",32),e.k0s()())}function Fl(a,r){1&a&&(e.j41(0,"div")(1,"div",5)(2,"label",6),e.EFF(3," Account Name "),e.k0s(),e.nrm(4,"input",33),e.k0s(),e.j41(5,"div",5)(6,"label",6),e.EFF(7," Account Number "),e.k0s(),e.nrm(8,"input",34),e.k0s(),e.j41(9,"div",5)(10,"label",6),e.EFF(11," Sort Code "),e.k0s(),e.nrm(12,"input",35),e.k0s()())}function Tl(a,r){if(1&a&&(e.j41(0,"div",36)(1,"h4",37),e.EFF(2),e.k0s()()),2&a){const t=e.XpG();e.R7$(2),e.SpI(" ",t.errorMessage," ")}}function xl(a,r){1&a&&e.nrm(0,"span",38)}function wl(a,r){1&a&&e.nrm(0,"span",38)}function Sl(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",39),e.bIt("click",function(){e.eBV(t);const n=e.XpG(),o=e.sdS(44);return e.Njj(n.deleteAccount(o))}),e.DNE(1,wl,1,0,"span",20),e.EFF(2," Delete "),e.k0s()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.deleteInProgress)}}function Dl(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",40)(1,"h5",41),e.EFF(2,"Delete bank account"),e.k0s(),e.j41(3,"button",42),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",43),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",44)(7,"h4",45),e.EFF(8," You are going to delete selected bank account. Confirm operation. "),e.k0s(),e.j41(9,"div",46)(10,"button",47),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Reject"))}),e.EFF(11," Reject "),e.k0s(),e.j41(12,"button",48),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.close("Confirm"))}),e.EFF(13," Confirm "),e.k0s()()()}}let Il=(()=>{class a{set currentAccount(t){this.setFormData(t),this.settingsId=t?t?.id:"",this.createNew=""===this.settingsId}constructor(t,i,n,o,s){this.formBuilder=t,this.router=i,this.modalService=n,this.auth=o,this.adminService=s,this.permission=0,this.save=new e.bkB,this.close=new e.bkB,this.subscriptions=new R.yU,this.removeDialog=void 0,this.settingsId="",this.submitted=!1,this.createNew=!1,this.saveInProgress=!1,this.deleteInProgress=!1,this.filteredProviders=[],this.providers=[],this.errorMessage="",this.bankCategories=F.jm,this.form=this.formBuilder.group({name:["",{validators:[d.k0.required],updateOn:"change"}],description:[""],auSelected:[!1],ukSelected:[!1],euSelected:[!1],auAccountName:[void 0],auAccountNumber:[void 0],auBsb:[void 0],ukAccountName:[void 0],ukAccountNumber:[void 0],ukSortCode:[void 0],euBankAddress:[void 0],euBankName:[void 0],euBeneficiaryAddress:[void 0],euBeneficiaryName:[void 0],euIban:[void 0],euSwiftBic:[void 0],paymentProviders:[[]]})}ngOnInit(){this.getPaymentProviders(),this.auCategory=this.bankCategories.find(t=>t.id===c.rS.Au),this.ukCategory=this.bankCategories.find(t=>t.id===c.rS.Uk),this.euCategory=this.bankCategories.find(t=>t.id===c.rS.Eu)}ngOnDestroy(){this.subscriptions.unsubscribe()}setFormData(t){t?(this.form.get("name")?.setValue(t.name),this.form.get("description")?.setValue(t.description),t.auAvailable&&(this.form.get("auSelected")?.setValue(!0),this.form.get("auAccountName")?.setValue(t.au?.accountName),this.form.get("auAccountNumber")?.setValue(t.au?.accountNumber),this.form.get("auBsb")?.setValue(t.au?.bsb)),t.ukAvailable&&(this.form.get("ukSelected")?.setValue(!0),this.form.get("ukAccountName")?.setValue(t.uk?.accountName),this.form.get("ukAccountNumber")?.setValue(t.uk?.accountNumber),this.form.get("ukSortCode")?.setValue(t.uk?.sortCode)),t.euAvailable&&(this.form.get("euSelected")?.setValue(!0),this.form.get("euBankAddress")?.setValue(t.eu?.bankAddress),this.form.get("euBankName")?.setValue(t.eu?.bankName),this.form.get("euBeneficiaryAddress")?.setValue(t.eu?.beneficiaryAddress),this.form.get("euBeneficiaryName")?.setValue(t.eu?.beneficiaryName),this.form.get("euIban")?.setValue(t.eu?.iban),this.form.get("euSwiftBic")?.setValue(t.eu?.swiftBic)),t.paymentProviders&&this.form.get("paymentProviders")?.setValue(t.paymentProviders)):(this.form.get("name")?.setValue(""),this.form.get("description")?.setValue(""),this.form.get("auSelected")?.setValue(!1),this.form.get("ukSelected")?.setValue(!1),this.form.get("euSelected")?.setValue(!1),this.form.get("paymentProviders")?.setValue([]),this.form.get("auAccountName")?.setValue(void 0),this.form.get("auAccountNumber")?.setValue(void 0),this.form.get("auBsb")?.setValue(void 0),this.form.get("ukAccountName")?.setValue(void 0),this.form.get("ukAccountNumber")?.setValue(void 0),this.form.get("ukSortCode")?.setValue(void 0),this.form.get("euBankAddress")?.setValue(void 0),this.form.get("euBankName")?.setValue(void 0),this.form.get("euBeneficiaryAddress")?.setValue(void 0),this.form.get("euBeneficiaryName")?.setValue(void 0),this.form.get("euIban")?.setValue(void 0),this.form.get("euSwiftBic")?.setValue(void 0))}setAccountData(){const t={};if(t.name=this.form.get("name")?.value,t.description=this.form.get("description")?.value,t.bankAccountId=this.settingsId,!0===this.form.get("auSelected")?.value){const i=this.form.get("auAccountName")?.value,n=this.form.get("auAccountNumber")?.value,o=this.form.get("auBsb")?.value;t.au=JSON.stringify({accountName:i,accountNumber:n,bsb:o})}else t.au=null;if(!0===this.form.get("ukSelected")?.value){const i=this.form.get("ukAccountName")?.value,n=this.form.get("ukAccountNumber")?.value,o=this.form.get("ukSortCode")?.value;t.uk=JSON.stringify({accountName:i,accountNumber:n,sortCode:o})}else t.uk=null;if(!0===this.form.get("euSelected")?.value){const i=this.form.get("euBankAddress")?.value,n=this.form.get("euBankName")?.value,o=this.form.get("euBeneficiaryAddress")?.value,s=this.form.get("euBeneficiaryName")?.value,l=this.form.get("euIban")?.value,m=this.form.get("euSwiftBic")?.value;t.eu=JSON.stringify({bankAddress:i,bankName:n,beneficiaryAddress:o,beneficiaryName:s,iban:l,swiftBic:m})}else t.eu=null;return t.paymentProviders=this.form.get("paymentProviders")?.value,t}onSubmit(){this.submitted=!0,this.form.valid&&this.saveAccount(this.setAccountData())}deleteAccount(t){this.removeDialog=this.modalService.open(t,{backdrop:"static",windowClass:"modalCusSty"}),this.subscriptions.add(this.removeDialog.closed.subscribe(()=>{this.deleteAccountConfirmed(this.settingsId??"")}))}getPaymentProviders(){this.providers=[];const t=this.adminService.getProviders()?.valueChanges;this.subscriptions.add(t.subscribe(({data:i})=>{const n=i.getPaymentProviders;this.providers=n?.map(o=>new F.LP(o)),this.filteredProviders=(0,ae.M)([c.iw.WireTransfer],this.providers,o=>!!o.virtual)}))}saveAccount(t){this.errorMessage="",this.saveInProgress=!0;const i=this.adminService.saveBankAccountSettings(t,this.createNew);this.subscriptions.add(i.subscribe(()=>{this.saveInProgress=!1,this.save.emit()},n=>{this.saveInProgress=!1,this.errorMessage=n,""===this.auth.token&&this.router.navigateByUrl("/")}))}deleteAccountConfirmed(t){this.errorMessage="",this.saveInProgress=!0;const i=this.adminService.deleteBankAccountSettings(t);this.subscriptions.add(i.subscribe(()=>{this.saveInProgress=!1,this.save.emit()},n=>{this.saveInProgress=!1,this.errorMessage=n,""===this.auth.token&&this.router.navigateByUrl("/")}))}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(d.ze),e.rXU(w.Ix),e.rXU(_.Bq),e.rXU(I.u),e.rXU(E))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-bank-account-details"]],inputs:{permission:"permission",currentAccount:"currentAccount"},outputs:{save:"save",close:"close"},decls:45,vars:17,consts:[["delete_content",""],[1,"row"],[1,"col-md-12","col-lg-12","col-xl-12","mx-auto","d-block"],["novalidate","",3,"ngSubmit","formGroup"],[1,"card","card-body","pd-20","pd-md-40","border","shadow-none"],[1,"form-group"],[1,"main-content-label","tx-11","tx-medium","tx-gray-600"],[1,"main-content-label","tx-11","tx-medium","tx-danger"],["type","text","formControlName","name","required","",1,"form-control",3,"ngClass"],["class","tx-danger",4,"ngIf"],["type","text","formControlName","description",1,"form-control"],["bindLabel","name","bindValue","id","formControlName","paymentProviders","placeholder","Select one or more providers",3,"items","multiple"],[1,"card-title","mg-b-20","tx-11",2,"display","flex","flex-direction","row","justify-content","flex-start","align-items","center"],["type","checkbox","formControlName","auSelected",1,"me-2"],[4,"ngIf"],["type","checkbox","formControlName","euSelected",1,"me-2"],["type","checkbox","formControlName","ukSelected",1,"me-2"],["class","card card-body card-danger pd-20 pd-md-40 border shadow-none",4,"ngIf"],[2,"display","flex","justify-content","flex-end"],[1,"btn","btn-primary","pd-x-30","me-2","mg-t-5"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["class","btn btn-danger pd-x-30 me-2 mg-t-5","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","pd-x-30","mg-t-5",3,"click"],[1,"tx-danger"],["type","text","formControlName","auAccountName","maxlength","100",1,"form-control"],["type","text","formControlName","auAccountNumber","maxlength","100",1,"form-control"],["type","text","formControlName","auBsb","maxlength","100",1,"form-control"],["type","text","formControlName","euBankAddress","maxlength","100",1,"form-control"],["type","text","formControlName","euBankName","maxlength","100",1,"form-control"],["type","text","formControlName","euBeneficiaryAddress","maxlength","100",1,"form-control"],["type","text","formControlName","euBeneficiaryName","maxlength","100",1,"form-control"],["type","text","formControlName","euIban","maxlength","100",1,"form-control"],["type","text","formControlName","euSwiftBic","maxlength","100",1,"form-control"],["type","text","formControlName","ukAccountName","maxlength","100",1,"form-control"],["type","text","formControlName","ukAccountNumber","maxlength","100",1,"form-control"],["type","text","formControlName","ukSortCode","maxlength","100",1,"form-control"],[1,"card","card-body","card-danger","pd-20","pd-md-40","border","shadow-none"],[1,"card-title2","mg-b-20","color_brown"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["type","button",1,"btn","btn-danger","pd-x-30","me-2","mg-t-5",3,"click"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[2,"text-align","center"],[2,"display","flex","flex-direction","row","justify-content","center","align-items","center"],["type","button",1,"btn","btn-outline-secondary","pd-x-30","me-2","mg-t-5",3,"click"],[1,"btn","btn-primary","pd-x-30","mg-t-5",3,"click"]],template:function(i,n){if(1&i){const o=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"form",3),e.bIt("ngSubmit",function(){return e.eBV(o),e.Njj(n.onSubmit())}),e.j41(3,"div",4)(4,"div",5)(5,"label",6),e.EFF(6," Account name "),e.j41(7,"span",7),e.EFF(8,"*"),e.k0s()(),e.nrm(9,"input",8),e.DNE(10,vl,3,0,"div",9),e.k0s(),e.j41(11,"div",5)(12,"label",6),e.EFF(13," Description "),e.k0s(),e.nrm(14,"input",10),e.k0s(),e.j41(15,"div",5)(16,"label",6),e.EFF(17," Payment providers "),e.k0s(),e.nrm(18,"ng-select",11),e.DNE(19,yl,3,0,"div",9),e.k0s()(),e.j41(20,"div",4)(21,"h5",12),e.nrm(22,"input",13),e.EFF(23),e.k0s(),e.DNE(24,Cl,13,0,"div",14),e.k0s(),e.j41(25,"div",4)(26,"h5",12),e.nrm(27,"input",15),e.EFF(28),e.k0s(),e.DNE(29,kl,25,0,"div",14),e.k0s(),e.j41(30,"div",4)(31,"h5",12),e.nrm(32,"input",16),e.EFF(33),e.k0s(),e.DNE(34,Fl,13,0,"div",14),e.k0s(),e.DNE(35,Tl,3,1,"div",17),e.j41(36,"div",18)(37,"button",19),e.DNE(38,xl,1,0,"span",20),e.EFF(39," Save "),e.k0s(),e.DNE(40,Sl,3,1,"button",21),e.j41(41,"button",22),e.bIt("click",function(){return e.eBV(o),e.Njj(n.close.emit())}),e.EFF(42," Close "),e.k0s()()()()(),e.DNE(43,Dl,14,0,"ng-template",null,0,e.C5r)}if(2&i){let o,s,l;e.R7$(2),e.Y8G("formGroup",n.form),e.R7$(7),e.Y8G("ngClass",e.eq3(15,bl,!n.form.controls.name.valid)),e.R7$(),e.Y8G("ngIf",(n.form.controls.name.touched||n.submitted)&&(null==n.form.controls.name.errors?null:n.form.controls.name.errors.required)),e.R7$(8),e.Y8G("items",n.filteredProviders)("multiple",!0),e.R7$(),e.Y8G("ngIf",(n.form.controls.paymentProviders.touched||n.submitted)&&(null==n.form.controls.paymentProviders.errors?null:n.form.controls.paymentProviders.errors.required)),e.R7$(4),e.SpI(" ",null==n.auCategory?null:n.auCategory.title," "),e.R7$(),e.Y8G("ngIf",!0===(null==(o=n.form.get("auSelected"))?null:o.value)),e.R7$(4),e.SpI(" ",null==n.euCategory?null:n.euCategory.title," "),e.R7$(),e.Y8G("ngIf",!0===(null==(s=n.form.get("euSelected"))?null:s.value)),e.R7$(4),e.SpI(" ",null==n.ukCategory?null:n.ukCategory.title," "),e.R7$(),e.Y8G("ngIf",!0===(null==(l=n.form.get("ukSelected"))?null:l.value)),e.R7$(),e.Y8G("ngIf",""!==n.errorMessage),e.R7$(3),e.Y8G("ngIf",n.saveInProgress),e.R7$(2),e.Y8G("ngIf",n.permission>1&&!n.createNew)}},dependencies:[h.YU,h.bT,d.qT,d.me,d.Zm,d.BC,d.cb,d.YS,d.tU,d.j4,d.JD,te],styles:[".dark-theme .mat-mdc-button,   .dark-theme .mat-mdc-icon-button,   .dark-theme .mat-mdc-outlined-button{color:#b7c0d6!important}  .dark-theme .mat-form-field-label{color:#eee}  .dark-theme .mat-datepicker-content{background-color:#373d51;color:#ffffffde}  .dark-theme .mat-calendar-table-header,   .dark-theme .mat-calendar-body-label{color:#fff}@media (hover: hover){  .dark-theme .mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#2a2e3f}}  .dark-theme .mat-calendar-body-cell-content,   .dark-theme .mat-date-range-input-separator{color:#e1e1ef}  .dark-theme .ngb-dp-header{background-color:#343545}  .dark-theme .ngb-dp-weekdays{background-color:#343545}  .rtl .color-picker{left:initial!important}  .transparent-theme .card .box{background:#2da28f}  .transparent-theme .hex-text,   .transparent-theme .rgba-text{background:#2da28f}  .transparent-theme .mat-datepicker-content{background-color:#2da28f;color:#ffffffde}  .transparent-theme .mat-datepicker-toggle,   .transparent-theme .mat-datepicker-content .mat-calendar-next-button,   .transparent-theme .mat-datepicker-content .mat-calendar-previous-button{color:#ffffff81}  .transparent-theme .mat-calendar-body-cell-content,   .transparent-theme .mat-date-range-input-separator{color:#ffffffd3}  .transparent-theme .mat-calendar-table-header,   .transparent-theme .mat-calendar-body-label{color:#fff9}  .transparent-theme .ngb-dp-header{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekdays{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekday{color:#000}  .transparent-theme .ng-select .ng-arrow-wrapper .ng-arrow{border-top-color:#fff!important}  .transparent-theme .ng-select.ng-select-opened .ng-arrow-wrapper .ng-arrow{border-bottom-color:#fff!important}  .form-controls{display:block;color:#fff;border:transparent;outline:none;width:100%;height:40px;padding:.375rem .75rem;font-size:.875rem;font-weight:400;line-height:2;background-clip:padding-box;border-radius:5px;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}  button[type=button]{z-index:0!important}",".has-error[_ngcontent-%COMP%]{border:1px solid #f16d75}.tx-danger[_ngcontent-%COMP%]{color:red!important}"]})}return a})();const El=()=>["Home","Costs"];function Pl(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",25),e.bIt("click",function(){e.eBV(t);const n=e.XpG(),o=e.sdS(32);return e.Njj(n.showDetails(void 0,o))}),e.EFF(1," Add account "),e.k0s()}}function Al(a,r){1&a&&e.nrm(0,"mat-progress-bar",26)}function Rl(a,r){1&a&&e.nrm(0,"th",27)}function Ol(a,r){if(1&a){const t=e.RV6();e.j41(0,"td",28)(1,"button",29),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG(),s=e.sdS(32);return e.Njj(o.showDetails(n,s))}),e.j41(2,"i",30),e.EFF(3,"wysiwyg"),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(),e.BMQ("aria-label","Account details")("aria-pressed",!!t.selectedAccount)}}function jl(a,r){1&a&&(e.j41(0,"th",31),e.EFF(1," Name "),e.k0s())}function $l(a,r){if(1&a&&(e.j41(0,"td",28),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.name," ")}}function Ml(a,r){1&a&&(e.j41(0,"th",32),e.EFF(1," Description "),e.k0s())}function Nl(a,r){if(1&a&&(e.j41(0,"td",28),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.description," ")}}function Vl(a,r){1&a&&(e.j41(0,"th",33),e.EFF(1," AU "),e.k0s())}function Gl(a,r){1&a&&(e.j41(0,"i",36),e.EFF(1,"done"),e.k0s())}function Bl(a,r){1&a&&(e.j41(0,"i",37),e.EFF(1,"close"),e.k0s())}function Ul(a,r){if(1&a&&(e.j41(0,"td",28),e.DNE(1,Gl,2,0,"i",34)(2,Bl,2,0,"i",35),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.Y8G("ngIf",t.auAvailable),e.R7$(),e.Y8G("ngIf",!t.auAvailable)}}function Ll(a,r){1&a&&(e.j41(0,"th",33),e.EFF(1," EU "),e.k0s())}function Yl(a,r){1&a&&(e.j41(0,"i",36),e.EFF(1,"done"),e.k0s())}function ql(a,r){1&a&&(e.j41(0,"i",37),e.EFF(1,"close"),e.k0s())}function Wl(a,r){if(1&a&&(e.j41(0,"td",28),e.DNE(1,Yl,2,0,"i",34)(2,ql,2,0,"i",35),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.Y8G("ngIf",t.euAvailable),e.R7$(),e.Y8G("ngIf",!t.euAvailable)}}function Xl(a,r){1&a&&(e.j41(0,"th",33),e.EFF(1," UK "),e.k0s())}function zl(a,r){1&a&&(e.j41(0,"i",36),e.EFF(1,"done"),e.k0s())}function Hl(a,r){1&a&&(e.j41(0,"i",37),e.EFF(1,"close"),e.k0s())}function Kl(a,r){if(1&a&&(e.j41(0,"td",28),e.DNE(1,zl,2,0,"i",34)(2,Hl,2,0,"i",35),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.Y8G("ngIf",t.ukAvailable),e.R7$(),e.Y8G("ngIf",!t.ukAvailable)}}function Jl(a,r){1&a&&e.nrm(0,"tr",38)}function Ql(a,r){1&a&&e.nrm(0,"tr",39)}function Zl(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",40)(1,"h5",41),e.EFF(2),e.k0s(),e.j41(3,"button",42),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",43),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",44)(7,"app-admin-bank-account-details",45),e.bIt("save",function(){const n=e.eBV(t).$implicit;return e.Njj(n.close("OK"))})("close",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Close"))}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(2),e.SpI(" ",t.detailsTitle," "),e.R7$(5),e.Y8G("permission",t.permission)("currentAccount",t.selectedAccount)}}let ed=(()=>{class a{constructor(t,i,n,o){this.modalService=t,this.auth=i,this.adminService=n,this.router=o,this.displayedColumns=["details","name","description","auAvailable","ukAvailable","euAvailable"],this.inProgress=!1,this.errorMessage="",this.detailsTitle="",this.permission=0,this.accounts=[],this.subscriptions=new R.yU,this.detailsDialog=void 0,this.permission=this.auth.isPermittedObjectCode(c.G4.Costs)}ngOnInit(){this.loadAccounts()}ngOnDestroy(){this.subscriptions.unsubscribe()}loadAccounts(){this.accounts=[],this.inProgress=!0;const t=this.adminService.getWireTransferBankAccounts().valueChanges.pipe((0,P.s)(1));this.subscriptions.add(t.subscribe(({data:i})=>{const n=i.getWireTransferBankAccounts;let o=0;null!==n&&(o=n?.count??0,o>0&&(this.accounts=n?.list?.map(s=>new lt.nq(s)))),this.inProgress=!1},()=>{this.inProgress=!1,""===this.auth.token&&this.router.navigateByUrl("/")}))}showDetails(t,i){this.selectedAccount=t,this.detailsTitle=t?"Bank account details":"Add new bank account",this.detailsDialog=this.modalService.open(i,{backdrop:"static",windowClass:"modalCusSty"}),this.subscriptions.add(this.detailsDialog.closed.subscribe(()=>{this.loadAccounts()}))}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(_.Bq),e.rXU(I.u),e.rXU(E),e.rXU(w.Ix))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-bank-accounts"]],decls:33,vars:9,consts:[["details_content",""],[3,"title","items","active_item"],[1,"row","row-sm"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],[1,"table-button-container"],["type","button","class","btn btn-primary me-2",3,"click",4,"ngIf"],["color","accent","mode","indeterminate",4,"ngIf"],[1,"data-table"],[3,"dataSource"],["matColumnDef","details"],["mat-header-cell","","class","mat-column-account-table mat-column-account-table-details",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","class","mat-column-account-table mat-column-account-table-name",4,"matHeaderCellDef"],["matColumnDef","description"],["mat-header-cell","","class","mat-column-account-table mat-column-account-table-description",4,"matHeaderCellDef"],["matColumnDef","auAvailable"],["mat-header-cell","","class","mat-column-account-table mat-column-account-table-check",4,"matHeaderCellDef"],["matColumnDef","euAvailable"],["matColumnDef","ukAvailable"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["color","accent","mode","indeterminate"],["mat-header-cell","",1,"mat-column-account-table","mat-column-account-table-details"],["mat-cell",""],["mat-icon-button","","matTooltip","Account details","matTooltipClass","info-tooltip",1,"row-button",3,"click"],[1,"material-icons",2,"font-size","20px"],["mat-header-cell","",1,"mat-column-account-table","mat-column-account-table-name"],["mat-header-cell","",1,"mat-column-account-table","mat-column-account-table-description"],["mat-header-cell","",1,"mat-column-account-table","mat-column-account-table-check"],["class","material-icons","style","font-size: 20px;color: lightseagreen;",4,"ngIf"],["class","material-icons","style","font-size: 20px;color: orangered;",4,"ngIf"],[1,"material-icons",2,"font-size","20px","color","lightseagreen"],[1,"material-icons",2,"font-size","20px","color","orangered"],["mat-header-row",""],["mat-row",""],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"save","close","permission","currentAccount"]],template:function(i,n){1&i&&(e.nrm(0,"app-admin-page-header",1),e.j41(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",7),e.DNE(7,Pl,2,0,"button",8),e.k0s(),e.DNE(8,Al,1,0,"mat-progress-bar",9),e.j41(9,"div",10)(10,"mat-table",11),e.qex(11,12),e.DNE(12,Rl,1,0,"th",13)(13,Ol,4,2,"td",14),e.bVm(),e.qex(14,15),e.DNE(15,jl,2,0,"th",16)(16,$l,2,1,"td",14),e.bVm(),e.qex(17,17),e.DNE(18,Ml,2,0,"th",18)(19,Nl,2,1,"td",14),e.bVm(),e.qex(20,19),e.DNE(21,Vl,2,0,"th",20)(22,Ul,3,2,"td",14),e.bVm(),e.qex(23,21),e.DNE(24,Ll,2,0,"th",20)(25,Wl,3,2,"td",14),e.bVm(),e.qex(26,22),e.DNE(27,Xl,2,0,"th",20)(28,Kl,3,2,"td",14),e.bVm(),e.DNE(29,Jl,1,0,"tr",23)(30,Ql,1,0,"tr",24),e.k0s()(),e.DNE(31,Zl,8,3,"ng-template",null,0,e.C5r),e.k0s()()()()()),2&i&&(e.Y8G("title","Bank Accounts")("items",e.lJ4(8,El))("active_item","Bank Accounts"),e.R7$(7),e.Y8G("ngIf",n.permission>1),e.R7$(),e.Y8G("ngIf",n.inProgress),e.R7$(2),e.Y8G("dataSource",n.accounts),e.R7$(19),e.Y8G("matHeaderRowDef",n.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",n.displayedColumns))},dependencies:[h.bT,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,ie.oV,K.iY,z.HM,X,Il],styles:[".datatable-body{height:600px!important;overflow:scroll;width:100%}  .dataTable-bottom{position:absolute;left:0;right:0;bottom:0;background:#fff!important}  table th,   table td,   .ngx-datatable.material .datatable-header .datatable-header-cell,   .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{font-size:.876rem!important}@media (max-width: 567.9px){  .ngx-datatable .datatable-footer .datatable-footer-inner{flex-wrap:wrap;height:auto!important}  .ngx-datatable .datatable-footer .datatable-pager{text-align:center!important}}  .dataTable-wrapper.no-footer .dataTable-container{border-bottom:none!important}  .dataTable-selector{border-radius:.25rem}  app-data-table input{border-radius:25px;border:1px solid rgba(0,0,0,.1)}  app-data-table .custom-select{border:1px solid rgba(0,0,0,.24)!important;border-radius:.25rem}.table-responsive[_ngcontent-%COMP%]{overflow:visible}  .dark-theme input::placeholder{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material{background-color:#2a2e3f!important}  .dark-theme app-data-tables .dataTable-bottom{background-color:#2a2e3f!important}  .dark-theme app-data-tables .dataTable-selector{background-color:#2a2e3f;border-color:#272c49;color:#fff;outline:none}  .dark-theme app-data-tables input{color:#eee!important;background-color:#2a2e3f!important;border-color:#262b48;border-radius:25px;height:27px}  .dark-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .dark-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#2a2e3f;color:#fff}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid rgb(39,43,74)!important;color:#fff!important;background:#2a2e3f!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #32394e!important}  .dark-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .dark-theme app-data-tables .dataTable-pagination li:hover a,   .dark-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .dark-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .dark-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .dark-theme app-data-tables .mat-mdc-table{background:#2a2e3f!important}  .dark-theme app-data-tables .mat-mdc-header-cell{color:#fff!important}  .dark-theme app-data-tables .mat-mdc-cell,   .dark-theme app-data-tables .mat-mdc-footer-cell{color:#eee!important}  .dark-theme app-data-tables mat-row,   .dark-theme app-data-tables mat-header-row,   .dark-theme app-data-tables mat-footer-row,   .dark-theme app-data-tables th.mat-mdc-header-cell,   .dark-theme app-data-tables td.mat-mdc-cell,   .dark-theme app-data-tables td.mat-mdc-footer-cell{border-bottom-color:#ffffff1f!important}  .dark-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .dark-theme app-data-tables .mat-mdc-paginator,   .dark-theme app-data-tables .mat-mdc-paginator-page-size .mat-mdc-select-trigger{color:#ffffff8a!important}  .dark-theme app-data-tables .mat-mdc-paginator{background:#2a2e3f}  .dark-theme app-data-tables .mat-mdc-select-value{color:#fff7f7de}  .dark-theme app-data-tables .mat-mdc-select-arrow{color:#ffffffba}  .dark-theme .mat-mdc-select-panel{background:#30304d}  .dark-theme .mat-mdc-option{color:#ccc}  .dark-theme .mat-primary .mat-mdc-option.mat-selected:not(.mat-option-disabled){color:#fff}  .dark-theme .mat-mdc-option:hover:not(.mat-option-disabled),   .dark-theme .mat-option:focus:not(.mat-option-disabled){background:#2a2a44}  .dark-theme .mat-mdc-select-panel .mat-mdc-option.mat-selected:not(.mat-mdc-option-multiple){background:#0000001f}  .dark-theme .table-hover>tbody>tr:hover>*{color:#fff}  .dark-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme input::placeholder{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material{background-color:#2da28f!important}  .transparent-theme app-data-tables .dataTable-bottom{background-color:#2da28f!important}  .transparent-theme app-data-tables .dataTable-selector{background-color:#2da28f;border-color:#4cb0a0;color:#fff;outline:none}  .transparent-theme app-data-tables input{color:#eee!important;background-color:#2da28f!important;border-color:#4cb0a0;border-radius:25px;height:27px}  .transparent-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .transparent-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#2da28f;color:#fff}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid #4cb0a0!important;color:#fff!important;background:#2da28f!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #4cb0a0!important}  .transparent-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .transparent-theme app-data-tables .dataTable-pagination li:hover a,   .transparent-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .transparent-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .transparent-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .transparent-theme app-data-tables .mat-mdc-table{background:#2da28f!important}  .transparent-theme app-data-tables .mat-mdc-header-cell{color:#fff!important}  .transparent-theme app-data-tables .mat-mdc-cell,   .transparent-theme app-data-tables .mat-mdc-footer-cell{color:#eee!important}  .transparent-theme app-data-tables mat-row,   .transparent-theme app-data-tables mat-header-row,   .transparent-theme app-data-tables mat-footer-row,   .transparent-theme app-data-tables th.mat-mdc-header-cell,   .transparent-theme app-data-tables td.mat-mdc-cell,   .transparent-theme app-data-tables td.mat-mdc-footer-cell{border-bottom-color:#ffffff1f!important}  .transparent-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .transparent-theme app-data-tables .mat-mdc-paginator,   .transparent-theme app-data-tables .mat-mdc-paginator-page-size .mat-mdc-select-trigger{color:#ffffff8a!important}  .transparent-theme app-data-tables .mat-mdc-paginator{background:#2da28f}  .transparent-theme app-data-tables .mat-mdc-select-value{color:#fff7f7de}  .transparent-theme app-data-tables .mat-mdc-select-arrow{color:#ffffffba}  .transparent-theme .mat-mdc-select-panel{background:#30304d}  .transparent-theme .mat-mdc-option{color:#ccc}  .transparent-theme .mat-primary .mat-mdc-option.mat-selected:not(.mat-option-disabled){color:#fff}  .transparent-theme .mat-mdc-option:hover:not(.mat-option-disabled),   .transparent-theme .mat-option:focus:not(.mat-option-disabled){background:#2a2a44}  .transparent-theme .mat-mdc-select-panel .mat-mdc-option.mat-selected:not(.mat-mdc-option-multiple){background:#0000001f}  .transparent-theme .table-hover>tbody>tr:hover>*{color:#fff}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{background-color:#248272!important}.data-table[_ngcontent-%COMP%]{flex:1 1 0;overflow:auto;margin-top:5px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]{display:table;min-width:100%}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:32px;line-height:32px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   tr.mat-mdc-header-row[_ngcontent-%COMP%]{height:40px;line-height:40px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]{padding:0 4px;white-space:nowrap;font-size:16px;font-weight:400;color:#0000008a;font-family:Roboto,sans-serif}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell.action[_ngcontent-%COMP%]{width:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]{padding:1px 4px 0;line-height:29px;white-space:nowrap}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%]{width:16px;height:16px;font-size:16px;vertical-align:middle;position:relative;top:-1px}.data-table[_ngcontent-%COMP%]   .row-button[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0;position:relative;top:5px;padding:1px}.data-table[_ngcontent-%COMP%]   .row-button[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:16px;height:16px;width:16px;line-height:16px}.data-table[_ngcontent-%COMP%]   .row-icon[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0;position:relative;top:5px}mat-mdc-paginator[_ngcontent-%COMP%]{flex:0 0 auto}table[_ngcontent-%COMP%]{width:100%}.table-button-container[_ngcontent-%COMP%]{padding-bottom:16px}.mat-column-account-table[_ngcontent-%COMP%]{word-wrap:break-word;white-space:unset;overflow-wrap:break-word;word-break:break-word;-webkit-hyphens:auto;hyphens:auto}.mat-column-account-table-name[_ngcontent-%COMP%]{flex:0 0 30%;width:30%;min-width:10em}.mat-column-account-table-description[_ngcontent-%COMP%]{flex:0 0 33%;width:33%;min-width:10em}.mat-column-account-table-check[_ngcontent-%COMP%]{flex:0 0 10%;width:10%;min-width:8em}.mat-column-account-table-details[_ngcontent-%COMP%]{flex:0 0 2%;width:2%;min-width:1.5em}.ng-pagination-nav-icons[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:12px}"]})}return a})();function td(a,r){if(1&a&&e.nrm(0,"img",3),2&a){const t=e.XpG();e.FS9("src",t.imageSource,e.B4B),e.Y8G("ngClass",t.imageClass)}}let Pe=(()=>{class a{constructor(){this.itemValue=null,this.imageSource=null,this.imageClass=""}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-dropdown-item"]],inputs:{itemValue:"itemValue",imageSource:"imageSource",imageClass:"imageClass"},decls:5,vars:2,consts:[[2,"display","flex","flex-direction","row","justify-content","flex-start","align-items","center"],[3,"ngClass","src",4,"ngIf"],[2,"margin-top","4px"],[3,"ngClass","src"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div"),e.DNE(2,td,1,2,"img",1),e.k0s(),e.j41(3,"span",2),e.EFF(4),e.k0s()()),2&i&&(e.R7$(2),e.Y8G("ngIf",null!==n.imageSource),e.R7$(2),e.SpI(" ",n.itemValue," "))},dependencies:[h.YU,h.bT],encapsulation:2})}return a})();function ad(a,r){if(1&a&&(e.j41(0,"ng-option",14),e.nrm(1,"app-dropdown-item",15),e.k0s()),2&a){const t=r.$implicit,i=e.XpG();e.Y8G("value",t),e.R7$(),e.FS9("itemValue",t.name),e.Mz_("imageSource","assets/svg-country-flags/",i.getCountryFlag(t.code2),"")}}function nd(a,r){1&a&&(e.j41(0,"div",16)(1,"small"),e.EFF(2," Select a country to add "),e.k0s()())}function id(a,r){if(1&a&&(e.j41(0,"div",17)(1,"h4",18),e.EFF(2),e.k0s()()),2&a){const t=e.XpG();e.R7$(2),e.SpI(" ",t.errorMessage," ")}}function rd(a,r){1&a&&e.nrm(0,"span",19)}let od=(()=>{class a{constructor(t,i,n,o){this.formBuilder=t,this.router=i,this.auth=n,this.adminService=o,this.save=new e.bkB,this.close=new e.bkB,this.subscriptions=new R.yU,this.submitted=!1,this.saveInProgress=!1,this.errorMessage="",this.countryOptions=re.rX,this.form=this.formBuilder.group({country:[null,{validators:[d.k0.required],updateOn:"change"}]})}ngOnDestroy(){this.subscriptions.unsubscribe()}getCountryFlag(t){return`${t.toLowerCase()}.svg`}onSubmit(){this.submitted=!0,this.form.valid&&this.addCountry(this.form.controls.country.value.code3)}addCountry(t){this.errorMessage="";const i=(0,re.Al)(t);i&&(this.saveInProgress=!0,this.subscriptions.add(this.adminService.addBlackCountry(i.code2).subscribe(()=>{this.saveInProgress=!1,this.save.emit()},n=>{this.saveInProgress=!1,this.errorMessage=n,""===this.auth.token&&this.router.navigateByUrl("/")})))}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(d.ze),e.rXU(w.Ix),e.rXU(I.u),e.rXU(E))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-black-list-details"]],outputs:{save:"save",close:"close"},decls:17,vars:7,consts:[[1,"row"],[1,"col-md-12","col-lg-12","col-xl-12","mx-auto","d-block"],["novalidate","",3,"ngSubmit","formGroup"],[1,"card","card-body","pd-20","pd-md-40","border","shadow-none"],[1,"form-group"],[1,"main-content-label","tx-11","tx-medium","tx-gray-600"],["formControlName","country",3,"clearable","clearOnBackspace"],[3,"value",4,"ngFor","ngForOf"],["class","tx-danger",4,"ngIf"],["class","card card-body card-danger pd-20 pd-md-40 border shadow-none",4,"ngIf"],[2,"display","flex","justify-content","flex-end"],[1,"btn","btn-primary","pd-x-30","me-2","mg-t-5"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","pd-x-30","mg-t-5",3,"click"],[3,"value"],["imageClass","country-flag-admin",3,"itemValue","imageSource"],[1,"tx-danger"],[1,"card","card-body","card-danger","pd-20","pd-md-40","border","shadow-none"],[1,"card-title2","mg-b-20","color_brown"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"form",2),e.bIt("ngSubmit",function(){return n.onSubmit()}),e.j41(3,"div",3)(4,"div",4)(5,"label",5),e.EFF(6," Country name "),e.k0s(),e.j41(7,"ng-select",6),e.DNE(8,ad,2,4,"ng-option",7),e.k0s(),e.DNE(9,nd,3,0,"div",8),e.k0s()(),e.DNE(10,id,3,1,"div",9),e.j41(11,"div",10)(12,"button",11),e.DNE(13,rd,1,0,"span",12),e.EFF(14," Add "),e.k0s(),e.j41(15,"button",13),e.bIt("click",function(){return n.close.emit()}),e.EFF(16," Close "),e.k0s()()()()()),2&i&&(e.R7$(2),e.Y8G("formGroup",n.form),e.R7$(5),e.Y8G("clearable",!1)("clearOnBackspace",!1),e.R7$(),e.Y8G("ngForOf",n.countryOptions),e.R7$(),e.Y8G("ngIf",(n.form.controls.country.touched||n.submitted)&&(null==n.form.controls.country.errors?null:n.form.controls.country.errors.required)),e.R7$(),e.Y8G("ngIf",""!==n.errorMessage),e.R7$(3),e.Y8G("ngIf",n.saveInProgress))},dependencies:[h.Sq,h.bT,d.qT,d.BC,d.cb,d.j4,d.JD,te,Oe,Pe],styles:[".dark-theme .mat-mdc-button,   .dark-theme .mat-mdc-icon-button,   .dark-theme .mat-mdc-outlined-button{color:#b7c0d6!important}  .dark-theme .mat-form-field-label{color:#eee}  .dark-theme .mat-datepicker-content{background-color:#373d51;color:#ffffffde}  .dark-theme .mat-calendar-table-header,   .dark-theme .mat-calendar-body-label{color:#fff}@media (hover: hover){  .dark-theme .mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#2a2e3f}}  .dark-theme .mat-calendar-body-cell-content,   .dark-theme .mat-date-range-input-separator{color:#e1e1ef}  .dark-theme .ngb-dp-header{background-color:#343545}  .dark-theme .ngb-dp-weekdays{background-color:#343545}  .rtl .color-picker{left:initial!important}  .transparent-theme .card .box{background:#2da28f}  .transparent-theme .hex-text,   .transparent-theme .rgba-text{background:#2da28f}  .transparent-theme .mat-datepicker-content{background-color:#2da28f;color:#ffffffde}  .transparent-theme .mat-datepicker-toggle,   .transparent-theme .mat-datepicker-content .mat-calendar-next-button,   .transparent-theme .mat-datepicker-content .mat-calendar-previous-button{color:#ffffff81}  .transparent-theme .mat-calendar-body-cell-content,   .transparent-theme .mat-date-range-input-separator{color:#ffffffd3}  .transparent-theme .mat-calendar-table-header,   .transparent-theme .mat-calendar-body-label{color:#fff9}  .transparent-theme .ngb-dp-header{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekdays{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekday{color:#000}  .transparent-theme .ng-select .ng-arrow-wrapper .ng-arrow{border-top-color:#fff!important}  .transparent-theme .ng-select.ng-select-opened .ng-arrow-wrapper .ng-arrow{border-bottom-color:#fff!important}  .form-controls{display:block;color:#fff;border:transparent;outline:none;width:100%;height:40px;padding:.375rem .75rem;font-size:.875rem;font-weight:400;line-height:2;background-clip:padding-box;border-radius:5px;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}  button[type=button]{z-index:0!important}",".has-error[_ngcontent-%COMP%]{border:1px solid #f16d75}.tx-danger[_ngcontent-%COMP%]{color:red!important}"]})}return a})();const sd=()=>["Home","KYC / KYB"];function ld(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",22),e.bIt("click",function(){e.eBV(t);const n=e.XpG(),o=e.sdS(23);return e.Njj(n.addCountry(o))}),e.EFF(1," Add country "),e.k0s()}}function dd(a,r){1&a&&e.nrm(0,"mat-progress-bar",23)}function cd(a,r){1&a&&(e.j41(0,"th",24),e.EFF(1,"ID "),e.k0s())}function md(a,r){if(1&a&&(e.j41(0,"td",25),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.id," ")}}function pd(a,r){1&a&&(e.j41(0,"th",26),e.EFF(1,"Name "),e.k0s())}function ud(a,r){if(1&a&&(e.j41(0,"td",25),e.nrm(1,"app-dropdown-item",27),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.FS9("itemValue",null==t?null:t.title),e.FS9("imageClass",null==t?null:t.imgClass),e.FS9("imageSource",null==t?null:t.imgSource)}}function hd(a,r){1&a&&e.nrm(0,"th",28)}function fd(a,r){if(1&a){const t=e.RV6();e.j41(0,"td",25)(1,"button",29),e.bIt("click",function(n){const o=e.eBV(t).$implicit,s=e.XpG(),l=e.sdS(25);return e.Njj(s.remove(n,o,l))}),e.j41(2,"i",30),e.EFF(3," delete "),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(),e.BMQ("aria-label","Remove country")("aria-pressed",!!t.selectedCountry)}}function gd(a,r){1&a&&e.nrm(0,"tr",31)}function _d(a,r){1&a&&e.nrm(0,"tr",32)}function bd(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",33)(1,"h5",34),e.EFF(2," Add a new country to the black list "),e.k0s(),e.j41(3,"button",35),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",36),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",37)(7,"app-admin-black-list-details",38),e.bIt("save",function(){const n=e.eBV(t).$implicit;return e.Njj(n.close("OK"))})("close",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Close"))}),e.k0s()()}}function vd(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",33)(1,"h5",34),e.EFF(2,"Remove a country from the black list"),e.k0s(),e.j41(3,"button",35),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",36),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",37)(7,"h4",39),e.EFF(8),e.k0s(),e.j41(9,"div",40)(10,"button",41),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Reject"))}),e.EFF(11," Reject "),e.k0s(),e.j41(12,"button",42),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.close("Confirm"))}),e.EFF(13," Confirm "),e.k0s()()()}if(2&a){let t;const i=e.XpG();e.R7$(8),e.SpI(" You are going to remove ",null!==(t=null==i.selectedCountry?null:i.selectedCountry.title)&&void 0!==t?t:"a country"," from the black list. Confirm operation. ")}}let yd=(()=>{class a{constructor(t,i,n,o){this.modalService=t,this.auth=i,this.adminService=n,this.router=o,this.displayedColumns=["id","name","delete"],this.inProgress=!1,this.errorMessage="",this.permission=0,this.countries=[],this.subscriptions=new R.yU,this.createDialog=void 0,this.removeDialog=void 0,this.permission=this.auth.isPermittedObjectCode(c.G4.Kyc)}ngOnInit(){this.loadCountries()}ngOnDestroy(){this.subscriptions.unsubscribe()}addCountry(t){this.selectedCountry=void 0,this.createDialog=this.modalService.open(t,{backdrop:"static",windowClass:"modalCusSty"}),this.subscriptions.add(this.createDialog.closed.subscribe(()=>{this.createDialog&&(this.createDialog.close(),this.loadCountries())}))}loadCountries(){this.countries=[],this.inProgress=!0;const t=this.adminService.getCountryBlackList().valueChanges.pipe((0,P.s)(1));this.subscriptions.add(t.subscribe(({data:i})=>{const n=i.getCountryBlackList;let o=0;this.inProgress=!1,null!==n&&(o=n?.count??0,o>0&&(this.countries=n?.list?.map(s=>{const l=(0,re.tJ)(s.countryCode2);return{id:l?.code3??"",title:l?.name??"",imgClass:"country-flag",imgSource:`assets/svg-country-flags/${l?.code2.toLowerCase()}.svg`}})))},()=>{this.inProgress=!1,""===this.auth.token&&this.router.navigateByUrl("/")}))}remove(t,i,n){this.selectedCountry=i,t.target.style.color="#ececec",t.target.closest("button").disabled=!0,this.removeDialog=this.modalService.open(n,{backdrop:"static",windowClass:"modalCusSty"}),this.subscriptions.add(this.removeDialog.closed.subscribe(()=>{this.removeCountryConfirmed(this.selectedCountry?.id??"")}))}removeCountryConfirmed(t){const i=(0,re.Al)(t);if(i){this.errorMessage="",this.inProgress=!0;const n=this.adminService.deleteBlackCountry(i.code2);this.subscriptions.add(n.subscribe(()=>{this.inProgress=!1,this.removeDialog&&(this.removeDialog.close(),this.loadCountries())},()=>{this.inProgress=!1,""===this.auth.token&&this.router.navigateByUrl("/")}))}}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(_.Bq),e.rXU(I.u),e.rXU(E),e.rXU(w.Ix))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-country-black-list"]],decls:26,vars:10,consts:[["create_content",""],["delete_content",""],[3,"title","items","active_item"],[1,"row","row-sm"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],[1,"table-button-container"],["type","button","class","btn btn-primary me-2",3,"click",4,"ngIf"],["color","accent","mode","indeterminate",4,"ngIf"],[1,"data-table"],[3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","class","mat-column-black-list-table mat-column-black-list-table-id",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","class","mat-column-black-list-table mat-column-black-list-table-name",4,"matHeaderCellDef"],["matColumnDef","delete","sticky",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["color","accent","mode","indeterminate"],["mat-header-cell","",1,"mat-column-black-list-table","mat-column-black-list-table-id"],["mat-cell",""],["mat-header-cell","",1,"mat-column-black-list-table","mat-column-black-list-table-name"],[3,"itemValue","imageClass","imageSource"],["mat-header-cell",""],["mat-icon-button","","matTooltip","Remove country","matTooltipClass","info-tooltip",1,"row-button",3,"click"],[1,"material-icons",2,"font-size","20px"],["mat-header-row",""],["mat-row",""],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"save","close"],[2,"text-align","center"],[2,"display","flex","flex-direction","row","justify-content","center","align-items","center"],["type","button",1,"btn","btn-outline-secondary","pd-x-30","me-2","mg-t-5",3,"click"],[1,"btn","btn-primary","pd-x-30","mg-t-5",3,"click"]],template:function(i,n){1&i&&(e.nrm(0,"app-admin-page-header",2),e.j41(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"div",8),e.DNE(7,ld,2,0,"button",9),e.k0s(),e.DNE(8,dd,1,0,"mat-progress-bar",10),e.j41(9,"div",11)(10,"mat-table",12),e.qex(11,13),e.DNE(12,cd,2,0,"th",14)(13,md,2,1,"td",15),e.bVm(),e.qex(14,16),e.DNE(15,pd,2,0,"th",17)(16,ud,2,3,"td",15),e.bVm(),e.qex(17,18),e.DNE(18,hd,1,0,"th",19)(19,fd,4,2,"td",15),e.bVm(),e.DNE(20,gd,1,0,"tr",20)(21,_d,1,0,"tr",21),e.k0s()(),e.DNE(22,bd,8,0,"ng-template",null,0,e.C5r)(24,vd,14,1,"ng-template",null,1,e.C5r),e.k0s()()()()()),2&i&&(e.Y8G("title","Black list")("items",e.lJ4(9,sd))("active_item","Black list"),e.R7$(7),e.Y8G("ngIf",n.permission>1),e.R7$(),e.Y8G("ngIf",n.inProgress),e.R7$(2),e.Y8G("dataSource",n.countries),e.R7$(10),e.Y8G("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),e.R7$(),e.Y8G("matRowDefColumns",n.displayedColumns))},dependencies:[h.bT,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,ie.oV,K.iY,z.HM,Pe,X,od],styles:[".datatable-body{height:600px!important;overflow:scroll;width:100%}  .dataTable-bottom{position:absolute;left:0;right:0;bottom:0;background:#fff!important}  table th,   table td,   .ngx-datatable.material .datatable-header .datatable-header-cell,   .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{font-size:.876rem!important}@media (max-width: 567.9px){  .ngx-datatable .datatable-footer .datatable-footer-inner{flex-wrap:wrap;height:auto!important}  .ngx-datatable .datatable-footer .datatable-pager{text-align:center!important}}  .dataTable-wrapper.no-footer .dataTable-container{border-bottom:none!important}  .dataTable-selector{border-radius:.25rem}  app-data-table input{border-radius:25px;border:1px solid rgba(0,0,0,.1)}  app-data-table .custom-select{border:1px solid rgba(0,0,0,.24)!important;border-radius:.25rem}.table-responsive[_ngcontent-%COMP%]{overflow:visible}  .dark-theme input::placeholder{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material{background-color:#2a2e3f!important}  .dark-theme app-data-tables .dataTable-bottom{background-color:#2a2e3f!important}  .dark-theme app-data-tables .dataTable-selector{background-color:#2a2e3f;border-color:#272c49;color:#fff;outline:none}  .dark-theme app-data-tables input{color:#eee!important;background-color:#2a2e3f!important;border-color:#262b48;border-radius:25px;height:27px}  .dark-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .dark-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#2a2e3f;color:#fff}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid rgb(39,43,74)!important;color:#fff!important;background:#2a2e3f!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #32394e!important}  .dark-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .dark-theme app-data-tables .dataTable-pagination li:hover a,   .dark-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .dark-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .dark-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .dark-theme app-data-tables .mat-mdc-table{background:#2a2e3f!important}  .dark-theme app-data-tables .mat-mdc-header-cell{color:#fff!important}  .dark-theme app-data-tables .mat-mdc-cell,   .dark-theme app-data-tables .mat-mdc-footer-cell{color:#eee!important}  .dark-theme app-data-tables mat-row,   .dark-theme app-data-tables mat-header-row,   .dark-theme app-data-tables mat-footer-row,   .dark-theme app-data-tables th.mat-mdc-header-cell,   .dark-theme app-data-tables td.mat-mdc-cell,   .dark-theme app-data-tables td.mat-mdc-footer-cell{border-bottom-color:#ffffff1f!important}  .dark-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .dark-theme app-data-tables .mat-mdc-paginator,   .dark-theme app-data-tables .mat-mdc-paginator-page-size .mat-mdc-select-trigger{color:#ffffff8a!important}  .dark-theme app-data-tables .mat-mdc-paginator{background:#2a2e3f}  .dark-theme app-data-tables .mat-mdc-select-value{color:#fff7f7de}  .dark-theme app-data-tables .mat-mdc-select-arrow{color:#ffffffba}  .dark-theme .mat-mdc-select-panel{background:#30304d}  .dark-theme .mat-mdc-option{color:#ccc}  .dark-theme .mat-primary .mat-mdc-option.mat-selected:not(.mat-option-disabled){color:#fff}  .dark-theme .mat-mdc-option:hover:not(.mat-option-disabled),   .dark-theme .mat-option:focus:not(.mat-option-disabled){background:#2a2a44}  .dark-theme .mat-mdc-select-panel .mat-mdc-option.mat-selected:not(.mat-mdc-option-multiple){background:#0000001f}  .dark-theme .table-hover>tbody>tr:hover>*{color:#fff}  .dark-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme input::placeholder{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material{background-color:#2da28f!important}  .transparent-theme app-data-tables .dataTable-bottom{background-color:#2da28f!important}  .transparent-theme app-data-tables .dataTable-selector{background-color:#2da28f;border-color:#4cb0a0;color:#fff;outline:none}  .transparent-theme app-data-tables input{color:#eee!important;background-color:#2da28f!important;border-color:#4cb0a0;border-radius:25px;height:27px}  .transparent-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .transparent-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#2da28f;color:#fff}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid #4cb0a0!important;color:#fff!important;background:#2da28f!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #4cb0a0!important}  .transparent-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .transparent-theme app-data-tables .dataTable-pagination li:hover a,   .transparent-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .transparent-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .transparent-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .transparent-theme app-data-tables .mat-mdc-table{background:#2da28f!important}  .transparent-theme app-data-tables .mat-mdc-header-cell{color:#fff!important}  .transparent-theme app-data-tables .mat-mdc-cell,   .transparent-theme app-data-tables .mat-mdc-footer-cell{color:#eee!important}  .transparent-theme app-data-tables mat-row,   .transparent-theme app-data-tables mat-header-row,   .transparent-theme app-data-tables mat-footer-row,   .transparent-theme app-data-tables th.mat-mdc-header-cell,   .transparent-theme app-data-tables td.mat-mdc-cell,   .transparent-theme app-data-tables td.mat-mdc-footer-cell{border-bottom-color:#ffffff1f!important}  .transparent-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .transparent-theme app-data-tables .mat-mdc-paginator,   .transparent-theme app-data-tables .mat-mdc-paginator-page-size .mat-mdc-select-trigger{color:#ffffff8a!important}  .transparent-theme app-data-tables .mat-mdc-paginator{background:#2da28f}  .transparent-theme app-data-tables .mat-mdc-select-value{color:#fff7f7de}  .transparent-theme app-data-tables .mat-mdc-select-arrow{color:#ffffffba}  .transparent-theme .mat-mdc-select-panel{background:#30304d}  .transparent-theme .mat-mdc-option{color:#ccc}  .transparent-theme .mat-primary .mat-mdc-option.mat-selected:not(.mat-option-disabled){color:#fff}  .transparent-theme .mat-mdc-option:hover:not(.mat-option-disabled),   .transparent-theme .mat-option:focus:not(.mat-option-disabled){background:#2a2a44}  .transparent-theme .mat-mdc-select-panel .mat-mdc-option.mat-selected:not(.mat-mdc-option-multiple){background:#0000001f}  .transparent-theme .table-hover>tbody>tr:hover>*{color:#fff}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{background-color:#248272!important}.data-table[_ngcontent-%COMP%]{flex:1 1 0;overflow:auto;margin-top:5px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]{display:table;min-width:100%}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:32px;line-height:32px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   tr.mat-mdc-header-row[_ngcontent-%COMP%]{height:40px;line-height:40px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]{padding:0 4px;white-space:nowrap;font-size:16px;font-weight:400;color:#0000008a;font-family:Roboto,sans-serif}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell.action[_ngcontent-%COMP%]{width:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]{padding:1px 4px 0;line-height:29px;white-space:nowrap}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%]{width:16px;height:16px;font-size:16px;vertical-align:middle;position:relative;top:-1px}.data-table[_ngcontent-%COMP%]   .row-button[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0;position:relative;top:5px;padding:1px}.data-table[_ngcontent-%COMP%]   .row-button[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:16px;height:16px;width:16px;line-height:16px}.data-table[_ngcontent-%COMP%]   .row-icon[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0;position:relative;top:5px}mat-mdc-paginator[_ngcontent-%COMP%]{flex:0 0 auto}table[_ngcontent-%COMP%]{width:100%}.table-button-container[_ngcontent-%COMP%]{padding-bottom:16px}.mat-column-black-list-table[_ngcontent-%COMP%]{word-wrap:break-word;white-space:unset;overflow-wrap:break-word;word-break:break-word;-webkit-hyphens:auto;hyphens:auto}.mat-column-black-list-table-details[_ngcontent-%COMP%]{flex:0 0 2%;width:2%;min-width:1.5em}.mat-column-black-list-table-id[_ngcontent-%COMP%]{flex:0 0 8%;width:8%;min-width:1.5em}.mat-column-black-list-table-name[_ngcontent-%COMP%]{flex:0 0 90%;width:90%;min-width:1.5em}.ng-pagination-nav-icons[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:12px}"]})}return a})();const ra=a=>({"has-error":a});function Cd(a,r){1&a&&(e.j41(0,"div",20)(1,"small"),e.EFF(2," Level name is required "),e.k0s()())}function kd(a,r){1&a&&(e.j41(0,"div",20)(1,"small"),e.EFF(2," Please specify an account type appropriate for the level "),e.k0s()())}function Fd(a,r){1&a&&(e.j41(0,"div",20)(1,"small"),e.EFF(2," Level value is required "),e.k0s()())}function Td(a,r){1&a&&(e.j41(0,"div",20)(1,"small"),e.EFF(2," Flow is required "),e.k0s()())}function xd(a,r){if(1&a&&(e.j41(0,"div",21)(1,"h4",22),e.EFF(2),e.k0s()()),2&a){const t=e.XpG();e.R7$(2),e.SpI(" ",t.errorMessage," ")}}function wd(a,r){1&a&&e.nrm(0,"span",23)}function Sd(a,r){1&a&&e.nrm(0,"span",23)}function Dd(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",24),e.bIt("click",function(){e.eBV(t);const n=e.XpG(),o=e.sdS(45);return e.Njj(n.deleteLevel(o))}),e.DNE(1,Sd,1,0,"span",17),e.EFF(2," Delete "),e.k0s()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.deleteInProgress)}}function Id(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",25)(1,"h5",26),e.EFF(2,"Delete level"),e.k0s(),e.j41(3,"button",27),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",28),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",29)(7,"h4",30),e.EFF(8," You are going to delete selected level. Confirm operation. "),e.k0s(),e.j41(9,"div",31)(10,"button",32),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Reject"))}),e.EFF(11," Reject "),e.k0s(),e.j41(12,"button",33),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.close("Confirm"))}),e.EFF(13," Confirm "),e.k0s()()()}}let Ed=(()=>{class a{set currentLevel(t){this.setFormData(t),this.settingsId=t?t?.id:"",this.createNew=""===this.settingsId}constructor(t,i,n,o,s){this.formBuilder=t,this.router=i,this.modalService=n,this.auth=o,this.adminService=s,this.permission=0,this.save=new e.bkB,this.close=new e.bkB,this.subscriptions=new R.yU,this.removeDialog=void 0,this.settingsId="",this.submitted=!1,this.createNew=!1,this.saveInProgress=!1,this.deleteInProgress=!1,this.errorMessage="",this.userTypeOptions=F.GV,this.form=this.formBuilder.group({id:[""],name:["",{validators:[d.k0.required],updateOn:"change"}],description:[""],userType:["",{validators:[d.k0.required],updateOn:"change"}],level:["",{validators:[d.k0.required],updateOn:"change"}],flow:["",{validators:[d.k0.required],updateOn:"change"}]})}ngOnDestroy(){this.subscriptions.unsubscribe()}setFormData(t){null!==t?(this.form.get("id")?.setValue(t?.id),this.form.get("name")?.setValue(t?.name),this.form.get("description")?.setValue(t?.description),this.form.get("userType")?.setValue(t?.userType),this.form.get("level")?.setValue(t?.levelData.value),this.form.get("flow")?.setValue(t?.flowData.value)):(this.form.get("id")?.setValue(""),this.form.get("name")?.setValue(""),this.form.get("description")?.setValue(""),this.form.get("userType")?.setValue(""),this.form.get("level")?.setValue(""),this.form.get("flow")?.setValue([]))}setLevelData(){const t=new dt.CC(null);return t.name=this.form.get("name")?.value,t.description=this.form.get("description")?.value,t.userType=this.form.get("userType")?.value,t.levelData.value=this.form.get("level")?.value,t.flowData.value=this.form.get("flow")?.value,t.id=this.form.get("id")?.value,t}onSubmit(){this.submitted=!0,this.form.valid&&this.saveLevel(this.setLevelData())}deleteLevel(t){this.removeDialog=this.modalService.open(t,{backdrop:"static",windowClass:"modalCusSty"}),this.subscriptions.add(this.removeDialog.closed.subscribe(()=>{this.deleteLevelConfirmed(this.settingsId??"")}))}saveLevel(t){this.errorMessage="",this.saveInProgress=!0;const i=this.adminService.saveKycLevelSettings(t,this.createNew);this.subscriptions.add(i.subscribe(()=>{this.saveInProgress=!1,this.save.emit()},n=>{this.saveInProgress=!1,this.errorMessage=n,""===this.auth.token&&this.router.navigateByUrl("/")}))}deleteLevelConfirmed(t){this.errorMessage="",this.saveInProgress=!0;const i=this.adminService.deleteKycLevelSettings(t);this.subscriptions.add(i.subscribe(()=>{this.saveInProgress=!1,this.save.emit()},n=>{this.saveInProgress=!1,this.errorMessage=n,""===this.auth.token&&this.router.navigateByUrl("/")}))}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(d.ze),e.rXU(w.Ix),e.rXU(_.Bq),e.rXU(I.u),e.rXU(E))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-level-details"]],inputs:{permission:"permission",currentLevel:"currentLevel"},outputs:{save:"save",close:"close"},decls:46,vars:20,consts:[["delete_content",""],[1,"row"],[1,"col-md-12","col-lg-12","col-xl-12","mx-auto","d-block"],["novalidate","",3,"ngSubmit","formGroup"],[1,"card","card-body","pd-20","pd-md-40","border","shadow-none"],[1,"form-group"],[1,"main-content-label","tx-11","tx-medium","tx-gray-600"],[1,"main-content-label","tx-11","tx-medium","tx-danger"],["type","text","formControlName","name","required","",1,"form-control",3,"ngClass"],["class","tx-danger",4,"ngIf"],["rows","3","formControlName","description",1,"form-control",2,"resize","none"],["bindLabel","name","bindValue","id","formControlName","userType","required","",3,"items","clearable","clearOnBackspace"],["type","text","formControlName","level","required","",1,"form-control",3,"ngClass"],["type","text","formControlName","flow","required","",1,"form-control",3,"ngClass"],["class","card card-body card-danger pd-20 pd-md-40 border shadow-none",4,"ngIf"],[2,"display","flex","justify-content","flex-end"],[1,"btn","btn-primary","pd-x-30","me-2","mg-t-5"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["class","btn btn-danger pd-x-30 me-2 mg-t-5","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","pd-x-30","mg-t-5",3,"click"],[1,"tx-danger"],[1,"card","card-body","card-danger","pd-20","pd-md-40","border","shadow-none"],[1,"card-title2","mg-b-20","color_brown"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["type","button",1,"btn","btn-danger","pd-x-30","me-2","mg-t-5",3,"click"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[2,"text-align","center"],[2,"display","flex","flex-direction","row","justify-content","center","align-items","center"],["type","button",1,"btn","btn-outline-secondary","pd-x-30","me-2","mg-t-5",3,"click"],[1,"btn","btn-primary","pd-x-30","mg-t-5",3,"click"]],template:function(i,n){if(1&i){const o=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"form",3),e.bIt("ngSubmit",function(){return e.eBV(o),e.Njj(n.onSubmit())}),e.j41(3,"div",4)(4,"div",5)(5,"label",6),e.EFF(6," Level name "),e.j41(7,"span",7),e.EFF(8,"*"),e.k0s()(),e.nrm(9,"input",8),e.DNE(10,Cd,3,0,"div",9),e.k0s(),e.j41(11,"div",5)(12,"label",6),e.EFF(13," Description "),e.k0s(),e.nrm(14,"textarea",10),e.k0s(),e.j41(15,"div",5)(16,"label",6),e.EFF(17," Account type "),e.j41(18,"span",7),e.EFF(19,"*"),e.k0s()(),e.nrm(20,"ng-select",11),e.DNE(21,kd,3,0,"div",9),e.k0s(),e.j41(22,"div",5)(23,"label",6),e.EFF(24," Level value "),e.j41(25,"span",7),e.EFF(26,"*"),e.k0s()(),e.nrm(27,"input",12),e.DNE(28,Fd,3,0,"div",9),e.k0s(),e.j41(29,"div",5)(30,"label",6),e.EFF(31," Flow "),e.j41(32,"span",7),e.EFF(33,"*"),e.k0s()(),e.nrm(34,"input",13),e.DNE(35,Td,3,0,"div",9),e.k0s()(),e.DNE(36,xd,3,1,"div",14),e.j41(37,"div",15)(38,"button",16),e.DNE(39,wd,1,0,"span",17),e.EFF(40," Save "),e.k0s(),e.DNE(41,Dd,3,1,"button",18),e.j41(42,"button",19),e.bIt("click",function(){return e.eBV(o),e.Njj(n.close.emit())}),e.EFF(43," Close "),e.k0s()()()()(),e.DNE(44,Id,14,0,"ng-template",null,0,e.C5r)}2&i&&(e.R7$(2),e.Y8G("formGroup",n.form),e.R7$(7),e.Y8G("ngClass",e.eq3(14,ra,!n.form.controls.name.valid)),e.R7$(),e.Y8G("ngIf",(n.form.controls.name.touched||n.submitted)&&(null==n.form.controls.name.errors?null:n.form.controls.name.errors.required)),e.R7$(10),e.Y8G("items",n.userTypeOptions)("clearable",!1)("clearOnBackspace",!1),e.R7$(),e.Y8G("ngIf",(n.form.controls.userType.touched||n.submitted)&&(null==n.form.controls.userType.errors?null:n.form.controls.userType.errors.required)),e.R7$(6),e.Y8G("ngClass",e.eq3(16,ra,!n.form.controls.level.valid)),e.R7$(),e.Y8G("ngIf",(n.form.controls.level.touched||n.submitted)&&(null==n.form.controls.level.errors?null:n.form.controls.level.errors.required)),e.R7$(6),e.Y8G("ngClass",e.eq3(18,ra,!n.form.controls.flow.valid)),e.R7$(),e.Y8G("ngIf",(n.form.controls.flow.touched||n.submitted)&&(null==n.form.controls.flow.errors?null:n.form.controls.flow.errors.required)),e.R7$(),e.Y8G("ngIf",""!==n.errorMessage),e.R7$(3),e.Y8G("ngIf",n.saveInProgress),e.R7$(2),e.Y8G("ngIf",n.permission>1&&!n.createNew))},dependencies:[h.YU,h.bT,d.qT,d.me,d.BC,d.cb,d.YS,d.j4,d.JD,te],styles:[".dark-theme .mat-mdc-button,   .dark-theme .mat-mdc-icon-button,   .dark-theme .mat-mdc-outlined-button{color:#b7c0d6!important}  .dark-theme .mat-form-field-label{color:#eee}  .dark-theme .mat-datepicker-content{background-color:#373d51;color:#ffffffde}  .dark-theme .mat-calendar-table-header,   .dark-theme .mat-calendar-body-label{color:#fff}@media (hover: hover){  .dark-theme .mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#2a2e3f}}  .dark-theme .mat-calendar-body-cell-content,   .dark-theme .mat-date-range-input-separator{color:#e1e1ef}  .dark-theme .ngb-dp-header{background-color:#343545}  .dark-theme .ngb-dp-weekdays{background-color:#343545}  .rtl .color-picker{left:initial!important}  .transparent-theme .card .box{background:#2da28f}  .transparent-theme .hex-text,   .transparent-theme .rgba-text{background:#2da28f}  .transparent-theme .mat-datepicker-content{background-color:#2da28f;color:#ffffffde}  .transparent-theme .mat-datepicker-toggle,   .transparent-theme .mat-datepicker-content .mat-calendar-next-button,   .transparent-theme .mat-datepicker-content .mat-calendar-previous-button{color:#ffffff81}  .transparent-theme .mat-calendar-body-cell-content,   .transparent-theme .mat-date-range-input-separator{color:#ffffffd3}  .transparent-theme .mat-calendar-table-header,   .transparent-theme .mat-calendar-body-label{color:#fff9}  .transparent-theme .ngb-dp-header{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekdays{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekday{color:#000}  .transparent-theme .ng-select .ng-arrow-wrapper .ng-arrow{border-top-color:#fff!important}  .transparent-theme .ng-select.ng-select-opened .ng-arrow-wrapper .ng-arrow{border-bottom-color:#fff!important}  .form-controls{display:block;color:#fff;border:transparent;outline:none;width:100%;height:40px;padding:.375rem .75rem;font-size:.875rem;font-weight:400;line-height:2;background-clip:padding-box;border-radius:5px;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}  button[type=button]{z-index:0!important}",".has-error[_ngcontent-%COMP%]{border:1px solid #f16d75}.tx-danger[_ngcontent-%COMP%]{color:red!important}"]})}return a})();const Pd=()=>["Home","KYC / KYB"];function Ad(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",23),e.bIt("click",function(){e.eBV(t);const n=e.XpG(),o=e.sdS(26);return e.Njj(n.showDetails(void 0,o))}),e.EFF(1," Add level "),e.k0s()}}function Rd(a,r){1&a&&e.nrm(0,"mat-progress-bar",24)}function Od(a,r){1&a&&e.nrm(0,"th",25)}function jd(a,r){if(1&a){const t=e.RV6();e.j41(0,"td",26)(1,"button",27),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG(),s=e.sdS(26);return e.Njj(o.showDetails(n,s))}),e.j41(2,"i",28),e.EFF(3,"wysiwyg"),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(),e.BMQ("aria-label","Level details")("aria-pressed",!!t.selectedLevel)}}function $d(a,r){1&a&&(e.j41(0,"th",29),e.EFF(1,"Name "),e.k0s())}function Md(a,r){if(1&a&&(e.j41(0,"td",26),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.name," ")}}function Nd(a,r){1&a&&(e.j41(0,"th",30),e.EFF(1," Flow value "),e.k0s())}function Vd(a,r){if(1&a&&(e.j41(0,"td",26),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.flowData.value," ")}}function Gd(a,r){1&a&&(e.j41(0,"th",31),e.EFF(1," User type "),e.k0s())}function Bd(a,r){if(1&a&&(e.j41(0,"td",26),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.userType," ")}}function Ud(a,r){1&a&&e.nrm(0,"tr",32)}function Ld(a,r){1&a&&e.nrm(0,"tr",33)}function Yd(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",34)(1,"h5",35),e.EFF(2),e.k0s(),e.j41(3,"button",36),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",37),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",38)(7,"app-admin-level-details",39),e.bIt("save",function(){const n=e.eBV(t).$implicit;return e.Njj(n.close("OK"))})("close",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Close"))}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(2),e.SpI(" ",t.detailsTitle," "),e.R7$(5),e.Y8G("permission",t.permission)("currentLevel",t.selectedLevel)}}let qd=(()=>{class a{constructor(t,i,n,o){this.modalService=t,this.auth=i,this.adminService=n,this.router=o,this.displayedColumns=["details","name","flow","userType"],this.inProgress=!1,this.errorMessage="",this.detailsTitle="",this.permission=0,this.levels=[],this.subscriptions=new R.yU,this.detailsDialog=void 0,this.permission=this.auth.isPermittedObjectCode(c.G4.Kyc)}ngOnInit(){this.loadLevels()}ngOnDestroy(){this.subscriptions.unsubscribe()}loadLevels(){this.levels=[],this.inProgress=!0;const t=this.adminService.getKycLevels(null).pipe((0,P.s)(1));this.subscriptions.add(t.subscribe(i=>{this.levels=i.list,this.inProgress=!1},()=>{this.inProgress=!1,""===this.auth.token&&this.router.navigateByUrl("/")}))}showDetails(t,i){this.selectedLevel=t,this.detailsTitle=t?"KYC level details":"Add new KYC level",this.detailsDialog=this.modalService.open(i,{backdrop:"static",windowClass:"modalCusSty"}),this.subscriptions.add(this.detailsDialog.closed.subscribe(()=>{this.loadLevels()}))}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(_.Bq),e.rXU(I.u),e.rXU(E),e.rXU(w.Ix))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-levels"]],decls:27,vars:9,consts:[["details_content",""],[3,"title","items","active_item"],[1,"row","row-sm"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],[1,"table-button-container"],["type","button","class","btn btn-primary me-2",3,"click",4,"ngIf"],["color","accent","mode","indeterminate",4,"ngIf"],[1,"data-table"],[3,"dataSource"],["matColumnDef","details"],["mat-header-cell","","class","mat-column-level-table mat-column-level-table-details",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","class","mat-column-level-table mat-column-level-table-name",4,"matHeaderCellDef"],["matColumnDef","flow"],["mat-header-cell","","class","mat-column-level-table mat-column-level-table-flow",4,"matHeaderCellDef"],["matColumnDef","userType"],["mat-header-cell","","class","mat-column-level-table mat-column-level-table-user-type",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["color","accent","mode","indeterminate"],["mat-header-cell","",1,"mat-column-level-table","mat-column-level-table-details"],["mat-cell",""],["mat-icon-button","","matTooltip","Level details","matTooltipClass","info-tooltip",1,"row-button",3,"click"],[1,"material-icons",2,"font-size","20px"],["mat-header-cell","",1,"mat-column-level-table","mat-column-level-table-name"],["mat-header-cell","",1,"mat-column-level-table","mat-column-level-table-flow"],["mat-header-cell","",1,"mat-column-level-table","mat-column-level-table-user-type"],["mat-header-row",""],["mat-row",""],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"save","close","permission","currentLevel"]],template:function(i,n){1&i&&(e.nrm(0,"app-admin-page-header",1),e.j41(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",7),e.DNE(7,Ad,2,0,"button",8),e.k0s(),e.DNE(8,Rd,1,0,"mat-progress-bar",9),e.j41(9,"div",10)(10,"mat-table",11),e.qex(11,12),e.DNE(12,Od,1,0,"th",13)(13,jd,4,2,"td",14),e.bVm(),e.qex(14,15),e.DNE(15,$d,2,0,"th",16)(16,Md,2,1,"td",14),e.bVm(),e.qex(17,17),e.DNE(18,Nd,2,0,"th",18)(19,Vd,2,1,"td",14),e.bVm(),e.qex(20,19),e.DNE(21,Gd,2,0,"th",20)(22,Bd,2,1,"td",14),e.bVm(),e.DNE(23,Ud,1,0,"tr",21)(24,Ld,1,0,"tr",22),e.k0s()(),e.DNE(25,Yd,8,3,"ng-template",null,0,e.C5r),e.k0s()()()()()),2&i&&(e.Y8G("title","Levels")("items",e.lJ4(8,Pd))("active_item","Levels"),e.R7$(7),e.Y8G("ngIf",n.permission>1),e.R7$(),e.Y8G("ngIf",n.inProgress),e.R7$(2),e.Y8G("dataSource",n.levels),e.R7$(13),e.Y8G("matHeaderRowDef",n.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",n.displayedColumns))},dependencies:[h.bT,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,ie.oV,K.iY,z.HM,X,Ed],styles:[".datatable-body{height:600px!important;overflow:scroll;width:100%}  .dataTable-bottom{position:absolute;left:0;right:0;bottom:0;background:#fff!important}  table th,   table td,   .ngx-datatable.material .datatable-header .datatable-header-cell,   .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{font-size:.876rem!important}@media (max-width: 567.9px){  .ngx-datatable .datatable-footer .datatable-footer-inner{flex-wrap:wrap;height:auto!important}  .ngx-datatable .datatable-footer .datatable-pager{text-align:center!important}}  .dataTable-wrapper.no-footer .dataTable-container{border-bottom:none!important}  .dataTable-selector{border-radius:.25rem}  app-data-table input{border-radius:25px;border:1px solid rgba(0,0,0,.1)}  app-data-table .custom-select{border:1px solid rgba(0,0,0,.24)!important;border-radius:.25rem}.table-responsive[_ngcontent-%COMP%]{overflow:visible}  .dark-theme input::placeholder{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material{background-color:#2a2e3f!important}  .dark-theme app-data-tables .dataTable-bottom{background-color:#2a2e3f!important}  .dark-theme app-data-tables .dataTable-selector{background-color:#2a2e3f;border-color:#272c49;color:#fff;outline:none}  .dark-theme app-data-tables input{color:#eee!important;background-color:#2a2e3f!important;border-color:#262b48;border-radius:25px;height:27px}  .dark-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .dark-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#2a2e3f;color:#fff}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid rgb(39,43,74)!important;color:#fff!important;background:#2a2e3f!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #32394e!important}  .dark-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .dark-theme app-data-tables .dataTable-pagination li:hover a,   .dark-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .dark-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .dark-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .dark-theme app-data-tables .mat-mdc-table{background:#2a2e3f!important}  .dark-theme app-data-tables .mat-mdc-header-cell{color:#fff!important}  .dark-theme app-data-tables .mat-mdc-cell,   .dark-theme app-data-tables .mat-mdc-footer-cell{color:#eee!important}  .dark-theme app-data-tables mat-row,   .dark-theme app-data-tables mat-header-row,   .dark-theme app-data-tables mat-footer-row,   .dark-theme app-data-tables th.mat-mdc-header-cell,   .dark-theme app-data-tables td.mat-mdc-cell,   .dark-theme app-data-tables td.mat-mdc-footer-cell{border-bottom-color:#ffffff1f!important}  .dark-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .dark-theme app-data-tables .mat-mdc-paginator,   .dark-theme app-data-tables .mat-mdc-paginator-page-size .mat-mdc-select-trigger{color:#ffffff8a!important}  .dark-theme app-data-tables .mat-mdc-paginator{background:#2a2e3f}  .dark-theme app-data-tables .mat-mdc-select-value{color:#fff7f7de}  .dark-theme app-data-tables .mat-mdc-select-arrow{color:#ffffffba}  .dark-theme .mat-mdc-select-panel{background:#30304d}  .dark-theme .mat-mdc-option{color:#ccc}  .dark-theme .mat-primary .mat-mdc-option.mat-selected:not(.mat-option-disabled){color:#fff}  .dark-theme .mat-mdc-option:hover:not(.mat-option-disabled),   .dark-theme .mat-option:focus:not(.mat-option-disabled){background:#2a2a44}  .dark-theme .mat-mdc-select-panel .mat-mdc-option.mat-selected:not(.mat-mdc-option-multiple){background:#0000001f}  .dark-theme .table-hover>tbody>tr:hover>*{color:#fff}  .dark-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme input::placeholder{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material{background-color:#2da28f!important}  .transparent-theme app-data-tables .dataTable-bottom{background-color:#2da28f!important}  .transparent-theme app-data-tables .dataTable-selector{background-color:#2da28f;border-color:#4cb0a0;color:#fff;outline:none}  .transparent-theme app-data-tables input{color:#eee!important;background-color:#2da28f!important;border-color:#4cb0a0;border-radius:25px;height:27px}  .transparent-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .transparent-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#2da28f;color:#fff}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid #4cb0a0!important;color:#fff!important;background:#2da28f!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #4cb0a0!important}  .transparent-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .transparent-theme app-data-tables .dataTable-pagination li:hover a,   .transparent-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .transparent-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .transparent-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .transparent-theme app-data-tables .mat-mdc-table{background:#2da28f!important}  .transparent-theme app-data-tables .mat-mdc-header-cell{color:#fff!important}  .transparent-theme app-data-tables .mat-mdc-cell,   .transparent-theme app-data-tables .mat-mdc-footer-cell{color:#eee!important}  .transparent-theme app-data-tables mat-row,   .transparent-theme app-data-tables mat-header-row,   .transparent-theme app-data-tables mat-footer-row,   .transparent-theme app-data-tables th.mat-mdc-header-cell,   .transparent-theme app-data-tables td.mat-mdc-cell,   .transparent-theme app-data-tables td.mat-mdc-footer-cell{border-bottom-color:#ffffff1f!important}  .transparent-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .transparent-theme app-data-tables .mat-mdc-paginator,   .transparent-theme app-data-tables .mat-mdc-paginator-page-size .mat-mdc-select-trigger{color:#ffffff8a!important}  .transparent-theme app-data-tables .mat-mdc-paginator{background:#2da28f}  .transparent-theme app-data-tables .mat-mdc-select-value{color:#fff7f7de}  .transparent-theme app-data-tables .mat-mdc-select-arrow{color:#ffffffba}  .transparent-theme .mat-mdc-select-panel{background:#30304d}  .transparent-theme .mat-mdc-option{color:#ccc}  .transparent-theme .mat-primary .mat-mdc-option.mat-selected:not(.mat-option-disabled){color:#fff}  .transparent-theme .mat-mdc-option:hover:not(.mat-option-disabled),   .transparent-theme .mat-option:focus:not(.mat-option-disabled){background:#2a2a44}  .transparent-theme .mat-mdc-select-panel .mat-mdc-option.mat-selected:not(.mat-mdc-option-multiple){background:#0000001f}  .transparent-theme .table-hover>tbody>tr:hover>*{color:#fff}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{background-color:#248272!important}.data-table[_ngcontent-%COMP%]{flex:1 1 0;overflow:auto;margin-top:5px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]{display:table;min-width:100%}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:32px;line-height:32px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   tr.mat-mdc-header-row[_ngcontent-%COMP%]{height:40px;line-height:40px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]{padding:0 4px;white-space:nowrap;font-size:16px;font-weight:400;color:#0000008a;font-family:Roboto,sans-serif}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell.action[_ngcontent-%COMP%]{width:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]{padding:1px 4px 0;line-height:29px;white-space:nowrap}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%]{width:16px;height:16px;font-size:16px;vertical-align:middle;position:relative;top:-1px}.data-table[_ngcontent-%COMP%]   .row-button[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0;position:relative;top:5px;padding:1px}.data-table[_ngcontent-%COMP%]   .row-button[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:16px;height:16px;width:16px;line-height:16px}.data-table[_ngcontent-%COMP%]   .row-icon[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0;position:relative;top:5px}mat-mdc-paginator[_ngcontent-%COMP%]{flex:0 0 auto}table[_ngcontent-%COMP%]{width:100%}.table-button-container[_ngcontent-%COMP%]{padding-bottom:16px}.mat-column-level-table[_ngcontent-%COMP%]{word-wrap:break-word;white-space:unset;overflow-wrap:break-word;word-break:break-word;-webkit-hyphens:auto;hyphens:auto}.mat-column-level-table-name[_ngcontent-%COMP%]{flex:0 0 41%;width:41%;min-width:10em}.mat-column-level-table-flow[_ngcontent-%COMP%]{flex:0 0 42%;width:42%;min-width:10em}.mat-column-level-table-user-type[_ngcontent-%COMP%]{flex:0 0 15%;width:15%;min-width:10em}.mat-column-level-table-details[_ngcontent-%COMP%]{flex:0 0 2%;width:2%;min-width:1.5em}.ng-pagination-nav-icons[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:12px}"]})}return a})();class G{constructor(r){if(r.resultsOnly&&(this.resultsOnly=r.resultsOnly),r.statusesOnly&&(this.statusesOnly=r.statusesOnly),r.userActionTypes&&(this.userActionTypes=r.userActionTypes),r.notificationType&&(this.notificationType=r.notificationType),r.accountTypes&&(this.accountTypes=r.accountTypes),r.accountModes&&(this.accountModes=r.accountModes),r.accountStatuses&&(this.accountStatuses=r.accountStatuses),r.assets&&(this.assets=r.assets),r.fiatCurrency&&(this.fiatCurrency=r.fiatCurrency),r.countries&&(this.countries=r.countries),r.sources&&(this.sources=r.sources),r.user&&(this.user=r.user),r.users&&(this.users=r.users),r.transactionDate){const t=Date.parse(r.transactionDate);this.transactionDate=isNaN(t)?void 0:new Date(t)}if(r.widgets&&(this.widgets=r.widgets),r.widgetNames&&(this.widgetNames=r.widgetNames),r.riskAlertCode&&(this.riskAlertCode=r.riskAlertCode),r.kycStatuses&&(this.kycStatuses=r.kycStatuses),r.transactionKycStatuses&&(this.transactionKycStatuses=r.transactionKycStatuses),r.transactionIds&&(this.transactionIds=r.transactionIds),r.transactionTypes&&(this.transactionTypes=r.transactionTypes),r.transactionStatuses&&(this.transactionStatuses=r.transactionStatuses),r.tiers&&(this.tiers=r.tiers),r.riskLevels&&(this.riskLevels=r.riskLevels),r.paymentInstruments&&(this.paymentInstruments=r.paymentInstruments),(r.createdDateRangeStart||r.createdDateRangeEnd)&&(this.createdDateInterval=this.getDateTimeRange(r.createdDateRangeStart,r.createdDateRangeEnd)),(r.completedDateRangeStart||r.completedDateRangeEnd)&&(this.completedDateInterval=this.getDateTimeRange(r.completedDateRangeStart,r.completedDateRangeEnd)),(r.registrationDateRangeStart||r.registrationDateRangeEnd)&&(this.registrationDateInterval=this.getDateTimeRange(r.registrationDateRangeStart,r.registrationDateRangeEnd)),(r.updatedDateRangeStart||r.updatedDateRangeEnd)&&(this.updatedDateInterval=this.getDateTimeRange(r.updatedDateRangeStart,r.updatedDateRangeEnd)),(r.reversalProcessedStart||r.reversalProcessedEnd)&&(this.reversalProcessedInterval=this.getDateTimeRange(r.reversalProcessedStart,r.reversalProcessedEnd)),(r.recallRegisteredStart||r.recallRegisteredEnd)&&(this.recallRegisteredInterval=this.getDateTimeRange(r.recallRegisteredStart,r.recallRegisteredEnd)),r.walletAddress&&(this.walletAddress=r.walletAddress),r.totalBuyVolumeOver){const t=parseInt(r.totalBuyVolumeOver);this.totalBuyVolumeOver=isNaN(t)||0===t?void 0:t}if(r.transactionCountOver){const t=parseInt(r.transactionCountOver);this.transactionCountOver=isNaN(t)||0===t?void 0:t}r.search&&(this.search=r.search),r.from&&(this.from=r.from),r.verifyWhenPaid&&(this.verifyWhenPaid=r.verifyWhenPaid),r.transactionFlag&&(this.transactionFlag=r.transactionFlag),r.transactionWasEverCompleted&&(this.transactionWasEverCompleted=r.transactionWasEverCompleted),r.recallNumber&&(this.recallNumber=r.recallNumber),r.hasRecallNumber&&(this.hasRecallNumber=r.hasRecallNumber),r.preauthFlag&&(this.preauthFlag=r.preauthFlag),r.zeroBalance&&(this.zeroBalance=r.zeroBalance),r.transactionId&&(this.transactionId=r.transactionId),r.userId&&(this.userId=r.userId)}getDateTimeRange(r,t){let i=Date.parse(r),n=Date.parse(t);if(!isNaN(i)&&!isNaN(n)&&i>n){const m=i;i=n,n=m}const o=isNaN(i)?void 0:new Date(i),s=isNaN(n)?void 0:new Date(n),l=o||s;return{from:l?o??new Date(0):o,to:l?s??new Date:s}}}var S=f(7673),ke=f(8793),Y=f(3294);let St=(()=>{class a extends _.dn{constructor(){super(...arguments),this.DELIMITER="-"}fromModel(t){if(t){const i=t.split(this.DELIMITER);return{day:parseInt(i[0],10),month:parseInt(i[1],10),year:parseInt(i[2],10)}}return null}toModel(t){return t?t.day+this.DELIMITER+t.month+this.DELIMITER+t.year:null}static#e=this.\u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})(),Dt=(()=>{class a extends _.tN{constructor(){super(...arguments),this.DELIMITER="/"}parse(t){if(t){const i=t.split(this.DELIMITER);return{day:parseInt(i[0],10),month:parseInt(i[1],10),year:parseInt(i[2],10)}}return null}format(t){return t?`${(t?.day??0)<10?"0":""}${t.day}${this.DELIMITER}${(t?.month??0)<10?"0":""}${t.month}${this.DELIMITER}${t.year}`:""}static#e=this.\u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();function Wd(a,r){if(1&a){const t=e.RV6();e.j41(0,"span",13),e.bIt("mouseenter",function(){const n=e.eBV(t).$implicit,o=e.XpG();return e.Njj(o.hoveredDate=n)})("mouseleave",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hoveredDate=null)}),e.EFF(1),e.k0s()}if(2&a){const t=r.$implicit,i=r.focused,n=e.XpG();e.AVh("focused",i)("range",n.isRange(t))("faded",n.isHovered(t)||n.isInside(t)),e.R7$(),e.SpI(" ",t.day," ")}}let Xd=(()=>{class a{constructor(t,i){this.calendar=t,this.formatter=i,this.startField=null,this.endField=null,this.hoveredDate=null,this.fromDate=null,this.toDate=null}ngOnInit(){if(this.startField&&this.endField&&this.startField.value&&this.endField.value){const t=this.startField.value,i=this.endField.value;this.fromDate=new _.gj(t.getFullYear(),t.getMonth()+1,t.getDate()),this.toDate=new _.gj(i.getFullYear(),i.getMonth()+1,i.getDate())}}onDateSelection(t){this.fromDate||this.toDate?this.fromDate&&!this.toDate&&t&&t.after(this.fromDate)?this.toDate=t:(this.toDate=null,this.fromDate=t):this.fromDate=t}isHovered(t){return this.fromDate&&!this.toDate&&this.hoveredDate&&t.after(this.fromDate)&&t.before(this.hoveredDate)}isInside(t){return this.toDate&&t.after(this.fromDate)&&t.before(this.toDate)}isRange(t){return t.equals(this.fromDate)||this.toDate&&t.equals(this.toDate)||this.isInside(t)||this.isHovered(t)}validateInput(t,i){if(""===i)return null;const n=this.formatter.parse(i);return n&&this.calendar.isValid(_.gj.from(n))?_.gj.from(n):t}onDateChanged(){const t=`${this.fromDate?.day}/${this.fromDate?.month}/${this.fromDate?.year}`,i=`${this.toDate?.day}/${this.toDate?.month}/${this.toDate?.year}`;this.startField?.setValue((0,ae.ZC)(t)),this.endField?.setValue((0,ae.ZC)(i))}reset(){this.fromDate=null,this.toDate=null}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(_.iF),e.rXU(_.tN))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-date-range"]],inputs:{startField:"startField",endField:"endField"},features:[e.Jv_([{provide:_.dn,useClass:St},{provide:_.tN,useClass:Dt}],[{provide:d.ZU,useFactory:t=>t,deps:[[new e.kdw,d.ZU]]}])],decls:17,vars:6,consts:[["datepicker","ngbDatepicker"],["day_item",""],["dpFromDate",""],["dpToDate",""],[1,"dp-hidden"],["name","datepicker","ngbDatepicker","","outsideDays","hidden","tabindex","-1",1,"dp-hidden",3,"dateSelect","autoClose","displayMonths","dayTemplate","startDate"],[1,"__admin-date-range-container"],["type","button",1,"btn","btn-outline-secondary","me-2","__admin-date-range-button",3,"click"],[1,"material-icons",2,"font-size","24px","opacity","0.85"],[1,"input-group"],["placeholder","dd/mm/yyyy","name","dpFromDate",1,"form-control",3,"input","value"],[1,"main-content-label","tx-11","tx-medium","tx-gray-600","mx-2","me-2","mt-2"],["placeholder","dd/mm/yyyy","name","dpToDate",1,"form-control",3,"input","value"],[1,"custom-day",3,"mouseenter","mouseleave"]],template:function(i,n){if(1&i){const o=e.RV6();e.j41(0,"div",4)(1,"input",5,0),e.bIt("dateSelect",function(l){return e.eBV(o),n.onDateSelection(l),e.Njj(n.onDateChanged())}),e.k0s(),e.DNE(3,Wd,2,7,"ng-template",null,1,e.C5r),e.k0s(),e.j41(5,"div",6)(6,"button",7),e.bIt("click",function(){e.eBV(o);const l=e.sdS(2);return e.Njj(l.toggle())}),e.j41(7,"span",8),e.EFF(8," calendar_month "),e.k0s()(),e.j41(9,"div",9)(10,"input",10,2),e.bIt("input",function(){e.eBV(o);const l=e.sdS(11);return n.fromDate=n.validateInput(n.fromDate,l.value),e.Njj(n.onDateChanged())}),e.k0s()(),e.j41(12,"span",11),e.EFF(13," - "),e.k0s(),e.j41(14,"div",9)(15,"input",12,3),e.bIt("input",function(){e.eBV(o);const l=e.sdS(16);return n.toDate=n.validateInput(n.toDate,l.value),e.Njj(n.onDateChanged())}),e.k0s()()()}if(2&i){const o=e.sdS(4);e.R7$(),e.Y8G("autoClose","outside")("displayMonths",1)("dayTemplate",o)("startDate",n.fromDate),e.R7$(9),e.Y8G("value",n.formatter.format(n.fromDate)),e.R7$(5),e.Y8G("value",n.formatter.format(n.toDate))}},dependencies:[_.cw],styles:[".__admin-date-range-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center}.__admin-date-range-button[_ngcontent-%COMP%]{padding:5px;display:flex;justify-content:center;align-items:center}.dp-hidden[_ngcontent-%COMP%]{position:absolute;width:0;height:0;margin:0;border:none;padding:0;z-index:125}.custom-day[_ngcontent-%COMP%]{text-align:center;padding:.185rem .25rem;display:inline-block;height:2rem;width:2rem}.custom-day.focused[_ngcontent-%COMP%]{background-color:#e6e6e6}.custom-day.range[_ngcontent-%COMP%], .custom-day[_ngcontent-%COMP%]:hover{background-color:#0275d8;color:#fff}.custom-day.faded[_ngcontent-%COMP%]{background-color:#0275d880}"]})}return a})();var zd=f(4058);const Hd=["created_filter"],Kd=["completed_filter"],Jd=["registered_filter"],Qd=["updated_filter"],Zd=["reversal_processed_filter"],ec=["recall_registered_filter"];function tc(a,r){1&a&&e.nrm(0,"input",25)}function ac(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",27)(1,"label",28),e.EFF(2," Notification type "),e.j41(3,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.onFilterRemove(n,"notificationType"))}),e.j41(4,"span",30),e.EFF(5,"\xd7"),e.k0s()()(),e.nrm(6,"ng-select",31),e.k0s()}if(2&a){const t=e.XpG(3);e.R7$(6),e.Y8G("items",t.notificationTypeOptions)}}function nc(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",27)(1,"label",28),e.EFF(2," Account type "),e.j41(3,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.onFilterRemove(n,"accountTypes"))}),e.j41(4,"span",30),e.EFF(5,"\xd7"),e.k0s()()(),e.nrm(6,"ng-select",32),e.k0s()}if(2&a){const t=e.XpG(3);e.R7$(6),e.Y8G("items",t.userTypeOptions)("multiple",!0)("closeOnSelect",!1)}}function ic(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",27)(1,"label",28),e.EFF(2," Account mode "),e.j41(3,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.onFilterRemove(n,"accountModes"))}),e.j41(4,"span",30),e.EFF(5,"\xd7"),e.k0s()()(),e.nrm(6,"ng-select",33),e.k0s()}if(2&a){const t=e.XpG(3);e.R7$(6),e.Y8G("items",t.userModeOptions)("multiple",!0)("closeOnSelect",!1)}}function rc(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",27)(1,"label",28),e.EFF(2," Account status "),e.j41(3,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.onFilterRemove(n,"accountStatuses"))}),e.j41(4,"span",30),e.EFF(5,"\xd7"),e.k0s()()(),e.nrm(6,"ng-select",34),e.k0s()}if(2&a){const t=e.XpG(3);e.R7$(6),e.Y8G("items",t.userStatusOptions)("multiple",!0)("closeOnSelect",!1)}}function oc(a,r){if(1&a&&(e.j41(0,"ng-option",37),e.nrm(1,"app-dropdown-item",38),e.k0s()),2&a){const t=r.$implicit,i=e.XpG(4);e.Y8G("value",t.code3),e.R7$(),e.FS9("itemValue",t.name),e.Mz_("imageSource","assets/svg-country-flags/",i.getCountryFlag(t.code2),"")}}function sc(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",27)(1,"label",28),e.EFF(2," Country "),e.j41(3,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.onFilterRemove(n,"countries"))}),e.j41(4,"span",30),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"ng-select",35),e.DNE(7,oc,2,4,"ng-option",36),e.k0s()()}if(2&a){const t=e.XpG(3);e.R7$(6),e.Y8G("multiple",!0)("closeOnSelect",!1),e.R7$(),e.Y8G("ngForOf",t.countryOptions)}}function lc(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",27)(1,"label",28),e.EFF(2," Source "),e.j41(3,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.onFilterRemove(n,"sources"))}),e.j41(4,"span",30),e.EFF(5,"\xd7"),e.k0s()()(),e.nrm(6,"ng-select",39),e.k0s()}if(2&a){const t=e.XpG(3);e.R7$(6),e.Y8G("items",t.sourceOptions)("multiple",!0)("closeOnSelect",!1)}}function dc(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",27)(1,"label",28),e.EFF(2," DocsCheck Statuses "),e.j41(3,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.onFilterRemove(n,"kycStatuses"))}),e.j41(4,"span",30),e.EFF(5,"\xd7"),e.k0s()()(),e.nrm(6,"ng-select",40),e.k0s()}if(2&a){const t=e.XpG(3);e.R7$(6),e.Y8G("items",t.kysStatusOptions)("multiple",!0)("closeOnSelect",!1)}}function cc(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",27)(1,"label",28),e.EFF(2," DocsCheck Statuses "),e.j41(3,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.onFilterRemove(n,"transactionKycStatuses"))}),e.j41(4,"span",30),e.EFF(5,"\xd7"),e.k0s()()(),e.nrm(6,"ng-select",41),e.k0s()}if(2&a){const t=e.XpG(3);e.R7$(6),e.Y8G("items",t.transactionKysStatusOptions)("multiple",!0)("closeOnSelect",!1)}}function mc(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",27)(1,"label",28),e.EFF(2," Risk Levels "),e.j41(3,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.onFilterRemove(n,"riskLevels"))}),e.j41(4,"span",30),e.EFF(5,"\xd7"),e.k0s()()(),e.nrm(6,"ng-select",42),e.k0s()}if(2&a){const t=e.XpG(3);e.R7$(6),e.Y8G("items",t.riskLevelsOptions)("multiple",!0)("closeOnSelect",!1)}}function pc(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",27)(1,"label",28),e.EFF(2," Fiat currency "),e.j41(3,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.onFilterRemove(n,"fiatCurrency"))}),e.j41(4,"span",30),e.EFF(5,"\xd7"),e.k0s()()(),e.nrm(6,"ng-select",43),e.k0s()}if(2&a){const t=e.XpG(3);e.R7$(6),e.Y8G("items",t.fiatCurrencies)}}function uc(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",27)(1,"label",28),e.EFF(2," Transaction Types "),e.j41(3,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.onFilterRemove(n,"transactionTypes"))}),e.j41(4,"span",30),e.EFF(5,"\xd7"),e.k0s()()(),e.nrm(6,"ng-select",44),e.k0s()}if(2&a){const t=e.XpG(3);e.R7$(6),e.Y8G("items",t.transactionTypeOptions)("multiple",!0)("closeOnSelect",!1)}}function hc(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",27)(1,"label",28),e.EFF(2," User Actions Types "),e.j41(3,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.onFilterRemove(n,"userActionTypes"))}),e.j41(4,"span",30),e.EFF(5,"\xd7"),e.k0s()()(),e.nrm(6,"ng-select",45),e.k0s()}if(2&a){const t=e.XpG(3);e.R7$(6),e.Y8G("items",t.userActionTypeOptions)("multiple",!0)("closeOnSelect",!1)}}function fc(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",27)(1,"label",28),e.EFF(2," Verification Levels "),e.j41(3,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.onFilterRemove(n,"tiers"))}),e.j41(4,"span",30),e.EFF(5,"\xd7"),e.k0s()()(),e.nrm(6,"ng-select",46),e.nI1(7,"async"),e.k0s()}if(2&a){const t=e.XpG(3);e.R7$(6),e.Y8G("items",e.bMT(7,4,t.tierOptions$))("loading",t.isTierLoading)("closeOnSelect",!1)("multiple",!0)}}function gc(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",27)(1,"label",28),e.EFF(2," Transaction ID "),e.j41(3,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.onFilterRemove(n,"transactionIds"))}),e.j41(4,"span",30),e.EFF(5,"\xd7"),e.k0s()()(),e.nrm(6,"input",47),e.k0s()}}function _c(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",27)(1,"label",28),e.EFF(2," Transaction Statuses "),e.j41(3,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.onFilterRemove(n,"transactionStatuses"))}),e.j41(4,"span",30),e.EFF(5,"\xd7"),e.k0s()()(),e.nrm(6,"ng-select",48),e.k0s()}if(2&a){const t=e.XpG(3);e.R7$(6),e.Y8G("items",t.transactionStatusOptions)("multiple",!0)("closeOnSelect",!1)}}function bc(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",27)(1,"label",28),e.EFF(2," Payment methods "),e.j41(3,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.onFilterRemove(n,"paymentInstruments"))}),e.j41(4,"span",30),e.EFF(5,"\xd7"),e.k0s()()(),e.nrm(6,"ng-select",49),e.k0s()}if(2&a){const t=e.XpG(3);e.R7$(6),e.Y8G("items",t.paymentInstrumentsOptions)("multiple",!0)("closeOnSelect",!1)}}function vc(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",27)(1,"label",28),e.EFF(2," Transactions created "),e.j41(3,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.onFilterRemove(n,["createdDateRangeStart","createdDateRangeEnd"]))}),e.j41(4,"span",30),e.EFF(5,"\xd7"),e.k0s()()(),e.nrm(6,"app-admin-date-range",50,1),e.k0s()}if(2&a){let t,i;const n=e.XpG(3);e.R7$(6),e.Y8G("startField",null!==(t=null==n.filterForm||null==n.filterForm.controls?null:n.filterForm.controls.createdDateRangeStart)&&void 0!==t?t:null)("endField",null!==(i=null==n.filterForm||null==n.filterForm.controls?null:n.filterForm.controls.createdDateRangeEnd)&&void 0!==i?i:null)}}function yc(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",27)(1,"label",28),e.EFF(2," User action created "),e.j41(3,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.onFilterRemove(n,["createdDateRangeStart","createdDateRangeEnd"]))}),e.j41(4,"span",30),e.EFF(5,"\xd7"),e.k0s()()(),e.nrm(6,"app-admin-date-range",50,1),e.k0s()}if(2&a){let t,i;const n=e.XpG(3);e.R7$(6),e.Y8G("startField",null!==(t=null==n.filterForm||null==n.filterForm.controls?null:n.filterForm.controls.createdDateRangeStart)&&void 0!==t?t:null)("endField",null!==(i=null==n.filterForm||null==n.filterForm.controls?null:n.filterForm.controls.createdDateRangeEnd)&&void 0!==i?i:null)}}function Cc(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",27)(1,"label",28),e.EFF(2," Transactions completed "),e.j41(3,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.onFilterRemove(n,["completedDateRangeStart","completedDateRangeEnd"]))}),e.j41(4,"span",30),e.EFF(5,"\xd7"),e.k0s()()(),e.nrm(6,"app-admin-date-range",50,2),e.k0s()}if(2&a){let t,i;const n=e.XpG(3);e.R7$(6),e.Y8G("startField",null!==(t=null==n.filterForm||null==n.filterForm.controls?null:n.filterForm.controls.completedDateRangeStart)&&void 0!==t?t:null)("endField",null!==(i=null==n.filterForm||null==n.filterForm.controls?null:n.filterForm.controls.completedDateRangeEnd)&&void 0!==i?i:null)}}function kc(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",27)(1,"label",28),e.EFF(2," Registered "),e.j41(3,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.onFilterRemove(n,["registrationDateRangeStart","registrationDateRangeEnd"]))}),e.j41(4,"span",30),e.EFF(5,"\xd7"),e.k0s()()(),e.nrm(6,"app-admin-date-range",50,3),e.k0s()}if(2&a){let t,i;const n=e.XpG(3);e.R7$(6),e.Y8G("startField",null!==(t=null==n.filterForm||null==n.filterForm.controls?null:n.filterForm.controls.registrationDateRangeStart)&&void 0!==t?t:null)("endField",null!==(i=null==n.filterForm||null==n.filterForm.controls?null:n.filterForm.controls.registrationDateRangeEnd)&&void 0!==i?i:null)}}function Fc(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",27)(1,"label",28),e.EFF(2," Transactions updated "),e.j41(3,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.onFilterRemove(n,["updatedDateRangeStart","updatedDateRangeEnd"]))}),e.j41(4,"span",30),e.EFF(5,"\xd7"),e.k0s()()(),e.nrm(6,"app-admin-date-range",50,4),e.k0s()}if(2&a){let t,i;const n=e.XpG(3);e.R7$(6),e.Y8G("startField",null!==(t=null==n.filterForm||null==n.filterForm.controls?null:n.filterForm.controls.updatedDateRangeStart)&&void 0!==t?t:null)("endField",null!==(i=null==n.filterForm||null==n.filterForm.controls?null:n.filterForm.controls.updatedDateRangeEnd)&&void 0!==i?i:null)}}function Tc(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",27)(1,"label",28),e.EFF(2," User "),e.j41(3,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.onFilterRemove(n,"user"))}),e.j41(4,"span",30),e.EFF(5,"\xd7"),e.k0s()()(),e.nrm(6,"ng-select",51),e.nI1(7,"async"),e.k0s()}if(2&a){const t=e.XpG(3);e.R7$(6),e.Y8G("items",e.bMT(7,5,t.usersOptions$))("minTermLength",t.minUsersLengthTerm)("loading",t.isUsersLoading)("multiple",!1)("typeahead",t.usersSearchInput$)}}function xc(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",27)(1,"label",28),e.EFF(2," Customer search "),e.j41(3,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.onFilterRemove(n,"users"))}),e.j41(4,"span",30),e.EFF(5,"\xd7"),e.k0s()()(),e.nrm(6,"ng-select",52),e.nI1(7,"async"),e.k0s()}if(2&a){const t=e.XpG(3);e.R7$(6),e.Y8G("items",e.bMT(7,6,t.usersOptions$))("minTermLength",t.minUsersLengthTerm)("loading",t.isUsersLoading)("multiple",!0)("closeOnSelect",!1)("typeahead",t.usersSearchInput$)}}function wc(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",27)(1,"label",28),e.EFF(2," Widget Identifiers "),e.j41(3,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.onFilterRemove(n,"widgets"))}),e.j41(4,"span",30),e.EFF(5,"\xd7"),e.k0s()()(),e.nrm(6,"ng-select",53),e.nI1(7,"async"),e.k0s()}if(2&a){const t=e.XpG(3);e.R7$(6),e.Y8G("items",e.bMT(7,6,t.widgetsOptions$))("minTermLength",t.minWidgetsLengthTerm)("loading",t.isWidgetsLoading)("multiple",!0)("closeOnSelect",!1)("typeahead",t.widgetsSearchInput$)}}function Sc(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",27)(1,"label",28),e.EFF(2," Widget Names "),e.j41(3,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.onFilterRemove(n,"widgetNames"))}),e.j41(4,"span",30),e.EFF(5,"\xd7"),e.k0s()()(),e.nrm(6,"ng-select",54),e.nI1(7,"async"),e.k0s()}if(2&a){const t=e.XpG(3);e.R7$(6),e.Y8G("items",e.bMT(7,6,t.widgetNamesOptions$))("minTermLength",t.minWidgetNamesLengthTerm)("loading",t.isWidgetsLoading)("multiple",!0)("closeOnSelect",!1)("typeahead",t.widgetNamesSearchInput$)}}function Dc(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",27)(1,"label",28),e.EFF(2," Risk Alert Code "),e.j41(3,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.onFilterRemove(n,"riskAlertCode"))}),e.j41(4,"span",30),e.EFF(5,"\xd7"),e.k0s()()(),e.nrm(6,"ng-select",55),e.k0s()}if(2&a){const t=e.XpG(3);e.R7$(6),e.Y8G("items",t.riskAlertOptions)("multiple",!1)}}function Ic(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",27)(1,"label",28),e.EFF(2," Wallet address "),e.j41(3,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.onFilterRemove(n,"walletAddress"))}),e.j41(4,"span",30),e.EFF(5,"\xd7"),e.k0s()()(),e.nrm(6,"input",56),e.k0s()}}function Ec(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",27)(1,"label",28),e.EFF(2," Buy volume over "),e.j41(3,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.onFilterRemove(n,"totalBuyVolumeOver"))}),e.j41(4,"span",30),e.EFF(5,"\xd7"),e.k0s()()(),e.nrm(6,"input",57),e.k0s()}2&a&&(e.R7$(6),e.Y8G("onlyNumber",!0))}function Pc(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",27)(1,"label",28),e.EFF(2," Transaction count over "),e.j41(3,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.onFilterRemove(n,"transactionCountOver"))}),e.j41(4,"span",30),e.EFF(5,"\xd7"),e.k0s()()(),e.nrm(6,"input",58),e.k0s()}2&a&&(e.R7$(6),e.Y8G("onlyNumber",!0))}function Ac(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",27)(1,"label",28),e.EFF(2," Recall number "),e.j41(3,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.onFilterRemove(n,"recallNumber"))}),e.j41(4,"span",30),e.EFF(5,"\xd7"),e.k0s()()(),e.nrm(6,"input",59),e.k0s()}}function Rc(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",27)(1,"label",60),e.EFF(2," From "),e.j41(3,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.onFilterRemove(n,"verifyWhenPaid"))}),e.j41(4,"span",30),e.EFF(5,"\xd7"),e.k0s()()(),e.nrm(6,"input",61),e.k0s()}}function Oc(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",27)(1,"label",28),e.EFF(2," Verify When Paid "),e.j41(3,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.onFilterRemove(n,"verifyWhenPaid"))}),e.j41(4,"span",30),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",11),e.nrm(7,"input",62),e.j41(8,"span",63),e.EFF(9,"Verify When Paid"),e.k0s()()()}}function jc(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",27)(1,"label",28),e.EFF(2," Flag "),e.j41(3,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.onFilterRemove(n,"transactionFlag"))}),e.j41(4,"span",30),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",11),e.nrm(7,"input",64),e.j41(8,"span",63),e.EFF(9,"Flag"),e.k0s()()()}}function $c(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",27)(1,"label",28),e.EFF(2," Transaction Was Ever Completed "),e.j41(3,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.onFilterRemove(n,"transactionWasEverCompleted"))}),e.j41(4,"span",30),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",11),e.nrm(7,"input",65),e.j41(8,"span",63),e.EFF(9,"Transaction Was Ever Completed"),e.k0s()()()}}function Mc(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",27)(1,"label",28),e.EFF(2," Has recall number "),e.j41(3,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.onFilterRemove(n,"hasRecallNumber"))}),e.j41(4,"span",30),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",11),e.nrm(7,"input",66),e.j41(8,"span",63),e.EFF(9,"Has recall number"),e.k0s()()()}}function Nc(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",27)(1,"label",28),e.EFF(2," Refund date "),e.j41(3,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.onFilterRemove(n,["reversalProcessedStart","reversalProcessedEnd"]))}),e.j41(4,"span",30),e.EFF(5,"\xd7"),e.k0s()()(),e.nrm(6,"app-admin-date-range",50,5),e.k0s()}if(2&a){let t,i;const n=e.XpG(3);e.R7$(6),e.Y8G("startField",null!==(t=null==n.filterForm||null==n.filterForm.controls?null:n.filterForm.controls.reversalProcessedStart)&&void 0!==t?t:null)("endField",null!==(i=null==n.filterForm||null==n.filterForm.controls?null:n.filterForm.controls.reversalProcessedEnd)&&void 0!==i?i:null)}}function Vc(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",27)(1,"label",28),e.EFF(2," Recall registered date "),e.j41(3,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.onFilterRemove(n,["recallRegisteredStart","recallRegisteredEnd"]))}),e.j41(4,"span",30),e.EFF(5,"\xd7"),e.k0s()()(),e.nrm(6,"app-admin-date-range",50,6),e.k0s()}if(2&a){let t,i;const n=e.XpG(3);e.R7$(6),e.Y8G("startField",null!==(t=null==n.filterForm||null==n.filterForm.controls?null:n.filterForm.controls.recallRegisteredStart)&&void 0!==t?t:null)("endField",null!==(i=null==n.filterForm||null==n.filterForm.controls?null:n.filterForm.controls.recallRegisteredEnd)&&void 0!==i?i:null)}}function Gc(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",27)(1,"label",28),e.EFF(2," Preauth "),e.j41(3,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.onFilterRemove(n,"preauthFlag"))}),e.j41(4,"span",30),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",11),e.nrm(7,"input",67),e.j41(8,"span",63),e.EFF(9,"Preauth"),e.k0s()()()}}function Bc(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",68)(1,"div",69)(2,"div",70),e.EFF(3," Hide zero balance "),e.k0s(),e.j41(4,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.onFilterRemove(n,"zeroBalance"))}),e.j41(5,"span",30),e.EFF(6,"\xd7"),e.k0s()()(),e.j41(7,"div",71)(8,"div",72),e.nrm(9,"input",73),e.k0s()()()}}function Uc(a,r){if(1&a&&(e.j41(0,"div"),e.qex(1),e.DNE(2,ac,7,1,"div",21)(3,nc,7,3,"div",21)(4,ic,7,3,"div",21)(5,rc,7,3,"div",21)(6,sc,8,3,"div",21)(7,lc,7,3,"div",21)(8,dc,7,3,"div",21)(9,cc,7,3,"div",21)(10,mc,7,3,"div",21)(11,pc,7,1,"div",21)(12,uc,7,3,"div",21)(13,hc,7,3,"div",21)(14,fc,8,6,"div",21)(15,gc,7,0,"div",21)(16,_c,7,3,"div",21)(17,bc,7,3,"div",21)(18,vc,8,2,"div",21)(19,yc,8,2,"div",21)(20,Cc,8,2,"div",21)(21,kc,8,2,"div",21)(22,Fc,8,2,"div",21)(23,Tc,8,7,"div",21)(24,xc,8,8,"div",21)(25,wc,8,8,"div",21)(26,Sc,8,8,"div",21)(27,Dc,7,2,"div",21)(28,Ic,7,0,"div",21)(29,Ec,7,1,"div",21)(30,Pc,7,1,"div",21)(31,Ac,7,0,"div",21)(32,Rc,7,0,"div",21)(33,Oc,10,0,"div",21)(34,jc,10,0,"div",21)(35,$c,10,0,"div",21)(36,Mc,10,0,"div",21)(37,Nc,8,2,"div",21)(38,Vc,8,2,"div",21)(39,Gc,10,0,"div",21)(40,Bc,10,0,"div",26),e.bVm(),e.k0s()),2&a){const t=r.$implicit;e.R7$(2),e.Y8G("ngIf","notificationType"===t),e.R7$(),e.Y8G("ngIf","accountType"===t),e.R7$(),e.Y8G("ngIf","accountMode"===t),e.R7$(),e.Y8G("ngIf","accountStatus"===t),e.R7$(),e.Y8G("ngIf","country"===t),e.R7$(),e.Y8G("ngIf","source"===t),e.R7$(),e.Y8G("ngIf","kycStatus"===t),e.R7$(),e.Y8G("ngIf","transactionKycStatus"===t),e.R7$(),e.Y8G("ngIf","riskLevel"===t),e.R7$(),e.Y8G("ngIf","fiatCurrency"===t),e.R7$(),e.Y8G("ngIf","transactionType"===t),e.R7$(),e.Y8G("ngIf","userActionType"===t),e.R7$(),e.Y8G("ngIf","tier"===t),e.R7$(),e.Y8G("ngIf","transactionIds"===t),e.R7$(),e.Y8G("ngIf","transactionStatus"===t),e.R7$(),e.Y8G("ngIf","paymentInstrument"===t),e.R7$(),e.Y8G("ngIf","createdDate"===t),e.R7$(),e.Y8G("ngIf","createdDateAction"===t),e.R7$(),e.Y8G("ngIf","completedDate"===t),e.R7$(),e.Y8G("ngIf","registrationDate"===t),e.R7$(),e.Y8G("ngIf","updatedDate"===t),e.R7$(),e.Y8G("ngIf","user"===t),e.R7$(),e.Y8G("ngIf","users"===t),e.R7$(),e.Y8G("ngIf","widget"===t),e.R7$(),e.Y8G("ngIf","widgetName"===t),e.R7$(),e.Y8G("ngIf","riskAlertCode"===t),e.R7$(),e.Y8G("ngIf","walletAddress"===t),e.R7$(),e.Y8G("ngIf","totalBuyVolume"===t),e.R7$(),e.Y8G("ngIf","transactionCount"===t),e.R7$(),e.Y8G("ngIf","recallNumber"===t),e.R7$(),e.Y8G("ngIf","from"===t),e.R7$(),e.Y8G("ngIf","verifyWhenPaid"===t),e.R7$(),e.Y8G("ngIf","transactionFlag"===t),e.R7$(),e.Y8G("ngIf","transactionWasEverCompleted"===t),e.R7$(),e.Y8G("ngIf","hasRecallNumber"===t),e.R7$(),e.Y8G("ngIf","reversalProcessed"===t),e.R7$(),e.Y8G("ngIf","recallRegistered"===t),e.R7$(),e.Y8G("ngIf","preauthFlag"===t),e.R7$(),e.Y8G("ngIf","zeroBalance"===t)}}function Lc(a,r){1&a&&e.EFF(0),2&a&&e.SpI(" ",r.item.groupName||"Unnamed group"," ")}function Yc(a,r){if(1&a&&(e.j41(0,"div",27)(1,"label",60),e.EFF(2," Available Filters "),e.k0s(),e.j41(3,"ng-select",74),e.DNE(4,Lc,1,1,"ng-template",75),e.k0s()()),2&a){const t=e.XpG(2);e.R7$(3),e.Y8G("items",t.filteredFieldsList)("formControl",t.filteredField)}}function qc(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",76),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return n.isFilterSelected=!0,e.Njj(n.filteredField.patchValue(null))}),e.EFF(1," Add Filter "),e.k0s()}if(2&a){const t=e.XpG(2);e.Y8G("disabled",0===(null==t.filteredFieldsList?null:t.filteredFieldsList.length)||t.isFiltersUdating)}}function Wc(a,r){if(1&a){const t=e.RV6();e.j41(0,"form",10)(1,"div",11),e.DNE(2,tc,1,0,"input",12),e.j41(3,"div")(4,"button",13),e.bIt("click",function(){e.eBV(t);const n=e.sdS(13);return e.Njj(n.toggle())}),e.j41(5,"i",14),e.EFF(6),e.k0s(),e.EFF(7," Filter "),e.k0s(),e.j41(8,"button",15),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.applyFilters())}),e.EFF(9," Apply "),e.k0s(),e.j41(10,"button",16),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.resetFilters())}),e.EFF(11," Reset "),e.k0s()()(),e.j41(12,"div",17,0),e.mxI("ngbCollapseChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.isFilterCollapsed,n)||(o.isFilterCollapsed=n),e.Njj(n)}),e.j41(14,"div",18)(15,"div",8)(16,"div",19),e.DNE(17,Uc,41,39,"div",20)(18,Yc,5,2,"div",21),e.j41(19,"div",22),e.DNE(20,qc,2,1,"button",23),e.k0s()(),e.j41(21,"div",24)(22,"button",16),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.updateUserFilters())}),e.EFF(23," Save Filters "),e.k0s()()()()()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.filterForm),e.R7$(),e.AVh("justify-content-between",t.isPlainSearch)("justify-content-end",!t.isPlainSearch),e.R7$(),e.Y8G("ngIf",t.isPlainSearch),e.R7$(2),e.BMQ("aria-expanded",!t.isFilterCollapsed),e.R7$(2),e.SpI(" ",t.isFilterCollapsed?"keyboard_double_arrow_down":"keyboard_double_arrow_up"," "),e.R7$(6),e.R50("ngbCollapse",t.isFilterCollapsed),e.R7$(5),e.Y8G("ngForOf",t.filteredFields),e.R7$(),e.Y8G("ngIf",t.isFilterSelected),e.R7$(2),e.Y8G("ngIf",!t.isFilterSelected)}}var O=function(a){return a.Transaction="Transaction",a.Widget="Widget",a.User="User",a.Payment="Payment",a.None="None",a}(O||{});const oa=[{name:"Notification type",value:"notificationType",groupName:O.None},{name:"Account type",value:"accountType",groupName:O.User},{name:"Account mode",value:"accountMode",groupName:O.User},{name:"Account status",value:"accountStatus",groupName:O.User},{name:"Country",value:"country",groupName:O.User},{name:"Source",value:"source",groupName:O.Widget},{name:"DocsCheck Statuses",value:"kycStatus",groupName:O.User},{name:"DocsCheck Statuses",value:"transactionKycStatus",groupName:O.User},{name:"Risk Levels",value:"riskLevel",groupName:O.None},{name:"Fiat currency",value:"fiatCurrency",groupName:O.Widget},{name:"Transaction Types",value:"transactionType",groupName:O.Transaction},{name:"User Actions Types",value:"transactionType",groupName:O.User},{name:"Verification Levels",value:"tier",groupName:O.User},{name:"Transaction ID",value:"transactionIds",groupName:O.Transaction},{name:"Transaction Statuses",value:"transactionStatus",groupName:O.Transaction},{name:"Payment methods",value:"paymentInstrument",groupName:O.Payment},{name:"Transactions created",value:"createdDate",groupName:O.Transaction},{name:"User action created",value:"createdDateAction",groupName:O.User},{name:"Transactions completed",value:"completedDate",groupName:O.Transaction},{name:"Transactions updated",value:"updatedDate",groupName:O.Transaction},{name:"Registered",value:"registrationDate",groupName:O.User},{name:"User",value:"user",groupName:O.User},{name:"Customer search",value:"users",groupName:O.User},{name:"Widget Identifiers",value:"widget",groupName:O.Widget},{name:"Widget Names",value:"widgetName",groupName:O.Widget},{name:"Risk Alert Code",value:"riskAlertCode",groupName:O.None},{name:"Wallet address",value:"walletAddress",groupName:O.Payment},{name:"Buy volume over",value:"totalBuyVolume",groupName:O.User},{name:"Verify When Paid",value:"verifyWhenPaid",groupName:O.Widget},{name:"Flag",value:"transactionFlag",groupName:O.Transaction},{name:"Transaction Was Ever Completed",value:"transactionWasEverCompleted",groupName:O.Transaction},{name:"Preauth",value:"preauthFlag",groupName:O.Payment},{name:"Hide zero balance",value:"zeroBalance",groupName:O.None},{name:"Has recall number",value:"hasRecallNumber",groupName:O.Payment},{name:"Recall number ",value:"recallNumber",groupName:O.Payment},{name:"Refund date",value:"reversalProcessed",groupName:O.Payment},{name:"Recall registered date",value:"recallRegistered",groupName:O.Payment}];let Te=(()=>{class a{get filter(){return this.filterSubject.asObservable()}constructor(t,i,n){this.formBuilder=t,this.auth=i,this.adminDataService=n,this.fields=[],this.filterData=void 0,this.currencies=[],this.fiatCurrencies=[],this.isFilterCollapsed=!0,this.filterSubject=new y.B,this.sourceOptions=F.QY,this.riskLevelsOptions=F.FG,this.paymentInstrumentsOptions=F.m0,this.userTypeOptions=F.GV,this.notificationTypeOptions=F.Qz,this.userModeOptions=F.b1,this.userStatusOptions=F._8,this.transactionTypeOptions=F.ln,this.userActionTypeOptions=F.QX,this.transactionStatusOptions=F.zh,this.kysStatusOptions=F.wR,this.transactionKysStatusOptions=F.yd,this.countryOptions=re.rX,this.riskAlertOptions=Eo,this.isTierLoading=!1,this.isUsersLoading=!1,this.isWidgetsLoading=!1,this.isFiltersUdating=!1,this.tierSearchInput$=new y.B,this.usersSearchInput$=new y.B,this.widgetsSearchInput$=new y.B,this.widgetNamesSearchInput$=new y.B,this.tierOptions$=(0,S.of)([]),this.usersOptions$=(0,S.of)([]),this.widgetsOptions$=(0,S.of)([]),this.widgetNamesOptions$=(0,S.of)([]),this.minUsersLengthTerm=1,this.minWidgetsLengthTerm=1,this.minWidgetNamesLengthTerm=1,this.isPlainSearch=!1,this.adminAdditionalSettings={},this.originFields=[],this.filteredFields=[],this.filteredFieldsList=[],this.filteredField=new d.MJ,this.isFilterSelected=!1,this.destroy$=new y.B}ngOnInit(){this.loadCommonSettings(),this.initForm(),this.proceedFilters(),this.originFields=this.fields,this.isPlainSearch=this.originFields.includes("search"),this.fields=this.fields.filter(t=>"search"!==t),this.fields.includes("tier")&&this.tierSearch(),(this.fields.includes("user")||this.fields.includes("users"))&&this.usersSearch(),this.fields.includes("widget")&&this.widgetsSearch(),this.fields.includes("widgetName")&&this.widgetNamesSearch()}ngOnDestroy(){this.destroy$.next()}proceedFilters(){const t=()=>{this.filteredFieldsList=this.filteredFieldsList.filter(i=>!this.filteredFields.includes(i.value))};this.fields.forEach(i=>{const n=oa.find(o=>o.value===i);n&&this.filteredFieldsList.push(n)}),this.auth.user?.filters&&this.auth.user?.filters[this.filterType]?(this.filteredFields=this.auth.user?.filters[this.filterType],t()):"dashboard"===this.filterType&&(this.filteredFields=["updatedDate"],this.filteredFieldsList=this.filteredFieldsList.filter(i=>"updatedDate"!==i.value)),this.filteredField.valueChanges.pipe((0,T.Q)(this.destroy$)).subscribe(i=>{if(i){const n=oa.find(o=>o.value===i);n&&(this.filteredFields.push(n.value),t(),this.isFilterSelected=!1)}})}loadCommonSettings(){const t=this.auth.getLocalSettingsCommon();t&&(this.adminAdditionalSettings="string"==typeof t.adminAdditionalSettings?JSON.parse(t.adminAdditionalSettings):t.adminAdditionalSettings,this.adminAdditionalSettings&&(this.userModeOptions=this.userModeOptions.filter(i=>this.adminAdditionalSettings?.userMode[i.id]),this.userTypeOptions=this.userTypeOptions.filter(i=>this.adminAdditionalSettings?.userType[i.id]),this.paymentInstrumentsOptions=this.paymentInstrumentsOptions.filter(i=>this.adminAdditionalSettings.paymentMethods[i.id]),this.transactionTypeOptions=this.transactionTypeOptions.filter(i=>this.adminAdditionalSettings.transactionType[i.id])))}tierSearch(){this.isTierLoading=!0,this.tierOptions$=this.adminDataService.getSettingsKycTiers("").pipe((0,b.T)(t=>(this.isTierLoading=!1,t.count>0?[...t.list].sort((n,o)=>this.tierSortHandler(n,o)).map(n=>({id:n.settingsKycTierId,title:n.name})):[])))}tierSortHandler(t,i){return t.name>i.name?1:t.name<i.name?-1:0}usersSearch(){this.usersOptions$=(0,ke.x)((0,S.of)([]),this.usersSearchInput$.pipe((0,W.p)(t=>null!==t&&t.length>=this.minUsersLengthTerm),(0,q.B)(300),(0,Y.F)(),(0,D.M)(()=>{this.isUsersLoading=!0}),(0,J.n)(t=>(this.isUsersLoading=!1,this.adminDataService.getUsers([],0,100,"email",!1,new G({search:t})).pipe((0,b.T)(i=>i.list.map(n=>({id:n.id,title:""!==n.fullName?`${n.fullName} (${n.email})`:n.email}))))))))}widgetsSearch(){this.widgetsOptions$=(0,ke.x)((0,S.of)([]),this.widgetsSearchInput$.pipe((0,W.p)(t=>null!==t&&t.length>=this.minWidgetsLengthTerm),(0,q.B)(300),(0,Y.F)(),(0,D.M)(()=>{this.isWidgetsLoading=!0}),(0,J.n)(t=>(this.isWidgetsLoading=!1,this.adminDataService.getWidgetIds(t,0,100,"code",!1).pipe((0,b.T)(i=>i.list.map(n=>({id:n.id,title:n.code??n.id}))))))))}widgetNamesSearch(){this.widgetNamesOptions$=(0,ke.x)((0,S.of)([]),this.widgetNamesSearchInput$.pipe((0,W.p)(t=>null!==t&&t.length>=this.minWidgetNamesLengthTerm),(0,q.B)(300),(0,Y.F)(),(0,D.M)(()=>{this.isWidgetsLoading=!0}),(0,J.n)(t=>(this.isWidgetsLoading=!1,this.adminDataService.getWidgetIds(t,0,100,"name",!1).pipe((0,b.T)(i=>i.list.map(n=>({id:n.id,title:n.name??n.id}))))))))}initForm(){const t={},i={accountType:{key:"accountTypes",value:[[]]},notificationType:{key:"notificationType",value:[void 0]},accountMode:{key:"accountModes",value:[[]]},accountStatus:{key:"accountStatuses",value:[[]]},userActionType:{key:"userActionTypes",value:[[]]},country:{key:"countries",value:[[]]},source:{key:"sources",value:[[]]},user:{key:"user",value:[void 0]},users:{key:"users",value:[[]]},fiatCurrency:{key:"fiatCurrency",value:[void 0]},transactionIds:{key:"transactionIds",value:[[]]},transactionType:{key:"transactionTypes",value:[[]]},transactionStatus:{key:"transactionStatuses",value:[[]]},tier:{key:"tiers",value:[[]]},widget:{key:"widgets",value:[[]]},widgetName:{key:"widgetNames",value:[[]]},riskAlertCode:{key:"riskAlertCode",value:[void 0]},riskLevel:{key:"riskLevels",value:[[]]},kycStatus:{key:"kycStatuses",value:[[]]},transactionKycStatus:{key:"transactionKycStatuses",value:[[]]},paymentInstrument:{key:"paymentInstruments",value:[[]]},walletAddress:{key:"walletAddress",value:[void 0]},totalBuyVolume:{key:"totalBuyVolumeOver",value:[0]},transactionCount:{key:"transactionCountOver",value:[0]},recallNumber:{key:"recallNumber",value:[""]},search:{key:"search",value:[""]},verifyWhenPaid:{key:"verifyWhenPaid",value:[!1]},transactionFlag:{key:"transactionFlag",value:[!1]},transactionWasEverCompleted:{key:"transactionWasEverCompleted",value:[!1]},hasRecallNumber:{key:"hasRecallNumber",value:[!1]},preauthFlag:{key:"preauthFlag",value:[!1]},zeroBalance:{key:"zeroBalance",value:!1},from:{key:"from",value:[""]}};this.fields.forEach(n=>{const o=i[n];o&&(t[o.key]=o.value)}),this.fields.includes("createdDate")&&(t.createdDateRangeStart=[void 0],t.createdDateRangeEnd=[void 0]),this.fields.includes("createdDateAction")&&(t.createdDateRangeStart=[void 0],t.createdDateRangeEnd=[void 0]),this.fields.includes("completedDate")&&(t.completedDateRangeStart=[void 0],t.completedDateRangeEnd=[void 0]),this.fields.includes("registrationDate")&&(t.registrationDateRangeStart=[void 0],t.registrationDateRangeEnd=[void 0]),this.fields.includes("updatedDate")&&(t.updatedDateRangeStart=[void 0],t.updatedDateRangeEnd=[void 0]),this.fields.includes("reversalProcessed")&&(t.reversalProcessedStart=[void 0],t.reversalProcessedEnd=[void 0]),this.fields.includes("recallRegistered")&&(t.recallRegisteredStart=[void 0],t.recallRegisteredEnd=[void 0]),this.filterForm=this.formBuilder.group(t),this.filterData?.search&&this.filterForm.controls.search.setValue(this.filterData.search),this.filterData?.from&&this.filterForm.controls.from.setValue(this.filterData.from),this.filterData?.createdDateInterval&&(this.filterForm.controls.createdDateRangeStart.setValue(this.filterData?.createdDateInterval.from),this.filterForm.controls.createdDateRangeEnd.setValue(this.filterData?.createdDateInterval.to)),this.filterData?.completedDateInterval&&(this.filterForm.controls.completedDateRangeStart.setValue(this.filterData?.completedDateInterval.from),this.filterForm.controls.completedDateRangeEnd.setValue(this.filterData?.completedDateInterval.to)),this.filterData?.updatedDateInterval&&(this.filterForm.controls.updatedDateRangeStart.setValue(this.filterData?.updatedDateInterval.from),this.filterForm.controls.updatedDateRangeEnd.setValue(this.filterData?.updatedDateInterval.to)),this.filterData?.reversalProcessedInterval&&(this.filterForm.controls.reversalProcessedStart.setValue(this.filterData?.reversalProcessedInterval.from),this.filterForm.controls.reversalProcessedEnd.setValue(this.filterData?.reversalProcessedInterval.to)),this.filterData?.recallRegisteredInterval&&(this.filterForm.controls.recallRegisteredStart.setValue(this.filterData?.recallRegisteredInterval.from),this.filterForm.controls.recallRegisteredEnd.setValue(this.filterData?.recallRegisteredInterval.to))}resetFilters(){if(this.filterForm){this.originFields.includes("createdDate")&&(this.filterForm.controls.createdDateRangeStart.setValue(void 0),this.filterForm.controls.createdDateRangeEnd.setValue(void 0),this.createFilterPicker&&this.createFilterPicker.reset()),this.originFields.includes("createdDateAction")&&(this.filterForm.controls.createdDateRangeStart.setValue(void 0),this.filterForm.controls.createdDateRangeEnd.setValue(void 0),this.createFilterPicker&&this.createFilterPicker.reset()),this.originFields.includes("completedDate")&&(this.filterForm.controls.completedDateRangeStart.setValue(void 0),this.filterForm.controls.completedDateRangeEnd.setValue(void 0),this.completeFilterPicker&&this.completeFilterPicker.reset()),this.originFields.includes("registrationDate")&&(this.filterForm.controls.registrationDateRangeStart.setValue(void 0),this.filterForm.controls.registrationDateRangeEnd.setValue(void 0),this.registerFilterPicker&&this.registerFilterPicker.reset()),this.originFields.includes("updatedDate")&&(this.filterForm.controls.updatedDateRangeStart.setValue(void 0),this.filterForm.controls.updatedDateRangeEnd.setValue(void 0),this.updateFilterPicker&&this.updateFilterPicker.reset()),this.originFields.includes("reversalProcessed")&&(this.filterForm.controls.reversalProcessedStart.setValue(void 0),this.filterForm.controls.reversalProcessedEnd.setValue(void 0),this.reversalProcessedFilterPicker&&this.reversalProcessedFilterPicker.reset()),this.originFields.includes("recallRegistered")&&(this.filterForm.controls.recallRegisteredStart.setValue(void 0),this.filterForm.controls.recallRegisteredEnd.setValue(void 0),this.recallRegisteredFilterPicker&&this.recallRegisteredFilterPicker.reset());const t={accountType:{controlName:"accountTypes",value:[]},notificationType:{controlName:"notificationType",value:void 0},accountMode:{controlName:"accountModes",value:[]},accountStatus:{controlName:"accountStatuses",value:[]},country:{controlName:"countries",value:[]},source:{controlName:"sources",value:[]},user:{controlName:"user",value:void 0},users:{controlName:"users",value:[]},fiatCurrency:{controlName:"fiatCurrency",value:void 0},transactionIds:{controlName:"transactionIds",value:[]},transactionType:{controlName:"transactionTypes",value:[]},transactionStatus:{controlName:"transactionStatuses",value:[]},tier:{controlName:"tiers",value:[]},widget:{controlName:"widgets",value:[]},widgetName:{controlName:"widgetNames",value:[]},riskAlertCode:{controlName:"riskAlertCode",value:void 0},riskLevel:{controlName:"riskLevels",value:[]},kycStatus:{controlName:"kycStatuses",value:[]},transactionKycStatus:{controlName:"transactionKycStatuses",value:[]},paymentInstrument:{controlName:"paymentInstruments",value:[]},walletAddress:{controlName:"walletAddress",value:""},totalBuyVolume:{controlName:"totalBuyVolumeOver",value:0},transactionCount:{controlName:"transactionCountOver",value:0},recallNumber:{controlName:"recallNumber",value:""},search:{controlName:"search",value:""},from:{controlName:"from",value:""},verifyWhenPaid:{controlName:"verifyWhenPaid",value:!1},transactionFlag:{controlName:"transactionFlag",value:!1},transactionWasEverCompleted:{controlName:"transactionWasEverCompleted",value:!1},hasRecallNumber:{controlName:"hasRecallNumber",value:!1},preauthFlag:{controlName:"preauthFlag",value:!1},zeroBalance:{controlName:"zeroBalance",value:!1}};this.originFields.forEach(i=>{if(t[i]){const{controlName:n,value:o}=t[i];this.filterForm.controls[n]&&this.filterForm.controls[n].setValue(o)}})}this.applyFilters(),this.fields=this.originFields,this.isFilterSelected=!1}applyFilters(){this.filterForm&&this.filterSubject.next(new G(this.filterForm.value))}getCountryFlag(t){return`${t.toLowerCase()}.svg`}onFilterRemove(t,i){this.isFilterSelected=!1,"string"==typeof i?this.filterForm.controls[i]?.patchValue(null):i.forEach(s=>this.filterForm.controls[s]?.patchValue(null));const n=this.filteredFields.indexOf(t);this.filteredFields.splice(n,1);const o=oa.find(s=>s.value===t);this.filteredFieldsList.unshift(o)}updateUserFilters(){this.isFiltersUdating=!0,this.adminDataService.updateUserFilters({[this.filterType]:this.filteredFields}).pipe((0,T.Q)(this.destroy$)).subscribe({next:t=>{const i=this.auth.user;i.filters=t.data.updateUserFilters,this.auth.setUser(i),this.isFiltersUdating=!1}})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(d.ze),e.rXU(I.u),e.rXU(E))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-filter"]],viewQuery:function(i,n){if(1&i&&(e.GBs(Hd,5),e.GBs(Kd,5),e.GBs(Jd,5),e.GBs(Qd,5),e.GBs(Zd,5),e.GBs(ec,5)),2&i){let o;e.mGM(o=e.lsd())&&(n.createFilterPicker=o.first),e.mGM(o=e.lsd())&&(n.completeFilterPicker=o.first),e.mGM(o=e.lsd())&&(n.registerFilterPicker=o.first),e.mGM(o=e.lsd())&&(n.updateFilterPicker=o.first),e.mGM(o=e.lsd())&&(n.reversalProcessedFilterPicker=o.first),e.mGM(o=e.lsd())&&(n.recallRegisteredFilterPicker=o.first)}},inputs:{fields:"fields",filterType:"filterType",filterData:"filterData",currencies:"currencies",fiatCurrencies:"fiatCurrencies",isFilterCollapsed:"isFilterCollapsed"},outputs:{filter:"filter"},decls:3,vars:1,consts:[["collapse","ngbCollapse"],["created_filter",""],["completed_filter",""],["registered_filter",""],["updated_filter",""],["reversal_processed_filter",""],["recall_registered_filter",""],[1,"card","custom-card"],[1,"card-body"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"__admin-filter-top-bar"],["class","form-control me-2 maxWidth-80p","type","text","formControlName","search","placeholder","Search ...",4,"ngIf"],["type","button","aria-controls","collapseExample",1,"btn","btn-outline-primary","me-2",3,"click"],[1,"material-icons","tx-16"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["type","button",1,"btn","btn-outline-secondary","me-2",3,"click"],[3,"ngbCollapseChange","ngbCollapse"],[1,"card"],[1,"__admin-filter-block-col-4"],[4,"ngFor","ngForOf"],["class","form-group",4,"ngIf"],[1,"form-group","d-flex","align-items-end"],["class","btn btn-outline-secondary me-2","type","button",3,"disabled","click",4,"ngIf"],[1,"__admin-filter-button-bar"],["type","text","formControlName","search","placeholder","Search ...",1,"form-control","me-2","maxWidth-80p"],["class","form-group __tool-bar-double-sided-data-box",4,"ngIf"],[1,"form-group"],[1,"main-content-label","tx-11","tx-medium","tx-gray-600","d-flex","align-items-center","justify-content-between","mb-1"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true",1,"tx-20"],["bindLabel","name","bindValue","id","formControlName","notificationType","placeholder","Select notification type",3,"items"],["bindLabel","name","bindValue","id","formControlName","accountTypes","placeholder","Select account types",3,"items","multiple","closeOnSelect"],["bindLabel","name","bindValue","id","formControlName","accountModes","placeholder","Select account modes",3,"items","multiple","closeOnSelect"],["bindLabel","name","bindValue","id","formControlName","accountStatuses","placeholder","Select account statuses",3,"items","multiple","closeOnSelect"],["formControlName","countries","placeholder","Select countries",3,"multiple","closeOnSelect"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["imageClass","country-flag-admin",3,"itemValue","imageSource"],["bindLabel","name","bindValue","id","formControlName","sources","placeholder","Select transaction sources",3,"items","multiple","closeOnSelect"],["bindLabel","name","bindValue","id","formControlName","kycStatuses","placeholder","Select user verification statuses",3,"items","multiple","closeOnSelect"],["bindLabel","name","bindValue","id","formControlName","transactionKycStatuses","placeholder","Select transaction verification statuses",3,"items","multiple","closeOnSelect"],["bindLabel","name","bindValue","id","formControlName","riskLevels","placeholder","Select risk levels",3,"items","multiple","closeOnSelect"],["bindLabel","name","bindValue","symbol","formControlName","fiatCurrency","placeholder","Select fiat",3,"items"],["bindLabel","name","bindValue","id","formControlName","transactionTypes","placeholder","Select transaction types",3,"items","multiple","closeOnSelect"],["bindLabel","name","bindValue","id","formControlName","userActionTypes","placeholder","Select user action type",3,"items","multiple","closeOnSelect"],["bindLabel","title","bindValue","id","formControlName","tiers","placeholder","Select levels",3,"items","loading","closeOnSelect","multiple"],["type","text","formControlName","transactionIds","placeholder","Type transaction ID",1,"form-control"],["bindLabel","name","bindValue","id","formControlName","transactionStatuses","placeholder","Select transaction statuses",3,"items","multiple","closeOnSelect"],["bindLabel","name","bindValue","id","formControlName","paymentInstruments","placeholder","Select payment methods",3,"items","multiple","closeOnSelect"],[3,"startField","endField"],["bindLabel","title","bindValue","id","notFoundText","No users found","formControlName","user","typeToSearchText","Type email or user name","placeholder","Start typing to search a user",3,"items","minTermLength","loading","multiple","typeahead"],["bindLabel","title","bindValue","id","notFoundText","No users found","formControlName","users","typeToSearchText","Type email or user name","placeholder","Start typing to search users",3,"items","minTermLength","loading","multiple","closeOnSelect","typeahead"],["bindLabel","title","bindValue","id","notFoundText","No widgets found","formControlName","widgets","typeToSearchText","Type widget identifier","placeholder","Start typing to search widgets",3,"items","minTermLength","loading","multiple","closeOnSelect","typeahead"],["bindLabel","title","bindValue","id","notFoundText","No widgets found","formControlName","widgetNames","typeToSearchText","Type widget name","placeholder","Start typing to search widgets",3,"items","minTermLength","loading","multiple","closeOnSelect","typeahead"],["bindLabel","name","bindValue","id","formControlName","riskAlertCode","placeholder","Select alert code",3,"items","multiple"],["type","text","formControlName","walletAddress","placeholder","Type wallet address",1,"form-control"],["formControlName","totalBuyVolumeOver","placeholder","Specify buy volume limit",1,"form-control",3,"onlyNumber"],["formControlName","transactionCountOver","placeholder","Specify transaction count limit",1,"form-control",3,"onlyNumber"],["formControlName","recallNumber","placeholder","Specify recall number",1,"form-control"],[1,"main-content-label","tx-11","tx-medium","tx-gray-600"],["type","text","formControlName","from","placeholder","Type plain search text",1,"form-control"],["type","checkbox","formControlName","verifyWhenPaid"],[1,"ml-8px"],["type","checkbox","formControlName","transactionFlag"],["type","checkbox","formControlName","transactionWasEverCompleted"],["type","checkbox","formControlName","hasRecallNumber"],["type","checkbox","formControlName","preauthFlag"],[1,"form-group","__tool-bar-double-sided-data-box"],[1,"__tool-bar-block","d-flex","align-items-center","justify-content-between","mb-1"],[1,"__tool-bar-label"],[1,"__tool-bar-block"],[1,"__toggle-switch","mt-18px"],["type","checkbox","id","toggle-button","formControlName","zeroBalance",1,"__toggle-switch-slider"],["bindLabel","name","bindValue","value","groupBy","groupName",3,"items","formControl"],["ng-optgroup-tmp",""],["type","button",1,"btn","btn-outline-secondary","me-2",3,"click","disabled"]],template:function(i,n){1&i&&(e.j41(0,"div",7)(1,"div",8),e.DNE(2,Wc,24,12,"form",9),e.k0s()()),2&i&&(e.R7$(2),e.Y8G("ngIf",n.filterForm))},dependencies:[h.Sq,h.bT,d.qT,d.me,d.Zm,d.BC,d.cb,d.l_,d.j4,d.JD,te,Oe,Fa,_.$G,Pe,zd.n,Xd,h.Jj],styles:["@media (max-width: 1300px){div.__admin-filter-block[_ngcontent-%COMP%]{display:flex;flex-direction:column}}.__admin-filter-block-col-4[_ngcontent-%COMP%]{display:grid;grid-template-columns:4fr 4fr 4fr 4fr;grid-template-rows:1fr;gap:4px 16px}@media (max-width: 1354px){.__admin-filter-block-col-4[_ngcontent-%COMP%]{grid-template-columns:3fr 3fr 3fr}}.__admin-filter-block-col-3[_ngcontent-%COMP%]{display:grid;grid-template-columns:3fr 3fr 3fr;grid-template-rows:1fr;gap:4px 16px}.__admin-filter-block-col-2[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 2fr;grid-template-rows:1fr;gap:4px 16px}.__admin-filter-block-col-1[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-template-rows:1fr;gap:4px 16px}.__admin-filter-button-bar[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end;align-items:center;margin-top:16px}.__admin-filter-top-bar[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-start;align-items:center}.mt-18px[_ngcontent-%COMP%]{margin-top:18px}.ml-8px[_ngcontent-%COMP%]{margin-left:8px}.mb-18px[_ngcontent-%COMP%]{margin-bottom:18px}.maxWidth-80p[_ngcontent-%COMP%]{max-width:80%}"]})}return a})();var Ue=f(6612);function Xc(a,r){if(1&a&&(e.j41(0,"label",5),e.EFF(1),e.k0s()),2&a){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.label," ")}}function zc(a,r){if(1&a&&(e.j41(0,"p",6),e.EFF(1),e.k0s()),2&a){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.valueString," ")}}function Hc(a,r){if(1&a&&(e.j41(0,"p",6)(1,"a",7),e.EFF(2),e.k0s()()),2&a){const t=e.XpG(3);e.R7$(),e.Y8G("href",t.url,e.B4B),e.R7$(),e.SpI(" ",t.valueString," ")}}function Kc(a,r){if(1&a&&(e.j41(0,"a",10),e.EFF(1),e.k0s()),2&a){const t=e.XpG(4);e.Y8G("routerLink",t.urlPath),e.R7$(),e.SpI(" ",t.valueString," ")}}function Jc(a,r){if(1&a){const t=e.RV6();e.j41(0,"a",11),e.bIt("click",function(){e.eBV(t);const n=e.XpG(4);return e.Njj(n.linkClick())}),e.EFF(1),e.k0s()}if(2&a){const t=e.XpG(4);e.Y8G("routerLink",null),e.R7$(),e.SpI(" ",t.valueString," ")}}function Qc(a,r){if(1&a&&(e.j41(0,"p",6),e.DNE(1,Kc,2,2,"a",8)(2,Jc,2,2,"a",9),e.k0s()),2&a){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",!t.smartLink),e.R7$(),e.Y8G("ngIf",t.smartLink)}}function Zc(a,r){if(1&a&&(e.j41(0,"div",6),e.nrm(1,"app-dropdown-item",12),e.k0s()),2&a){const t=e.XpG(3);e.R7$(),e.FS9("itemValue",null==t.valueImage?null:t.valueImage.title),e.FS9("imageClass",null==t.valueImage?null:t.valueImage.imgClass),e.FS9("imageSource",null==t.valueImage?null:t.valueImage.imgSource)}}function em(a,r){if(1&a&&(e.j41(0,"div"),e.DNE(1,zc,2,1,"p",4)(2,Hc,3,2,"p",4)(3,Qc,3,2,"p",4)(4,Zc,2,3,"div",4),e.k0s()),2&a){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",t.valueString&&!t.setLink),e.R7$(),e.Y8G("ngIf",t.valueString&&t.url),e.R7$(),e.Y8G("ngIf",t.valueString&&t.urlPath),e.R7$(),e.Y8G("ngIf",!!t.valueImage)}}function tm(a,r){if(1&a&&(e.j41(0,"div",14)(1,"p",15),e.EFF(2),e.k0s()()),2&a){const t=r.$implicit;e.R7$(2),e.SpI(" ",t," ")}}function am(a,r){if(1&a&&(e.j41(0,"div",6),e.DNE(1,tm,3,1,"div",13),e.k0s()),2&a){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",t.valueStrings)}}function nm(a,r){if(1&a&&(e.j41(0,"div",1),e.DNE(1,Xc,2,1,"label",2)(2,em,5,4,"div",3)(3,am,2,1,"div",4),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.Y8G("ngIf",""!==t.label),e.R7$(),e.Y8G("ngIf",!t.setArray),e.R7$(),e.Y8G("ngIf",t.setArray)}}let he=(()=>{class a{set value(t){this.setArray=!1,t instanceof Ue.U?this.valueImage=t:"number"==typeof t?this.valueString=t.toString():"string"==typeof t?this.valueString=t?t.trim():void 0:t instanceof F.Sy?this.valueString=t?t.toString():void 0:(this.setArray=!0,this.valueStrings=t?.filter(i=>""!==i)??[],this.valueString=this.valueStrings.length>0?"data":void 0)}set linkUrl(t){this.setLink=!0,t.startsWith("http")?(this.url=t,this.smartUrl=t):(this.urlPath=t,this.smartUrl=t)}constructor(t){this.router=t,this.smartLink=!1,this.setLink=!1,this.setArray=!1,this.urlPath=void 0,this.url=void 0,this.smartUrl=void 0}linkClick(){this.router.navigateByUrl(this.smartUrl).then(()=>window.location.reload())}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(w.Ix))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-details-item"]],inputs:{label:"label",smartLink:"smartLink",value:"value",linkUrl:"linkUrl"},decls:1,vars:1,consts:[["class","form-group",4,"ngIf"],[1,"form-group"],["class","main-content-label tx-11 tx-medium tx-gray-600",4,"ngIf"],[4,"ngIf"],["class","mg-b-20",4,"ngIf"],[1,"main-content-label","tx-11","tx-medium","tx-gray-600"],[1,"mg-b-20"],["target","_blank","rel","noopener noreferrer",3,"href"],[3,"routerLink",4,"ngIf"],[3,"routerLink","click",4,"ngIf"],[3,"routerLink"],[3,"click","routerLink"],[3,"itemValue","imageClass","imageSource"],["class","value",4,"ngFor","ngForOf"],[1,"value"],[1,"mg-b-5"]],template:function(i,n){1&i&&e.DNE(0,nm,4,3,"div",0),2&i&&e.Y8G("ngIf",!!n.valueString||!!n.valueImage)},dependencies:[h.Sq,h.bT,w.Wk,Pe],encapsulation:2})}return a})();function im(a,r){1&a&&e.nrm(0,"span",14)}let rm=(()=>{class a{constructor(t,i,n,o,s){this._snackBar=t,this.router=i,this.cdr=n,this.auth=o,this.adminService=s,this.message=void 0,this.close=new e.bkB,this.resendInProgress=!1}resend(){this.resendInProgress=!0,this.adminService.resendAdminNotification(this.message?.id??"").pipe((0,V.j)(()=>{this.resendInProgress=!1,this.cdr.detectChanges()}),(0,D.M)({next:()=>this._snackBar.open("Notification resent successfully",null,{duration:5e3}),error:t=>{this._snackBar.open("Failed to resend notification "+t,null,{duration:5e3}),""===this.auth.token&&this.router.navigateByUrl("/")}})).subscribe()}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(Ie.UG),e.rXU(w.Ix),e.rXU(e.gRc),e.rXU(I.u),e.rXU(E))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-notification-details"]],inputs:{message:"message"},outputs:{close:"close"},decls:16,vars:8,consts:[[1,"row"],[1,"col-md-12","col-lg-12","col-xl-12","mx-auto","d-block"],[1,"card","card-body","pd-20","pd-md-40","border","shadow-none"],["label","Recipient",3,"value"],["label","Level",3,"value"],["label","Created",3,"value"],["label","Viewed",3,"value"],["label","Code",3,"value"],["label","Message Title",3,"value"],["label","Message Text",3,"value"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","btn-primary","pd-x-30","me-2",3,"click"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","pd-x-30",3,"click"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.nrm(3,"app-admin-details-item",3)(4,"app-admin-details-item",4)(5,"app-admin-details-item",5)(6,"app-admin-details-item",6)(7,"app-admin-details-item",7)(8,"app-admin-details-item",8)(9,"app-admin-details-item",9),e.k0s(),e.j41(10,"div",10)(11,"button",11),e.bIt("click",function(){return n.resend()}),e.DNE(12,im,1,0,"span",12),e.EFF(13," Resend "),e.k0s(),e.j41(14,"button",13),e.bIt("click",function(){return n.close.emit()}),e.EFF(15," Close "),e.k0s()()()()),2&i&&(e.R7$(3),e.Y8G("value",null==n.message?null:n.message.userEmail),e.R7$(),e.Y8G("value",null==n.message?null:n.message.level),e.R7$(),e.Y8G("value",null==n.message?null:n.message.created),e.R7$(),e.Y8G("value",null==n.message?null:n.message.viewed),e.R7$(),e.Y8G("value",null==n.message?null:n.message.userNotificationTypeCode),e.R7$(),e.Y8G("value",null==n.message?null:n.message.title),e.R7$(),e.Y8G("value",null==n.message?null:n.message.text),e.R7$(3),e.Y8G("ngIf",n.resendInProgress))},dependencies:[h.bT,he],styles:[".dark-theme .mat-mdc-button,   .dark-theme .mat-mdc-icon-button,   .dark-theme .mat-mdc-outlined-button{color:#b7c0d6!important}  .dark-theme .mat-form-field-label{color:#eee}  .dark-theme .mat-datepicker-content{background-color:#373d51;color:#ffffffde}  .dark-theme .mat-calendar-table-header,   .dark-theme .mat-calendar-body-label{color:#fff}@media (hover: hover){  .dark-theme .mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#2a2e3f}}  .dark-theme .mat-calendar-body-cell-content,   .dark-theme .mat-date-range-input-separator{color:#e1e1ef}  .dark-theme .ngb-dp-header{background-color:#343545}  .dark-theme .ngb-dp-weekdays{background-color:#343545}  .rtl .color-picker{left:initial!important}  .transparent-theme .card .box{background:#2da28f}  .transparent-theme .hex-text,   .transparent-theme .rgba-text{background:#2da28f}  .transparent-theme .mat-datepicker-content{background-color:#2da28f;color:#ffffffde}  .transparent-theme .mat-datepicker-toggle,   .transparent-theme .mat-datepicker-content .mat-calendar-next-button,   .transparent-theme .mat-datepicker-content .mat-calendar-previous-button{color:#ffffff81}  .transparent-theme .mat-calendar-body-cell-content,   .transparent-theme .mat-date-range-input-separator{color:#ffffffd3}  .transparent-theme .mat-calendar-table-header,   .transparent-theme .mat-calendar-body-label{color:#fff9}  .transparent-theme .ngb-dp-header{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekdays{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekday{color:#000}  .transparent-theme .ng-select .ng-arrow-wrapper .ng-arrow{border-top-color:#fff!important}  .transparent-theme .ng-select.ng-select-opened .ng-arrow-wrapper .ng-arrow{border-bottom-color:#fff!important}  .form-controls{display:block;color:#fff;border:transparent;outline:none;width:100%;height:40px;padding:.375rem .75rem;font-size:.875rem;font-weight:400;line-height:2;background-clip:padding-box;border-radius:5px;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}  button[type=button]{z-index:0!important}",".has-error[_ngcontent-%COMP%]{border:1px solid #f16d75}.tx-danger[_ngcontent-%COMP%]{color:red!important}"],changeDetection:0})}return a})();const om=()=>["Home"];function sm(a,r){1&a&&e.nrm(0,"mat-progress-bar",27)}function lm(a,r){1&a&&e.nrm(0,"th",28)}function dm(a,r){if(1&a){const t=e.RV6();e.j41(0,"td",29)(1,"button",30),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG(),s=e.sdS(41);return e.Njj(o.showDetails(n,s))}),e.j41(2,"i",31),e.EFF(3,"wysiwyg"),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(),e.BMQ("aria-label","Notification details")("aria-pressed",!!t.selectedMessage)}}function cm(a,r){1&a&&(e.j41(0,"th",32),e.EFF(1,"Created"),e.k0s())}function mm(a,r){if(1&a&&(e.j41(0,"td",33),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.created," ")}}function pm(a,r){1&a&&(e.j41(0,"th",28),e.EFF(1,"Text"),e.k0s())}function um(a,r){if(1&a&&(e.j41(0,"td",33),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.text," ")}}function hm(a,r){1&a&&(e.j41(0,"th",28),e.EFF(1,"Title"),e.k0s())}function fm(a,r){if(1&a&&(e.j41(0,"td",33),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.title," ")}}function gm(a,r){1&a&&(e.j41(0,"th",28),e.EFF(1,"User"),e.k0s())}function _m(a,r){if(1&a&&(e.j41(0,"td",33),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.userEmail," ")}}function bm(a,r){1&a&&(e.j41(0,"th",28),e.EFF(1,"User notification Id"),e.k0s())}function vm(a,r){if(1&a&&(e.j41(0,"td",33),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.userNotificationId," ")}}function ym(a,r){1&a&&(e.j41(0,"th",28),e.EFF(1,"User notification level"),e.k0s())}function Cm(a,r){if(1&a&&(e.j41(0,"td",33),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.level," ")}}function km(a,r){1&a&&(e.j41(0,"th",28),e.EFF(1,"User notification type code"),e.k0s())}function Fm(a,r){if(1&a&&(e.j41(0,"td",33),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.userNotificationTypeCode," ")}}function Tm(a,r){1&a&&(e.j41(0,"th",28),e.EFF(1,"Viewed"),e.k0s())}function xm(a,r){if(1&a&&(e.j41(0,"td",33),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.viewed," ")}}function wm(a,r){1&a&&e.nrm(0,"tr",34)}function Sm(a,r){1&a&&e.nrm(0,"tr",35)}function Dm(a,r){1&a&&(e.j41(0,"div",42)(1,"i",43),e.EFF(2,"first_page"),e.k0s()())}function Im(a,r){1&a&&(e.j41(0,"div",42)(1,"i",43),e.EFF(2,"keyboard_arrow_left"),e.k0s()())}function Em(a,r){1&a&&(e.j41(0,"div",42)(1,"i",43),e.EFF(2,"keyboard_arrow_right"),e.k0s()())}function Pm(a,r){1&a&&(e.j41(0,"div",42)(1,"i",43),e.EFF(2,"last_page"),e.k0s()())}function Am(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",36)(1,"ngb-pagination",37),e.bIt("pageChange",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.handlePage(n))}),e.DNE(2,Dm,3,0,"ng-template",38)(3,Im,3,0,"ng-template",39)(4,Em,3,0,"ng-template",40)(5,Pm,3,0,"ng-template",41),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("collectionSize",t.messageCount)("pageSize",t.pageSize)("boundaryLinks",!0)("maxSize",10)}}function Rm(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",44)(1,"h5",45),e.EFF(2," Message details "),e.k0s(),e.j41(3,"button",46),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",47),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",48)(7,"app-admin-notification-details",49),e.bIt("close",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Close"))}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(7),e.Y8G("message",t.selectedMessage)}}let Om=(()=>{class a{constructor(t,i,n,o,s,l){this.cdr=t,this.modalService=i,this.auth=n,this.adminService=o,this.router=s,this.route=l,this.filterFields=["search","notificationType"],this.displayedColumns=["details","created","viewed","user","title","code","userNotificationLevel","text"],this.inProgress=!1,this.permission=0,this.messageCount=0,this.messages=[],this.pageSize=50,this.pageIndex=0,this.sortedField="created",this.sortedDesc=!0,this.isFilterCollapsed=!0,this.filter=void 0,this.adminAdditionalSettings={},this.destroy$=new y.B,this.permission=this.auth.isPermittedObjectCode(c.G4.Notifications),this.route.queryParams.subscribe(m=>{m.userId?(this.filter={search:m.userId},this.isFilterCollapsed=!1):this.filter=new G({})})}ngOnInit(){this.loadCommonSettings(),this.loadNotifications()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngAfterViewInit(){this.sort.sortChange.pipe((0,T.Q)(this.destroy$)).subscribe(()=>{this.sortedDesc="desc"===this.sort.direction,this.sortedField=this.sort.active,this.loadNotifications()})}handleFilterApplied(t){this.filter=t,this.loadNotifications()}handlePage(t){this.pageIndex=t-1,this.loadNotifications()}showDetails(t,i){this.selectedMessage=t,this.modalService.open(i,{backdrop:"static",windowClass:"modalCusSty"})}loadCommonSettings(){const t=this.auth.getLocalSettingsCommon();t&&(this.adminAdditionalSettings="string"==typeof t.adminAdditionalSettings?JSON.parse(t.adminAdditionalSettings):t.adminAdditionalSettings,this.adminAdditionalSettings?.tabs?.notification?.filterFields&&(this.filterFields=this.adminAdditionalSettings.tabs.notification.filterFields))}loadNotifications(){this.inProgress=!0,this.adminService.getNotifications(this.pageIndex,this.pageSize,this.sortedField,this.sortedDesc,this.filter).pipe((0,T.Q)(this.destroy$),(0,J.n)(t=>(this.messages=t.list,this.messageCount=t.count,(0,S.of)(t))),(0,V.j)(()=>{this.inProgress=!1,this.cdr.detectChanges()})).subscribe({error:()=>{""===this.auth.token&&this.router.navigateByUrl("/")}})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.gRc),e.rXU(_.Bq),e.rXU(I.u),e.rXU(E),e.rXU(w.Ix),e.rXU(w.nX))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-notifications"]],viewQuery:function(i,n){if(1&i&&e.GBs($.B4,5),2&i){let o;e.mGM(o=e.lsd())&&(n.sort=o.first)}},decls:42,vars:15,consts:[["details_content",""],[3,"title","items","active_item"],[1,"row","row-sm"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],[3,"filter","filterType","fields","filterData","isFilterCollapsed"],["color","accent","mode","indeterminate",4,"ngIf"],[1,"data-table"],["matSort","","matSortDirection","desc","matSortDisableClear","",3,"matSortActive","dataSource"],["matColumnDef","details","sticky",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","notification-list-selector-column",4,"matCellDef"],["matColumnDef","created"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","class","notification-list-data-column",4,"matCellDef"],["matColumnDef","text"],["matColumnDef","title"],["matColumnDef","user"],["matColumnDef","userNotificationId"],["matColumnDef","userNotificationLevel"],["matColumnDef","code"],["matColumnDef","viewed"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","card card-body border shadow-none",4,"ngIf"],["color","accent","mode","indeterminate"],["mat-header-cell",""],["mat-cell","",1,"notification-list-selector-column"],["type","button","mat-icon-button","","matTooltip","Notification details","matTooltipClass","info-tooltip",1,"row-button",3,"click"],[1,"material-icons","tx-20"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"notification-list-data-column"],["mat-header-row",""],["mat-row",""],[1,"card","card-body","border","shadow-none"],["aria-label","Table pagination",1,"d-flex","justify-content-center",3,"pageChange","collectionSize","pageSize","boundaryLinks","maxSize"],["ngbPaginationFirst",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationLast",""],[1,"ng-pagination-nav-icons"],[1,"material-icons"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"close","message"]],template:function(i,n){if(1&i){const o=e.RV6();e.nrm(0,"app-admin-page-header",1),e.j41(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"app-admin-filter",7),e.bIt("filter",function(l){return e.eBV(o),e.Njj(n.handleFilterApplied(l))}),e.k0s(),e.DNE(7,sm,1,0,"mat-progress-bar",8),e.j41(8,"div",9)(9,"mat-table",10),e.qex(10,11),e.DNE(11,lm,1,0,"th",12)(12,dm,4,2,"td",13),e.bVm(),e.qex(13,14),e.DNE(14,cm,2,0,"th",15)(15,mm,2,1,"td",16),e.bVm(),e.qex(16,17),e.DNE(17,pm,2,0,"th",12)(18,um,2,1,"td",16),e.bVm(),e.qex(19,18),e.DNE(20,hm,2,0,"th",12)(21,fm,2,1,"td",16),e.bVm(),e.qex(22,19),e.DNE(23,gm,2,0,"th",12)(24,_m,2,1,"td",16),e.bVm(),e.qex(25,20),e.DNE(26,bm,2,0,"th",12)(27,vm,2,1,"td",16),e.bVm(),e.qex(28,21),e.DNE(29,ym,2,0,"th",12)(30,Cm,2,1,"td",16),e.bVm(),e.qex(31,22),e.DNE(32,km,2,0,"th",12)(33,Fm,2,1,"td",16),e.bVm(),e.qex(34,23),e.DNE(35,Tm,2,0,"th",12)(36,xm,2,1,"td",16),e.bVm(),e.DNE(37,wm,1,0,"tr",24)(38,Sm,1,0,"tr",25),e.k0s()(),e.DNE(39,Am,6,4,"div",26)(40,Rm,8,1,"ng-template",null,0,e.C5r),e.k0s()()()()()}2&i&&(e.Y8G("title","Notifications")("items",e.lJ4(14,om))("active_item","Notifications"),e.R7$(6),e.Y8G("filterType","notifications")("fields",n.filterFields)("filterData",n.filter)("isFilterCollapsed",n.isFilterCollapsed),e.R7$(),e.Y8G("ngIf",n.inProgress),e.R7$(2),e.Y8G("matSortActive",n.sortedField)("dataSource",n.messages),e.R7$(28),e.Y8G("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),e.R7$(),e.Y8G("matRowDefColumns",n.displayedColumns),e.R7$(),e.Y8G("ngIf",n.messageCount>n.pageSize))},dependencies:[h.bT,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,$.B4,$.aE,_.s5,_.gA,_.ug,_.PB,_.hO,ie.oV,K.iY,z.HM,X,Te,rm],styles:[".datatable-body{height:600px!important;overflow:scroll;width:100%}  .dataTable-bottom{position:absolute;left:0;right:0;bottom:0;background:#fff!important}  table th,   table td,   .ngx-datatable.material .datatable-header .datatable-header-cell,   .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{font-size:.876rem!important}@media (max-width: 567.9px){  .ngx-datatable .datatable-footer .datatable-footer-inner{flex-wrap:wrap;height:auto!important}  .ngx-datatable .datatable-footer .datatable-pager{text-align:center!important}}  .dataTable-wrapper.no-footer .dataTable-container{border-bottom:none!important}  .dataTable-selector{border-radius:.25rem}  app-data-table input{border-radius:25px;border:1px solid rgba(0,0,0,.1)}  app-data-table .custom-select{border:1px solid rgba(0,0,0,.24)!important;border-radius:.25rem}.table-responsive[_ngcontent-%COMP%]{overflow:visible}  .dark-theme input::placeholder{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material{background-color:#2a2e3f!important}  .dark-theme app-data-tables .dataTable-bottom{background-color:#2a2e3f!important}  .dark-theme app-data-tables .dataTable-selector{background-color:#2a2e3f;border-color:#272c49;color:#fff;outline:none}  .dark-theme app-data-tables input{color:#eee!important;background-color:#2a2e3f!important;border-color:#262b48;border-radius:25px;height:27px}  .dark-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .dark-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#2a2e3f;color:#fff}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid rgb(39,43,74)!important;color:#fff!important;background:#2a2e3f!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #32394e!important}  .dark-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .dark-theme app-data-tables .dataTable-pagination li:hover a,   .dark-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .dark-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .dark-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .dark-theme app-data-tables .mat-mdc-table{background:#2a2e3f!important}  .dark-theme app-data-tables .mat-mdc-header-cell{color:#fff!important}  .dark-theme app-data-tables .mat-mdc-cell,   .dark-theme app-data-tables .mat-mdc-footer-cell{color:#eee!important}  .dark-theme app-data-tables mat-row,   .dark-theme app-data-tables mat-header-row,   .dark-theme app-data-tables mat-footer-row,   .dark-theme app-data-tables th.mat-mdc-header-cell,   .dark-theme app-data-tables td.mat-mdc-cell,   .dark-theme app-data-tables td.mat-mdc-footer-cell{border-bottom-color:#ffffff1f!important}  .dark-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .dark-theme app-data-tables .mat-mdc-paginator,   .dark-theme app-data-tables .mat-mdc-paginator-page-size .mat-mdc-select-trigger{color:#ffffff8a!important}  .dark-theme app-data-tables .mat-mdc-paginator{background:#2a2e3f}  .dark-theme app-data-tables .mat-mdc-select-value{color:#fff7f7de}  .dark-theme app-data-tables .mat-mdc-select-arrow{color:#ffffffba}  .dark-theme .mat-mdc-select-panel{background:#30304d}  .dark-theme .mat-mdc-option{color:#ccc}  .dark-theme .mat-primary .mat-mdc-option.mat-selected:not(.mat-option-disabled){color:#fff}  .dark-theme .mat-mdc-option:hover:not(.mat-option-disabled),   .dark-theme .mat-option:focus:not(.mat-option-disabled){background:#2a2a44}  .dark-theme .mat-mdc-select-panel .mat-mdc-option.mat-selected:not(.mat-mdc-option-multiple){background:#0000001f}  .dark-theme .table-hover>tbody>tr:hover>*{color:#fff}  .dark-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme input::placeholder{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material{background-color:#2da28f!important}  .transparent-theme app-data-tables .dataTable-bottom{background-color:#2da28f!important}  .transparent-theme app-data-tables .dataTable-selector{background-color:#2da28f;border-color:#4cb0a0;color:#fff;outline:none}  .transparent-theme app-data-tables input{color:#eee!important;background-color:#2da28f!important;border-color:#4cb0a0;border-radius:25px;height:27px}  .transparent-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .transparent-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#2da28f;color:#fff}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid #4cb0a0!important;color:#fff!important;background:#2da28f!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #4cb0a0!important}  .transparent-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .transparent-theme app-data-tables .dataTable-pagination li:hover a,   .transparent-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .transparent-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .transparent-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .transparent-theme app-data-tables .mat-mdc-table{background:#2da28f!important}  .transparent-theme app-data-tables .mat-mdc-header-cell{color:#fff!important}  .transparent-theme app-data-tables .mat-mdc-cell,   .transparent-theme app-data-tables .mat-mdc-footer-cell{color:#eee!important}  .transparent-theme app-data-tables mat-row,   .transparent-theme app-data-tables mat-header-row,   .transparent-theme app-data-tables mat-footer-row,   .transparent-theme app-data-tables th.mat-mdc-header-cell,   .transparent-theme app-data-tables td.mat-mdc-cell,   .transparent-theme app-data-tables td.mat-mdc-footer-cell{border-bottom-color:#ffffff1f!important}  .transparent-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .transparent-theme app-data-tables .mat-mdc-paginator,   .transparent-theme app-data-tables .mat-mdc-paginator-page-size .mat-mdc-select-trigger{color:#ffffff8a!important}  .transparent-theme app-data-tables .mat-mdc-paginator{background:#2da28f}  .transparent-theme app-data-tables .mat-mdc-select-value{color:#fff7f7de}  .transparent-theme app-data-tables .mat-mdc-select-arrow{color:#ffffffba}  .transparent-theme .mat-mdc-select-panel{background:#30304d}  .transparent-theme .mat-mdc-option{color:#ccc}  .transparent-theme .mat-primary .mat-mdc-option.mat-selected:not(.mat-option-disabled){color:#fff}  .transparent-theme .mat-mdc-option:hover:not(.mat-option-disabled),   .transparent-theme .mat-option:focus:not(.mat-option-disabled){background:#2a2a44}  .transparent-theme .mat-mdc-select-panel .mat-mdc-option.mat-selected:not(.mat-mdc-option-multiple){background:#0000001f}  .transparent-theme .table-hover>tbody>tr:hover>*{color:#fff}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{background-color:#248272!important}.data-table[_ngcontent-%COMP%]{flex:1 1 0;overflow:auto;margin-top:5px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]{display:table;min-width:100%}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:32px;line-height:32px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   tr.mat-mdc-header-row[_ngcontent-%COMP%]{height:40px;line-height:40px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]{padding:0 4px;white-space:nowrap;font-size:16px;font-weight:400;color:#0000008a;font-family:Roboto,sans-serif}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell.action[_ngcontent-%COMP%]{width:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]{padding:1px 4px 0;line-height:29px;white-space:nowrap}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%]{width:16px;height:16px;font-size:16px;vertical-align:middle;position:relative;top:-1px}.data-table[_ngcontent-%COMP%]   .row-button[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0;position:relative;top:5px;padding:1px}.data-table[_ngcontent-%COMP%]   .row-button[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:16px;height:16px;width:16px;line-height:16px}.data-table[_ngcontent-%COMP%]   .row-icon[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0;position:relative;top:5px}mat-mdc-paginator[_ngcontent-%COMP%]{flex:0 0 auto}table[_ngcontent-%COMP%]{width:100%}.table-button-container[_ngcontent-%COMP%]{padding-bottom:16px}.notification-list-selector-column[_ngcontent-%COMP%]{margin:0;padding:0 8px}.notification-list-data-column[_ngcontent-%COMP%]{margin:0;padding:0}.ng-pagination-nav-icons[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:12px}"],changeDetection:0})}return a})();const jm=a=>["segment",a],$m=(a,r)=>({"segment-main":!0,expandable:a,expanded:r});function Mm(a,r){1&a&&e.nrm(0,"div",9)}function Nm(a,r){if(1&a&&(e.j41(0,"span",10),e.EFF(1),e.k0s()),2&a){const t=e.XpG().$implicit;e.R7$(),e.JRh(t.description)}}function Vm(a,r){if(1&a&&(e.j41(0,"section",11),e.nrm(1,"ngx-json-viewer",12),e.k0s()),2&a){const t=e.XpG().$implicit,i=e.XpG();e.R7$(),e.Y8G("json",t.value)("expanded",i.expanded)("depth",i.depth)("_currentDepth",i._currentDepth+1)}}function Gm(a,r){if(1&a){const t=e.RV6();e.j41(0,"section",2)(1,"section",3),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG();return e.Njj(o.toggle(n))}),e.DNE(2,Mm,1,0,"div",4),e.j41(3,"span",5),e.EFF(4),e.k0s(),e.j41(5,"span",6),e.EFF(6,": "),e.k0s(),e.DNE(7,Nm,2,1,"span",7),e.k0s(),e.DNE(8,Vm,2,4,"section",8),e.k0s()}if(2&a){const t=r.$implicit,i=e.XpG();e.Y8G("ngClass",e.eq3(6,jm,"segment-type-"+t.type)),e.R7$(),e.Y8G("ngClass",e.l_i(8,$m,i.isExpandable(t),t.expanded)),e.R7$(),e.Y8G("ngIf",i.isExpandable(t)),e.R7$(2),e.JRh(t.key),e.R7$(3),e.Y8G("ngIf",!t.expanded||!i.isExpandable(t)),e.R7$(),e.Y8G("ngIf",t.expanded&&i.isExpandable(t))}}let Bm=(()=>{class a{constructor(){this.expanded=!0,this.depth=-1,this._currentDepth=0,this.segments=[]}ngOnChanges(){this.segments=[],this.json=this.decycle(this.json),"object"==typeof this.json?Object.keys(this.json).forEach(t=>{this.segments.push(this.parseKeyValue(t,this.json[t]))}):this.segments.push(this.parseKeyValue(`(${typeof this.json})`,this.json))}isExpandable(t){return"object"===t.type||"array"===t.type}toggle(t){this.isExpandable(t)&&(t.expanded=!t.expanded)}parseKeyValue(t,i){const n={key:t,value:i,type:void 0,description:""+i,expanded:this.isExpanded()};switch(typeof n.value){case"number":n.type="number";break;case"boolean":n.type="boolean";break;case"function":n.type="function";break;case"string":n.type="string",n.description='"'+n.value+'"';break;case"undefined":n.type="undefined",n.description="undefined";break;case"object":null===n.value?(n.type="null",n.description="null"):Array.isArray(n.value)?(n.type="array",n.description="Array["+n.value.length+"] "+JSON.stringify(n.value)):n.value instanceof Date?n.type="date":(n.type="object",n.description="Object "+JSON.stringify(n.value))}return n}isExpanded(){return this.expanded&&!(this.depth>-1&&this._currentDepth>=this.depth)}decycle(t){const i=new WeakMap;return function n(o,s){let l,m;return"object"!=typeof o||null===o||o instanceof Boolean||o instanceof Date||o instanceof Number||o instanceof RegExp||o instanceof String?o:(l=i.get(o),void 0!==l?{$ref:l}:(i.set(o,s),Array.isArray(o)?(m=[],o.forEach(function(u,g){m[g]=n(u,s+"["+g+"]")})):(m={},Object.keys(o).forEach(function(u){m[u]=n(o[u],s+"["+JSON.stringify(u)+"]")})),m))}(t,"$")}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=e.VBU({type:a,selectors:[["ngx-json-viewer"]],inputs:{json:"json",expanded:"expanded",depth:"depth",_currentDepth:"_currentDepth"},features:[e.OA$],decls:2,vars:1,consts:[[1,"ngx-json-viewer"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"click","ngClass"],["class","toggler",4,"ngIf"],[1,"segment-key"],[1,"segment-separator"],["class","segment-value",4,"ngIf"],["class","children",4,"ngIf"],[1,"toggler"],[1,"segment-value"],[1,"children"],[3,"json","expanded","depth","_currentDepth"]],template:function(t,i){1&t&&(e.j41(0,"section",0),e.DNE(1,Gm,9,11,"section",1),e.k0s()),2&t&&(e.R7$(),e.Y8G("ngForOf",i.segments))},dependencies:[h.YU,h.Sq,h.bT,a],styles:['@charset "UTF-8";.ngx-json-viewer[_ngcontent-%COMP%]{font-family:var(--ngx-json-font-family, monospace);font-size:var(--ngx-json-font-size, 1em);width:100%;height:100%;overflow:hidden;position:relative}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]{padding:2px;margin:1px 1px 1px 12px}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]{word-wrap:break-word}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]{position:absolute;margin-left:-14px;margin-top:3px;font-size:.8em;line-height:1.2em;vertical-align:middle;color:var(--ngx-json-toggler, #787878)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]:after{display:inline-block;content:"\\25ba";transition:transform .1s ease-in}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-key[_ngcontent-%COMP%]{color:var(--ngx-json-key, #4E187C)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-separator[_ngcontent-%COMP%]{color:var(--ngx-json-separator, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-value, #000)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%]{margin-left:12px}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-string[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-string, #FF6B6B)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-number[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-number, #009688)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-boolean[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-boolean, #B938A4)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-date[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-date, #05668D)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-array[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-array, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-object[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-object, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-function[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-function, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-null[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-null, #fff)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-undefined, #fff)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-null[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{background-color:var(--ngx-json-null-bg, red)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-key[_ngcontent-%COMP%]{color:var(--ngx-json-undefined-key, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{background-color:var(--ngx-json-undefined-key, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-object[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-array[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%]{white-space:nowrap}.ngx-json-viewer[_ngcontent-%COMP%]   .expanded[_ngcontent-%COMP%] > .toggler[_ngcontent-%COMP%]:after{transform:rotate(90deg)}.ngx-json-viewer[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%] > .toggler[_ngcontent-%COMP%]{cursor:pointer}']}),a})(),Um=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.$C({type:a}),a.\u0275inj=e.G2t({imports:[h.MD]}),a})();function Lm(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"h3",6),e.EFF(5,"Raw Json"),e.k0s()(),e.j41(6,"div",7),e.nrm(7,"ngx-json-viewer",8),e.k0s(),e.j41(8,"div",9)(9,"button",10),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeEvent())}),e.EFF(10,"Close"),e.k0s()()()()()}if(2&a){const t=e.XpG();e.R7$(7),e.Y8G("json",t.data)("depth",2)}}function Ym(a,r){if(1&a&&e.nrm(0,"ngx-json-viewer",8),2&a){const t=e.XpG();e.Y8G("json",t.data)("depth",2)}}let It=(()=>{class a{constructor(){this.isModal=!1,this.close=new e.bkB}closeEvent(){this.close.emit()}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-raw-json"]],inputs:{data:"data",isModal:"isModal"},outputs:{close:"close"},decls:2,vars:2,consts:[["class","raw-json-modal__backdrop animated fadeIn",4,"ngIf"],[3,"json","depth",4,"ngIf"],[1,"raw-json-modal__backdrop","animated","fadeIn"],[1,"raw-json-modal__wrapper"],[1,"raw-json-modal"],[1,"raw-json-modal__header"],[1,"raw-json-modal__title"],[1,"raw-json-modal__content"],[3,"json","depth"],[1,"raw-json-modal__actions"],["type","button",1,"raw-json-modal__close",3,"click"]],template:function(i,n){1&i&&e.DNE(0,Lm,11,2,"div",0)(1,Ym,1,2,"ngx-json-viewer",1),2&i&&(e.Y8G("ngIf",n.isModal),e.R7$(),e.Y8G("ngIf",!n.isModal))},dependencies:[h.bT,Bm],styles:['.raw-json-modal[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;overflow:hidden;max-width:80vw;max-height:calc(100vh - 48px);width:700px;min-height:400px;color:#444;background:#fff;border-radius:15px;box-shadow:0 2px 3px #3c40434d,0 6px 10px 4px #3c404326}.raw-json-modal__backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:1101}.raw-json-modal__backdrop[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;opacity:.4;background-color:#19212b}.raw-json-modal__wrapper[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:1000;display:flex;justify-content:center;align-items:center}.raw-json-modal__header[_ngcontent-%COMP%]{flex-shrink:0;padding:25px;color:#fff;background:#444}.raw-json-modal__title[_ngcontent-%COMP%]{margin:0}.raw-json-modal__content[_ngcontent-%COMP%]{flex-grow:1;padding:25px;overflow:auto}.raw-json-modal__content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.raw-json-modal__actions[_ngcontent-%COMP%]{flex-shrink:0;display:flex;justify-content:flex-end;margin-top:20px;padding:25px;background:#fafafa}.raw-json-modal__close[_ngcontent-%COMP%]{min-width:60px;min-height:36px;padding:0 20px;font-weight:500;color:#0000008a;background:transparent;border-color:transparent;border-radius:8px;transition:all .2s ease}.raw-json-modal__close[_ngcontent-%COMP%]:hover{background:#0000000f}.raw-json-modal__close[_ngcontent-%COMP%]:active{background:#0000001f}.raw-json-modal__close[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #1a73e8 inset,0 0 0 4px #fff9 inset}@media all and (max-width: 991px){.raw-json-modal[_ngcontent-%COMP%]{width:100%}}']})}return a})();function qm(a,r){1&a&&e.nrm(0,"span",18)}let Wm=(()=>{class a{constructor(t,i,n,o,s){this.router=t,this.auth=i,this._snackBar=n,this.cdr=o,this.adminService=s,this.permission=0,this.message=void 0,this.close=new e.bkB,this.resendInProgress=!1}resend(){this.resendInProgress=!0,this.adminService.resendAdminNotification(this.message?.id??"").pipe((0,V.j)(()=>{this.resendInProgress=!1,this.cdr.detectChanges()}),(0,D.M)({next:()=>this._snackBar.open("Notification resent successfully",null,{duration:5e3}),error:t=>{this._snackBar.open("Failed to resend notification "+t,null,{duration:5e3}),""===this.auth.token&&this.router.navigateByUrl("/")}})).subscribe()}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(w.Ix),e.rXU(I.u),e.rXU(Ie.UG),e.rXU(e.gRc),e.rXU(E))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-message-details"]],inputs:{permission:"permission",message:"message"},outputs:{close:"close"},decls:21,vars:11,consts:[[1,"row"],[1,"col-md-12","col-lg-12","col-xl-12","mx-auto","d-block"],[1,"card","card-body","pd-20","pd-md-40","border","shadow-none"],["label","Created",3,"value"],["label","Recipient",3,"value"],["label","Recipient Id",3,"value"],["label","Message Status",3,"value"],["label","Message Type",3,"value"],["label","Object Id",3,"value"],["label","Notification Id",3,"value"],["label","Message Email Id",3,"value"],["label","Message Id",3,"value"],[1,"main-content-label","tx-11","tx-medium","tx-gray-600","ng-star-inserted"],[3,"data"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","btn-primary","pd-x-30","me-2",3,"click"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","pd-x-30",3,"click"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.nrm(3,"app-admin-details-item",3)(4,"app-admin-details-item",4)(5,"app-admin-details-item",5)(6,"app-admin-details-item",6)(7,"app-admin-details-item",7)(8,"app-admin-details-item",8)(9,"app-admin-details-item",9)(10,"app-admin-details-item",10)(11,"app-admin-details-item",11),e.j41(12,"label",12),e.EFF(13," Params "),e.k0s(),e.nrm(14,"app-raw-json",13),e.j41(15,"div",14)(16,"button",15),e.bIt("click",function(){return n.resend()}),e.DNE(17,qm,1,0,"span",16),e.EFF(18," Resend "),e.k0s(),e.j41(19,"button",17),e.bIt("click",function(){return n.close.emit()}),e.EFF(20," Close "),e.k0s()()()()()),2&i&&(e.R7$(3),e.Y8G("value",null==n.message?null:n.message.created),e.R7$(),e.Y8G("value",null==n.message?null:n.message.userEmail),e.R7$(),e.Y8G("value",null==n.message?null:n.message.userId),e.R7$(),e.Y8G("value",null==n.message?null:n.message.messageStatus),e.R7$(),e.Y8G("value",null==n.message?null:n.message.messageType),e.R7$(),e.Y8G("value",null==n.message?null:n.message.objectId),e.R7$(),e.Y8G("value",null==n.message?null:n.message.userNotificationId),e.R7$(),e.Y8G("value",null==n.message?null:n.message.messageEmailId),e.R7$(),e.Y8G("value",null==n.message?null:n.message.id),e.R7$(3),e.Y8G("data",null==n.message?null:n.message.params),e.R7$(3),e.Y8G("ngIf",n.resendInProgress))},dependencies:[h.bT,It,he],styles:[".dark-theme .mat-mdc-button,   .dark-theme .mat-mdc-icon-button,   .dark-theme .mat-mdc-outlined-button{color:#b7c0d6!important}  .dark-theme .mat-form-field-label{color:#eee}  .dark-theme .mat-datepicker-content{background-color:#373d51;color:#ffffffde}  .dark-theme .mat-calendar-table-header,   .dark-theme .mat-calendar-body-label{color:#fff}@media (hover: hover){  .dark-theme .mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#2a2e3f}}  .dark-theme .mat-calendar-body-cell-content,   .dark-theme .mat-date-range-input-separator{color:#e1e1ef}  .dark-theme .ngb-dp-header{background-color:#343545}  .dark-theme .ngb-dp-weekdays{background-color:#343545}  .rtl .color-picker{left:initial!important}  .transparent-theme .card .box{background:#2da28f}  .transparent-theme .hex-text,   .transparent-theme .rgba-text{background:#2da28f}  .transparent-theme .mat-datepicker-content{background-color:#2da28f;color:#ffffffde}  .transparent-theme .mat-datepicker-toggle,   .transparent-theme .mat-datepicker-content .mat-calendar-next-button,   .transparent-theme .mat-datepicker-content .mat-calendar-previous-button{color:#ffffff81}  .transparent-theme .mat-calendar-body-cell-content,   .transparent-theme .mat-date-range-input-separator{color:#ffffffd3}  .transparent-theme .mat-calendar-table-header,   .transparent-theme .mat-calendar-body-label{color:#fff9}  .transparent-theme .ngb-dp-header{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekdays{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekday{color:#000}  .transparent-theme .ng-select .ng-arrow-wrapper .ng-arrow{border-top-color:#fff!important}  .transparent-theme .ng-select.ng-select-opened .ng-arrow-wrapper .ng-arrow{border-bottom-color:#fff!important}  .form-controls{display:block;color:#fff;border:transparent;outline:none;width:100%;height:40px;padding:.375rem .75rem;font-size:.875rem;font-weight:400;line-height:2;background-clip:padding-box;border-radius:5px;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}  button[type=button]{z-index:0!important}",".has-error[_ngcontent-%COMP%]{border:1px solid #f16d75}.tx-danger[_ngcontent-%COMP%]{color:red!important}"],changeDetection:0})}return a})();const Xm=()=>["Home"];function zm(a,r){1&a&&e.nrm(0,"mat-progress-bar",26)}function Hm(a,r){1&a&&e.nrm(0,"th",27)}function Km(a,r){if(1&a){const t=e.RV6();e.j41(0,"td",28)(1,"button",29),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG(),s=e.sdS(35);return e.Njj(o.showDetails(n,s))}),e.j41(2,"i",30),e.EFF(3,"wysiwyg"),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(),e.BMQ("aria-label","Email details")("aria-pressed",!!t.selectedMessage)}}function Jm(a,r){1&a&&(e.j41(0,"th",31),e.EFF(1,"Created"),e.k0s())}function Qm(a,r){if(1&a&&(e.j41(0,"td",32),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.created," ")}}function Zm(a,r){1&a&&(e.j41(0,"th",27),e.EFF(1,"User"),e.k0s())}function ep(a,r){if(1&a&&(e.j41(0,"td",33),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.userEmail," ")}}function tp(a,r){1&a&&(e.j41(0,"th",27),e.EFF(1,"Message Status"),e.k0s())}function ap(a,r){if(1&a&&(e.j41(0,"td",33),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.messageStatus," ")}}function np(a,r){1&a&&(e.j41(0,"th",27),e.EFF(1,"Message Type"),e.k0s())}function ip(a,r){if(1&a&&(e.j41(0,"td",33),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.messageType," ")}}function rp(a,r){1&a&&(e.j41(0,"th",27),e.EFF(1,"Message Email Id"),e.k0s())}function op(a,r){if(1&a&&(e.j41(0,"td",33),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.messageEmailId," ")}}function sp(a,r){1&a&&(e.j41(0,"th",27),e.EFF(1,"Object Id"),e.k0s())}function lp(a,r){if(1&a&&(e.j41(0,"td",33),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.objectId," ")}}function dp(a,r){1&a&&e.nrm(0,"tr",34)}function cp(a,r){1&a&&e.nrm(0,"tr",35)}function mp(a,r){1&a&&(e.j41(0,"div",42)(1,"i",43),e.EFF(2,"first_page"),e.k0s()())}function pp(a,r){1&a&&(e.j41(0,"div",42)(1,"i",43),e.EFF(2,"keyboard_arrow_left"),e.k0s()())}function up(a,r){1&a&&(e.j41(0,"div",42)(1,"i",43),e.EFF(2,"keyboard_arrow_right"),e.k0s()())}function hp(a,r){1&a&&(e.j41(0,"div",42)(1,"i",43),e.EFF(2,"last_page"),e.k0s()())}function fp(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",36)(1,"ngb-pagination",37),e.bIt("pageChange",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.handlePage(n))}),e.DNE(2,mp,3,0,"ng-template",38)(3,pp,3,0,"ng-template",39)(4,up,3,0,"ng-template",40)(5,hp,3,0,"ng-template",41),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("collectionSize",t.messageCount)("pageSize",t.pageSize)("boundaryLinks",!0)("maxSize",10)}}function gp(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",44)(1,"h5",45),e.EFF(2," Message details "),e.k0s(),e.j41(3,"button",46),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",47),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",48)(7,"app-admin-message-details",49),e.bIt("close",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Close"))}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(7),e.Y8G("permission",t.permission)("message",t.selectedMessage)}}let _p=(()=>{class a{constructor(t,i,n,o,s,l){this.cdr=t,this.modalService=i,this.auth=n,this.adminService=o,this.router=s,this.route=l,this.filterFields=["search","notificationType"],this.displayedColumns=["details","created","user","messageStatus","messageType","messageEmailId","objectId"],this.inProgress=!1,this.permission=0,this.messageCount=0,this.messages=[],this.pageSize=50,this.pageIndex=0,this.sortedField="created",this.sortedDesc=!0,this.isFilterCollapsed=!0,this.filter=void 0,this.adminAdditionalSettings={},this.destroy$=new y.B,this.permission=this.auth.isPermittedObjectCode(c.G4.Notifications),this.route.queryParams.subscribe(m=>{m.userId?(this.filter={search:m.userId},this.isFilterCollapsed=!1):this.filter=new G({})})}ngOnInit(){this.loadCommonSettings(),this.loadMessages()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngAfterViewInit(){this.sort.sortChange.pipe((0,T.Q)(this.destroy$)).subscribe(()=>{this.sortedDesc="desc"===this.sort.direction,this.sortedField=this.sort.active,this.loadMessages()})}handleFilterApplied(t){this.filter=t,this.loadMessages()}handlePage(t){this.pageIndex=t-1,this.loadMessages()}showDetails(t,i){this.selectedMessage=t,this.modalService.open(i,{backdrop:"static",windowClass:"modalCusSty"})}loadCommonSettings(){const t=this.auth.getLocalSettingsCommon();t&&(this.adminAdditionalSettings="string"==typeof t.adminAdditionalSettings?JSON.parse(t.adminAdditionalSettings):t.adminAdditionalSettings,this.adminAdditionalSettings?.tabs?.notification?.filterFields&&(this.filterFields=this.adminAdditionalSettings.tabs.notification.filterFields))}loadMessages(){this.inProgress=!0,this.adminService.getMessages(this.pageIndex,this.pageSize,this.sortedField,this.sortedDesc,this.filter).pipe((0,T.Q)(this.destroy$),(0,J.n)(t=>(this.messages=t.list,this.messageCount=t.count,(0,S.of)(t))),(0,V.j)(()=>{this.inProgress=!1,this.cdr.detectChanges()})).subscribe({error:()=>{""===this.auth.token&&this.router.navigateByUrl("/")}})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.gRc),e.rXU(_.Bq),e.rXU(I.u),e.rXU(E),e.rXU(w.Ix),e.rXU(w.nX))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-messages"]],viewQuery:function(i,n){if(1&i&&e.GBs($.B4,5),2&i){let o;e.mGM(o=e.lsd())&&(n.sort=o.first)}},decls:36,vars:15,consts:[["details_content",""],[3,"title","items","active_item"],[1,"row","row-sm"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],[3,"filter","filterType","fields","filterData","isFilterCollapsed"],["color","accent","mode","indeterminate",4,"ngIf"],[1,"data-table"],["matSort","","matSortDirection","desc","matSortDisableClear","",3,"matSortActive","dataSource"],["matColumnDef","details","sticky",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","messages-list-selector-column",4,"matCellDef"],["matColumnDef","created"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","class","messages-list-data-column",4,"matCellDef"],["matColumnDef","user"],["mat-cell","","class","notification-list-data-column",4,"matCellDef"],["matColumnDef","messageStatus"],["matColumnDef","messageType"],["matColumnDef","messageEmailId"],["matColumnDef","objectId"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","card card-body border shadow-none",4,"ngIf"],["color","accent","mode","indeterminate"],["mat-header-cell",""],["mat-cell","",1,"messages-list-selector-column"],["type","button","mat-icon-button","","matTooltip","Email details","matTooltipClass","info-tooltip",1,"row-button",3,"click"],[1,"material-icons","tx-20"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"messages-list-data-column"],["mat-cell","",1,"notification-list-data-column"],["mat-header-row",""],["mat-row",""],[1,"card","card-body","border","shadow-none"],["aria-label","Table pagination",1,"d-flex","justify-content-center",3,"pageChange","collectionSize","pageSize","boundaryLinks","maxSize"],["ngbPaginationFirst",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationLast",""],[1,"ng-pagination-nav-icons"],[1,"material-icons"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"close","permission","message"]],template:function(i,n){if(1&i){const o=e.RV6();e.nrm(0,"app-admin-page-header",1),e.j41(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"app-admin-filter",7),e.bIt("filter",function(l){return e.eBV(o),e.Njj(n.handleFilterApplied(l))}),e.k0s(),e.DNE(7,zm,1,0,"mat-progress-bar",8),e.j41(8,"div",9)(9,"mat-table",10),e.qex(10,11),e.DNE(11,Hm,1,0,"th",12)(12,Km,4,2,"td",13),e.bVm(),e.qex(13,14),e.DNE(14,Jm,2,0,"th",15)(15,Qm,2,1,"td",16),e.bVm(),e.qex(16,17),e.DNE(17,Zm,2,0,"th",12)(18,ep,2,1,"td",18),e.bVm(),e.qex(19,19),e.DNE(20,tp,2,0,"th",12)(21,ap,2,1,"td",18),e.bVm(),e.qex(22,20),e.DNE(23,np,2,0,"th",12)(24,ip,2,1,"td",18),e.bVm(),e.qex(25,21),e.DNE(26,rp,2,0,"th",12)(27,op,2,1,"td",18),e.bVm(),e.qex(28,22),e.DNE(29,sp,2,0,"th",12)(30,lp,2,1,"td",18),e.bVm(),e.DNE(31,dp,1,0,"tr",23)(32,cp,1,0,"tr",24),e.k0s()(),e.DNE(33,fp,6,4,"div",25)(34,gp,8,2,"ng-template",null,0,e.C5r),e.k0s()()()()()}2&i&&(e.Y8G("title","Messages")("items",e.lJ4(14,Xm))("active_item","Messages"),e.R7$(6),e.Y8G("filterType","messages")("fields",n.filterFields)("filterData",n.filter)("isFilterCollapsed",n.isFilterCollapsed),e.R7$(),e.Y8G("ngIf",n.inProgress),e.R7$(2),e.Y8G("matSortActive",n.sortedField)("dataSource",n.messages),e.R7$(22),e.Y8G("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),e.R7$(),e.Y8G("matRowDefColumns",n.displayedColumns),e.R7$(),e.Y8G("ngIf",n.messageCount>n.pageSize))},dependencies:[h.bT,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,$.B4,$.aE,_.s5,_.gA,_.ug,_.PB,_.hO,ie.oV,K.iY,z.HM,X,Te,Wm],styles:[".datatable-body{height:600px!important;overflow:scroll;width:100%}  .dataTable-bottom{position:absolute;left:0;right:0;bottom:0;background:#fff!important}  table th,   table td,   .ngx-datatable.material .datatable-header .datatable-header-cell,   .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{font-size:.876rem!important}@media (max-width: 567.9px){  .ngx-datatable .datatable-footer .datatable-footer-inner{flex-wrap:wrap;height:auto!important}  .ngx-datatable .datatable-footer .datatable-pager{text-align:center!important}}  .dataTable-wrapper.no-footer .dataTable-container{border-bottom:none!important}  .dataTable-selector{border-radius:.25rem}  app-data-table input{border-radius:25px;border:1px solid rgba(0,0,0,.1)}  app-data-table .custom-select{border:1px solid rgba(0,0,0,.24)!important;border-radius:.25rem}.table-responsive[_ngcontent-%COMP%]{overflow:visible}  .dark-theme input::placeholder{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material{background-color:#2a2e3f!important}  .dark-theme app-data-tables .dataTable-bottom{background-color:#2a2e3f!important}  .dark-theme app-data-tables .dataTable-selector{background-color:#2a2e3f;border-color:#272c49;color:#fff;outline:none}  .dark-theme app-data-tables input{color:#eee!important;background-color:#2a2e3f!important;border-color:#262b48;border-radius:25px;height:27px}  .dark-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .dark-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#2a2e3f;color:#fff}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid rgb(39,43,74)!important;color:#fff!important;background:#2a2e3f!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #32394e!important}  .dark-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .dark-theme app-data-tables .dataTable-pagination li:hover a,   .dark-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .dark-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .dark-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .dark-theme app-data-tables .mat-mdc-table{background:#2a2e3f!important}  .dark-theme app-data-tables .mat-mdc-header-cell{color:#fff!important}  .dark-theme app-data-tables .mat-mdc-cell,   .dark-theme app-data-tables .mat-mdc-footer-cell{color:#eee!important}  .dark-theme app-data-tables mat-row,   .dark-theme app-data-tables mat-header-row,   .dark-theme app-data-tables mat-footer-row,   .dark-theme app-data-tables th.mat-mdc-header-cell,   .dark-theme app-data-tables td.mat-mdc-cell,   .dark-theme app-data-tables td.mat-mdc-footer-cell{border-bottom-color:#ffffff1f!important}  .dark-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .dark-theme app-data-tables .mat-mdc-paginator,   .dark-theme app-data-tables .mat-mdc-paginator-page-size .mat-mdc-select-trigger{color:#ffffff8a!important}  .dark-theme app-data-tables .mat-mdc-paginator{background:#2a2e3f}  .dark-theme app-data-tables .mat-mdc-select-value{color:#fff7f7de}  .dark-theme app-data-tables .mat-mdc-select-arrow{color:#ffffffba}  .dark-theme .mat-mdc-select-panel{background:#30304d}  .dark-theme .mat-mdc-option{color:#ccc}  .dark-theme .mat-primary .mat-mdc-option.mat-selected:not(.mat-option-disabled){color:#fff}  .dark-theme .mat-mdc-option:hover:not(.mat-option-disabled),   .dark-theme .mat-option:focus:not(.mat-option-disabled){background:#2a2a44}  .dark-theme .mat-mdc-select-panel .mat-mdc-option.mat-selected:not(.mat-mdc-option-multiple){background:#0000001f}  .dark-theme .table-hover>tbody>tr:hover>*{color:#fff}  .dark-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme input::placeholder{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material{background-color:#2da28f!important}  .transparent-theme app-data-tables .dataTable-bottom{background-color:#2da28f!important}  .transparent-theme app-data-tables .dataTable-selector{background-color:#2da28f;border-color:#4cb0a0;color:#fff;outline:none}  .transparent-theme app-data-tables input{color:#eee!important;background-color:#2da28f!important;border-color:#4cb0a0;border-radius:25px;height:27px}  .transparent-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .transparent-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#2da28f;color:#fff}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid #4cb0a0!important;color:#fff!important;background:#2da28f!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #4cb0a0!important}  .transparent-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .transparent-theme app-data-tables .dataTable-pagination li:hover a,   .transparent-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .transparent-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .transparent-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .transparent-theme app-data-tables .mat-mdc-table{background:#2da28f!important}  .transparent-theme app-data-tables .mat-mdc-header-cell{color:#fff!important}  .transparent-theme app-data-tables .mat-mdc-cell,   .transparent-theme app-data-tables .mat-mdc-footer-cell{color:#eee!important}  .transparent-theme app-data-tables mat-row,   .transparent-theme app-data-tables mat-header-row,   .transparent-theme app-data-tables mat-footer-row,   .transparent-theme app-data-tables th.mat-mdc-header-cell,   .transparent-theme app-data-tables td.mat-mdc-cell,   .transparent-theme app-data-tables td.mat-mdc-footer-cell{border-bottom-color:#ffffff1f!important}  .transparent-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .transparent-theme app-data-tables .mat-mdc-paginator,   .transparent-theme app-data-tables .mat-mdc-paginator-page-size .mat-mdc-select-trigger{color:#ffffff8a!important}  .transparent-theme app-data-tables .mat-mdc-paginator{background:#2da28f}  .transparent-theme app-data-tables .mat-mdc-select-value{color:#fff7f7de}  .transparent-theme app-data-tables .mat-mdc-select-arrow{color:#ffffffba}  .transparent-theme .mat-mdc-select-panel{background:#30304d}  .transparent-theme .mat-mdc-option{color:#ccc}  .transparent-theme .mat-primary .mat-mdc-option.mat-selected:not(.mat-option-disabled){color:#fff}  .transparent-theme .mat-mdc-option:hover:not(.mat-option-disabled),   .transparent-theme .mat-option:focus:not(.mat-option-disabled){background:#2a2a44}  .transparent-theme .mat-mdc-select-panel .mat-mdc-option.mat-selected:not(.mat-mdc-option-multiple){background:#0000001f}  .transparent-theme .table-hover>tbody>tr:hover>*{color:#fff}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{background-color:#248272!important}.data-table[_ngcontent-%COMP%]{flex:1 1 0;overflow:auto;margin-top:5px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]{display:table;min-width:100%}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:32px;line-height:32px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   tr.mat-mdc-header-row[_ngcontent-%COMP%]{height:40px;line-height:40px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]{padding:0 4px;white-space:nowrap;font-size:16px;font-weight:400;color:#0000008a;font-family:Roboto,sans-serif}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell.action[_ngcontent-%COMP%]{width:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]{padding:1px 4px 0;line-height:29px;white-space:nowrap}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%]{width:16px;height:16px;font-size:16px;vertical-align:middle;position:relative;top:-1px}.data-table[_ngcontent-%COMP%]   .row-button[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0;position:relative;top:5px;padding:1px}.data-table[_ngcontent-%COMP%]   .row-button[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:16px;height:16px;width:16px;line-height:16px}.data-table[_ngcontent-%COMP%]   .row-icon[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0;position:relative;top:5px}mat-mdc-paginator[_ngcontent-%COMP%]{flex:0 0 auto}table[_ngcontent-%COMP%]{width:100%}.table-button-container[_ngcontent-%COMP%]{padding-bottom:16px}.messages-list-selector-column[_ngcontent-%COMP%]{margin:0;padding:0 8px}.messages-list-data-column[_ngcontent-%COMP%]{margin:0;padding:0}.ng-pagination-nav-icons[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:12px}"],changeDetection:0})}return a})();function bp(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",10),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onClose())}),e.EFF(1," Close "),e.k0s()}}let vp=(()=>{class a{set alert(t){this.data=t;const n=JSON.parse(this.data?.details??"{}");this.detailsInfo=this.getObjectValues(n,0)}constructor(){this.permission=0,this.close=new e.bkB,this.detailsInfo=[]}getObjectValues(t,i){const n=[];for(const o in t)if(0!=i||"riskAlertTypeCode"!==o&&"entity"!==o){const l=t[o];"object"==typeof l?this.getObjectValues(l,i+1).forEach(u=>{n.push(`${o}.${u}`)}):n.push(`${o}: ${l}`)}return n}onClose(){this.close.emit()}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-risk-details"]],inputs:{permission:"permission",alert:"alert"},outputs:{close:"close"},decls:10,vars:6,consts:[[1,"row"],[1,"col-md-12","col-lg-12","col-xl-12","mx-auto","d-block"],[1,"card","card-body","pd-20","pd-md-40","border","shadow-none"],["label","User",3,"value"],["label","Email",3,"value"],["label","Alert",3,"value"],["label","Created",3,"value"],["label","Details",3,"value"],[2,"display","flex","justify-content","flex-end"],["class","btn btn-outline-primary pd-x-30","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","pd-x-30",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.nrm(3,"app-admin-details-item",3)(4,"app-admin-details-item",4)(5,"app-admin-details-item",5)(6,"app-admin-details-item",6)(7,"app-admin-details-item",7),e.k0s(),e.j41(8,"div",8),e.DNE(9,bp,2,0,"button",9),e.k0s()()()),2&i&&(e.R7$(3),e.Y8G("value",null==n.data||null==n.data.user?null:n.data.user.fullName),e.R7$(),e.Y8G("value",null==n.data||null==n.data.user?null:n.data.user.email),e.R7$(),e.Y8G("value",null==n.data?null:n.data.riskAlertType),e.R7$(),e.Y8G("value",null==n.data?null:n.data.created),e.R7$(),e.Y8G("value",n.detailsInfo),e.R7$(2),e.Y8G("ngIf",n.permission>1))},dependencies:[h.bT,he],styles:[".dark-theme .mat-mdc-button,   .dark-theme .mat-mdc-icon-button,   .dark-theme .mat-mdc-outlined-button{color:#b7c0d6!important}  .dark-theme .mat-form-field-label{color:#eee}  .dark-theme .mat-datepicker-content{background-color:#373d51;color:#ffffffde}  .dark-theme .mat-calendar-table-header,   .dark-theme .mat-calendar-body-label{color:#fff}@media (hover: hover){  .dark-theme .mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#2a2e3f}}  .dark-theme .mat-calendar-body-cell-content,   .dark-theme .mat-date-range-input-separator{color:#e1e1ef}  .dark-theme .ngb-dp-header{background-color:#343545}  .dark-theme .ngb-dp-weekdays{background-color:#343545}  .rtl .color-picker{left:initial!important}  .transparent-theme .card .box{background:#2da28f}  .transparent-theme .hex-text,   .transparent-theme .rgba-text{background:#2da28f}  .transparent-theme .mat-datepicker-content{background-color:#2da28f;color:#ffffffde}  .transparent-theme .mat-datepicker-toggle,   .transparent-theme .mat-datepicker-content .mat-calendar-next-button,   .transparent-theme .mat-datepicker-content .mat-calendar-previous-button{color:#ffffff81}  .transparent-theme .mat-calendar-body-cell-content,   .transparent-theme .mat-date-range-input-separator{color:#ffffffd3}  .transparent-theme .mat-calendar-table-header,   .transparent-theme .mat-calendar-body-label{color:#fff9}  .transparent-theme .ngb-dp-header{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekdays{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekday{color:#000}  .transparent-theme .ng-select .ng-arrow-wrapper .ng-arrow{border-top-color:#fff!important}  .transparent-theme .ng-select.ng-select-opened .ng-arrow-wrapper .ng-arrow{border-bottom-color:#fff!important}  .form-controls{display:block;color:#fff;border:transparent;outline:none;width:100%;height:40px;padding:.375rem .75rem;font-size:.875rem;font-weight:400;line-height:2;background-clip:padding-box;border-radius:5px;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}  button[type=button]{z-index:0!important}",".has-error[_ngcontent-%COMP%]{border:1px solid #f16d75}.tx-danger[_ngcontent-%COMP%]{color:red!important}"]})}return a})();const yp=()=>["Home"];function Cp(a,r){1&a&&e.nrm(0,"mat-progress-bar",27)}function kp(a,r){1&a&&e.nrm(0,"th",28)}function Fp(a,r){if(1&a){const t=e.RV6();e.j41(0,"td",29)(1,"button",30),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG(),s=e.sdS(38);return e.Njj(o.showDetails(n,s))}),e.j41(2,"i",31),e.EFF(3,"wysiwyg"),e.k0s()()()}if(2&a){const t=r.$implicit,i=e.XpG();e.Y8G("ngClass",t.transactionListSelectorColumnStyle),e.R7$(),e.BMQ("aria-label","Alert details")("aria-pressed",!!i.selectedAlert)}}function Tp(a,r){1&a&&(e.j41(0,"th",28),e.EFF(1,"User"),e.k0s())}function xp(a,r){if(1&a&&(e.j41(0,"td",32),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",null==t.user?null:t.user.fullName," ")}}function wp(a,r){1&a&&(e.j41(0,"th",28),e.EFF(1,"User"),e.k0s())}function Sp(a,r){if(1&a&&(e.j41(0,"td",32),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",null==t.user?null:t.user.fullName," ")}}function Dp(a,r){1&a&&(e.j41(0,"th",28),e.EFF(1,"Email"),e.k0s())}function Ip(a,r){if(1&a&&(e.j41(0,"td",33)(1,"a",34),e.EFF(2),e.k0s()()),2&a){const t=r.$implicit;e.R7$(),e.Y8G("href","/admin/customers/"+t.userId,e.B4B),e.R7$(),e.SpI(" ",null==t.user?null:t.user.email," ")}}function Ep(a,r){1&a&&(e.j41(0,"th",35),e.EFF(1,"Created"),e.k0s())}function Pp(a,r){if(1&a&&(e.j41(0,"td",33),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.created," ")}}function Ap(a,r){1&a&&(e.j41(0,"th",28),e.EFF(1,"ID"),e.k0s())}function Rp(a,r){if(1&a&&(e.j41(0,"td",33),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.riskAlertId," ")}}function Op(a,r){1&a&&(e.j41(0,"th",28),e.EFF(1,"Risk alert type"),e.k0s())}function jp(a,r){if(1&a&&(e.j41(0,"td",33),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.riskAlertType," ")}}function $p(a,r){1&a&&(e.j41(0,"th",28),e.EFF(1,"Entity"),e.k0s())}function Mp(a,r){if(1&a&&(e.j41(0,"td",33),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.entity.entityType," ")}}function Np(a,r){1&a&&e.nrm(0,"tr",36)}function Vp(a,r){1&a&&e.nrm(0,"tr",37)}function Gp(a,r){1&a&&(e.j41(0,"div",44)(1,"i",45),e.EFF(2,"first_page"),e.k0s()())}function Bp(a,r){1&a&&(e.j41(0,"div",44)(1,"i",45),e.EFF(2,"keyboard_arrow_left"),e.k0s()())}function Up(a,r){1&a&&(e.j41(0,"div",44)(1,"i",45),e.EFF(2,"keyboard_arrow_right"),e.k0s()())}function Lp(a,r){1&a&&(e.j41(0,"div",44)(1,"i",45),e.EFF(2,"last_page"),e.k0s()())}function Yp(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",38)(1,"ngb-pagination",39),e.bIt("pageChange",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.handlePage(n))}),e.DNE(2,Gp,3,0,"ng-template",40)(3,Bp,3,0,"ng-template",41)(4,Up,3,0,"ng-template",42)(5,Lp,3,0,"ng-template",43),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("collectionSize",t.alertCount)("pageSize",t.pageSize)("boundaryLinks",!0)("maxSize",10)}}function qp(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",46)(1,"h5",47),e.EFF(2,"Alert details"),e.k0s(),e.j41(3,"button",48),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",49),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",50)(7,"app-admin-risk-details",51),e.bIt("close",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Close"))}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(7),e.Y8G("permission",t.permission)("alert",t.selectedAlert)}}let Wp=(()=>{class a{constructor(t,i,n,o){this.modalService=t,this.auth=i,this.adminService=n,this.router=o,this.filterFields=["user","riskAlertCode","search"],this.displayedColumns=["details","riskAlertId","user","email","created","riskAlertTypeCode","entity"],this.inProgress=!1,this.permission=0,this.alertCount=0,this.alerts=[],this.pageSize=50,this.pageIndex=0,this.sortedField="created",this.sortedDesc=!0,this.filter=new G({}),this.adminAdditionalSettings={},this.subscriptions=new R.yU,this.permission=this.auth.isPermittedObjectCode(c.G4.Notifications)}ngOnInit(){this.loadCommonSettings(),this.loadAlerts()}ngOnDestroy(){this.subscriptions.unsubscribe()}ngAfterViewInit(){this.subscriptions.add(this.sort.sortChange.subscribe(()=>{this.sortedDesc="desc"===this.sort.direction,this.sortedField=this.sort.active,this.loadAlerts()}))}handleFilterApplied(t){this.filter=t,this.loadAlerts()}handlePage(t){this.pageIndex=t-1,this.loadAlerts()}showDetails(t,i){this.selectedAlert=t,this.modalService.open(i,{backdrop:"static",windowClass:"modalCusSty"})}loadCommonSettings(){const t=this.auth.getLocalSettingsCommon();t&&(this.adminAdditionalSettings="string"==typeof t.adminAdditionalSettings?JSON.parse(t.adminAdditionalSettings):t.adminAdditionalSettings,this.adminAdditionalSettings?.tabs?.risk?.filterFields&&(this.filterFields=this.adminAdditionalSettings.tabs.risk.filterFields))}loadAlerts(){this.inProgress=!0;const t=this.adminService.getRiskAlerts(this.pageIndex,this.pageSize,this.sortedField,this.sortedDesc,this.filter).pipe((0,P.s)(1));this.subscriptions.add(t.subscribe(({list:i,count:n})=>{this.alerts=i,this.alertCount=n,this.inProgress=!1},()=>{this.inProgress=!1,""===this.auth.token&&this.router.navigateByUrl("/")}))}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(_.Bq),e.rXU(I.u),e.rXU(E),e.rXU(w.Ix))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-risks"]],viewQuery:function(i,n){if(1&i&&e.GBs($.B4,5),2&i){let o;e.mGM(o=e.lsd())&&(n.sort=o.first)}},decls:39,vars:14,consts:[["details_content",""],[3,"title","items","active_item"],[1,"row","row-sm"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],[3,"filter","filterType","fields","filterData"],["color","accent","mode","indeterminate",4,"ngIf"],[1,"data-table"],["matSort","","matSortDirection","desc","matSortDisableClear","",3,"matSortActive","dataSource"],["matColumnDef","details","sticky",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"ngClass",4,"matCellDef"],["matColumnDef","user"],["mat-cell","","class","alert-list-selector-column",4,"matCellDef"],["matColumnDef","code"],["matColumnDef","email"],["mat-cell","","class","alert-list-data-column",4,"matCellDef"],["matColumnDef","created"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","riskAlertId"],["matColumnDef","riskAlertTypeCode"],["matColumnDef","entity"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","card card-body border shadow-none",4,"ngIf"],["color","accent","mode","indeterminate"],["mat-header-cell",""],["mat-cell","",3,"ngClass"],["mat-icon-button","","matTooltip","Alert details","matTooltipClass","info-tooltip",1,"row-button",3,"click"],[1,"material-icons",2,"font-size","20px"],["mat-cell","",1,"alert-list-selector-column"],["mat-cell","",1,"alert-list-data-column"],[3,"href"],["mat-header-cell","","mat-sort-header",""],["mat-header-row",""],["mat-row",""],[1,"card","card-body","border","shadow-none"],["aria-label","Table pagination",1,"d-flex","justify-content-center",3,"pageChange","collectionSize","pageSize","boundaryLinks","maxSize"],["ngbPaginationFirst",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationLast",""],[1,"ng-pagination-nav-icons"],[1,"material-icons"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"close","permission","alert"]],template:function(i,n){if(1&i){const o=e.RV6();e.nrm(0,"app-admin-page-header",1),e.j41(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"app-admin-filter",7),e.bIt("filter",function(l){return e.eBV(o),e.Njj(n.handleFilterApplied(l))}),e.k0s(),e.DNE(7,Cp,1,0,"mat-progress-bar",8),e.j41(8,"div",9)(9,"mat-table",10),e.qex(10,11),e.DNE(11,kp,1,0,"th",12)(12,Fp,4,3,"td",13),e.bVm(),e.qex(13,14),e.DNE(14,Tp,2,0,"th",12)(15,xp,2,1,"td",15),e.bVm(),e.qex(16,16),e.DNE(17,wp,2,0,"th",12)(18,Sp,2,1,"td",15),e.bVm(),e.qex(19,17),e.DNE(20,Dp,2,0,"th",12)(21,Ip,3,2,"td",18),e.bVm(),e.qex(22,19),e.DNE(23,Ep,2,0,"th",20)(24,Pp,2,1,"td",18),e.bVm(),e.qex(25,21),e.DNE(26,Ap,2,0,"th",12)(27,Rp,2,1,"td",18),e.bVm(),e.qex(28,22),e.DNE(29,Op,2,0,"th",12)(30,jp,2,1,"td",18),e.bVm(),e.qex(31,23),e.DNE(32,$p,2,0,"th",12)(33,Mp,2,1,"td",18),e.bVm(),e.DNE(34,Np,1,0,"tr",24)(35,Vp,1,0,"tr",25),e.k0s()(),e.DNE(36,Yp,6,4,"div",26)(37,qp,8,2,"ng-template",null,0,e.C5r),e.k0s()()()()()}2&i&&(e.Y8G("title","Risk Center")("items",e.lJ4(13,yp))("active_item","Risk Center"),e.R7$(6),e.Y8G("filterType","risks")("fields",n.filterFields)("filterData",n.filter),e.R7$(),e.Y8G("ngIf",n.inProgress),e.R7$(2),e.Y8G("matSortActive",n.sortedField)("dataSource",n.alerts),e.R7$(25),e.Y8G("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),e.R7$(),e.Y8G("matRowDefColumns",n.displayedColumns),e.R7$(),e.Y8G("ngIf",n.alertCount>n.pageSize))},dependencies:[h.YU,h.bT,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,$.B4,$.aE,_.s5,_.gA,_.ug,_.PB,_.hO,ie.oV,K.iY,z.HM,X,Te,vp],styles:[".datatable-body{height:600px!important;overflow:scroll;width:100%}  .dataTable-bottom{position:absolute;left:0;right:0;bottom:0;background:#fff!important}  table th,   table td,   .ngx-datatable.material .datatable-header .datatable-header-cell,   .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{font-size:.876rem!important}@media (max-width: 567.9px){  .ngx-datatable .datatable-footer .datatable-footer-inner{flex-wrap:wrap;height:auto!important}  .ngx-datatable .datatable-footer .datatable-pager{text-align:center!important}}  .dataTable-wrapper.no-footer .dataTable-container{border-bottom:none!important}  .dataTable-selector{border-radius:.25rem}  app-data-table input{border-radius:25px;border:1px solid rgba(0,0,0,.1)}  app-data-table .custom-select{border:1px solid rgba(0,0,0,.24)!important;border-radius:.25rem}.table-responsive[_ngcontent-%COMP%]{overflow:visible}  .dark-theme input::placeholder{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material{background-color:#2a2e3f!important}  .dark-theme app-data-tables .dataTable-bottom{background-color:#2a2e3f!important}  .dark-theme app-data-tables .dataTable-selector{background-color:#2a2e3f;border-color:#272c49;color:#fff;outline:none}  .dark-theme app-data-tables input{color:#eee!important;background-color:#2a2e3f!important;border-color:#262b48;border-radius:25px;height:27px}  .dark-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .dark-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#2a2e3f;color:#fff}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid rgb(39,43,74)!important;color:#fff!important;background:#2a2e3f!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #32394e!important}  .dark-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .dark-theme app-data-tables .dataTable-pagination li:hover a,   .dark-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .dark-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .dark-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .dark-theme app-data-tables .mat-mdc-table{background:#2a2e3f!important}  .dark-theme app-data-tables .mat-mdc-header-cell{color:#fff!important}  .dark-theme app-data-tables .mat-mdc-cell,   .dark-theme app-data-tables .mat-mdc-footer-cell{color:#eee!important}  .dark-theme app-data-tables mat-row,   .dark-theme app-data-tables mat-header-row,   .dark-theme app-data-tables mat-footer-row,   .dark-theme app-data-tables th.mat-mdc-header-cell,   .dark-theme app-data-tables td.mat-mdc-cell,   .dark-theme app-data-tables td.mat-mdc-footer-cell{border-bottom-color:#ffffff1f!important}  .dark-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .dark-theme app-data-tables .mat-mdc-paginator,   .dark-theme app-data-tables .mat-mdc-paginator-page-size .mat-mdc-select-trigger{color:#ffffff8a!important}  .dark-theme app-data-tables .mat-mdc-paginator{background:#2a2e3f}  .dark-theme app-data-tables .mat-mdc-select-value{color:#fff7f7de}  .dark-theme app-data-tables .mat-mdc-select-arrow{color:#ffffffba}  .dark-theme .mat-mdc-select-panel{background:#30304d}  .dark-theme .mat-mdc-option{color:#ccc}  .dark-theme .mat-primary .mat-mdc-option.mat-selected:not(.mat-option-disabled){color:#fff}  .dark-theme .mat-mdc-option:hover:not(.mat-option-disabled),   .dark-theme .mat-option:focus:not(.mat-option-disabled){background:#2a2a44}  .dark-theme .mat-mdc-select-panel .mat-mdc-option.mat-selected:not(.mat-mdc-option-multiple){background:#0000001f}  .dark-theme .table-hover>tbody>tr:hover>*{color:#fff}  .dark-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme input::placeholder{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material{background-color:#2da28f!important}  .transparent-theme app-data-tables .dataTable-bottom{background-color:#2da28f!important}  .transparent-theme app-data-tables .dataTable-selector{background-color:#2da28f;border-color:#4cb0a0;color:#fff;outline:none}  .transparent-theme app-data-tables input{color:#eee!important;background-color:#2da28f!important;border-color:#4cb0a0;border-radius:25px;height:27px}  .transparent-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .transparent-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#2da28f;color:#fff}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid #4cb0a0!important;color:#fff!important;background:#2da28f!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #4cb0a0!important}  .transparent-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .transparent-theme app-data-tables .dataTable-pagination li:hover a,   .transparent-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .transparent-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .transparent-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .transparent-theme app-data-tables .mat-mdc-table{background:#2da28f!important}  .transparent-theme app-data-tables .mat-mdc-header-cell{color:#fff!important}  .transparent-theme app-data-tables .mat-mdc-cell,   .transparent-theme app-data-tables .mat-mdc-footer-cell{color:#eee!important}  .transparent-theme app-data-tables mat-row,   .transparent-theme app-data-tables mat-header-row,   .transparent-theme app-data-tables mat-footer-row,   .transparent-theme app-data-tables th.mat-mdc-header-cell,   .transparent-theme app-data-tables td.mat-mdc-cell,   .transparent-theme app-data-tables td.mat-mdc-footer-cell{border-bottom-color:#ffffff1f!important}  .transparent-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .transparent-theme app-data-tables .mat-mdc-paginator,   .transparent-theme app-data-tables .mat-mdc-paginator-page-size .mat-mdc-select-trigger{color:#ffffff8a!important}  .transparent-theme app-data-tables .mat-mdc-paginator{background:#2da28f}  .transparent-theme app-data-tables .mat-mdc-select-value{color:#fff7f7de}  .transparent-theme app-data-tables .mat-mdc-select-arrow{color:#ffffffba}  .transparent-theme .mat-mdc-select-panel{background:#30304d}  .transparent-theme .mat-mdc-option{color:#ccc}  .transparent-theme .mat-primary .mat-mdc-option.mat-selected:not(.mat-option-disabled){color:#fff}  .transparent-theme .mat-mdc-option:hover:not(.mat-option-disabled),   .transparent-theme .mat-option:focus:not(.mat-option-disabled){background:#2a2a44}  .transparent-theme .mat-mdc-select-panel .mat-mdc-option.mat-selected:not(.mat-mdc-option-multiple){background:#0000001f}  .transparent-theme .table-hover>tbody>tr:hover>*{color:#fff}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{background-color:#248272!important}.data-table[_ngcontent-%COMP%]{flex:1 1 0;overflow:auto;margin-top:5px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]{display:table;min-width:100%}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:32px;line-height:32px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   tr.mat-mdc-header-row[_ngcontent-%COMP%]{height:40px;line-height:40px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]{padding:0 4px;white-space:nowrap;font-size:16px;font-weight:400;color:#0000008a;font-family:Roboto,sans-serif}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell.action[_ngcontent-%COMP%]{width:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]{padding:1px 4px 0;line-height:29px;white-space:nowrap}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%]{width:16px;height:16px;font-size:16px;vertical-align:middle;position:relative;top:-1px}.data-table[_ngcontent-%COMP%]   .row-button[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0;position:relative;top:5px;padding:1px}.data-table[_ngcontent-%COMP%]   .row-button[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:16px;height:16px;width:16px;line-height:16px}.data-table[_ngcontent-%COMP%]   .row-icon[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0;position:relative;top:5px}mat-mdc-paginator[_ngcontent-%COMP%]{flex:0 0 auto}table[_ngcontent-%COMP%]{width:100%}.table-button-container[_ngcontent-%COMP%]{padding-bottom:16px}.alert-list-selector-column[_ngcontent-%COMP%]{margin:0;padding:0 8px}.alert-list-data-column[_ngcontent-%COMP%]{margin:0;padding:0}.ng-pagination-nav-icons[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:12px}"]})}return a})();var xe=f(9946);function Xp(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",1)(1,"label",2)(2,"input",3),e.bIt("change",function(){const n=e.eBV(t).$implicit,o=e.XpG();return n.selected=!n.selected,e.Njj(o.onChanged())}),e.k0s(),e.j41(3,"span"),e.EFF(4),e.k0s()()()}if(2&a){const t=r.$implicit;e.R7$(2),e.Y8G("checked",t.selected),e.R7$(2),e.SpI(" ",t.name," ")}}let hn=(()=>{class a{set roleList(t){this.roleListInternal=t,this.updateState()}set userRoles(t){this.userRolesInternal=t,this.updateState()}constructor(){this.changed=new e.bkB,this.roleListInternal=[],this.userRolesInternal=[],this.roleItems=[]}updateState(){this.roleItems=this.roleListInternal.map(t=>({id:t.code,name:t.name,selected:void 0!==this.userRolesInternal.find(i=>i===t.code)})),this.onChanged()}onChanged(){const t=this.roleItems.filter(i=>!0===i.selected).map(i=>i.id);this.changed.emit([...t])}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-role-select"]],inputs:{roleList:"roleList",userRoles:"userRoles"},outputs:{changed:"changed"},decls:1,vars:1,consts:[["class","col-lg-8 mg-y-10",4,"ngFor","ngForOf"],[1,"col-lg-8","mg-y-10"],[1,"ckbox"],["type","checkbox",3,"change","checked"]],template:function(i,n){1&i&&e.DNE(0,Xp,5,2,"div",0),2&i&&e.Y8G("ngForOf",n.roleItems)},dependencies:[h.Sq],encapsulation:2})}return a})();const Et=a=>({"has-error":a}),zp=()=>[];function Hp(a,r){if(1&a&&e.nrm(0,"app-admin-details-item",41),2&a){const t=e.XpG();e.Y8G("value",null==t.userData||null==t.userData.userType?null:t.userData.userType.name)}}function Kp(a,r){1&a&&(e.j41(0,"div",43)(1,"small"),e.EFF(2," Please specify the account type "),e.k0s()())}function Jp(a,r){if(1&a&&(e.j41(0,"div",11)(1,"label",12),e.EFF(2," Account Type "),e.j41(3,"span",13),e.EFF(4,"*"),e.k0s()(),e.nrm(5,"ng-select",42),e.DNE(6,Kp,3,0,"div",15),e.k0s()),2&a){const t=e.XpG();e.R7$(5),e.Y8G("items",t.accountTypes)("clearable",!1)("clearOnBackspace",!1),e.R7$(),e.Y8G("ngIf",(t.dataForm.controls.accountType.touched||t.submitted)&&(null==t.dataForm.controls.accountType.errors?null:t.dataForm.controls.accountType.errors.required))}}function Qp(a,r){1&a&&(e.j41(0,"div",43)(1,"small"),e.EFF(2," Email is required "),e.k0s()())}function Zp(a,r){1&a&&(e.j41(0,"div",43)(1,"small"),e.EFF(2," Please specify the company name "),e.k0s()())}function eu(a,r){if(1&a&&(e.j41(0,"div",11)(1,"label",12),e.EFF(2," Company "),e.j41(3,"span",13),e.EFF(4,"*"),e.k0s()(),e.nrm(5,"input",44),e.DNE(6,Zp,3,0,"div",15),e.k0s()),2&a){const t=e.XpG();e.R7$(5),e.Y8G("ngClass",e.eq3(2,Et,(t.dataForm.controls.firstName.touched||t.submitted)&&!t.dataForm.controls.firstName.valid)),e.R7$(),e.Y8G("ngIf",(t.dataForm.controls.firstName.touched||t.submitted)&&(null==t.dataForm.controls.firstName.errors?null:t.dataForm.controls.firstName.errors.required))}}function tu(a,r){1&a&&(e.j41(0,"div",43)(1,"small"),e.EFF(2," Please specify the user name "),e.k0s()())}function au(a,r){if(1&a&&(e.j41(0,"div",11)(1,"label",12),e.EFF(2," First Name "),e.j41(3,"span",13),e.EFF(4,"*"),e.k0s()(),e.nrm(5,"input",45),e.DNE(6,tu,3,0,"div",15),e.k0s()),2&a){const t=e.XpG();e.R7$(5),e.Y8G("ngClass",e.eq3(2,Et,(t.dataForm.controls.firstName.touched||t.submitted)&&!t.dataForm.controls.firstName.valid)),e.R7$(),e.Y8G("ngIf",(t.dataForm.controls.firstName.touched||t.submitted)&&(null==t.dataForm.controls.firstName.errors?null:t.dataForm.controls.firstName.errors.required))}}function nu(a,r){1&a&&(e.j41(0,"div",43)(1,"small"),e.EFF(2," Please specify the user name "),e.k0s()())}function iu(a,r){if(1&a&&(e.j41(0,"div",11)(1,"label",12),e.EFF(2," Last Name "),e.k0s(),e.nrm(3,"input",46),e.DNE(4,nu,3,0,"div",15),e.k0s()),2&a){const t=e.XpG();e.R7$(3),e.Y8G("ngClass",e.eq3(2,Et,(t.dataForm.controls.lastName.touched||t.submitted)&&!t.dataForm.controls.lastName.valid)),e.R7$(),e.Y8G("ngIf",(t.dataForm.controls.lastName.touched||t.submitted)&&(null==t.dataForm.controls.lastName.errors?null:t.dataForm.controls.lastName.errors.required))}}function ru(a,r){if(1&a&&(e.j41(0,"div",11)(1,"label",12),e.EFF(2," Gender "),e.k0s(),e.nrm(3,"ng-select",47),e.k0s()),2&a){const t=e.XpG();e.R7$(3),e.Y8G("items",t.genders)("clearable",!1)("clearOnBackspace",!1)}}function ou(a,r){1&a&&(e.j41(0,"div",43)(1,"small"),e.EFF(2," Please specify the birthday "),e.k0s()())}function su(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",11)(1,"label",12),e.EFF(2," Birthday "),e.k0s(),e.j41(3,"input",48,2),e.bIt("click",function(){e.eBV(t);const n=e.sdS(4);return e.Njj(n.toggle())}),e.k0s(),e.DNE(5,ou,3,0,"div",15),e.k0s()}if(2&a){const t=e.XpG();e.R7$(3),e.Y8G("minDate",t.minBirthdayDate)("maxDate",t.maxBirthdayDate),e.R7$(2),e.Y8G("ngIf",(t.dataForm.controls.birthday.touched||t.submitted)&&(null==t.dataForm.controls.birthday.errors?null:t.dataForm.controls.birthday.errors.required))}}function lu(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",50),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2),o=e.sdS(105);return e.Njj(n.onResetPassword(o))}),e.EFF(1," Reset password "),e.k0s()}}function du(a,r){if(1&a&&(e.j41(0,"div",38),e.DNE(1,lu,2,0,"button",49),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.permission>1)}}function cu(a,r){if(1&a&&(e.j41(0,"ng-option",51),e.nrm(1,"app-dropdown-item",52),e.k0s()),2&a){const t=r.$implicit,i=e.XpG();e.Y8G("value",t.code3),e.R7$(),e.FS9("itemValue",t.name),e.Mz_("imageSource","assets/svg-country-flags/",i.getCountryFlag(t.code2),"")}}function mu(a,r){1&a&&(e.j41(0,"div",43)(1,"small"),e.EFF(2," Please specify the country "),e.k0s()())}function pu(a,r){1&a&&(e.j41(0,"div",43)(1,"small"),e.EFF(2," Please specify the user KYC provider "),e.k0s()())}function uu(a,r){1&a&&(e.j41(0,"div",43)(1,"small"),e.EFF(2," Please specify the account status "),e.k0s()())}function hu(a,r){if(1&a&&e.nrm(0,"app-admin-details-item",53),2&a){const t=e.XpG();e.Y8G("value",null==t.userData?null:t.userData.roles)}}function fu(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",11)(1,"label",12),e.EFF(2," Roles "),e.k0s(),e.j41(3,"app-admin-role-select",54),e.bIt("changed",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.onRolesUpdated(n))}),e.k0s()()}if(2&a){let t;const i=e.XpG();e.R7$(3),e.Y8G("roleList",i.roles)("userRoles",null!==(t=null==i.userData?null:i.userData.roles)&&void 0!==t?t:e.lJ4(2,zp))}}function gu(a,r){if(1&a&&(e.j41(0,"div",55)(1,"h4",56),e.EFF(2),e.k0s()()),2&a){const t=e.XpG();e.R7$(2),e.SpI(" ",t.errorMessage," ")}}function _u(a,r){1&a&&e.nrm(0,"span",59)}function bu(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",57),e.bIt("click",function(){e.eBV(t);const n=e.XpG(),o=e.sdS(103);return e.Njj(n.onDeleteUser(o))}),e.DNE(1,_u,1,0,"span",58),e.EFF(2),e.k0s()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.disableInProgress),e.R7$(),e.SpI(" ",t.disableButtonTitle," ")}}function vu(a,r){1&a&&e.nrm(0,"span",59)}function yu(a,r){if(1&a&&(e.j41(0,"button",60),e.DNE(1,vu,1,0,"span",58),e.EFF(2," Save "),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.saveInProgress)}}function Cu(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",61)(1,"h5",62),e.EFF(2),e.k0s(),e.j41(3,"button",63),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",64),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",65)(7,"h4",66),e.EFF(8),e.k0s(),e.j41(9,"div",67)(10,"button",68),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Reject"))}),e.EFF(11," Reject "),e.k0s(),e.j41(12,"button",69),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.close("OK"))}),e.EFF(13," Confirm "),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.SpI("",t.disableButtonTitle," user"),e.R7$(6),e.SpI(" You are going to ",t.disableButtonTitle.toLowerCase()," selected user. Confirm operation. ")}}function ku(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",61)(1,"h5",62),e.EFF(2," Password reset "),e.k0s(),e.j41(3,"button",63),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",64),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",65)(7,"h4",66),e.EFF(8," Password has been reset successfully "),e.k0s(),e.j41(9,"div",67)(10,"button",70),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("OK"))}),e.EFF(11," OK "),e.k0s()()()}}let Fu=(()=>{class a{set user(t){this.setFormData(t)}constructor(t,i,n,o,s){this.formBuilder=t,this.router=i,this.auth=n,this.modalService=o,this.adminService=s,this.permission=0,this.roles=[],this.save=new e.bkB,this.close=new e.bkB,this.subscriptions=new R.yU,this.submitted=!1,this.saveInProgress=!1,this.disableInProgress=!1,this.errorMessage="",this.USER_TYPE=c.ut,this.userType=c.ut.Personal,this.userData=void 0,this.countries=re.rX,this.accountStatuses=F._8,this.accountTypes=F.GV,this.genders=Ce.S6,this.kycProviders=F.dP,this.minBirthdayDate={year:1900,month:1,day:1},this.maxBirthdayDate={year:(new Date).getFullYear()-17,month:1,day:1},this.currentRoles=["USER"],this.disableButtonTitle="Disable",this.removable=!1,this.createNew=!1,this.dataForm=this.formBuilder.group({id:[""],email:["",{validators:[d.k0.required],updateOn:"change"}],firstName:["",{validators:[d.k0.required],updateOn:"change"}],lastName:["",{validators:[],updateOn:"change"}],gender:[void 0,{validators:[],updateOn:"change"}],birthday:[null,{validators:[],updateOn:"change"}],country:["",{validators:[d.k0.required],updateOn:"change"}],postCode:["",{validators:[],updateOn:"change"}],town:["",{validators:[],updateOn:"change"}],street:["",{validators:[],updateOn:"change"}],subStreet:["",{validators:[],updateOn:"change"}],stateName:["",{validators:[],updateOn:"change"}],buildingName:["",{validators:[],updateOn:"change"}],buildingNumber:["",{validators:[],updateOn:"change"}],flatNumber:["",{validators:[],updateOn:"change"}],phone:["",{validators:[],updateOn:"change"}],accountStatus:[c.u1.Closed,{validators:[d.k0.required],updateOn:"change"}],accountType:[c.ut.Personal,{validators:[d.k0.required],updateOn:"change"}],kycProvider:[c.xN.Local,{validators:[d.k0.required],updateOn:"change"}]})}ngOnInit(){this.subscriptions.add(this.dataForm.get("accountType")?.valueChanges.subscribe(t=>{this.userType=t}))}ngOnDestroy(){this.subscriptions.unsubscribe()}setFormData(t){if((void 0===t?.id||""===t?.id)&&(t=void 0),this.userData=t,this.errorMessage="",this.dataForm.reset(),t){if(this.userType=t.userType?.id??c.ut.Personal,this.disableButtonTitle=t.deleted?"Enable":"Disable",this.dataForm.get("id")?.setValue(t?.id),this.dataForm.get("email")?.setValue(t?.email),this.userType===c.ut.Merchant)this.dataForm.get("firstName")?.setValue(t?.company),this.dataForm.get("lastName")?.setValue(""),this.dataForm.get("birthday")?.setValue(null),this.dataForm.get("gender")?.setValue(void 0);else if(this.dataForm.get("firstName")?.setValue(t?.firstName),this.dataForm.get("lastName")?.setValue(t?.lastName),this.dataForm.get("gender")?.setValue(t?.gender),t?.birthday){const n=`${t.birthday.getDate()}-${t.birthday.getMonth()+1}-${t.birthday.getFullYear()}`;this.dataForm.get("birthday")?.setValue(n)}else this.dataForm.get("birthday")?.setValue(null);this.dataForm.get("accountType")?.setValue(this.userType),this.dataForm.get("accountStatus")?.setValue(t?.accountStatus??c.u1.Closed),this.dataForm.get("kycProvider")?.setValue(t?.kycProvider??c.xN.Local),this.dataForm.get("country")?.setValue(t?.country?.id),this.dataForm.get("postCode")?.setValue(t?.postCode),this.dataForm.get("town")?.setValue(t?.town),this.dataForm.get("street")?.setValue(t?.street),this.dataForm.get("subStreet")?.setValue(t?.subStreet),this.dataForm.get("stateName")?.setValue(t?.stateName),this.dataForm.get("buildingName")?.setValue(t?.buildingName),this.dataForm.get("buildingNumber")?.setValue(t?.buildingNumber),this.dataForm.get("flatNumber")?.setValue(t?.flatNumber),this.dataForm.get("phone")?.setValue(t?.phone),this.dataForm.get("fiat")?.setValue(t?.fiatCurrency),this.dataForm.get("crypto")?.setValue(t?.cryptoCurrency)}else this.createNew=!0,this.dataForm.get("id")?.setValue(""),this.dataForm.get("email")?.setValue(""),this.dataForm.get("firstName")?.setValue(""),this.dataForm.get("lastName")?.setValue(""),this.dataForm.get("gender")?.setValue(void 0),this.dataForm.get("birthday")?.setValue(null),this.dataForm.get("accountType")?.setValue(c.ut.Personal),this.dataForm.get("accountStatus")?.setValue(c.u1.Live),this.dataForm.get("kycProvider")?.setValue(c.xN.Local),this.dataForm.get("country")?.setValue(""),this.dataForm.get("postCode")?.setValue(""),this.dataForm.get("town")?.setValue(""),this.dataForm.get("street")?.setValue(""),this.dataForm.get("subStreet")?.setValue(""),this.dataForm.get("stateName")?.setValue(""),this.dataForm.get("buildingName")?.setValue(""),this.dataForm.get("buildingNumber")?.setValue(""),this.dataForm.get("flatNumber")?.setValue(""),this.dataForm.get("phone")?.setValue("");const i=t?.id??"";this.removable=this.auth.user?.userId!==i}setUserData(){const t=this.dataForm.get("country")?.value,i=(0,re.Al)(t),n=i?i.code2:"",o=this.dataForm.get("gender")?.value??void 0;return{email:this.dataForm.get("email")?.value,firstName:this.dataForm.get("firstName")?.value,lastName:this.dataForm.get("lastName")?.value,birthday:(0,ae.ZC)(this.dataForm.get("birthday")?.value??"","-"),gender:""!==o?o:void 0,countryCode2:n,countryCode3:t,postCode:this.dataForm.get("postCode")?.value,town:this.dataForm.get("town")?.value,street:this.dataForm.get("street")?.value,subStreet:this.dataForm.get("subStreet")?.value,stateName:this.dataForm.get("stateName")?.value,buildingName:this.dataForm.get("buildingName")?.value,buildingNumber:this.dataForm.get("buildingNumber")?.value,flatNumber:this.dataForm.get("flatNumber")?.value,phone:this.dataForm.get("phone")?.value,accountStatus:this.dataForm.get("accountStatus")?.value,type:this.dataForm.get("accountType")?.value,kycProvider:this.dataForm.get("kycProvider")?.value}}getCountryFlag(t){return`${t.toLowerCase()}.svg`}onSubmit(){this.submitted=!0,this.dataForm.valid&&this.onSave(this.userData?.id??"",this.setUserData(),void 0)}onResetPassword(t){this.onSave(this.userData?.id??"",{email:this.userData?.email??"",changePasswordRequired:!0},t)}onDeleteUser(t){const i=this.modalService.open(t,{backdrop:"static",windowClass:"modalCusSty"});this.subscriptions.add(i.closed.subscribe(()=>{this.userData?.deleted?this.onRestore(this.userData?.id??""):this.onDelete(this.userData?.id??"")}))}onSave(t,i,n){this.saveInProgress=!0;const o=this.adminService.saveCustomer(t,i,this.currentRoles);this.subscriptions.add(o.subscribe(()=>{this.saveInProgress=!1,!0===i.changePasswordRequired?this.modalService.open(n,{backdrop:"static",windowClass:"modalCusSty"}):this.auth.user?.userId===t&&(this.auth.setUserName(i.firstName??"",i.lastName??""),this.auth.setUserCurrencies(i.defaultCryptoCurrency??"BTC",i.defaultFiatCurrency??"EUR")),this.save.emit()},s=>{this.saveInProgress=!1,this.errorMessage=s,""===this.auth.token&&this.router.navigateByUrl("/")}))}onDelete(t){this.disableInProgress=!0;const i=this.adminService.deleteCustomer(t);this.subscriptions.add(i.subscribe(()=>{this.disableInProgress=!1,this.save.emit()},n=>{this.disableInProgress=!1,this.errorMessage=n,""===this.auth.token&&this.router.navigateByUrl("/")}))}onRestore(t){this.disableInProgress=!0;const i=this.adminService.restoreCustomer(t);this.subscriptions.add(i.subscribe(()=>{this.disableInProgress=!1,this.save.emit()},n=>{this.disableInProgress=!1,this.errorMessage=n,""===this.auth.token&&this.router.navigateByUrl("/")}))}onRolesUpdated(t){this.currentRoles=t.map(i=>i)}onClose(){this.close.emit()}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(d.ze),e.rXU(w.Ix),e.rXU(I.u),e.rXU(_.Bq),e.rXU(E))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-user-details"]],inputs:{permission:"permission",roles:"roles",user:"user"},outputs:{save:"save",close:"close"},features:[e.Jv_([{provide:_.dn,useClass:St},{provide:_.tN,useClass:Dt}])],decls:106,vars:35,consts:[["delete_confirm_content",""],["password_change_content",""],["birthday_picker","ngbDatepicker"],[1,"row"],[1,"col-md-12","col-lg-12","col-xl-12","mx-auto","d-block"],["novalidate","",3,"ngSubmit","formGroup"],[1,"card","card-body","pd-20","pd-md-40","border","shadow-none"],[1,"card-title","mg-b-20"],["label","Account Id",3,"value"],["label","Account Type",3,"value",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"form-group"],[1,"main-content-label","tx-11","tx-medium","tx-gray-600"],[1,"main-content-label","tx-11","tx-medium","tx-danger"],["type","text","formControlName","email","maxlength","35","required","",1,"form-control",3,"ngClass"],["class","tx-danger",4,"ngIf"],["label","Age",3,"value"],["style","display: flex; justify-content: flex-end;",4,"ngIf"],["label","Full Address",3,"value"],["formControlName","country","required","",3,"clearable","clearOnBackspace"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","postCode","maxlength","15",1,"form-control"],["type","text","formControlName","town","maxlength","50",1,"form-control"],["type","text","formControlName","street","maxlength","50",1,"form-control"],["type","text","formControlName","subStreet","maxlength","50",1,"form-control"],["type","text","formControlName","stateName","maxlength","25",1,"form-control"],["type","text","formControlName","buildingName","maxlength","25",1,"form-control"],["type","text","formControlName","buildingNumber","maxlength","8",1,"form-control"],["type","text","formControlName","flatNumber","maxlength","8",1,"form-control"],["type","text","formControlName","phone","maxlength","25",1,"form-control"],["bindLabel","name","bindValue","id","formControlName","kycProvider","required","",3,"items","clearable","clearOnBackspace"],["bindLabel","name","bindValue","id","formControlName","accountStatus","required","",3,"items","clearable","clearOnBackspace"],["label","Roles",3,"value",4,"ngIf"],["label","Last updated",3,"value"],["label","Last login",3,"value"],["class","card card-body card-danger pd-20 pd-md-40 border shadow-none",4,"ngIf"],[2,"display","flex","justify-content","space-between"],["class","btn btn-danger pd-x-30 me-2 mg-t-5","type","button",3,"click",4,"ngIf"],[2,"display","flex","justify-content","flex-end"],["class","btn btn-primary pd-x-30 me-2 mg-t-5",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","pd-x-30","mg-t-5",3,"click"],["label","Account Type",3,"value"],["bindLabel","name","bindValue","id","formControlName","accountType","required","",3,"items","clearable","clearOnBackspace"],[1,"tx-danger"],["type","text","formControlName","firstName","maxlength","75","required","",1,"form-control",3,"ngClass"],["type","text","formControlName","firstName","maxlength","50","required","",1,"form-control",3,"ngClass"],["type","text","formControlName","lastName","maxlength","50",1,"form-control",3,"ngClass"],["bindLabel","name","bindValue","id","formControlName","gender",3,"items","clearable","clearOnBackspace"],["placeholder","dd/mm/yyyy","name","birthday_picker","ngbDatepicker","","formControlName","birthday",1,"form-control",3,"click","minDate","maxDate"],["type","button","class","btn btn-outline-secondary","type","button",3,"click",4,"ngIf"],["type","button","type","button",1,"btn","btn-outline-secondary",3,"click"],[3,"value"],["imageClass","country-flag-admin",3,"itemValue","imageSource"],["label","Roles",3,"value"],[3,"changed","roleList","userRoles"],[1,"card","card-body","card-danger","pd-20","pd-md-40","border","shadow-none"],[1,"card-title2","mg-b-20","color_brown"],["type","button",1,"btn","btn-danger","pd-x-30","me-2","mg-t-5",3,"click"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"btn","btn-primary","pd-x-30","me-2","mg-t-5"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[2,"text-align","center"],[2,"display","flex","flex-direction","row","justify-content","center","align-items","center"],["type","button",1,"btn","btn-outline-secondary","pd-x-30","me-2","mg-t-5",3,"click"],[1,"btn","btn-danger","pd-x-30","mg-t-5",3,"click"],["type","button",1,"btn","btn-primary","pd-x-30","me-2","mg-t-5",3,"click"]],template:function(i,n){if(1&i){const o=e.RV6();e.j41(0,"div",3)(1,"div",4)(2,"form",5),e.bIt("ngSubmit",function(){return e.eBV(o),e.Njj(n.onSubmit())}),e.j41(3,"div",6)(4,"h5",7),e.EFF(5," User info "),e.k0s(),e.nrm(6,"app-admin-details-item",8),e.DNE(7,Hp,1,1,"app-admin-details-item",9)(8,Jp,7,4,"div",10),e.k0s(),e.j41(9,"div",6)(10,"h5",7),e.EFF(11," Personal info "),e.k0s(),e.j41(12,"div",11)(13,"label",12),e.EFF(14," Email "),e.j41(15,"span",13),e.EFF(16,"*"),e.k0s()(),e.nrm(17,"input",14),e.DNE(18,Qp,3,0,"div",15),e.k0s(),e.DNE(19,eu,7,4,"div",10)(20,au,7,4,"div",10)(21,iu,5,4,"div",10)(22,ru,4,3,"div",10),e.nrm(23,"app-admin-details-item",16),e.DNE(24,su,6,3,"div",10)(25,du,2,1,"div",17),e.k0s(),e.j41(26,"div",6)(27,"h5",7),e.EFF(28," Address "),e.k0s(),e.nrm(29,"app-admin-details-item",18),e.j41(30,"div",11)(31,"label",12),e.EFF(32," Country "),e.j41(33,"span",13),e.EFF(34,"*"),e.k0s()(),e.j41(35,"ng-select",19),e.DNE(36,cu,2,4,"ng-option",20),e.k0s(),e.DNE(37,mu,3,0,"div",15),e.k0s(),e.j41(38,"div",11)(39,"label",12),e.EFF(40," Post Code "),e.k0s(),e.nrm(41,"input",21),e.k0s(),e.j41(42,"div",11)(43,"label",12),e.EFF(44," Town "),e.k0s(),e.nrm(45,"input",22),e.k0s(),e.j41(46,"div",11)(47,"label",12),e.EFF(48," Street (Line 1) "),e.k0s(),e.nrm(49,"input",23),e.k0s(),e.j41(50,"div",11)(51,"label",12),e.EFF(52," Street (Line 2) "),e.k0s(),e.nrm(53,"input",24),e.k0s(),e.j41(54,"div",11)(55,"label",12),e.EFF(56," State "),e.k0s(),e.nrm(57,"input",25),e.k0s(),e.j41(58,"div",11)(59,"label",12),e.EFF(60," Building Name "),e.k0s(),e.nrm(61,"input",26),e.k0s(),e.j41(62,"div",11)(63,"label",12),e.EFF(64," Building Number "),e.k0s(),e.nrm(65,"input",27),e.k0s(),e.j41(66,"div",11)(67,"label",12),e.EFF(68," Flat Number "),e.k0s(),e.nrm(69,"input",28),e.k0s(),e.j41(70,"div",11)(71,"label",12),e.EFF(72," Phone "),e.k0s(),e.nrm(73,"input",29),e.k0s()(),e.j41(74,"div",6)(75,"h5",7),e.EFF(76," Status "),e.k0s(),e.j41(77,"div",11)(78,"label",12),e.EFF(79," KYC Provider "),e.j41(80,"span",13),e.EFF(81,"*"),e.k0s()(),e.nrm(82,"ng-select",30),e.DNE(83,pu,3,0,"div",15),e.k0s(),e.j41(84,"div",11)(85,"label",12),e.EFF(86," Account Status "),e.j41(87,"span",13),e.EFF(88,"*"),e.k0s()(),e.nrm(89,"ng-select",31),e.DNE(90,uu,3,0,"div",15),e.k0s(),e.DNE(91,hu,1,1,"app-admin-details-item",32)(92,fu,4,3,"div",10),e.nrm(93,"app-admin-details-item",33)(94,"app-admin-details-item",34),e.k0s(),e.DNE(95,gu,3,1,"div",35),e.j41(96,"div",36),e.DNE(97,bu,3,2,"button",37),e.j41(98,"div",38),e.DNE(99,yu,3,1,"button",39),e.j41(100,"button",40),e.bIt("click",function(){return e.eBV(o),e.Njj(n.onClose())}),e.EFF(101," Close "),e.k0s()()()()()(),e.DNE(102,Cu,14,2,"ng-template",null,0,e.C5r)(104,ku,12,0,"ng-template",null,1,e.C5r)}2&i&&(e.R7$(2),e.Y8G("formGroup",n.dataForm),e.R7$(4),e.Y8G("value",null==n.userData?null:n.userData.referralCode),e.R7$(),e.Y8G("ngIf",!n.createNew),e.R7$(),e.Y8G("ngIf",n.createNew),e.R7$(9),e.Y8G("ngClass",e.eq3(33,Et,(n.dataForm.controls.email.touched||n.submitted)&&!n.dataForm.controls.email.valid)),e.R7$(),e.Y8G("ngIf",(n.dataForm.controls.email.touched||n.submitted)&&(null==n.dataForm.controls.email.errors?null:n.dataForm.controls.email.errors.required)),e.R7$(),e.Y8G("ngIf",n.userType===n.USER_TYPE.Merchant),e.R7$(),e.Y8G("ngIf",n.userType===n.USER_TYPE.Personal),e.R7$(),e.Y8G("ngIf",n.userType===n.USER_TYPE.Personal),e.R7$(),e.Y8G("ngIf",(null==n.userData||null==n.userData.userType?null:n.userData.userType.id)===n.USER_TYPE.Personal),e.R7$(),e.Y8G("value",null==n.userData?null:n.userData.age),e.R7$(),e.Y8G("ngIf",n.userType===n.USER_TYPE.Personal),e.R7$(),e.Y8G("ngIf",!n.createNew),e.R7$(4),e.Y8G("value",null==n.userData?null:n.userData.address),e.R7$(6),e.Y8G("clearable",!1)("clearOnBackspace",!1),e.R7$(),e.Y8G("ngForOf",n.countries),e.R7$(),e.Y8G("ngIf",(n.dataForm.controls.country.touched||n.submitted)&&(null==n.dataForm.controls.country.errors?null:n.dataForm.controls.country.errors.required)),e.R7$(45),e.Y8G("items",n.kycProviders)("clearable",!1)("clearOnBackspace",!1),e.R7$(),e.Y8G("ngIf",(n.dataForm.controls.kycProvider.touched||n.submitted)&&(null==n.dataForm.controls.kycProvider.errors?null:n.dataForm.controls.kycProvider.errors.required)),e.R7$(6),e.Y8G("items",n.accountStatuses)("clearable",!1)("clearOnBackspace",!1),e.R7$(),e.Y8G("ngIf",(n.dataForm.controls.accountStatus.touched||n.submitted)&&(null==n.dataForm.controls.accountStatus.errors?null:n.dataForm.controls.accountStatus.errors.required)),e.R7$(),e.Y8G("ngIf",!n.createNew),e.R7$(),e.Y8G("ngIf",n.createNew),e.R7$(),e.Y8G("value",null==n.userData?null:n.userData.updated),e.R7$(),e.Y8G("value",null==n.userData?null:n.userData.lastLogin),e.R7$(),e.Y8G("ngIf",""!==n.errorMessage),e.R7$(2),e.Y8G("ngIf",n.permission>1&&n.removable),e.R7$(2),e.Y8G("ngIf",n.permission>1))},dependencies:[h.YU,h.Sq,h.bT,d.qT,d.me,d.BC,d.cb,d.YS,d.tU,d.j4,d.JD,te,Oe,_.cw,Pe,he,hn],styles:[".dark-theme .mat-mdc-button,   .dark-theme .mat-mdc-icon-button,   .dark-theme .mat-mdc-outlined-button{color:#b7c0d6!important}  .dark-theme .mat-form-field-label{color:#eee}  .dark-theme .mat-datepicker-content{background-color:#373d51;color:#ffffffde}  .dark-theme .mat-calendar-table-header,   .dark-theme .mat-calendar-body-label{color:#fff}@media (hover: hover){  .dark-theme .mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#2a2e3f}}  .dark-theme .mat-calendar-body-cell-content,   .dark-theme .mat-date-range-input-separator{color:#e1e1ef}  .dark-theme .ngb-dp-header{background-color:#343545}  .dark-theme .ngb-dp-weekdays{background-color:#343545}  .rtl .color-picker{left:initial!important}  .transparent-theme .card .box{background:#2da28f}  .transparent-theme .hex-text,   .transparent-theme .rgba-text{background:#2da28f}  .transparent-theme .mat-datepicker-content{background-color:#2da28f;color:#ffffffde}  .transparent-theme .mat-datepicker-toggle,   .transparent-theme .mat-datepicker-content .mat-calendar-next-button,   .transparent-theme .mat-datepicker-content .mat-calendar-previous-button{color:#ffffff81}  .transparent-theme .mat-calendar-body-cell-content,   .transparent-theme .mat-date-range-input-separator{color:#ffffffd3}  .transparent-theme .mat-calendar-table-header,   .transparent-theme .mat-calendar-body-label{color:#fff9}  .transparent-theme .ngb-dp-header{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekdays{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekday{color:#000}  .transparent-theme .ng-select .ng-arrow-wrapper .ng-arrow{border-top-color:#fff!important}  .transparent-theme .ng-select.ng-select-opened .ng-arrow-wrapper .ng-arrow{border-bottom-color:#fff!important}  .form-controls{display:block;color:#fff;border:transparent;outline:none;width:100%;height:40px;padding:.375rem .75rem;font-size:.875rem;font-weight:400;line-height:2;background-clip:padding-box;border-radius:5px;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}  button[type=button]{z-index:0!important}",".has-error[_ngcontent-%COMP%]{border:1px solid #f16d75}.tx-danger[_ngcontent-%COMP%]{color:red!important}"]})}return a})();const fn=a=>({"has-error":a});function Tu(a,r){1&a&&(e.j41(0,"div",16)(1,"small"),e.EFF(2," Notification level is required "),e.k0s()())}function xu(a,r){1&a&&(e.j41(0,"div",16)(1,"small"),e.EFF(2," Title is required "),e.k0s()())}function wu(a,r){1&a&&(e.j41(0,"div",16)(1,"small"),e.EFF(2," Message text is required "),e.k0s()())}function Su(a,r){if(1&a&&(e.j41(0,"div",17)(1,"h4",18),e.EFF(2),e.k0s()()),2&a){const t=e.XpG();e.R7$(2),e.SpI(" ",t.errorMessage," ")}}function Du(a,r){1&a&&e.nrm(0,"span",19)}let gn=(()=>{class a{set users(t){t&&(this.usersPreset=t.filter(i=>!0===i.selected).map(i=>({id:i.id,title:""!==i.fullName?`${i.fullName} (${i.email})`:i.email})),this.messageForm.get("users")?.setValue(this.usersPreset.map(i=>i.id)))}get levelField(){return this.messageForm.get("level")}get titleField(){return this.messageForm.get("title")}get textField(){return this.messageForm.get("text")}constructor(t,i){this.formBuilder=t,this.adminService=i,this.errorMessage="",this.inProgress=!1,this.send=new e.bkB,this.close=new e.bkB,this.submitted=!1,this.usersOptions$=(0,S.of)([]),this.usersPreset=[],this.usersSearchInput$=new y.B,this.isUsersLoading=!1,this.messageForm=this.formBuilder.group({level:[c.Fc.Info,{validators:[d.k0.required],updateOn:"change"}],title:["",{validators:[d.k0.required],updateOn:"change"}],text:["",{validators:[d.k0.required],updateOn:"change"}],users:[[],{}]}),this.levels=[{id:c.Fc.Request,title:"Request",imgClass:"",imgSource:""},{id:c.Fc.Debug,title:"Debug",imgClass:"",imgSource:""},{id:c.Fc.Info,title:"Info",imgClass:"",imgSource:""},{id:c.Fc.Warning,title:"Warning",imgClass:"",imgSource:""},{id:c.Fc.Error,title:"Error",imgClass:"",imgSource:""}]}ngOnInit(){this.usersSearch()}onSubmit(){this.submitted=!0,this.messageForm.valid&&this.send.emit({users:this.messageForm.get("users").value,level:this.levelField?.value??c.Fc.Info,title:this.titleField?.value??"",text:this.textField?.value??""})}onClose(){this.close.emit()}usersSearch(){let t=[];this.usersPreset&&0!==this.usersPreset.length&&(t=this.usersPreset),this.usersOptions$=(0,ke.x)((0,S.of)(t),this.usersSearchInput$.pipe((0,q.B)(300),(0,Y.F)(),(0,D.M)(()=>{this.isUsersLoading=!0}),(0,J.n)(i=>(this.isUsersLoading=!1,this.adminService.getUsers([],0,100,"email",!1,new G({search:i})).pipe((0,b.T)(n=>n.list.map(o=>({id:o.id,title:""!==o.fullName?`${o.fullName} (${o.email})`:o.email}))))))))}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(d.ze),e.rXU(E))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-user-message-dialog"]],inputs:{errorMessage:"errorMessage",inProgress:"inProgress",users:"users"},outputs:{send:"send",close:"close"},decls:31,vars:22,consts:[[1,"row"],[1,"col-md-12","col-lg-12","col-xl-12","mx-auto","d-block"],["novalidate","",3,"ngSubmit","formGroup"],[1,"card","card-body","pd-20","pd-md-40","border","shadow-none"],[1,"form-group"],[1,"main-content-label","tx-11","tx-medium","tx-gray-600"],["bindLabel","title","bindValue","id","notFoundText","No users found","formControlName","users","typeToSearchText","Type email or user name","placeholder","Start typing to search users",3,"items","loading","multiple","typeahead"],["bindLabel","title","bindValue","id","formControlName","level","required","",3,"items","clearable","clearOnBackspace"],["class","tx-danger",4,"ngIf"],["type","text","formControlName","title","required","",1,"form-control",3,"ngClass"],["rows","3","formControlName","text","required","",1,"form-control",2,"resize","none",3,"ngClass"],["class","card card-body card-danger pd-20 pd-md-40 border shadow-none",4,"ngIf"],[2,"display","flex","justify-content","flex-end"],[1,"btn","btn-primary","pd-x-30","me-2","mg-t-5",3,"disabled"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","pd-x-30","mg-t-5",3,"click"],[1,"tx-danger"],[1,"card","card-body","card-danger","pd-20","pd-md-40","border","shadow-none"],[1,"card-title2","mg-b-20","color_brown"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"form",2),e.bIt("ngSubmit",function(){return n.onSubmit()}),e.j41(3,"div",3)(4,"div",4)(5,"label",5),e.EFF(6," Customer search "),e.k0s(),e.nrm(7,"ng-select",6),e.nI1(8,"async"),e.k0s(),e.j41(9,"div",4)(10,"label",5),e.EFF(11," Notification Level "),e.k0s(),e.nrm(12,"ng-select",7),e.DNE(13,Tu,3,0,"div",8),e.k0s(),e.j41(14,"div",4)(15,"label",5),e.EFF(16," Message title "),e.k0s(),e.nrm(17,"input",9),e.DNE(18,xu,3,0,"div",8),e.k0s(),e.j41(19,"div",4)(20,"label",5),e.EFF(21," Message text "),e.k0s(),e.nrm(22,"textarea",10),e.DNE(23,wu,3,0,"div",8),e.k0s()(),e.DNE(24,Su,3,1,"div",11),e.j41(25,"div",12)(26,"button",13),e.DNE(27,Du,1,0,"span",14),e.EFF(28," Send "),e.k0s(),e.j41(29,"button",15),e.bIt("click",function(){return n.onClose()}),e.EFF(30," Close "),e.k0s()()()()()),2&i&&(e.R7$(2),e.Y8G("formGroup",n.messageForm),e.R7$(5),e.Y8G("items",e.bMT(8,16,n.usersOptions$))("loading",n.isUsersLoading)("multiple",!0)("typeahead",n.usersSearchInput$),e.R7$(5),e.Y8G("items",n.levels)("clearable",!1)("clearOnBackspace",!1),e.R7$(),e.Y8G("ngIf",((null==n.levelField?null:n.levelField.touched)||n.submitted)&&(null==n.levelField||null==n.levelField.errors?null:n.levelField.errors.required)),e.R7$(4),e.Y8G("ngClass",e.eq3(18,fn,((null==n.titleField?null:n.titleField.touched)||n.submitted)&&!(null!=n.titleField&&n.titleField.valid))),e.R7$(),e.Y8G("ngIf",((null==n.titleField?null:n.titleField.touched)||n.submitted)&&(null==n.titleField||null==n.titleField.errors?null:n.titleField.errors.required)),e.R7$(4),e.Y8G("ngClass",e.eq3(20,fn,((null==n.textField?null:n.textField.touched)||n.submitted)&&!(null!=n.textField&&n.textField.valid))),e.R7$(),e.Y8G("ngIf",((null==n.textField?null:n.textField.touched)||n.submitted)&&(null==n.textField||null==n.textField.errors?null:n.textField.errors.required)),e.R7$(),e.Y8G("ngIf",""!==n.errorMessage),e.R7$(2),e.Y8G("disabled",!n.messageForm.valid),e.R7$(),e.Y8G("ngIf",n.inProgress))},dependencies:[h.YU,h.bT,d.qT,d.me,d.BC,d.cb,d.YS,d.j4,d.JD,te,h.Jj],styles:[".dark-theme .mat-mdc-button,   .dark-theme .mat-mdc-icon-button,   .dark-theme .mat-mdc-outlined-button{color:#b7c0d6!important}  .dark-theme .mat-form-field-label{color:#eee}  .dark-theme .mat-datepicker-content{background-color:#373d51;color:#ffffffde}  .dark-theme .mat-calendar-table-header,   .dark-theme .mat-calendar-body-label{color:#fff}@media (hover: hover){  .dark-theme .mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#2a2e3f}}  .dark-theme .mat-calendar-body-cell-content,   .dark-theme .mat-date-range-input-separator{color:#e1e1ef}  .dark-theme .ngb-dp-header{background-color:#343545}  .dark-theme .ngb-dp-weekdays{background-color:#343545}  .rtl .color-picker{left:initial!important}  .transparent-theme .card .box{background:#2da28f}  .transparent-theme .hex-text,   .transparent-theme .rgba-text{background:#2da28f}  .transparent-theme .mat-datepicker-content{background-color:#2da28f;color:#ffffffde}  .transparent-theme .mat-datepicker-toggle,   .transparent-theme .mat-datepicker-content .mat-calendar-next-button,   .transparent-theme .mat-datepicker-content .mat-calendar-previous-button{color:#ffffff81}  .transparent-theme .mat-calendar-body-cell-content,   .transparent-theme .mat-date-range-input-separator{color:#ffffffd3}  .transparent-theme .mat-calendar-table-header,   .transparent-theme .mat-calendar-body-label{color:#fff9}  .transparent-theme .ngb-dp-header{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekdays{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekday{color:#000}  .transparent-theme .ng-select .ng-arrow-wrapper .ng-arrow{border-top-color:#fff!important}  .transparent-theme .ng-select.ng-select-opened .ng-arrow-wrapper .ng-arrow{border-bottom-color:#fff!important}  .form-controls{display:block;color:#fff;border:transparent;outline:none;width:100%;height:40px;padding:.375rem .75rem;font-size:.875rem;font-weight:400;line-height:2;background-clip:padding-box;border-radius:5px;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}  button[type=button]{z-index:0!important}",".has-error[_ngcontent-%COMP%]{border:1px solid #f16d75}.tx-danger[_ngcontent-%COMP%]{color:red!important}"]})}return a})();const Iu=()=>["Home","Users"],Eu=()=>[];function Pu(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",39),e.bIt("click",function(){e.eBV(t);const n=e.XpG(),o=e.sdS(54);return e.Njj(n.addUser(o))}),e.EFF(1," Add user "),e.k0s()}}function Au(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",39),e.bIt("click",function(){e.eBV(t);const n=e.XpG(),o=e.sdS(58);return e.Njj(n.setUserRole(void 0,o))}),e.EFF(1," Set role "),e.k0s()}}function Ru(a,r){1&a&&e.nrm(0,"mat-progress-bar",40)}function Ou(a,r){1&a&&e.nrm(0,"th",41)}function ju(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",49),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(),s=e.sdS(62);return e.Njj(o.confirmEmail(n,s))}),e.j41(1,"i",45),e.EFF(2," approval "),e.k0s()()}2&a&&e.BMQ("aria-label","Confirm email")}function $u(a,r){if(1&a){const t=e.RV6();e.j41(0,"td",42)(1,"input",43),e.bIt("change",function(){const n=e.eBV(t).$implicit,o=e.XpG();return e.Njj(o.onUserSelected(n))}),e.k0s(),e.j41(2,"button",44),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG(),s=e.sdS(54);return e.Njj(o.showDetails(n,s))}),e.j41(3,"i",45),e.EFF(4," wysiwyg "),e.k0s()(),e.j41(5,"button",46),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG(),s=e.sdS(58);return e.Njj(o.setUserRole(n,s))}),e.j41(6,"i",45),e.EFF(7," perm_data_setting "),e.k0s()(),e.j41(8,"button",47),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG();return e.Njj(o.showWhiteList(n.id))}),e.j41(9,"i",45),e.EFF(10," playlist_add_check "),e.k0s()(),e.DNE(11,ju,3,1,"button",48),e.k0s()}if(2&a){const t=r.$implicit,i=e.XpG();e.R7$(),e.Y8G("checked",t.selected),e.R7$(),e.BMQ("aria-label","User details")("aria-pressed",!!i.selectedUser),e.R7$(3),e.Y8G("matTooltip",i.permission>1?"Set roles":"Roles"),e.BMQ("aria-label","User roles"),e.R7$(3),e.BMQ("aria-label","User roles"),e.R7$(3),e.Y8G("ngIf",!1===t.emailConfirmed&&i.permission>1)}}function Mu(a,r){1&a&&(e.j41(0,"th",41),e.EFF(1," User ID "),e.k0s())}function Nu(a,r){if(1&a&&(e.j41(0,"td",50),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.referralCode," ")}}function Vu(a,r){1&a&&(e.j41(0,"th",51),e.EFF(1," First name "),e.k0s())}function Gu(a,r){if(1&a&&(e.j41(0,"td",50),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.fullFirstName," ")}}function Bu(a,r){1&a&&(e.j41(0,"th",51),e.EFF(1," Last name "),e.k0s())}function Uu(a,r){if(1&a&&(e.j41(0,"td",50),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.lastName," ")}}function Lu(a,r){1&a&&(e.j41(0,"th",51),e.EFF(1," Email "),e.k0s())}function Yu(a,r){if(1&a&&(e.j41(0,"td",50),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.email," ")}}function qu(a,r){1&a&&(e.j41(0,"th",51),e.EFF(1," Roles "),e.k0s())}function Wu(a,r){if(1&a&&(e.j41(0,"td",50),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.roleNames," ")}}function Xu(a,r){1&a&&(e.j41(0,"th",51),e.EFF(1," Status "),e.k0s())}function zu(a,r){if(1&a&&(e.j41(0,"td",50),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.accountStatus," ")}}function Hu(a,r){1&a&&(e.j41(0,"th",41),e.EFF(1," Last login "),e.k0s())}function Ku(a,r){if(1&a&&(e.j41(0,"td",50),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.lastLogin," ")}}function Ju(a,r){1&a&&(e.j41(0,"th",51),e.EFF(1," Registered "),e.k0s())}function Qu(a,r){if(1&a&&(e.j41(0,"td",50),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.created," ")}}function Zu(a,r){1&a&&e.nrm(0,"tr",52)}function eh(a,r){1&a&&e.nrm(0,"tr",53)}function th(a,r){1&a&&(e.j41(0,"div",60)(1,"i",61),e.EFF(2,"first_page"),e.k0s()())}function ah(a,r){1&a&&(e.j41(0,"div",60)(1,"i",61),e.EFF(2,"keyboard_arrow_left"),e.k0s()())}function nh(a,r){1&a&&(e.j41(0,"div",60)(1,"i",61),e.EFF(2,"keyboard_arrow_right"),e.k0s()())}function ih(a,r){1&a&&(e.j41(0,"div",60)(1,"i",61),e.EFF(2,"last_page"),e.k0s()())}function rh(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",54)(1,"ngb-pagination",55),e.bIt("pageChange",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.handlePage(n))}),e.DNE(2,th,3,0,"ng-template",56)(3,ah,3,0,"ng-template",57)(4,nh,3,0,"ng-template",58)(5,ih,3,0,"ng-template",59),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("collectionSize",t.userCount)("pageSize",t.pageSize)("boundaryLinks",!0)("maxSize",10)}}function oh(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",62)(1,"h5",63),e.EFF(2),e.k0s(),e.j41(3,"button",64),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",65),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",66)(7,"app-admin-user-details",67),e.bIt("save",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSaveUser())})("close",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Close"))}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(2),e.SpI(" ",t.userDetailsTitle," "),e.R7$(5),e.Y8G("permission",t.permission)("user",t.selectedUser)("roles",t.userRoles)}}function sh(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",62)(1,"h5",63),e.EFF(2,"Send message to selected users"),e.k0s(),e.j41(3,"button",64),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",65),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",66)(7,"app-admin-user-message-dialog",68),e.bIt("send",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.sendMessageStart(n))})("close",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Close"))}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(7),e.Y8G("errorMessage",t.sendMessageError)("inProgress",t.sendMessageInProgress)}}function lh(a,r){if(1&a&&(e.j41(0,"div",77)(1,"label",78),e.EFF(2," Select a user "),e.k0s(),e.nrm(3,"ng-select",79),e.nI1(4,"async"),e.k0s()),2&a){const t=e.XpG(2);e.R7$(3),e.Y8G("items",e.bMT(4,5,t.usersOptions$))("minTermLength",t.minUsersLengthTerm)("loading",t.isUsersLoading)("multiple",!1)("typeahead",t.usersSearchInput$)}}function dh(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",77)(1,"label",78),e.EFF(2," Roles "),e.k0s(),e.j41(3,"app-admin-role-select",80),e.bIt("changed",function(n){e.eBV(t);const o=e.XpG(2);return e.Njj(o.onRolesUpdated(n))}),e.k0s()()}if(2&a){let t;const i=e.XpG(2);e.R7$(3),e.Y8G("roleList",i.userRoles)("userRoles",null!==(t=null==i.roleUser?null:i.roleUser.roles)&&void 0!==t?t:e.lJ4(2,Eu))}}function ch(a,r){if(1&a&&(e.j41(0,"div",81)(1,"h4",82),e.EFF(2),e.k0s()()),2&a){const t=e.XpG(2);e.R7$(2),e.SpI(" ",t.errorMessage," ")}}function mh(a,r){1&a&&e.nrm(0,"span",83)}function ph(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",62)(1,"h5",63),e.EFF(2," Set user role "),e.k0s(),e.j41(3,"button",64),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",65),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",66)(7,"form",69)(8,"div",70),e.DNE(9,lh,5,7,"div",71)(10,dh,4,3,"div",71),e.k0s(),e.DNE(11,ch,3,1,"div",72),e.j41(12,"div",73)(13,"button",74),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Close"))}),e.EFF(14," Close "),e.k0s(),e.j41(15,"button",75),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.updateRole())}),e.DNE(16,mh,1,0,"span",76),e.EFF(17," Save "),e.k0s()()()()}if(2&a){const t=e.XpG();e.R7$(7),e.Y8G("formGroup",t.roleUserForm),e.R7$(2),e.Y8G("ngIf",!t.roleUserSelected),e.R7$(),e.Y8G("ngIf",t.roleUser),e.R7$(),e.Y8G("ngIf",""!==t.errorMessage),e.R7$(4),e.Y8G("disabled",void 0===t.roleUser),e.R7$(),e.Y8G("ngIf",t.roleInProgress)}}function uh(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",62)(1,"h5",63),e.EFF(2,"Export"),e.k0s(),e.j41(3,"button",64),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",65),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",66)(7,"h4",84),e.EFF(8," Exported list of users has been sent to your email. "),e.k0s(),e.j41(9,"div",19)(10,"button",85),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("OK"))}),e.EFF(11," OK "),e.k0s()()()}}function hh(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",62)(1,"h5",63),e.EFF(2,"User email confirmation"),e.k0s(),e.j41(3,"button",64),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",65),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",66)(7,"h4",84),e.EFF(8," User email has been confirmed successfully. "),e.k0s(),e.j41(9,"div",19)(10,"button",86),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.close("OK"))}),e.EFF(11," OK "),e.k0s()()()}}let _n=(()=>{class a{constructor(t,i,n,o,s,l){this.formBuilder=t,this.modalService=i,this.auth=n,this.adminService=o,this.commonService=s,this.router=l,this.filterFields=["users","accountType","accountStatus","country","registrationDate","search"],this.displayedColumns=["details","referralCode","firstName","lastName","email","role","accountStatus","lastLogin","created"],this.sendMessageInProgress=!1,this.sendMessageError="",this.inProgress=!1,this.roleInProgress=!1,this.errorMessage="",this.permission=0,this.userDetailsTitle="User Details",this.roleUserSelected=!1,this.roleIds=[],this.newRoleIds=[],this.userRoles=[],this.selected=!1,this.users=[],this.userCount=0,this.pageSize=50,this.pageIndex=0,this.sortedField="created",this.sortedDesc=!0,this.filter=new G({}),this.isUsersLoading=!1,this.usersSearchInput$=new y.B,this.usersOptions$=(0,S.of)([]),this.minUsersLengthTerm=1,this.adminAdditionalSettings={},this.roleUserForm=this.formBuilder.group({user:[void 0,{validators:[d.k0.required],updateOn:"change"}]}),this.subscriptions=new R.yU,this.detailsDialog=void 0,this.rolesDialog=void 0,this.messageDialog=void 0,this.permission=this.auth.isPermittedObjectCode(c.G4.SystemUsers)}ngOnInit(){this.loadCommonSettings(),this.loadRoleData(),this.initUserSearch(),this.subscriptions.add(this.roleUserForm.controls.user.valueChanges.subscribe(t=>this.roleUser=t))}ngOnDestroy(){this.subscriptions.unsubscribe()}ngAfterViewInit(){this.subscriptions.add(this.sort.sortChange.subscribe(()=>{this.sortedDesc="desc"===this.sort.direction,this.sortedField=this.sort.active,this.loadUsers()}))}onUserSelected(t){t.selected=!t.selected,this.selected=this.users.some(i=>i.selected)}handleFilterApplied(t){this.filter=t,this.loadUsers()}handlePage(t){this.pageIndex=t-1,this.loadUsers()}setUserRole(t,i){this.roleUserForm.reset(),this.roleUser=t,this.roleUserSelected=void 0!==t,this.rolesDialog=this.openModalDialog(i)}addUser(t){this.userDetailsTitle="Create a new User",this.selectedUser=void 0,this.detailsDialog=this.openModalDialog(t)}selectAll(){this.users.forEach(t=>t.selected=!0),this.selected=this.users.length>0}loadCommonSettings(){const t=this.auth.getLocalSettingsCommon();t&&(this.adminAdditionalSettings="string"==typeof t.adminAdditionalSettings?JSON.parse(t.adminAdditionalSettings):t.adminAdditionalSettings,this.adminAdditionalSettings?.tabs?.systemCustomers?.filterFields&&(this.filterFields=this.adminAdditionalSettings.tabs.systemCustomers.filterFields))}loadRoleData(){this.roleIds=[];const t=this.commonService.getRoles();t&&this.subscriptions.add(t.valueChanges.subscribe({next:({data:i})=>{this.userRoles=i.getRoles;const n=this.userRoles;this.roleIds=n?n.map(o=>o.userRoleId??""):[],this.roleIds=[...this.roleIds.filter(o=>"30cebffa-7e64-4be3-96d8-a96626bb81c6"!==o)],this.loadUsers()},error:()=>{this.inProgress=!1,this.nagivateToHome()}}))}loadUsers(){this.inProgress=!0;const t=this.adminService.getSystemUsers(this.roleIds,this.pageIndex,this.pageSize,this.sortedField,this.sortedDesc,this.filter).pipe((0,P.s)(1));this.selected=!1,this.subscriptions.add(t.pipe((0,V.j)(()=>this.inProgress=!1)).subscribe({next:({list:i,count:n})=>{this.users=i,this.userCount=n},error:()=>{this.nagivateToHome()}}))}initUserSearch(){this.usersOptions$=(0,ke.x)((0,S.of)([]),this.usersSearchInput$.pipe((0,W.p)(t=>null!==t&&t.length>=this.minUsersLengthTerm),(0,q.B)(300),(0,Y.F)(),(0,D.M)(()=>{this.isUsersLoading=!0}),(0,J.n)(t=>(this.isUsersLoading=!1,this.adminService.findUsers(new G({search:t})).pipe((0,b.T)(i=>i.list))))))}getAssignedRoles(t,i){let n=[];return t.forEach(o=>{i.includes(o)||(n=[...n,o])}),n}getRemovedRoles(t,i){let n=[];return i.forEach(o=>{t.includes(o)||(n=[...n,o])}),n}onRolesUpdated(t){this.roleUser&&(this.newRoleIds=t)}updateRole(){if(this.roleUser){this.errorMessage="";const t=this.getAssignedRoles(this.newRoleIds,this.roleUser.roles),i=this.getRemovedRoles(this.newRoleIds,this.roleUser.roles);if(t.length>0){this.roleInProgress=!0;const n=this.adminService.assignRole(this.roleUser.id,t);this.subscriptions.add(n.pipe().subscribe({next:()=>{i.length>0?this.removeUserRole(this.roleUser?.id??"",i):(this.roleInProgress=!1,this.rolesDialog?.close("OK"),this.loadUsers())},error:o=>{this.roleInProgress=!1,this.sendMessageError=o,this.nagivateToHome()}}))}else this.removeUserRole(this.roleUser.id,i)}}removeUserRole(t,i){this.roleInProgress=!0;const n=this.adminService.removeRole(t,i);this.subscriptions.add(n.pipe((0,V.j)(()=>this.roleInProgress=!1)).subscribe({next:()=>{this.rolesDialog?.close("OK"),this.loadUsers()},error:o=>{this.sendMessageError=o,this.nagivateToHome()}}))}onSaveUser(){this.selectedUser=void 0,this.detailsDialog&&(this.detailsDialog.close(),this.loadUsers())}sendMessage(t){this.messageDialog=this.openModalDialog(t)}sendMessageStart(t){this.sendMessageInProgress=!0,this.sendMessageError="";const i=this.adminService.sendAdminNotification(t.users,t.level,t.title,t.text);this.subscriptions.add(i.pipe((0,V.j)(()=>this.sendMessageInProgress=!1)).subscribe({next:()=>{this.selected=!1,this.users.forEach(n=>n.selected=!1),this.messageDialog&&this.messageDialog.close()},error:n=>{this.sendMessageError=n,this.nagivateToHome()}}))}export(t){const i=this.users.filter(o=>o.selected).map(o=>o.id),n=this.adminService.exportUsersToCsv(i,this.roleIds,this.sortedField,this.sortedDesc,this.filter);this.subscriptions.add(n.pipe().subscribe({next:()=>this.openModalDialog(t),error:()=>this.nagivateToHome()}))}showDetails(t,i){this.userDetailsTitle="User Details",this.selectedUser=t,this.detailsDialog=this.openModalDialog(i)}confirmEmail(t,i){this.errorMessage="";const n=this.adminService.confirmEmail(t.id);this.subscriptions.add(n.pipe().subscribe({next:()=>this.openModalDialog(i),error:o=>{this.errorMessage=o,this.nagivateToHome()}}))}showWhiteList(t){this.router.navigateByUrl(`/admin/white-device-list/${t}`)}openModalDialog(t){return this.modalService.open(t,{backdrop:"static",windowClass:"modalCusSty"})}nagivateToHome(){""===this.auth.token&&this.router.navigateByUrl("/")}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(d.ze),e.rXU(_.Bq),e.rXU(I.u),e.rXU(E),e.rXU(xe.X),e.rXU(w.Ix))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-system-users"]],viewQuery:function(i,n){if(1&i&&e.GBs($.B4,5),2&i){let o;e.mGM(o=e.lsd())&&(n.sort=o.first)}},decls:63,vars:17,consts:[["details_content",""],["message_content",""],["roles_content",""],["export_content",""],["confirmed_content",""],[3,"title","items","active_item"],[1,"row","row-sm"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],[1,"table-button-container"],["type","button","class","btn btn-primary me-2",3,"click",4,"ngIf"],[1,"btn","btn-outline-secondary","me-2",3,"click","disabled"],[1,"btn","btn-outline-secondary",3,"click"],[3,"filter","filterType","fields","filterData"],["color","accent","mode","indeterminate",4,"ngIf"],[1,"table-button-container","m-2"],[1,"btn","btn-secondary","btn-sm","mt-2",3,"click"],[2,"display","flex","flex-direction","row","justify-content","center","align-items","center"],[1,"material-icons",2,"font-size","20px","margin-right","4px"],[1,"data-table"],["matSort","","matSortDirection","desc","matSortDisableClear","",3,"matSortActive","dataSource"],["matColumnDef","details","sticky",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","user-list-selector-column",4,"matCellDef"],["matColumnDef","referralCode"],["mat-cell","","class","user-list-data-column",4,"matCellDef"],["matColumnDef","firstName"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","lastName"],["matColumnDef","email"],["matColumnDef","role"],["matColumnDef","accountStatus"],["matColumnDef","lastLogin"],["matColumnDef","created"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","card card-body border shadow-none",4,"ngIf"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["color","accent","mode","indeterminate"],["mat-header-cell",""],["mat-cell","",1,"user-list-selector-column"],["type","checkbox",2,"margin-right","4px",3,"change","checked"],["mat-icon-button","","matTooltip","User details","matTooltipClass","info-tooltip",1,"row-button",3,"click"],[1,"material-icons",2,"font-size","20px"],["mat-icon-button","","matTooltipClass","info-tooltip",1,"row-button",3,"click","matTooltip"],["mat-icon-button","","matTooltip","White List","matTooltipClass","info-tooltip",1,"row-button",3,"click"],["mat-icon-button","","class","row-button","matTooltip","Confirm email","matTooltipClass","info-tooltip",3,"click",4,"ngIf"],["mat-icon-button","","matTooltip","Confirm email","matTooltipClass","info-tooltip",1,"row-button",3,"click"],["mat-cell","",1,"user-list-data-column"],["mat-header-cell","","mat-sort-header",""],["mat-header-row",""],["mat-row",""],[1,"card","card-body","border","shadow-none"],["aria-label","Table pagination",1,"d-flex","justify-content-center",3,"pageChange","collectionSize","pageSize","boundaryLinks","maxSize"],["ngbPaginationFirst",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationLast",""],[1,"ng-pagination-nav-icons"],[1,"material-icons"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"save","close","permission","user","roles"],[3,"send","close","errorMessage","inProgress"],[3,"formGroup"],[1,"card","card-body","pd-20","pd-md-40","border","shadow-none"],["class","form-group",4,"ngIf"],["class","card card-body card-danger pd-20 pd-md-40 border shadow-none",4,"ngIf"],[2,"display","flex","flex-direction","row","justify-content","flex-end","align-items","center"],["type","button",1,"btn","btn-outline-secondary","pd-x-50","mg-t-5","me-2",3,"click"],["type","button",1,"btn","btn-primary","pd-x-50","mg-t-5",3,"click","disabled"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"form-group"],[1,"main-content-label","tx-11","tx-medium","tx-gray-600"],["bindLabel","extendedName","notFoundText","No users found","formControlName","user","typeToSearchText","Type email or user name","placeholder","Start typing to search a user",3,"items","minTermLength","loading","multiple","typeahead"],[3,"changed","roleList","userRoles"],[1,"card","card-body","card-danger","pd-20","pd-md-40","border","shadow-none"],[1,"card-title2","mg-b-20","color_brown"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[2,"text-align","center"],[1,"btn","btn-primary","pd-x-50","mg-t-5",3,"click"],["type","button",1,"btn","btn-primary","pd-x-30","me-2","mg-t-5",3,"click"]],template:function(i,n){if(1&i){const o=e.RV6();e.nrm(0,"app-admin-page-header",5),e.j41(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"div",11),e.DNE(7,Pu,2,0,"button",12)(8,Au,2,0,"button",12),e.j41(9,"button",13),e.bIt("click",function(){e.eBV(o);const l=e.sdS(56);return e.Njj(n.sendMessage(l))}),e.EFF(10," Send message "),e.k0s(),e.j41(11,"button",14),e.bIt("click",function(){e.eBV(o);const l=e.sdS(60);return e.Njj(n.export(l))}),e.EFF(12," Export "),e.k0s()(),e.j41(13,"app-admin-filter",15),e.bIt("filter",function(l){return e.eBV(o),e.Njj(n.handleFilterApplied(l))}),e.k0s(),e.DNE(14,Ru,1,0,"mat-progress-bar",16),e.j41(15,"div",17)(16,"button",18),e.bIt("click",function(){return e.eBV(o),e.Njj(n.selectAll())}),e.j41(17,"div",19)(18,"i",20),e.EFF(19," library_add_check "),e.k0s(),e.EFF(20," Select all on the page "),e.k0s()()(),e.j41(21,"div",21)(22,"mat-table",22),e.qex(23,23),e.DNE(24,Ou,1,0,"th",24)(25,$u,12,7,"td",25),e.bVm(),e.qex(26,26),e.DNE(27,Mu,2,0,"th",24)(28,Nu,2,1,"td",27),e.bVm(),e.qex(29,28),e.DNE(30,Vu,2,0,"th",29)(31,Gu,2,1,"td",27),e.bVm(),e.qex(32,30),e.DNE(33,Bu,2,0,"th",29)(34,Uu,2,1,"td",27),e.bVm(),e.qex(35,31),e.DNE(36,Lu,2,0,"th",29)(37,Yu,2,1,"td",27),e.bVm(),e.qex(38,32),e.DNE(39,qu,2,0,"th",29)(40,Wu,2,1,"td",27),e.bVm(),e.qex(41,33),e.DNE(42,Xu,2,0,"th",29)(43,zu,2,1,"td",27),e.bVm(),e.qex(44,34),e.DNE(45,Hu,2,0,"th",24)(46,Ku,2,1,"td",27),e.bVm(),e.qex(47,35),e.DNE(48,Ju,2,0,"th",29)(49,Qu,2,1,"td",27),e.bVm(),e.DNE(50,Zu,1,0,"tr",36)(51,eh,1,0,"tr",37),e.k0s()(),e.DNE(52,rh,6,4,"div",38)(53,oh,8,4,"ng-template",null,0,e.C5r)(55,sh,8,2,"ng-template",null,1,e.C5r)(57,ph,18,6,"ng-template",null,2,e.C5r)(59,uh,12,0,"ng-template",null,3,e.C5r)(61,hh,12,0,"ng-template",null,4,e.C5r),e.k0s()()()()()}2&i&&(e.Y8G("title","System users")("items",e.lJ4(16,Iu))("active_item","System users"),e.R7$(7),e.Y8G("ngIf",n.permission>1),e.R7$(),e.Y8G("ngIf",n.permission>1),e.R7$(),e.Y8G("disabled",!n.selected),e.R7$(4),e.Y8G("filterType","users")("fields",n.filterFields)("filterData",n.filter),e.R7$(),e.Y8G("ngIf",n.inProgress),e.R7$(8),e.Y8G("matSortActive",n.sortedField)("dataSource",n.users),e.R7$(28),e.Y8G("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),e.R7$(),e.Y8G("matRowDefColumns",n.displayedColumns),e.R7$(),e.Y8G("ngIf",n.userCount>n.pageSize))},dependencies:[h.bT,d.qT,d.BC,d.cb,d.j4,d.JD,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,$.B4,$.aE,te,_.s5,_.gA,_.ug,_.PB,_.hO,ie.oV,K.iY,z.HM,X,Te,Fu,hn,gn,h.Jj],styles:[".datatable-body{height:600px!important;overflow:scroll;width:100%}  .dataTable-bottom{position:absolute;left:0;right:0;bottom:0;background:#fff!important}  table th,   table td,   .ngx-datatable.material .datatable-header .datatable-header-cell,   .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{font-size:.876rem!important}@media (max-width: 567.9px){  .ngx-datatable .datatable-footer .datatable-footer-inner{flex-wrap:wrap;height:auto!important}  .ngx-datatable .datatable-footer .datatable-pager{text-align:center!important}}  .dataTable-wrapper.no-footer .dataTable-container{border-bottom:none!important}  .dataTable-selector{border-radius:.25rem}  app-data-table input{border-radius:25px;border:1px solid rgba(0,0,0,.1)}  app-data-table .custom-select{border:1px solid rgba(0,0,0,.24)!important;border-radius:.25rem}.table-responsive[_ngcontent-%COMP%]{overflow:visible}  .dark-theme input::placeholder{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material{background-color:#2a2e3f!important}  .dark-theme app-data-tables .dataTable-bottom{background-color:#2a2e3f!important}  .dark-theme app-data-tables .dataTable-selector{background-color:#2a2e3f;border-color:#272c49;color:#fff;outline:none}  .dark-theme app-data-tables input{color:#eee!important;background-color:#2a2e3f!important;border-color:#262b48;border-radius:25px;height:27px}  .dark-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .dark-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#2a2e3f;color:#fff}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid rgb(39,43,74)!important;color:#fff!important;background:#2a2e3f!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #32394e!important}  .dark-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .dark-theme app-data-tables .dataTable-pagination li:hover a,   .dark-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .dark-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .dark-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .dark-theme app-data-tables .mat-mdc-table{background:#2a2e3f!important}  .dark-theme app-data-tables .mat-mdc-header-cell{color:#fff!important}  .dark-theme app-data-tables .mat-mdc-cell,   .dark-theme app-data-tables .mat-mdc-footer-cell{color:#eee!important}  .dark-theme app-data-tables mat-row,   .dark-theme app-data-tables mat-header-row,   .dark-theme app-data-tables mat-footer-row,   .dark-theme app-data-tables th.mat-mdc-header-cell,   .dark-theme app-data-tables td.mat-mdc-cell,   .dark-theme app-data-tables td.mat-mdc-footer-cell{border-bottom-color:#ffffff1f!important}  .dark-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .dark-theme app-data-tables .mat-mdc-paginator,   .dark-theme app-data-tables .mat-mdc-paginator-page-size .mat-mdc-select-trigger{color:#ffffff8a!important}  .dark-theme app-data-tables .mat-mdc-paginator{background:#2a2e3f}  .dark-theme app-data-tables .mat-mdc-select-value{color:#fff7f7de}  .dark-theme app-data-tables .mat-mdc-select-arrow{color:#ffffffba}  .dark-theme .mat-mdc-select-panel{background:#30304d}  .dark-theme .mat-mdc-option{color:#ccc}  .dark-theme .mat-primary .mat-mdc-option.mat-selected:not(.mat-option-disabled){color:#fff}  .dark-theme .mat-mdc-option:hover:not(.mat-option-disabled),   .dark-theme .mat-option:focus:not(.mat-option-disabled){background:#2a2a44}  .dark-theme .mat-mdc-select-panel .mat-mdc-option.mat-selected:not(.mat-mdc-option-multiple){background:#0000001f}  .dark-theme .table-hover>tbody>tr:hover>*{color:#fff}  .dark-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme input::placeholder{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material{background-color:#2da28f!important}  .transparent-theme app-data-tables .dataTable-bottom{background-color:#2da28f!important}  .transparent-theme app-data-tables .dataTable-selector{background-color:#2da28f;border-color:#4cb0a0;color:#fff;outline:none}  .transparent-theme app-data-tables input{color:#eee!important;background-color:#2da28f!important;border-color:#4cb0a0;border-radius:25px;height:27px}  .transparent-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .transparent-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#2da28f;color:#fff}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid #4cb0a0!important;color:#fff!important;background:#2da28f!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #4cb0a0!important}  .transparent-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .transparent-theme app-data-tables .dataTable-pagination li:hover a,   .transparent-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .transparent-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .transparent-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .transparent-theme app-data-tables .mat-mdc-table{background:#2da28f!important}  .transparent-theme app-data-tables .mat-mdc-header-cell{color:#fff!important}  .transparent-theme app-data-tables .mat-mdc-cell,   .transparent-theme app-data-tables .mat-mdc-footer-cell{color:#eee!important}  .transparent-theme app-data-tables mat-row,   .transparent-theme app-data-tables mat-header-row,   .transparent-theme app-data-tables mat-footer-row,   .transparent-theme app-data-tables th.mat-mdc-header-cell,   .transparent-theme app-data-tables td.mat-mdc-cell,   .transparent-theme app-data-tables td.mat-mdc-footer-cell{border-bottom-color:#ffffff1f!important}  .transparent-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .transparent-theme app-data-tables .mat-mdc-paginator,   .transparent-theme app-data-tables .mat-mdc-paginator-page-size .mat-mdc-select-trigger{color:#ffffff8a!important}  .transparent-theme app-data-tables .mat-mdc-paginator{background:#2da28f}  .transparent-theme app-data-tables .mat-mdc-select-value{color:#fff7f7de}  .transparent-theme app-data-tables .mat-mdc-select-arrow{color:#ffffffba}  .transparent-theme .mat-mdc-select-panel{background:#30304d}  .transparent-theme .mat-mdc-option{color:#ccc}  .transparent-theme .mat-primary .mat-mdc-option.mat-selected:not(.mat-option-disabled){color:#fff}  .transparent-theme .mat-mdc-option:hover:not(.mat-option-disabled),   .transparent-theme .mat-option:focus:not(.mat-option-disabled){background:#2a2a44}  .transparent-theme .mat-mdc-select-panel .mat-mdc-option.mat-selected:not(.mat-mdc-option-multiple){background:#0000001f}  .transparent-theme .table-hover>tbody>tr:hover>*{color:#fff}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{background-color:#248272!important}.data-table[_ngcontent-%COMP%]{flex:1 1 0;overflow:auto;margin-top:5px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]{display:table;min-width:100%}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:32px;line-height:32px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   tr.mat-mdc-header-row[_ngcontent-%COMP%]{height:40px;line-height:40px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]{padding:0 4px;white-space:nowrap;font-size:16px;font-weight:400;color:#0000008a;font-family:Roboto,sans-serif}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell.action[_ngcontent-%COMP%]{width:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]{padding:1px 4px 0;line-height:29px;white-space:nowrap}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%]{width:16px;height:16px;font-size:16px;vertical-align:middle;position:relative;top:-1px}.data-table[_ngcontent-%COMP%]   .row-button[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0;position:relative;top:5px;padding:1px}.data-table[_ngcontent-%COMP%]   .row-button[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:16px;height:16px;width:16px;line-height:16px}.data-table[_ngcontent-%COMP%]   .row-icon[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0;position:relative;top:5px}mat-mdc-paginator[_ngcontent-%COMP%]{flex:0 0 auto}table[_ngcontent-%COMP%]{width:100%}.table-button-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;overflow-x:scroll;padding-bottom:16px}.user-list-selector-column[_ngcontent-%COMP%]{margin:0;padding:0 8px;background-color:var(--color_white)}.user-list-data-column[_ngcontent-%COMP%]{margin:0;padding:0}.ng-pagination-nav-icons[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:12px}"]})}return a})();function gh(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",9),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.close.emit())}),e.EFF(1," Close "),e.k0s()}}let _h=(()=>{class a{set wallet(t){this.setFormData(t)}constructor(){this.permission=0,this.close=new e.bkB,this.settingsId="",this.userId="",this.walletData=void 0}setFormData(t){t?(this.walletData=t,this.userId=t.userId??"",this.settingsId=t.id??""):(this.walletData=void 0,this.userId="",this.settingsId="")}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-fiat-wallet-details"]],inputs:{permission:"permission",wallet:"wallet"},outputs:{close:"close"},decls:9,vars:5,consts:[[1,"row"],[1,"col-md-12","col-lg-12","col-xl-12","mx-auto","d-block"],[1,"card","card-body","pd-20","pd-md-40","border","shadow-none"],["label","Balance",3,"value"],["label","Currency",3,"value"],["label","Wallet created",3,"value"],["label","User",3,"value"],[2,"display","flex","justify-content","flex-end"],["class","btn btn-outline-primary pd-x-30","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","pd-x-30",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.nrm(3,"app-admin-details-item",3)(4,"app-admin-details-item",4)(5,"app-admin-details-item",5)(6,"app-admin-details-item",6),e.k0s(),e.j41(7,"div",7),e.DNE(8,gh,2,0,"button",8),e.k0s()()()),2&i&&(e.R7$(3),e.Y8G("value",null==n.walletData?null:n.walletData.balance),e.R7$(),e.Y8G("value",null==n.walletData?null:n.walletData.asset),e.R7$(),e.Y8G("value",null==n.walletData?null:n.walletData.created),e.R7$(),e.Y8G("value",null==n.walletData?null:n.walletData.userId),e.R7$(2),e.Y8G("ngIf",n.permission>1))},dependencies:[h.bT,he],styles:[".dark-theme .mat-mdc-button,   .dark-theme .mat-mdc-icon-button,   .dark-theme .mat-mdc-outlined-button{color:#b7c0d6!important}  .dark-theme .mat-form-field-label{color:#eee}  .dark-theme .mat-datepicker-content{background-color:#373d51;color:#ffffffde}  .dark-theme .mat-calendar-table-header,   .dark-theme .mat-calendar-body-label{color:#fff}@media (hover: hover){  .dark-theme .mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#2a2e3f}}  .dark-theme .mat-calendar-body-cell-content,   .dark-theme .mat-date-range-input-separator{color:#e1e1ef}  .dark-theme .ngb-dp-header{background-color:#343545}  .dark-theme .ngb-dp-weekdays{background-color:#343545}  .rtl .color-picker{left:initial!important}  .transparent-theme .card .box{background:#2da28f}  .transparent-theme .hex-text,   .transparent-theme .rgba-text{background:#2da28f}  .transparent-theme .mat-datepicker-content{background-color:#2da28f;color:#ffffffde}  .transparent-theme .mat-datepicker-toggle,   .transparent-theme .mat-datepicker-content .mat-calendar-next-button,   .transparent-theme .mat-datepicker-content .mat-calendar-previous-button{color:#ffffff81}  .transparent-theme .mat-calendar-body-cell-content,   .transparent-theme .mat-date-range-input-separator{color:#ffffffd3}  .transparent-theme .mat-calendar-table-header,   .transparent-theme .mat-calendar-body-label{color:#fff9}  .transparent-theme .ngb-dp-header{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekdays{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekday{color:#000}  .transparent-theme .ng-select .ng-arrow-wrapper .ng-arrow{border-top-color:#fff!important}  .transparent-theme .ng-select.ng-select-opened .ng-arrow-wrapper .ng-arrow{border-bottom-color:#fff!important}  .form-controls{display:block;color:#fff;border:transparent;outline:none;width:100%;height:40px;padding:.375rem .75rem;font-size:.875rem;font-weight:400;line-height:2;background-clip:padding-box;border-radius:5px;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}  button[type=button]{z-index:0!important}",".has-error[_ngcontent-%COMP%]{border:1px solid #f16d75}.tx-danger[_ngcontent-%COMP%]{color:red!important}"]})}return a})();const bh=()=>["Home","Wallets"];function vh(a,r){1&a&&e.nrm(0,"mat-progress-bar",23)}function yh(a,r){1&a&&e.nrm(0,"th",24)}function Ch(a,r){if(1&a){const t=e.RV6();e.j41(0,"td",25)(1,"button",26),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG(),s=e.sdS(29);return e.Njj(o.showDetails(n,s))}),e.j41(2,"i",27),e.EFF(3,"wysiwyg"),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(),e.BMQ("aria-label","Wallet details")("aria-pressed",!!t.selectedWallet)}}function kh(a,r){1&a&&(e.j41(0,"th",28),e.EFF(1,"User"),e.k0s())}function Fh(a,r){if(1&a&&(e.j41(0,"td",29),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.userId," ")}}function Th(a,r){1&a&&(e.j41(0,"th",28),e.EFF(1,"Balance"),e.k0s())}function xh(a,r){if(1&a&&(e.j41(0,"td",29),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.balance," ")}}function wh(a,r){1&a&&(e.j41(0,"th",24),e.EFF(1,"Currency"),e.k0s())}function Sh(a,r){if(1&a&&(e.j41(0,"td",29),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.asset," ")}}function Dh(a,r){1&a&&(e.j41(0,"th",24),e.EFF(1,"Created"),e.k0s())}function Ih(a,r){if(1&a&&(e.j41(0,"td",29),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.created," ")}}function Eh(a,r){1&a&&e.nrm(0,"tr",30)}function Ph(a,r){1&a&&e.nrm(0,"tr",31)}function Ah(a,r){1&a&&(e.j41(0,"div",38)(1,"i",39),e.EFF(2,"first_page"),e.k0s()())}function Rh(a,r){1&a&&(e.j41(0,"div",38)(1,"i",39),e.EFF(2,"keyboard_arrow_left"),e.k0s()())}function Oh(a,r){1&a&&(e.j41(0,"div",38)(1,"i",39),e.EFF(2,"keyboard_arrow_right"),e.k0s()())}function jh(a,r){1&a&&(e.j41(0,"div",38)(1,"i",39),e.EFF(2,"last_page"),e.k0s()())}function $h(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",32)(1,"ngb-pagination",33),e.bIt("pageChange",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.handlePage(n))}),e.DNE(2,Ah,3,0,"ng-template",34)(3,Rh,3,0,"ng-template",35)(4,Oh,3,0,"ng-template",36)(5,jh,3,0,"ng-template",37),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("collectionSize",t.walletCount)("pageSize",t.pageSize)("boundaryLinks",!0)("maxSize",10)}}function Mh(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",40)(1,"h5",41),e.EFF(2,"Wallet details"),e.k0s(),e.j41(3,"button",42),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",43),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",44)(7,"app-admin-fiat-wallet-details",45),e.bIt("close",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onCloseDetails())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(7),e.Y8G("permission",t.permission)("wallet",t.selectedWallet)}}let sa=(()=>{class a{constructor(t,i,n,o,s){this.modalService=t,this.auth=i,this.adminService=n,this.activeRoute=o,this.router=s,this.filterFields=["users","search","zeroBalance"],this.displayedColumns=["details","userId","balance","asset","created"],this.inProgress=!1,this.permission=0,this.walletCount=0,this.wallets=[],this.pageSize=50,this.pageIndex=0,this.sortedField="created",this.sortedDesc=!0,this.filter=new G({}),this.adminAdditionalSettings={},this.subscriptions=new R.yU,this.detailsDialog=void 0;const l=o.snapshot.params.userid,m=o.snapshot.params.vaultids;if(l&&(this.filter.users=[l]),m){const u=m.split("#");this.filter.walletIds=u}this.permission=this.auth.isPermittedObjectCode(c.G4.Wallets)}ngOnInit(){this.loadCommonSettings(),this.loadWallets()}ngOnDestroy(){this.subscriptions.unsubscribe()}ngAfterViewInit(){this.subscriptions.add(this.sort.sortChange.subscribe(()=>{this.sortedDesc="desc"===this.sort.direction,this.sortedField=this.sort.active,this.loadWallets()}))}onSaveWallet(){this.selectedWallet=void 0,this.detailsDialog&&(this.detailsDialog.close(),this.loadWallets())}onCloseDetails(){this.detailsDialog&&this.detailsDialog.dismiss()}handleFilterApplied(t){this.filter=t,this.loadWallets()}handlePage(t){this.pageIndex=t-1,this.loadWallets()}toggleDetails(t){this.selectedWallet=this.isSelectedWallet(t.id)?void 0:t}showDetails(t,i){this.selectedWallet=t,this.detailsDialog=this.modalService.open(i,{backdrop:"static",windowClass:"modalCusSty"})}loadCommonSettings(){const t=this.auth.getLocalSettingsCommon();t&&(this.adminAdditionalSettings="string"==typeof t.adminAdditionalSettings?JSON.parse(t.adminAdditionalSettings):t.adminAdditionalSettings,this.adminAdditionalSettings?.tabs?.fiatWallet?.filterFields&&(this.filterFields=this.adminAdditionalSettings.tabs.fiatWallet.filterFields))}isSelectedWallet(t){return!!this.selectedWallet&&this.selectedWallet.id===t}loadWallets(){this.inProgress=!0;const t=this.adminService.getFiatWallets(this.pageIndex,this.pageSize,this.sortedField,this.sortedDesc,this.filter).pipe((0,P.s)(1));this.subscriptions.add(t.subscribe(({list:i,count:n})=>{this.wallets=i,this.walletCount=n,this.inProgress=!1},()=>{this.inProgress=!1,""===this.auth.token&&this.router.navigateByUrl("/")}))}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(_.Bq),e.rXU(I.u),e.rXU(E),e.rXU(w.nX),e.rXU(w.Ix))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-fiat-wallets"]],viewQuery:function(i,n){if(1&i&&e.GBs($.B4,5),2&i){let o;e.mGM(o=e.lsd())&&(n.sort=o.first)}},decls:30,vars:14,consts:[["details_content",""],[3,"title","items","active_item"],[1,"row","row-sm"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],[3,"filter","filterType","fields","filterData"],["color","accent","mode","indeterminate",4,"ngIf"],[1,"data-table"],["matSort","","matSortDirection","desc","matSortDisableClear","",3,"matSortActive","dataSource"],["matColumnDef","details","sticky",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","wallet-list-selector-column",4,"matCellDef"],["matColumnDef","userId"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","class","wallet-list-data-column",4,"matCellDef"],["matColumnDef","balance"],["matColumnDef","asset"],["matColumnDef","created"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","card card-body border shadow-none",4,"ngIf"],["color","accent","mode","indeterminate"],["mat-header-cell",""],["mat-cell","",1,"wallet-list-selector-column"],["mat-icon-button","","matTooltip","Wallet details","matTooltipClass","info-tooltip",1,"row-button",3,"click"],[1,"material-icons",2,"font-size","20px"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"wallet-list-data-column"],["mat-header-row",""],["mat-row",""],[1,"card","card-body","border","shadow-none"],["aria-label","Table pagination",1,"d-flex","justify-content-center",3,"pageChange","collectionSize","pageSize","boundaryLinks","maxSize"],["ngbPaginationFirst",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationLast",""],[1,"ng-pagination-nav-icons"],[1,"material-icons"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"close","permission","wallet"]],template:function(i,n){if(1&i){const o=e.RV6();e.nrm(0,"app-admin-page-header",1),e.j41(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"app-admin-filter",7),e.bIt("filter",function(l){return e.eBV(o),e.Njj(n.handleFilterApplied(l))}),e.k0s(),e.DNE(7,vh,1,0,"mat-progress-bar",8),e.j41(8,"div",9)(9,"mat-table",10),e.qex(10,11),e.DNE(11,yh,1,0,"th",12)(12,Ch,4,2,"td",13),e.bVm(),e.qex(13,14),e.DNE(14,kh,2,0,"th",15)(15,Fh,2,1,"td",16),e.bVm(),e.qex(16,17),e.DNE(17,Th,2,0,"th",15)(18,xh,2,1,"td",16),e.bVm(),e.qex(19,18),e.DNE(20,wh,2,0,"th",12)(21,Sh,2,1,"td",16),e.bVm(),e.qex(22,19),e.DNE(23,Dh,2,0,"th",12)(24,Ih,2,1,"td",16),e.bVm(),e.DNE(25,Eh,1,0,"tr",20)(26,Ph,1,0,"tr",21),e.k0s()(),e.DNE(27,$h,6,4,"div",22)(28,Mh,8,2,"ng-template",null,0,e.C5r),e.k0s()()()()()}2&i&&(e.Y8G("title","Fiat wallets")("items",e.lJ4(13,bh))("active_item","Fiat wallets"),e.R7$(6),e.Y8G("filterType","fiatWallets")("fields",n.filterFields)("filterData",n.filter),e.R7$(),e.Y8G("ngIf",n.inProgress),e.R7$(2),e.Y8G("matSortActive",n.sortedField)("dataSource",n.wallets),e.R7$(16),e.Y8G("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),e.R7$(),e.Y8G("matRowDefColumns",n.displayedColumns),e.R7$(),e.Y8G("ngIf",n.walletCount>n.pageSize))},dependencies:[h.bT,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,$.B4,$.aE,_.s5,_.gA,_.ug,_.PB,_.hO,ie.oV,K.iY,z.HM,X,Te,_h],styles:[".datatable-body{height:600px!important;overflow:scroll;width:100%}  .dataTable-bottom{position:absolute;left:0;right:0;bottom:0;background:#fff!important}  table th,   table td,   .ngx-datatable.material .datatable-header .datatable-header-cell,   .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{font-size:.876rem!important}@media (max-width: 567.9px){  .ngx-datatable .datatable-footer .datatable-footer-inner{flex-wrap:wrap;height:auto!important}  .ngx-datatable .datatable-footer .datatable-pager{text-align:center!important}}  .dataTable-wrapper.no-footer .dataTable-container{border-bottom:none!important}  .dataTable-selector{border-radius:.25rem}  app-data-table input{border-radius:25px;border:1px solid rgba(0,0,0,.1)}  app-data-table .custom-select{border:1px solid rgba(0,0,0,.24)!important;border-radius:.25rem}.table-responsive[_ngcontent-%COMP%]{overflow:visible}  .dark-theme input::placeholder{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material{background-color:#2a2e3f!important}  .dark-theme app-data-tables .dataTable-bottom{background-color:#2a2e3f!important}  .dark-theme app-data-tables .dataTable-selector{background-color:#2a2e3f;border-color:#272c49;color:#fff;outline:none}  .dark-theme app-data-tables input{color:#eee!important;background-color:#2a2e3f!important;border-color:#262b48;border-radius:25px;height:27px}  .dark-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .dark-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#2a2e3f;color:#fff}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid rgb(39,43,74)!important;color:#fff!important;background:#2a2e3f!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #32394e!important}  .dark-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .dark-theme app-data-tables .dataTable-pagination li:hover a,   .dark-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .dark-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .dark-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .dark-theme app-data-tables .mat-mdc-table{background:#2a2e3f!important}  .dark-theme app-data-tables .mat-mdc-header-cell{color:#fff!important}  .dark-theme app-data-tables .mat-mdc-cell,   .dark-theme app-data-tables .mat-mdc-footer-cell{color:#eee!important}  .dark-theme app-data-tables mat-row,   .dark-theme app-data-tables mat-header-row,   .dark-theme app-data-tables mat-footer-row,   .dark-theme app-data-tables th.mat-mdc-header-cell,   .dark-theme app-data-tables td.mat-mdc-cell,   .dark-theme app-data-tables td.mat-mdc-footer-cell{border-bottom-color:#ffffff1f!important}  .dark-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .dark-theme app-data-tables .mat-mdc-paginator,   .dark-theme app-data-tables .mat-mdc-paginator-page-size .mat-mdc-select-trigger{color:#ffffff8a!important}  .dark-theme app-data-tables .mat-mdc-paginator{background:#2a2e3f}  .dark-theme app-data-tables .mat-mdc-select-value{color:#fff7f7de}  .dark-theme app-data-tables .mat-mdc-select-arrow{color:#ffffffba}  .dark-theme .mat-mdc-select-panel{background:#30304d}  .dark-theme .mat-mdc-option{color:#ccc}  .dark-theme .mat-primary .mat-mdc-option.mat-selected:not(.mat-option-disabled){color:#fff}  .dark-theme .mat-mdc-option:hover:not(.mat-option-disabled),   .dark-theme .mat-option:focus:not(.mat-option-disabled){background:#2a2a44}  .dark-theme .mat-mdc-select-panel .mat-mdc-option.mat-selected:not(.mat-mdc-option-multiple){background:#0000001f}  .dark-theme .table-hover>tbody>tr:hover>*{color:#fff}  .dark-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme input::placeholder{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material{background-color:#2da28f!important}  .transparent-theme app-data-tables .dataTable-bottom{background-color:#2da28f!important}  .transparent-theme app-data-tables .dataTable-selector{background-color:#2da28f;border-color:#4cb0a0;color:#fff;outline:none}  .transparent-theme app-data-tables input{color:#eee!important;background-color:#2da28f!important;border-color:#4cb0a0;border-radius:25px;height:27px}  .transparent-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .transparent-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#2da28f;color:#fff}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid #4cb0a0!important;color:#fff!important;background:#2da28f!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #4cb0a0!important}  .transparent-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .transparent-theme app-data-tables .dataTable-pagination li:hover a,   .transparent-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .transparent-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .transparent-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .transparent-theme app-data-tables .mat-mdc-table{background:#2da28f!important}  .transparent-theme app-data-tables .mat-mdc-header-cell{color:#fff!important}  .transparent-theme app-data-tables .mat-mdc-cell,   .transparent-theme app-data-tables .mat-mdc-footer-cell{color:#eee!important}  .transparent-theme app-data-tables mat-row,   .transparent-theme app-data-tables mat-header-row,   .transparent-theme app-data-tables mat-footer-row,   .transparent-theme app-data-tables th.mat-mdc-header-cell,   .transparent-theme app-data-tables td.mat-mdc-cell,   .transparent-theme app-data-tables td.mat-mdc-footer-cell{border-bottom-color:#ffffff1f!important}  .transparent-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .transparent-theme app-data-tables .mat-mdc-paginator,   .transparent-theme app-data-tables .mat-mdc-paginator-page-size .mat-mdc-select-trigger{color:#ffffff8a!important}  .transparent-theme app-data-tables .mat-mdc-paginator{background:#2da28f}  .transparent-theme app-data-tables .mat-mdc-select-value{color:#fff7f7de}  .transparent-theme app-data-tables .mat-mdc-select-arrow{color:#ffffffba}  .transparent-theme .mat-mdc-select-panel{background:#30304d}  .transparent-theme .mat-mdc-option{color:#ccc}  .transparent-theme .mat-primary .mat-mdc-option.mat-selected:not(.mat-option-disabled){color:#fff}  .transparent-theme .mat-mdc-option:hover:not(.mat-option-disabled),   .transparent-theme .mat-option:focus:not(.mat-option-disabled){background:#2a2a44}  .transparent-theme .mat-mdc-select-panel .mat-mdc-option.mat-selected:not(.mat-mdc-option-multiple){background:#0000001f}  .transparent-theme .table-hover>tbody>tr:hover>*{color:#fff}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{background-color:#248272!important}.data-table[_ngcontent-%COMP%]{flex:1 1 0;overflow:auto;margin-top:5px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]{display:table;min-width:100%}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:32px;line-height:32px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   tr.mat-mdc-header-row[_ngcontent-%COMP%]{height:40px;line-height:40px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]{padding:0 4px;white-space:nowrap;font-size:16px;font-weight:400;color:#0000008a;font-family:Roboto,sans-serif}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell.action[_ngcontent-%COMP%]{width:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]{padding:1px 4px 0;line-height:29px;white-space:nowrap}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%]{width:16px;height:16px;font-size:16px;vertical-align:middle;position:relative;top:-1px}.data-table[_ngcontent-%COMP%]   .row-button[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0;position:relative;top:5px;padding:1px}.data-table[_ngcontent-%COMP%]   .row-button[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:16px;height:16px;width:16px;line-height:16px}.data-table[_ngcontent-%COMP%]   .row-icon[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0;position:relative;top:5px}mat-mdc-paginator[_ngcontent-%COMP%]{flex:0 0 auto}table[_ngcontent-%COMP%]{width:100%}.table-button-container[_ngcontent-%COMP%]{padding-bottom:16px}.wallet-list-selector-column[_ngcontent-%COMP%]{margin:0;padding:0 8px}.wallet-list-data-column[_ngcontent-%COMP%]{margin:0;padding:0}.ng-pagination-nav-icons[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:12px}"]})}return a})();var Pt=f(3801),la=f(7468),de=f(8389);const bn=f(8088);let da=(()=>{class a{constructor(t,i){this.el=t,this.renderer=i}onInputChange(){const i=this.el.nativeElement.value;if(i||this.elRequired){if(i&&this.elCurrency){const n=(0,ae.Mo)(this.elCurrency).toLowerCase();bn.findCurrency(n)?bn.validate(i,n,pe.Li.test_wallets?"both":"prod")?this.clearError():this.showError():this.clearError()}}else this.clearError()}showError(){this.renderer.setStyle(this.el.nativeElement,"border","1px solid red"),this.renderer.setAttribute(this.el.nativeElement,"data-error","ERROR")}clearError(){this.renderer.removeStyle(this.el.nativeElement,"border"),this.renderer.removeAttribute(this.el.nativeElement,"data-error")}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.aKT),e.rXU(e.sFG))};static#t=this.\u0275dir=e.FsC({type:a,selectors:[["","appAddressValidator",""]],hostBindings:function(i,n){1&i&&e.bIt("input",function(){return n.onInputChange()})},inputs:{elCurrency:"elCurrency",elRequired:"elRequired"}})}return a})();var Le=f(6492);const ca=a=>({"has-error":a}),At=()=>({standalone:!0});function Nh(a,r){1&a&&(e.j41(0,"div",54)(1,"small"),e.EFF(2," Please specify a user "),e.k0s()())}function Vh(a,r){1&a&&(e.j41(0,"div",54)(1,"small"),e.EFF(2," Widget name is required "),e.k0s()())}function Gh(a,r){1&a&&(e.j41(0,"div",10)(1,"label",11),e.EFF(2," Secret phrase "),e.k0s(),e.nrm(3,"input",55),e.k0s())}function Bh(a,r){if(1&a){const t=e.RV6();e.j41(0,"th")(1,"i",56),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addWidgetDestinationAddress())}),e.EFF(2," add_circle "),e.k0s()()}}function Uh(a,r){if(1&a){const t=e.RV6();e.j41(0,"td")(1,"i",56),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG();return e.Njj(o.delWidgetDestinationAddress(n))}),e.EFF(2," cancel "),e.k0s()()}}function Lh(a,r){1&a&&(e.j41(0,"th"),e.EFF(1," Currency "),e.k0s())}function Yh(a,r){if(1&a){const t=e.RV6();e.j41(0,"td",57)(1,"ng-select",58),e.bIt("change",function(){const n=e.eBV(t).$implicit;return e.Njj(n.destination="")}),e.mxI("ngModelChange",function(n){const o=e.eBV(t).$implicit;return e.DH7(o.currency,n)||(o.currency=n),e.Njj(n)}),e.k0s()()}if(2&a){const t=r.$implicit,i=e.XpG();e.R7$(),e.R50("ngModel",t.currency),e.Y8G("ngModelOptions",e.lJ4(7,At))("items",i.currencyDestinationOptions)("clearable",!1)("clearOnBackspace",!0)("hideSelected",!0)("closeOnSelect",!0)}}function qh(a,r){1&a&&(e.j41(0,"th"),e.EFF(1," Destination "),e.k0s())}function Wh(a,r){if(1&a){const t=e.RV6();e.j41(0,"td",57)(1,"input",59),e.mxI("ngModelChange",function(n){const o=e.eBV(t).$implicit;return e.DH7(o.destination,n)||(o.destination=n),e.Njj(n)}),e.k0s()()}if(2&a){const t=r.$implicit,i=r.index;e.R7$(),e.Y8G("id","input-"+i)("elCurrency",t.currency)("elRequired",t.destinationRequired)("ngClass",e.eq3(7,ca,t.destinationRequired&&!t.destination)),e.R50("ngModel",t.destination),e.Y8G("ngModelOptions",e.lJ4(9,At))("required",t.destinationRequired)}}function Xh(a,r){1&a&&e.nrm(0,"tr",60)}function zh(a,r){1&a&&e.nrm(0,"tr",61)}function Hh(a,r){if(1&a){const t=e.RV6();e.j41(0,"th")(1,"i",56),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addMerchantFeeDestinationAddress())}),e.EFF(2," add_circle "),e.k0s()()}}function Kh(a,r){if(1&a){const t=e.RV6();e.j41(0,"td")(1,"i",56),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG();return e.Njj(o.delMerchantFeeDestinationAddress(n))}),e.EFF(2," cancel "),e.k0s()()}}function Jh(a,r){1&a&&(e.j41(0,"th"),e.EFF(1," Currency "),e.k0s())}function Qh(a,r){if(1&a){const t=e.RV6();e.j41(0,"td",57)(1,"ng-select",58),e.bIt("change",function(){const n=e.eBV(t).$implicit;return e.Njj(n.destination="")}),e.mxI("ngModelChange",function(n){const o=e.eBV(t).$implicit;return e.DH7(o.currency,n)||(o.currency=n),e.Njj(n)}),e.k0s()()}if(2&a){const t=r.$implicit,i=e.XpG();e.R7$(),e.R50("ngModel",t.currency),e.Y8G("ngModelOptions",e.lJ4(7,At))("items",i.currencyMerchantDestinationOptions)("clearable",!1)("clearOnBackspace",!0)("hideSelected",!0)("closeOnSelect",!0)}}function Zh(a,r){1&a&&(e.j41(0,"th"),e.EFF(1," Destination "),e.k0s())}function ef(a,r){if(1&a){const t=e.RV6();e.j41(0,"td",57)(1,"input",62),e.mxI("ngModelChange",function(n){const o=e.eBV(t).$implicit;return e.DH7(o.destination,n)||(o.destination=n),e.Njj(n)}),e.k0s()()}if(2&a){const t=r.$implicit,i=r.index;e.R7$(),e.Y8G("id","m-input-"+i)("elCurrency",t.currency)("elRequired",!0)("ngClass",e.eq3(7,ca,!t.destination)),e.R50("ngModel",t.destination),e.Y8G("ngModelOptions",e.lJ4(9,At))("required",!0)}}function tf(a,r){1&a&&e.nrm(0,"tr",60)}function af(a,r){1&a&&e.nrm(0,"tr",61)}function nf(a,r){if(1&a&&(e.j41(0,"ng-option",63),e.nrm(1,"app-dropdown-item",64),e.k0s()),2&a){const t=r.$implicit,i=e.XpG();e.Y8G("value",t),e.R7$(),e.FS9("itemValue",t.name),e.Mz_("imageSource","assets/svg-country-flags/",i.getCountryFlag(t.code2),"")}}function rf(a,r){1&a&&(e.j41(0,"div",54)(1,"small"),e.EFF(2," Liquidity provider name is required "),e.k0s()())}function of(a,r){if(1&a&&(e.j41(0,"div",10)(1,"label",11),e.EFF(2," Payment Providers "),e.k0s(),e.nrm(3,"ng-select",65),e.k0s()),2&a){const t=e.XpG();e.R7$(3),e.Y8G("items",t.filteredProviders)("clearable",!0)("clearOnBackspace",!0)("multiple",!0)("closeOnSelect",!1)}}function sf(a,r){if(1&a&&(e.j41(0,"div",66)(1,"h4",67),e.EFF(2),e.k0s()()),2&a){const t=e.XpG();e.R7$(2),e.SpI(" ",t.errorMessage," ")}}function lf(a,r){1&a&&e.nrm(0,"span",71)}function df(a,r){1&a&&e.nrm(0,"span",71)}function cf(a,r){if(1&a){const t=e.RV6();e.qex(0),e.j41(1,"button",68),e.DNE(2,lf,1,0,"span",69),e.EFF(3," Save "),e.k0s(),e.j41(4,"button",70),e.bIt("click",function(){e.eBV(t);const n=e.XpG(),o=e.sdS(180);return e.Njj(n.onDeleteWidget(o))}),e.DNE(5,df,1,0,"span",69),e.EFF(6," Delete "),e.k0s(),e.bVm()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("disabled",!t.form.valid),e.R7$(),e.Y8G("ngIf",t.saveInProgress),e.R7$(3),e.Y8G("ngIf",t.deleteInProgress)}}function mf(a,r){1&a&&(e.qex(0),e.nrm(1,"app-spinner"),e.bVm())}function pf(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",72)(1,"h5",73),e.EFF(2,"Delete widget"),e.k0s(),e.j41(3,"button",74),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",75),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",76)(7,"h4",77),e.EFF(8," You are going to delete selected widget. Confirm operation. "),e.k0s(),e.j41(9,"div",78)(10,"button",79),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Reject"))}),e.EFF(11," Reject "),e.k0s(),e.j41(12,"button",80),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.close("Confirm"))}),e.EFF(13," Confirm "),e.k0s()()()}}let uf=(()=>{class a{set widget(t){t&&(this.setFormData(t),this.widgetDetails=t)}constructor(t,i,n,o,s,l){this.formBuilder=t,this.router=i,this.auth=n,this.modalService=o,this.commonService=s,this.adminService=l,this.permission=0,this.save=new e.bkB,this.close=new e.bkB,this.displayedColumns=["details","currency","destination"],this.isLoading=!1,this.saveInProgress=!1,this.deleteInProgress=!1,this.errorMessage="",this.currencyDestinationOptions=[],this.currencyMerchantDestinationOptions=[],this.currenciesTable=[],this.merchantFeeDestinationTable=[],this.currencyOptionsFiat=[],this.paymentProviderOptions=[],this.filteredProviders=[],this.showPaymentProviders=!0,this.countryOptions=re.rX,this.instrumentOptions=F.m0,this.liquidityProviderOptions=ct,this.userTypeOptions=F.GV,this.transactionTypeOptions=F.ln,this.isUsersLoading=!1,this.usersSearchInput$=new y.B,this.usersOptions$=(0,S.of)([]),this.minUsersLengthTerm=1,this.widgetAdditionalSettings={},this.adminAdditionalSettings={},this.form=this.formBuilder.group({id:[null],countries:[[]],currenciesFiat:[[]],destinationAddress:[""],instruments:[[]],liquidityProvider:["",{validators:[d.k0.required],updateOn:"change"}],paymentProviders:[[]],transactionTypes:[[]],user:[null,{validators:[d.k0.required],updateOn:"change"}],name:[void 0,{validators:[d.k0.required],updateOn:"change"}],description:[""],secret:[""],userType:[c.ut.Personal,{validators:[d.k0.required],updateOn:"change"}],allowToPayIfKycFailed:!0,newVaultPerTransaction:!1,kycBeforePayment:!1,disclaimer:!1,twoFA:!1,showRate:!0,masked:!1,minAmountFrom:[0,{validators:[d.k0.pattern(de.n)],updateOn:"change"}],maxAmountFrom:[0,{validators:[d.k0.pattern(de.n)],updateOn:"change"}],fee:[0,{validators:[d.k0.pattern(de.n)],updateOn:"change"}],merchantFeeMinAmount:[0,{validators:[d.k0.pattern(de.n)],updateOn:"change"}],merchantFeePercent:[0,{validators:[d.k0.pattern(de.n)],updateOn:"change"}]}),this.destroy$=new y.B}ngOnInit(){this.loadCommonSettings(),this.initUserSearch(),this.form.get("instruments")?.valueChanges.pipe((0,T.Q)(this.destroy$)).subscribe(t=>this.filterPaymentProviders(t)),this.loadPaymentProvidersAndCurrencies()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadCommonSettings(){const t=this.auth.getLocalSettingsCommon();t&&(this.adminAdditionalSettings="string"==typeof t.adminAdditionalSettings?JSON.parse(t.adminAdditionalSettings):t.adminAdditionalSettings,this.transactionTypeOptions=this.transactionTypeOptions.filter(i=>!1!==this.adminAdditionalSettings?.transactionType[i.id]),this.liquidityProviderOptions=this.liquidityProviderOptions.filter(i=>!1!==this.adminAdditionalSettings?.liquidityProvider[i.id]),this.instrumentOptions=this.instrumentOptions.filter(i=>!1!==this.adminAdditionalSettings?.paymentMethods[i.id]),this.userTypeOptions=this.userTypeOptions.filter(i=>!1!==this.adminAdditionalSettings?.userType[i.id]))}initUserSearch(){this.usersOptions$=(0,ke.x)((0,S.of)([]),this.usersSearchInput$.pipe((0,W.p)(t=>null!==t&&t.length>=this.minUsersLengthTerm),(0,q.B)(300),(0,Y.F)(),(0,D.M)(()=>this.isUsersLoading=!0),(0,J.n)(t=>(this.isUsersLoading=!1,this.adminService.findUsers(new G({search:t,accountTypes:[c.ut.Merchant]})).pipe((0,b.T)(i=>i.list))))))}setFormData(t){if(t){let i=c.ut.Personal;t.additionalSettings&&(this.widgetAdditionalSettings=JSON.parse(t.additionalSettings),this.widgetAdditionalSettings.userType&&this.userTypeOptions.some(o=>o.id===this.widgetAdditionalSettings.userType)&&(i=this.widgetAdditionalSettings.userType)),(t.userId?this.getUserFilteredOptions(t.userId).pipe((0,P.s)(1),(0,b.T)(o=>o.find(s=>s.id===t.userId))):(0,S.of)(void 0)).pipe((0,T.Q)(this.destroy$)).subscribe(o=>{this.form.setValue({id:t.id,countries:t.countriesCode2?.map(s=>this.countryOptions.find(l=>l.code2===s))??[],currenciesFiat:t.currenciesFiat??[],destinationAddress:t.destinationAddress??"",instruments:t.instruments??[],liquidityProvider:t.liquidityProvider??null,paymentProviders:t.paymentProviders??[],transactionTypes:t.transactionTypes??[],user:o??null,name:t.name??"Widget",description:t.description,secret:t.secret,allowToPayIfKycFailed:t.allowToPayIfKycFailed,newVaultPerTransaction:t.newVaultPerTransaction,userType:i,kycBeforePayment:this.widgetAdditionalSettings?.kycBeforePayment??!1,showRate:this.widgetAdditionalSettings?.showRate??!0,masked:t.masked??!1,twoFA:this.widgetAdditionalSettings?.twoFA??!1,disclaimer:this.widgetAdditionalSettings?.disclaimer??!1,minAmountFrom:this.widgetAdditionalSettings?.minAmountFrom??0,maxAmountFrom:this.widgetAdditionalSettings?.maxAmountFrom??0,fee:t?.fee??0,merchantFeePercent:t.merchantFeePercent??0,merchantFeeMinAmount:t.merchantFeeMinAmount})})}}getWidgetItem(){const t=new ia(null),i=this.form.value;if(t.id=i.id,t.name=i.name,t.description=i.description,t.userId=i.user.id,t.countriesCode2=i.countries.map(n=>n.code2),this.widgetAdditionalSettings.userType=i.userType,this.widgetAdditionalSettings.kycBeforePayment=i.kycBeforePayment,this.widgetAdditionalSettings.twoFA=i.twoFA,this.widgetAdditionalSettings.showRate=i.showRate,this.widgetAdditionalSettings.maxAmountFrom=i.maxAmountFrom,this.widgetAdditionalSettings.minAmountFrom=i.minAmountFrom,this.widgetAdditionalSettings.disclaimer=i.disclaimer,this.currenciesTable._data._value?.length>0&&this.currenciesTable._data._value[0].currency){if(this.currenciesTable._data._value?.some(n=>n.destination)){if(this.currenciesTable._data._value.forEach(n=>n.destinationRequired=!0),!this.currenciesTable._data._value.every(n=>n.currency&&" "!==n.destination&&n.destination))return;for(const n of this.currenciesTable._data._value)n.selected&&(t.currenciesCrypto.push(n.currency),t.destinationAddress.push({currency:n.currency,destination:n.destination}))}if(this.currenciesTable._data._value.every(n=>n.currency&&!n.destination)){this.currenciesTable._data._value.forEach(n=>n.destinationRequired=!1);for(const n of this.currenciesTable._data._value)n.selected&&t.currenciesCrypto.push(n.currency)}}if(this.merchantFeeDestinationTable._data._value?.length>0)for(const n of this.merchantFeeDestinationTable._data._value)n.selected&&t.merchantFeeDestinationAddress.push({currency:n.currency,destination:n.destination});if(!t.merchantFeeDestinationAddress.some(n=>!n.currency||!n.destination||""===n.destination)&&!this.inputElements.some(n=>n.el.nativeElement.hasAttribute("data-error")))return t.additionalSettings=JSON.stringify(this.widgetAdditionalSettings),t.currenciesFiat=i.currenciesFiat,t.instruments=i.instruments,t.liquidityProvider=i.liquidityProvider,t.paymentProviders=i.paymentProviders,t.transactionTypes=i.transactionTypes,t.secret=i.secret,t.allowToPayIfKycFailed=i.allowToPayIfKycFailed,t.fee=i.fee,t.merchantFeeMinAmount=i.merchantFeeMinAmount,t.merchantFeePercent=i.merchantFeePercent,t.newVaultPerTransaction=i.newVaultPerTransaction,t.masked=i.masked,t}loadPaymentProvidersAndCurrencies(){const t=this.adminService.getProviders()?.valueChanges.pipe((0,P.s)(1)),i=this.commonService.getSettingsCurrency()?.valueChanges.pipe((0,P.s)(1));this.isLoading=!0,(0,la.p)([t,i]).pipe((0,T.Q)(this.destroy$)).subscribe({next:n=>{const o=n[0].data.getPaymentProviders,s=n[1].data.getSettingsCurrency;if(this.paymentProviderOptions=o?.map(l=>new F.LP(l)),this.filterPaymentProviders(this.form.get("instruments")?.value??[]),s.settingsCurrency&&s.settingsCurrency.count&&s.settingsCurrency.list&&0!==s.settingsCurrency.list?.length){const l=[],m=[];for(const u of s.settingsCurrency.list)if(!1===u.fiat){const g=this.widgetDetails?.destinationAddress?.find(j=>j.currency===u.symbol),C=this.widgetDetails?.merchantFeeDestinationAddress?.find(j=>j.currency===u.symbol),x=this.widgetDetails?.currenciesCrypto.find(j=>j===u.symbol);l.push(new F.xD(u)),g?this.currenciesTable.push({currency:u.symbol,destination:g.destination,destinationRequired:!0,selected:!0}):x&&this.currenciesTable.push({currency:u.symbol,destination:"",destinationRequired:!1,selected:!0}),C&&this.merchantFeeDestinationTable.push({currency:u.symbol,destination:C.destination,selected:!0})}else!0===u.fiat&&m.push(new F.xD(u));this.currencyOptionsFiat=m,this.currencyDestinationOptions=[...l],this.currencyMerchantDestinationOptions=[...l],this.currenciesTable=new p.I6(this.currenciesTable),this.merchantFeeDestinationTable=new p.I6(this.merchantFeeDestinationTable)}this.isLoading=!1},error:n=>{this.errorMessage=n,this.isLoading=!1}})}getUserFilteredOptions(t){return t?this.adminService.findUsers(new G({search:t,accountTypes:[c.ut.Merchant]})).pipe((0,b.T)(i=>i.list)):(0,S.of)([])}filterPaymentProviders(t){this.filteredProviders=(0,ae.M)(t,this.paymentProviderOptions),this.showPaymentProviders=this.filteredProviders.length>0,this.paymentProviderOptions.length>0&&this.form.get("paymentProviders")?.setValue((0,ae.VY)(this.form.get("paymentProviders")?.value??[],this.filteredProviders))}getCountryFlag(t){return`${t.toLowerCase()}.svg`}onSubmit(){this.saveInProgress=!0;const t=this.getWidgetItem();t?this.adminService.saveWidget(t).pipe((0,T.Q)(this.destroy$)).subscribe({next:()=>{this.saveInProgress=!1,this.save.emit()},error:i=>{this.saveInProgress=!1,this.errorMessage=i,""===this.auth.token&&this.router.navigateByUrl("/")}}):this.saveInProgress=!1}onDeleteWidget(t){this.modalService.open(t,{backdrop:"static",windowClass:"modalCusSty"}).closed.pipe((0,T.Q)(this.destroy$)).subscribe(()=>this.deleteWidget(this.form.value.id))}addWidgetDestinationAddress(){if(this.currenciesTable._data._value?.length>0){if(!this.currenciesTable._data._value.at(-1).currency)return;this.currenciesTable._data._value.some(i=>i.destination)?(this.currenciesTable._data._value.forEach(i=>i.destinationRequired=!0),this.currenciesTable._data._value.push({currency:null,destination:"",destinationRequired:!0,selected:!0})):this.currenciesTable._data._value.every(i=>!i.destination)&&(this.currenciesTable._data._value.forEach(i=>i.destinationRequired=!1),this.currenciesTable._data._value.push({currency:null,destination:"",destinationRequired:!1,selected:!0}))}else this.currenciesTable._data._value.push({currency:null,destination:"",destinationRequired:!1,selected:!0});this.currenciesTable=new p.I6(this.currenciesTable._data._value)}delWidgetDestinationAddress(t){const i=[];for(const n of this.currenciesTable._data._value)n.currency!==t.currency&&i.push(n);this.currenciesTable=new p.I6(i),this.currenciesTable._data._value?.length>0&&(this.currenciesTable._data._value.some(n=>n.destination)?this.currenciesTable._data._value.forEach(n=>n.destinationRequired=!0):this.currenciesTable._data._value.every(n=>!n.destination)&&this.currenciesTable._data._value.forEach(n=>n.destinationRequired=!1))}addMerchantFeeDestinationAddress(){const t=this.merchantFeeDestinationTable._data._value.at(-1);t&&(!t.currency||!t.destination)||(this.merchantFeeDestinationTable._data._value.push({currency:null,destination:"",selected:!0}),this.merchantFeeDestinationTable=new p.I6(this.merchantFeeDestinationTable._data._value))}delMerchantFeeDestinationAddress(t){const i=[];for(const n of this.merchantFeeDestinationTable._data._value)n.currency!==t.currency&&i.push(n);this.merchantFeeDestinationTable=new p.I6(i)}deleteWidget(t){this.deleteInProgress=!0,this.adminService.deleteWidget(t).pipe((0,T.Q)(this.destroy$)).subscribe({next:()=>{this.deleteInProgress=!1,this.save.emit()},error:i=>{this.deleteInProgress=!1,this.errorMessage=i,""===this.auth.token&&this.router.navigateByUrl("/")}})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(d.ze),e.rXU(w.Ix),e.rXU(I.u),e.rXU(_.Bq),e.rXU(xe.X),e.rXU(E))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-widget-details"]],viewQuery:function(i,n){if(1&i&&e.GBs(da,5),2&i){let o;e.mGM(o=e.lsd())&&(n.inputElements=o)}},inputs:{permission:"permission",widget:"widget"},outputs:{save:"save",close:"close"},decls:181,vars:57,consts:[["delete_confirm_content",""],[1,"row"],[1,"col-md-12","col-lg-12","col-xl-12","mx-auto","d-block"],["novalidate","",3,"ngSubmit","formGroup"],[1,"col-lg-4","col-md-12"],[1,"card","card-body","pd-20","pd-md-40","border","shadow-none"],[1,"card-title","mg-b-20"],["label","Widget ID",3,"value"],["label","Widget link",3,"value"],["label","Quick Checkout link",3,"linkUrl","value"],[1,"form-group"],[1,"main-content-label","tx-11","tx-medium","tx-gray-600"],[1,"main-content-label","tx-11","tx-medium","tx-danger"],["bindLabel","extendedName","notFoundText","No users found","formControlName","user","typeToSearchText","Type email or user name","placeholder","Start typing to search a user","required","",3,"items","minTermLength","loading","multiple","typeahead"],["class","tx-danger",4,"ngIf"],["type","text","formControlName","name","maxlength","50","required","",1,"form-control",3,"ngClass"],["type","text","formControlName","description","maxlength","150",1,"form-control"],["class","form-group",4,"ngIf"],["type","number","formControlName","minAmountFrom",1,"form-control"],["type","number","formControlName","maxAmountFrom",1,"form-control"],["type","number","formControlName","fee",1,"form-control"],["type","number","formControlName","merchantFeePercent",1,"form-control"],[1,"__row-per-checkbox"],[1,"__tool-bar-block"],[1,"__tool-bar-label"],[1,"__tool-bar-block","mg-l-10-f"],[1,"__toggle-switch"],["type","checkbox","id","toggle-button","formControlName","allowToPayIfKycFailed",1,"__toggle-switch-slider"],["type","checkbox","id","toggle-button","formControlName","newVaultPerTransaction",1,"__toggle-switch-slider"],["type","checkbox","id","toggle-button","formControlName","kycBeforePayment",1,"__toggle-switch-slider"],["type","checkbox","id","toggle-button","formControlName","disclaimer",1,"__toggle-switch-slider"],["type","checkbox","id","toggle-button","formControlName","twoFA",1,"__toggle-switch-slider"],["type","checkbox","id","toggle-button","formControlName","showRate",1,"__toggle-switch-slider"],["type","checkbox","id","toggle-button","formControlName","masked",1,"__toggle-switch-slider"],["mat-table","",3,"dataSource"],["matColumnDef","details"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","currency"],["class","widget-list-data-column",4,"matCellDef"],["matColumnDef","destination"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["formControlName","countries",3,"clearable","clearOnBackspace","multiple","closeOnSelect"],[3,"value",4,"ngFor","ngForOf"],["bindLabel","display","bindValue","symbol","formControlName","currenciesFiat",3,"items","clearable","clearOnBackspace","multiple","closeOnSelect"],["bindLabel","name","bindValue","id","formControlName","instruments",3,"items","clearable","clearOnBackspace","multiple","closeOnSelect"],["bindLabel","name","bindValue","id","formControlName","liquidityProvider","required","",3,"items","clearable","clearOnBackspace"],["bindLabel","name","bindValue","id","formControlName","transactionTypes",3,"items","clearable","clearOnBackspace","multiple","closeOnSelect"],["bindLabel","name","bindValue","id","formControlName","userType","required","",3,"items","clearable","clearOnBackspace"],["class","card card-body card-danger pd-20 pd-md-40 border shadow-none",4,"ngIf"],[1,"d-flex","justify-content-end"],[4,"ngIf"],["type","button",1,"btn","btn-outline-primary","pd-x-30","mg-t-5",3,"click"],[1,"tx-danger"],["type","text","formControlName","secret","maxlength","100",1,"form-control"],[1,"material-icons","cursor-icon","tx-20",3,"click"],[1,"widget-list-data-column"],["bindLabel","display","bindValue","symbol",3,"change","ngModelChange","ngModel","ngModelOptions","items","clearable","clearOnBackspace","hideSelected","closeOnSelect"],["appAddressValidator","","type","text","maxlength","50",1,"form-control",3,"ngModelChange","id","elCurrency","elRequired","ngClass","ngModel","ngModelOptions","required"],["mat-header-row",""],["mat-row",""],["appAddressValidator","","type","text","maxlength","50",1,"was-validated","form-control",3,"ngModelChange","id","elCurrency","elRequired","ngClass","ngModel","ngModelOptions","required"],[3,"value"],["imageClass","country-flag-admin",3,"itemValue","imageSource"],["bindLabel","name","bindValue","id","formControlName","paymentProviders",3,"items","clearable","clearOnBackspace","multiple","closeOnSelect"],[1,"card","card-body","card-danger","pd-20","pd-md-40","border","shadow-none"],[1,"card-title2","mg-b-20","color_brown"],["type","submit",1,"btn","btn-primary","pd-x-30","me-2","mg-t-5",3,"disabled"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["type","button",1,"btn","btn-danger","pd-x-30","me-2","mg-t-5",3,"click"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"text-center"],[1,"d-flex","justify-content-center","align-items-center"],["type","button",1,"btn","btn-outline-secondary","pd-x-30","me-2","mg-t-5",3,"click"],["type","button",1,"btn","btn-danger","pd-x-30","mg-t-5",3,"click"]],template:function(i,n){if(1&i){const o=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"form",3),e.bIt("ngSubmit",function(){return e.eBV(o),e.Njj(n.onSubmit())}),e.j41(3,"div",1)(4,"div",4)(5,"div",5)(6,"h5",6),e.EFF(7," Widget Data "),e.k0s(),e.nrm(8,"app-admin-details-item",7)(9,"app-admin-details-item",8)(10,"app-admin-details-item",9),e.j41(11,"div",10)(12,"label",11),e.EFF(13," Owner's Email "),e.j41(14,"span",12),e.EFF(15,"*"),e.k0s()(),e.nrm(16,"ng-select",13),e.nI1(17,"async"),e.DNE(18,Nh,3,0,"div",14),e.k0s(),e.j41(19,"div",10)(20,"label",11),e.EFF(21," Widget name "),e.j41(22,"span",12),e.EFF(23,"*"),e.k0s()(),e.nrm(24,"input",15),e.DNE(25,Vh,3,0,"div",14),e.k0s(),e.j41(26,"div",10)(27,"label",11),e.EFF(28," Description "),e.k0s(),e.nrm(29,"input",16),e.k0s(),e.DNE(30,Gh,4,0,"div",17),e.k0s(),e.j41(31,"div",5)(32,"h5",6),e.EFF(33," Settings "),e.k0s(),e.j41(34,"div",10)(35,"label",11),e.EFF(36," Min. Amount "),e.k0s(),e.nrm(37,"input",18),e.k0s(),e.j41(38,"div",10)(39,"label",11),e.EFF(40," Max. Amount "),e.k0s(),e.nrm(41,"input",19),e.k0s(),e.j41(42,"div",10)(43,"label",11),e.EFF(44," Pre. Fee "),e.k0s(),e.nrm(45,"input",20),e.k0s(),e.j41(46,"div",10)(47,"label",11),e.EFF(48," Merchant. Fee, % "),e.k0s(),e.nrm(49,"input",21),e.k0s(),e.j41(50,"div",10)(51,"div",22)(52,"div",23)(53,"div",24),e.EFF(54," Allow to pay if kyc failed "),e.k0s()(),e.j41(55,"div",25)(56,"div",26),e.nrm(57,"input",27),e.k0s()()()(),e.j41(58,"div",10)(59,"div",22)(60,"div",23)(61,"div",24),e.EFF(62," New Vault Per Transaction "),e.k0s()(),e.j41(63,"div",25)(64,"div",26),e.nrm(65,"input",28),e.k0s()()()(),e.j41(66,"div",10)(67,"div",22)(68,"div",23)(69,"div",24),e.EFF(70," Kyc Before Payment "),e.k0s()(),e.j41(71,"div",25)(72,"div",26),e.nrm(73,"input",29),e.k0s()()()(),e.j41(74,"div",10)(75,"div",22)(76,"div",23)(77,"div",24),e.EFF(78," Disclaimer "),e.k0s()(),e.j41(79,"div",25)(80,"div",26),e.nrm(81,"input",30),e.k0s()()()(),e.j41(82,"div",10)(83,"div",22)(84,"div",23)(85,"div",24),e.EFF(86," 2FA "),e.k0s()(),e.j41(87,"div",25)(88,"div",26),e.nrm(89,"input",31),e.k0s()()()(),e.j41(90,"div",10)(91,"div",22)(92,"div",23)(93,"div",24),e.EFF(94," Show Rate "),e.k0s()(),e.j41(95,"div",25)(96,"div",26),e.nrm(97,"input",32),e.k0s()()()(),e.j41(98,"div",10)(99,"div",22)(100,"div",23)(101,"div",24),e.EFF(102," Mask "),e.k0s()(),e.j41(103,"div",25)(104,"div",26),e.nrm(105,"input",33),e.k0s()()()()()(),e.j41(106,"div",4)(107,"div",5)(108,"h5",6),e.EFF(109," Destination "),e.k0s(),e.j41(110,"div",10)(111,"table",34),e.qex(112,35),e.DNE(113,Bh,3,0,"th",36)(114,Uh,3,0,"td",37),e.bVm(),e.qex(115,38),e.DNE(116,Lh,2,0,"th",36)(117,Yh,2,8,"td",39),e.bVm(),e.qex(118,40),e.DNE(119,qh,2,0,"th",36)(120,Wh,2,10,"td",39),e.bVm(),e.DNE(121,Xh,1,0,"tr",41)(122,zh,1,0,"tr",42),e.k0s()()(),e.j41(123,"div",5)(124,"h5",6),e.EFF(125," Merchant fee destination "),e.k0s(),e.j41(126,"div",10)(127,"table",34),e.qex(128,35),e.DNE(129,Hh,3,0,"th",36)(130,Kh,3,0,"td",37),e.bVm(),e.qex(131,38),e.DNE(132,Jh,2,0,"th",36)(133,Qh,2,8,"td",39),e.bVm(),e.qex(134,40),e.DNE(135,Zh,2,0,"th",36)(136,ef,2,10,"td",39),e.bVm(),e.DNE(137,tf,1,0,"tr",41)(138,af,1,0,"tr",42),e.k0s()()()(),e.j41(139,"div",4)(140,"div",5)(141,"h5",6),e.EFF(142," Filtering Criteria "),e.k0s(),e.j41(143,"div",10)(144,"label",11),e.EFF(145," Countries "),e.k0s(),e.j41(146,"ng-select",43),e.DNE(147,nf,2,4,"ng-option",44),e.k0s()(),e.j41(148,"div",10)(149,"label",11),e.EFF(150," Fiat Currencies "),e.k0s(),e.nrm(151,"ng-select",45),e.k0s(),e.j41(152,"div",10)(153,"label",11),e.EFF(154," Payment Methods "),e.k0s(),e.nrm(155,"ng-select",46),e.k0s(),e.j41(156,"div",10)(157,"label",11),e.EFF(158," Liquidity provider "),e.j41(159,"span",12),e.EFF(160,"*"),e.k0s()(),e.nrm(161,"ng-select",47),e.DNE(162,rf,3,0,"div",14),e.k0s(),e.DNE(163,of,4,5,"div",17),e.j41(164,"div",10)(165,"label",11),e.EFF(166," Transaction types "),e.k0s(),e.nrm(167,"ng-select",48),e.k0s(),e.j41(168,"label",11),e.EFF(169," User Type "),e.j41(170,"span",12),e.EFF(171,"*"),e.k0s()(),e.nrm(172,"ng-select",49),e.k0s(),e.DNE(173,sf,3,1,"div",50),e.j41(174,"div",51),e.DNE(175,cf,7,3,"ng-container",52),e.j41(176,"button",53),e.bIt("click",function(){return e.eBV(o),e.Njj(n.close.emit())}),e.EFF(177," Close "),e.k0s()()()()(),e.DNE(178,mf,2,0,"ng-container",52),e.k0s()(),e.DNE(179,pf,14,0,"ng-template",null,0,e.C5r)}2&i&&(e.R7$(2),e.Y8G("formGroup",n.form),e.R7$(6),e.Y8G("value",(null==n.widgetDetails?null:n.widgetDetails.id)||""),e.R7$(),e.Y8G("value",(null==n.widgetDetails?null:n.widgetDetails.maskLink)||""),e.R7$(),e.Y8G("linkUrl",(null==n.widgetDetails?null:n.widgetDetails.link)||"")("value",(null==n.widgetDetails?null:n.widgetDetails.link)||""),e.R7$(6),e.Y8G("items",e.bMT(17,53,n.usersOptions$))("minTermLength",n.minUsersLengthTerm)("loading",n.isUsersLoading)("multiple",!1)("typeahead",n.usersSearchInput$),e.R7$(2),e.Y8G("ngIf",n.form.controls.user.touched&&(null==n.form.controls.user.errors?null:n.form.controls.user.errors.required)),e.R7$(6),e.Y8G("ngClass",e.eq3(55,ca,n.form.controls.name.touched&&!n.form.controls.name.valid)),e.R7$(),e.Y8G("ngIf",n.form.controls.name.touched&&(null==n.form.controls.name.errors?null:n.form.controls.name.errors.required)),e.R7$(5),e.Y8G("ngIf",null==n.adminAdditionalSettings||null==n.adminAdditionalSettings.widgetDetails?null:n.adminAdditionalSettings.widgetDetails.secret),e.R7$(81),e.Y8G("dataSource",n.currenciesTable),e.R7$(10),e.Y8G("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),e.R7$(),e.Y8G("matRowDefColumns",n.displayedColumns),e.R7$(5),e.Y8G("dataSource",n.merchantFeeDestinationTable),e.R7$(10),e.Y8G("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),e.R7$(),e.Y8G("matRowDefColumns",n.displayedColumns),e.R7$(8),e.Y8G("clearable",!0)("clearOnBackspace",!0)("multiple",!0)("closeOnSelect",!1),e.R7$(),e.Y8G("ngForOf",n.countryOptions),e.R7$(4),e.Y8G("items",n.currencyOptionsFiat)("clearable",!0)("clearOnBackspace",!0)("multiple",!0)("closeOnSelect",!1),e.R7$(4),e.Y8G("items",n.instrumentOptions)("clearable",!0)("clearOnBackspace",!0)("multiple",!0)("closeOnSelect",!1),e.R7$(6),e.Y8G("items",n.liquidityProviderOptions)("clearable",!1)("clearOnBackspace",!1),e.R7$(),e.Y8G("ngIf",n.form.controls.liquidityProvider.touched&&(null==n.form.controls.liquidityProvider.errors?null:n.form.controls.liquidityProvider.errors.required)),e.R7$(),e.Y8G("ngIf",n.showPaymentProviders),e.R7$(4),e.Y8G("items",n.transactionTypeOptions)("clearable",!0)("clearOnBackspace",!0)("multiple",!0)("closeOnSelect",!1),e.R7$(5),e.Y8G("items",n.userTypeOptions)("clearable",!1)("clearOnBackspace",!1),e.R7$(),e.Y8G("ngIf",""!==n.errorMessage),e.R7$(2),e.Y8G("ngIf",n.permission>1),e.R7$(3),e.Y8G("ngIf",n.isLoading))},dependencies:[h.YU,h.Sq,h.bT,d.qT,d.me,d.Q0,d.Zm,d.BC,d.cb,d.YS,d.tU,d.vS,d.j4,d.JD,da,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.YZ,p.NB,te,Oe,Le.t,Pe,he,h.Jj],styles:[".dark-theme .mat-mdc-button,   .dark-theme .mat-mdc-icon-button,   .dark-theme .mat-mdc-outlined-button{color:#b7c0d6!important}  .dark-theme .mat-form-field-label{color:#eee}  .dark-theme .mat-datepicker-content{background-color:#373d51;color:#ffffffde}  .dark-theme .mat-calendar-table-header,   .dark-theme .mat-calendar-body-label{color:#fff}@media (hover: hover){  .dark-theme .mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#2a2e3f}}  .dark-theme .mat-calendar-body-cell-content,   .dark-theme .mat-date-range-input-separator{color:#e1e1ef}  .dark-theme .ngb-dp-header{background-color:#343545}  .dark-theme .ngb-dp-weekdays{background-color:#343545}  .cursor-icon{border-radius:20px;cursor:pointer}  .cursor-icon:hover{background-color:#eaebeb}  .rtl .color-picker{left:initial!important}  .transparent-theme .card .box{background:#2da28f}  .transparent-theme .hex-text,   .transparent-theme .rgba-text{background:#2da28f}  .transparent-theme .mat-datepicker-content{background-color:#2da28f;color:#ffffffde}  .transparent-theme .mat-datepicker-toggle,   .transparent-theme .mat-datepicker-content .mat-calendar-next-button,   .transparent-theme .mat-datepicker-content .mat-calendar-previous-button{color:#ffffff81}  .transparent-theme .mat-calendar-body-cell-content,   .transparent-theme .mat-date-range-input-separator{color:#ffffffd3}  .transparent-theme .mat-calendar-table-header,   .transparent-theme .mat-calendar-body-label{color:#fff9}  .transparent-theme .ngb-dp-header{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekdays{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekday{color:#000}  .transparent-theme .ng-select .ng-arrow-wrapper .ng-arrow{border-top-color:#fff!important}  .transparent-theme .ng-select.ng-select-opened .ng-arrow-wrapper .ng-arrow{border-bottom-color:#fff!important}  .form-controls{display:block;color:#fff;border:transparent;outline:none;width:100%;height:40px;padding:.375rem .75rem;font-size:.875rem;font-weight:400;line-height:2;background-clip:padding-box;border-radius:5px;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}  button[type=button]{z-index:0!important}  .__row-per-checkbox{display:flex;flex-direction:row;justify-content:space-between}",".has-error[_ngcontent-%COMP%]{border:1px solid #f16d75}.tx-danger[_ngcontent-%COMP%]{color:red!important}"]})}return a})();const hf=()=>["Home"];function ff(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",37)(1,"button",38),e.bIt("click",function(){e.eBV(t);const n=e.XpG(),o=e.sdS(63);return e.Njj(n.addWidget(o))}),e.EFF(2," Add widget "),e.k0s(),e.j41(3,"button",39),e.bIt("click",function(){e.eBV(t);const n=e.XpG(),o=e.sdS(65);return e.Njj(n.export(o))}),e.EFF(4," Export "),e.k0s()()}}function gf(a,r){1&a&&e.nrm(0,"mat-progress-bar",40)}function _f(a,r){1&a&&e.nrm(0,"th",41)}function bf(a,r){if(1&a){const t=e.RV6();e.j41(0,"td",42)(1,"input",43),e.bIt("change",function(){const n=e.eBV(t).$implicit,o=e.XpG();return e.Njj(o.onWidgetSelected(n))}),e.k0s(),e.j41(2,"button",44),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG(),s=e.sdS(63);return e.Njj(o.showDetails(n,s))}),e.j41(3,"i",45),e.EFF(4," wysiwyg "),e.k0s()()()}if(2&a){const t=r.$implicit,i=e.XpG();e.R7$(),e.Y8G("checked",t.selected),e.R7$(),e.BMQ("aria-label","Widget details")("aria-pressed",!!i.selectedWidget)}}function vf(a,r){1&a&&(e.j41(0,"th",41),e.EFF(1," Name "),e.k0s())}function yf(a,r){if(1&a&&(e.j41(0,"td",46),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.name," ")}}function Cf(a,r){1&a&&(e.j41(0,"th",41),e.EFF(1," Widget ID "),e.k0s())}function kf(a,r){if(1&a&&(e.j41(0,"td",46),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.code," ")}}function Ff(a,r){1&a&&(e.j41(0,"th",41),e.EFF(1," Link "),e.k0s())}function Tf(a,r){if(1&a&&(e.j41(0,"td",47)(1,"a",48),e.EFF(2," Quick Checkout "),e.k0s()()),2&a){const t=r.$implicit;e.R7$(),e.Y8G("href",t.link,e.B4B)}}function xf(a,r){1&a&&(e.j41(0,"th",41),e.EFF(1," Created "),e.k0s())}function wf(a,r){if(1&a&&(e.j41(0,"td",46),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.created," ")}}function Sf(a,r){1&a&&(e.j41(0,"th",41),e.EFF(1," Created By "),e.k0s())}function Df(a,r){if(1&a&&(e.j41(0,"td",46),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.createdByName," ")}}function If(a,r){1&a&&(e.j41(0,"th",41),e.EFF(1," Transaction Types "),e.k0s())}function Ef(a,r){if(1&a&&(e.j41(0,"td",46),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",null==t.transactions?null:t.transactions.join(", ")," ")}}function Pf(a,r){1&a&&(e.j41(0,"th",41),e.EFF(1," Crypto Currencies "),e.k0s())}function Af(a,r){if(1&a&&(e.j41(0,"td",46),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",null==t.currenciesCrypto?null:t.currenciesCrypto.join(", ")," ")}}function Rf(a,r){1&a&&(e.j41(0,"th",41),e.EFF(1," Fiat Currencies "),e.k0s())}function Of(a,r){if(1&a&&(e.j41(0,"td",46),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",null==t.currenciesFiat?null:t.currenciesFiat.join(", ")," ")}}function jf(a,r){1&a&&(e.j41(0,"th",41),e.EFF(1," Destinations "),e.k0s())}function $f(a,r){if(1&a){const t=e.RV6();e.j41(0,"mat-chip",51),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG(2);return e.Njj(o.copyParameter(n.destination))}),e.j41(1,"span",52),e.EFF(2),e.k0s()()}if(2&a){const t=r.$implicit;e.R7$(2),e.Lme("",t.currency,": ",t.destination,"")}}function Mf(a,r){if(1&a&&(e.j41(0,"td",49)(1,"mat-chip-listbox"),e.DNE(2,$f,3,2,"mat-chip",50),e.k0s()()),2&a){const t=r.$implicit;e.R7$(2),e.Y8G("ngForOf",t.destinationAddress)}}function Nf(a,r){1&a&&(e.j41(0,"th",41),e.EFF(1," User notification Id "),e.k0s())}function Vf(a,r){if(1&a&&(e.j41(0,"td",47),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.userNotificationId," ")}}function Gf(a,r){1&a&&(e.j41(0,"th",41),e.EFF(1," Countries "),e.k0s())}function Bf(a,r){if(1&a&&(e.j41(0,"td",46),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",null==t.countries?null:t.countries.join(", ")," ")}}function Uf(a,r){1&a&&(e.j41(0,"th",41),e.EFF(1," Payment Methods "),e.k0s())}function Lf(a,r){if(1&a&&(e.j41(0,"td",46),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",null==t.instruments?null:t.instruments.join(", ")," ")}}function Yf(a,r){1&a&&(e.j41(0,"th",41),e.EFF(1," Payment providers "),e.k0s())}function qf(a,r){if(1&a&&(e.j41(0,"td",46),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",null==t.paymentProviders?null:t.paymentProviders.join(", ")," ")}}function Wf(a,r){1&a&&(e.j41(0,"th",41),e.EFF(1," Liquidity provider "),e.k0s())}function Xf(a,r){if(1&a&&(e.j41(0,"td",46),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.liquidityProvider," ")}}function zf(a,r){1&a&&(e.j41(0,"th",41),e.EFF(1," ID "),e.k0s())}function Hf(a,r){if(1&a&&(e.j41(0,"td",46),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.id," ")}}function Kf(a,r){1&a&&e.nrm(0,"tr",53)}function Jf(a,r){1&a&&e.nrm(0,"tr",54)}function Qf(a,r){1&a&&(e.j41(0,"div",61)(1,"i",62),e.EFF(2,"first_page"),e.k0s()())}function Zf(a,r){1&a&&(e.j41(0,"div",61)(1,"i",62),e.EFF(2,"keyboard_arrow_left"),e.k0s()())}function eg(a,r){1&a&&(e.j41(0,"div",61)(1,"i",62),e.EFF(2,"keyboard_arrow_right"),e.k0s()())}function tg(a,r){1&a&&(e.j41(0,"div",61)(1,"i",62),e.EFF(2,"last_page"),e.k0s()())}function ag(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",55)(1,"ngb-pagination",56),e.bIt("pageChange",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.handlePage(n))}),e.DNE(2,Qf,3,0,"ng-template",57)(3,Zf,3,0,"ng-template",58)(4,eg,3,0,"ng-template",59)(5,tg,3,0,"ng-template",60),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("collectionSize",t.widgetCount)("pageSize",t.pageSize)("boundaryLinks",!0)("maxSize",10)}}function ng(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",63)(1,"h5",64),e.EFF(2),e.k0s(),e.j41(3,"button",65),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",66),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",67)(7,"app-admin-widget-details",68),e.bIt("save",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSaveWidget())})("close",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Close"))}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(2),e.SpI(" ",t.widgetDetailsTitle," "),e.R7$(5),e.Y8G("permission",t.permission)("widget",t.selectedWidget)}}function ig(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",63)(1,"h5",64),e.EFF(2,"Export"),e.k0s(),e.j41(3,"button",65),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",66),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",67)(7,"h4",69),e.EFF(8," Exported list of widgets has been sent to your email. "),e.k0s(),e.j41(9,"div",70)(10,"button",71),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("OK"))}),e.EFF(11," OK "),e.k0s()()()}}let vn=(()=>{class a{constructor(t,i,n,o,s,l,m){this.modalService=t,this.auth=i,this.adminService=n,this.route=o,this._snackBar=s,this.clipboard=l,this.router=m,this.filterFields=["search"],this.displayedColumns=["details","name","code","link","created","createdBy","transactionType","currenciesCrypto","currenciesFiat","destinationAddress","userNotificationId","countries","instruments","paymentProviders","liquidityProvider","id"],this.inProgress=!1,this.permission=0,this.widgetDetailsTitle="Widget Details",this.userIdFilter="",this.selected=!1,this.widgets=[],this.widgetCount=0,this.pageSize=50,this.pageIndex=0,this.sortedField="name",this.sortedDesc=!1,this.filter=new G({}),this.adminAdditionalSettings={},this.subscriptions=new R.yU,this.detailsDialog=void 0,this.userIdFilter=this.route.snapshot.params.userId??"",this.permission=this.auth.isPermittedObjectCode(c.G4.Widgets)}ngOnInit(){this.loadCommonSettings(),""!==this.userIdFilter&&(this.filter=new G({users:[this.userIdFilter]})),this.loadWidgets()}ngOnDestroy(){this.subscriptions.unsubscribe()}ngAfterViewInit(){this.subscriptions.add(this.sort.sortChange.subscribe(()=>{this.sortedDesc="desc"===this.sort.direction,this.sortedField=this.sort.active,this.loadWidgets()}))}onWidgetSelected(t){t.selected=!t.selected,this.selected=this.widgets.some(i=>!0===i.selected)}handleFilterApplied(t){this.filter=t,this.loadWidgets()}handlePage(t){this.pageIndex=t-1,this.loadWidgets()}addWidget(t){this.widgetDetailsTitle="Create a new Widget",this.selectedWidget=void 0,this.detailsDialog=this.modalService.open(t,{backdrop:"static",windowClass:"modalCusSty-widget"})}loadCommonSettings(){const t=this.auth.getLocalSettingsCommon();t&&(this.adminAdditionalSettings="string"==typeof t.adminAdditionalSettings?JSON.parse(t.adminAdditionalSettings):t.adminAdditionalSettings,this.adminAdditionalSettings?.tabs?.widget?.filterFields&&(this.filterFields=this.adminAdditionalSettings.tabs.widget.filterFields))}loadWidgets(){this.inProgress=!0;const t=this.adminService.getWidgets(this.pageIndex,this.pageSize,this.sortedField,this.sortedDesc,this.filter).pipe((0,P.s)(1));this.subscriptions.add(t.subscribe(({list:i,count:n})=>{this.widgets=i,this.widgetCount=n,this.inProgress=!1},()=>{this.inProgress=!1,""===this.auth.token&&this.router.navigateByUrl("/")}))}onSaveWidget(){this.selectedWidget=void 0,this.detailsDialog&&(this.detailsDialog.close(),this.loadWidgets())}export(t){const i=this.widgets.filter(o=>!0===o.selected).map(o=>o.id),n=this.adminService.exportWidgetsToCsv(i,this.sortedField,this.sortedDesc,this.filter);this.subscriptions.add(n.subscribe(()=>{this.modalService.open(t,{backdrop:"static",windowClass:"modalCusSty"})},()=>{""===this.auth.token&&this.router.navigateByUrl("/")}))}showDetails(t,i){this.widgetDetailsTitle="Widget Details",this.selectedWidget=t,this.detailsDialog=this.modalService.open(i,{backdrop:"static",windowClass:"modalCusSty-widget"})}copyParameter(t){this.clipboard.copy(t),this._snackBar.open("Destination copied.",null,{duration:2e3})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(_.Bq),e.rXU(I.u),e.rXU(E),e.rXU(w.nX),e.rXU(Ie.UG),e.rXU(Pt.B0),e.rXU(w.Ix))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-widgets"]],viewQuery:function(i,n){if(1&i&&e.GBs($.B4,5),2&i){let o;e.mGM(o=e.lsd())&&(n.sort=o.first)}},decls:66,vars:15,consts:[["details_content",""],["export_content",""],[3,"title","items","active_item"],[1,"row","row-sm"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],["class","table-button-container",4,"ngIf"],[3,"filter","filterType","fields","filterData"],["color","accent","mode","indeterminate",4,"ngIf"],[1,"data-table"],["matSort","","matSortDirection","desc","matSortDisableClear","",3,"matSortActive","dataSource"],["matColumnDef","details","sticky",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","widget-list-selector-column",4,"matCellDef"],["matColumnDef","name"],["mat-cell","","class","widget-list-data-column",4,"matCellDef"],["matColumnDef","code"],["matColumnDef","link"],["mat-cell","",4,"matCellDef"],["matColumnDef","created"],["matColumnDef","createdBy"],["matColumnDef","transactionType"],["matColumnDef","currenciesCrypto"],["matColumnDef","currenciesFiat"],["matColumnDef","destinationAddress"],["mat-cell","","class","widget-list-data-column widget-chips-align",4,"matCellDef"],["matColumnDef","userNotificationId"],["matColumnDef","countries"],["matColumnDef","instruments"],["matColumnDef","paymentProviders"],["matColumnDef","liquidityProvider"],["matColumnDef","id"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","card card-body border shadow-none",4,"ngIf"],[1,"table-button-container"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["color","accent","mode","indeterminate"],["mat-header-cell",""],["mat-cell","",1,"widget-list-selector-column"],["type","checkbox",2,"margin-right","4px",3,"change","checked"],["mat-icon-button","","matTooltip","Widget details","matTooltipClass","info-tooltip",1,"row-button",3,"click"],[1,"material-icons",2,"font-size","20px"],["mat-cell","",1,"widget-list-data-column"],["mat-cell",""],["target","_blank","rel","noopener noreferrer",1,"widget-list-data-column",3,"href"],["mat-cell","",1,"widget-list-data-column","widget-chips-align"],["class","widget-chip",3,"click",4,"ngFor","ngForOf"],[1,"widget-chip",3,"click"],[1,"tx-13"],["mat-header-row",""],["mat-row",""],[1,"card","card-body","border","shadow-none"],["aria-label","Table pagination",1,"d-flex","justify-content-center",3,"pageChange","collectionSize","pageSize","boundaryLinks","maxSize"],["ngbPaginationFirst",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationLast",""],[1,"ng-pagination-nav-icons"],[1,"material-icons"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"save","close","permission","widget"],[2,"text-align","center"],[2,"display","flex","flex-direction","row","justify-content","center","align-items","center"],[1,"btn","btn-primary","pd-x-50","mg-t-5",3,"click"]],template:function(i,n){if(1&i){const o=e.RV6();e.nrm(0,"app-admin-page-header",2),e.j41(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7),e.DNE(6,ff,5,0,"div",8),e.j41(7,"app-admin-filter",9),e.bIt("filter",function(l){return e.eBV(o),e.Njj(n.handleFilterApplied(l))}),e.k0s(),e.DNE(8,gf,1,0,"mat-progress-bar",10),e.j41(9,"div",11)(10,"mat-table",12),e.qex(11,13),e.DNE(12,_f,1,0,"th",14)(13,bf,5,3,"td",15),e.bVm(),e.qex(14,16),e.DNE(15,vf,2,0,"th",14)(16,yf,2,1,"td",17),e.bVm(),e.qex(17,18),e.DNE(18,Cf,2,0,"th",14)(19,kf,2,1,"td",17),e.bVm(),e.qex(20,19),e.DNE(21,Ff,2,0,"th",14)(22,Tf,3,1,"td",20),e.bVm(),e.qex(23,21),e.DNE(24,xf,2,0,"th",14)(25,wf,2,1,"td",17),e.bVm(),e.qex(26,22),e.DNE(27,Sf,2,0,"th",14)(28,Df,2,1,"td",17),e.bVm(),e.qex(29,23),e.DNE(30,If,2,0,"th",14)(31,Ef,2,1,"td",17),e.bVm(),e.qex(32,24),e.DNE(33,Pf,2,0,"th",14)(34,Af,2,1,"td",17),e.bVm(),e.qex(35,25),e.DNE(36,Rf,2,0,"th",14)(37,Of,2,1,"td",17),e.bVm(),e.qex(38,26),e.DNE(39,jf,2,0,"th",14)(40,Mf,3,1,"td",27),e.bVm(),e.qex(41,28),e.DNE(42,Nf,2,0,"th",14)(43,Vf,2,1,"td",20),e.bVm(),e.qex(44,29),e.DNE(45,Gf,2,0,"th",14)(46,Bf,2,1,"td",17),e.bVm(),e.qex(47,30),e.DNE(48,Uf,2,0,"th",14)(49,Lf,2,1,"td",17),e.bVm(),e.qex(50,31),e.DNE(51,Yf,2,0,"th",14)(52,qf,2,1,"td",17),e.bVm(),e.qex(53,32),e.DNE(54,Wf,2,0,"th",14)(55,Xf,2,1,"td",17),e.bVm(),e.qex(56,33),e.DNE(57,zf,2,0,"th",14)(58,Hf,2,1,"td",17),e.bVm(),e.DNE(59,Kf,1,0,"tr",34)(60,Jf,1,0,"tr",35),e.k0s()(),e.DNE(61,ag,6,4,"div",36)(62,ng,8,3,"ng-template",null,0,e.C5r)(64,ig,12,0,"ng-template",null,1,e.C5r),e.k0s()()()()()}2&i&&(e.Y8G("title","Widgets")("items",e.lJ4(14,hf))("active_item","Widgets"),e.R7$(6),e.Y8G("ngIf",n.permission>1),e.R7$(),e.Y8G("filterType","widgets")("fields",n.filterFields)("filterData",n.filter),e.R7$(),e.Y8G("ngIf",n.inProgress),e.R7$(2),e.Y8G("matSortActive",n.sortedField)("dataSource",n.widgets),e.R7$(49),e.Y8G("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),e.R7$(),e.Y8G("matRowDefColumns",n.displayedColumns),e.R7$(),e.Y8G("ngIf",n.widgetCount>n.pageSize))},dependencies:[h.Sq,h.bT,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,$.B4,_.s5,_.gA,_.ug,_.PB,_.hO,De.Jl,De.uI,ie.oV,K.iY,z.HM,X,Te,uf],styles:[".datatable-body{height:600px!important;overflow:scroll;width:100%}  .dataTable-bottom{position:absolute;left:0;right:0;bottom:0;background:#fff!important}  table th,   table td,   .ngx-datatable.material .datatable-header .datatable-header-cell,   .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{font-size:.876rem!important}@media (max-width: 567.9px){  .ngx-datatable .datatable-footer .datatable-footer-inner{flex-wrap:wrap;height:auto!important}  .ngx-datatable .datatable-footer .datatable-pager{text-align:center!important}}  .dataTable-wrapper.no-footer .dataTable-container{border-bottom:none!important}  .dataTable-selector{border-radius:.25rem}  app-data-table input{border-radius:25px;border:1px solid rgba(0,0,0,.1)}  app-data-table .custom-select{border:1px solid rgba(0,0,0,.24)!important;border-radius:.25rem}.table-responsive[_ngcontent-%COMP%]{overflow:visible}  .dark-theme input::placeholder{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material{background-color:#2a2e3f!important}  .dark-theme app-data-tables .dataTable-bottom{background-color:#2a2e3f!important}  .dark-theme app-data-tables .dataTable-selector{background-color:#2a2e3f;border-color:#272c49;color:#fff;outline:none}  .dark-theme app-data-tables input{color:#eee!important;background-color:#2a2e3f!important;border-color:#262b48;border-radius:25px;height:27px}  .dark-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .dark-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#2a2e3f;color:#fff}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid rgb(39,43,74)!important;color:#fff!important;background:#2a2e3f!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #32394e!important}  .dark-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .dark-theme app-data-tables .dataTable-pagination li:hover a,   .dark-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .dark-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .dark-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .dark-theme app-data-tables .mat-mdc-table{background:#2a2e3f!important}  .dark-theme app-data-tables .mat-mdc-header-cell{color:#fff!important}  .dark-theme app-data-tables .mat-mdc-cell,   .dark-theme app-data-tables .mat-mdc-footer-cell{color:#eee!important}  .dark-theme app-data-tables mat-row,   .dark-theme app-data-tables mat-header-row,   .dark-theme app-data-tables mat-footer-row,   .dark-theme app-data-tables th.mat-mdc-header-cell,   .dark-theme app-data-tables td.mat-mdc-cell,   .dark-theme app-data-tables td.mat-mdc-footer-cell{border-bottom-color:#ffffff1f!important}  .dark-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .dark-theme app-data-tables .mat-mdc-paginator,   .dark-theme app-data-tables .mat-mdc-paginator-page-size .mat-mdc-select-trigger{color:#ffffff8a!important}  .dark-theme app-data-tables .mat-mdc-paginator{background:#2a2e3f}  .dark-theme app-data-tables .mat-mdc-select-value{color:#fff7f7de}  .dark-theme app-data-tables .mat-mdc-select-arrow{color:#ffffffba}  .dark-theme .mat-mdc-select-panel{background:#30304d}  .dark-theme .mat-mdc-option{color:#ccc}  .dark-theme .mat-primary .mat-mdc-option.mat-selected:not(.mat-option-disabled){color:#fff}  .dark-theme .mat-mdc-option:hover:not(.mat-option-disabled),   .dark-theme .mat-option:focus:not(.mat-option-disabled){background:#2a2a44}  .dark-theme .mat-mdc-select-panel .mat-mdc-option.mat-selected:not(.mat-mdc-option-multiple){background:#0000001f}  .dark-theme .table-hover>tbody>tr:hover>*{color:#fff}  .dark-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme input::placeholder{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material{background-color:#2da28f!important}  .transparent-theme app-data-tables .dataTable-bottom{background-color:#2da28f!important}  .transparent-theme app-data-tables .dataTable-selector{background-color:#2da28f;border-color:#4cb0a0;color:#fff;outline:none}  .transparent-theme app-data-tables input{color:#eee!important;background-color:#2da28f!important;border-color:#4cb0a0;border-radius:25px;height:27px}  .transparent-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .transparent-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#2da28f;color:#fff}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid #4cb0a0!important;color:#fff!important;background:#2da28f!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #4cb0a0!important}  .transparent-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .transparent-theme app-data-tables .dataTable-pagination li:hover a,   .transparent-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .transparent-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .transparent-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .transparent-theme app-data-tables .mat-mdc-table{background:#2da28f!important}  .transparent-theme app-data-tables .mat-mdc-header-cell{color:#fff!important}  .transparent-theme app-data-tables .mat-mdc-cell,   .transparent-theme app-data-tables .mat-mdc-footer-cell{color:#eee!important}  .transparent-theme app-data-tables mat-row,   .transparent-theme app-data-tables mat-header-row,   .transparent-theme app-data-tables mat-footer-row,   .transparent-theme app-data-tables th.mat-mdc-header-cell,   .transparent-theme app-data-tables td.mat-mdc-cell,   .transparent-theme app-data-tables td.mat-mdc-footer-cell{border-bottom-color:#ffffff1f!important}  .transparent-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .transparent-theme app-data-tables .mat-mdc-paginator,   .transparent-theme app-data-tables .mat-mdc-paginator-page-size .mat-mdc-select-trigger{color:#ffffff8a!important}  .transparent-theme app-data-tables .mat-mdc-paginator{background:#2da28f}  .transparent-theme app-data-tables .mat-mdc-select-value{color:#fff7f7de}  .transparent-theme app-data-tables .mat-mdc-select-arrow{color:#ffffffba}  .transparent-theme .mat-mdc-select-panel{background:#30304d}  .transparent-theme .mat-mdc-option{color:#ccc}  .transparent-theme .mat-primary .mat-mdc-option.mat-selected:not(.mat-option-disabled){color:#fff}  .transparent-theme .mat-mdc-option:hover:not(.mat-option-disabled),   .transparent-theme .mat-option:focus:not(.mat-option-disabled){background:#2a2a44}  .transparent-theme .mat-mdc-select-panel .mat-mdc-option.mat-selected:not(.mat-mdc-option-multiple){background:#0000001f}  .transparent-theme .table-hover>tbody>tr:hover>*{color:#fff}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{background-color:#248272!important}.data-table[_ngcontent-%COMP%]{flex:1 1 0;overflow:auto;margin-top:5px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]{display:table;min-width:100%}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:32px;line-height:32px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   tr.mat-mdc-header-row[_ngcontent-%COMP%]{height:40px;line-height:40px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]{padding:0 4px;white-space:nowrap;font-size:16px;font-weight:400;color:#0000008a;font-family:Roboto,sans-serif}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell.action[_ngcontent-%COMP%]{width:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]{padding:1px 4px 0;line-height:29px;white-space:nowrap}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%]{width:16px;height:16px;font-size:16px;vertical-align:middle;position:relative;top:-1px}.data-table[_ngcontent-%COMP%]   .row-button[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0;position:relative;top:5px;padding:1px}.data-table[_ngcontent-%COMP%]   .row-button[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:16px;height:16px;width:16px;line-height:16px}.data-table[_ngcontent-%COMP%]   .row-icon[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0;position:relative;top:5px}mat-mdc-paginator[_ngcontent-%COMP%]{flex:0 0 auto}table[_ngcontent-%COMP%]{width:100%}.table-button-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;overflow-x:scroll;padding-bottom:16px}.widget-list-selector-column[_ngcontent-%COMP%]{margin:0;padding:0 8px;background-color:var(--color_white)}.widget-list-data-column[_ngcontent-%COMP%]{margin:0;padding:0}.ng-pagination-nav-icons[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:12px}.widget-chips-align[_ngcontent-%COMP%]   .mat-mdc-chip[_ngcontent-%COMP%]{display:block;margin:5px;width:max-content}.widget-chips-align[_ngcontent-%COMP%]   .mat-mdc-chip-action-label[_ngcontent-%COMP%]{font-size:14px}"]})}return a})();var ma=f(4668);function rg(a,r){if(1&a&&(e.j41(0,"div",3)(1,"span"),e.EFF(2),e.k0s(),e.nrm(3,"br"),e.j41(4,"span"),e.EFF(5),e.k0s()()),2&a){const t=r.$implicit;e.R7$(2),e.SpI("Name: ",t.schema.name,""),e.R7$(3),e.SpI("Values: ",t.similarValues.join(", "),"")}}function og(a,r){if(1&a&&(e.j41(0,"mat-accordion",1)(1,"mat-expansion-panel")(2,"mat-expansion-panel-header")(3,"mat-panel-title")(4,"span"),e.EFF(5,"Similar Schemes"),e.k0s()()(),e.DNE(6,rg,6,2,"div",2),e.k0s()()),2&a){const t=e.XpG();e.R7$(6),e.Y8G("ngForOf",t.targetField.costData)}}let yn=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-cost-similiar-panel"]],inputs:{targetField:"targetField"},standalone:!0,features:[e.aNF],decls:1,vars:1,consts:[["class","fee-similiar-panel",4,"ngIf"],[1,"fee-similiar-panel"],["class","fee-similiar-panel__body",4,"ngFor","ngForOf"],[1,"fee-similiar-panel__body"]],template:function(i,n){1&i&&e.DNE(0,og,7,1,"mat-accordion",0),2&i&&e.Y8G("ngIf",null==n.targetField||null==n.targetField.costData?null:n.targetField.costData.length)},dependencies:[Qt,Jt,kt,Ft,Kt,h.pM,h.bT],styles:[".fee-similiar-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]{height:30px;padding:0 12px!important}.fee-similiar-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:400;color:#00000080;font-size:13px}.fee-similiar-panel__body[_ngcontent-%COMP%]{margin:0 -12px}.fee-similiar-panel__body[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{color:#000c;font-size:13px}.fee-similiar-panel__body[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{color:#0009;font-size:11px}"],changeDetection:0})}return a})();const pa=a=>({"has-error":a});function sg(a,r){1&a&&(e.j41(0,"div",28)(1,"small"),e.EFF(2," Scheme name is required "),e.k0s()())}function lg(a,r){if(1&a&&(e.j41(0,"div",6)(1,"label",7),e.EFF(2," Scheme name "),e.j41(3,"span",12),e.EFF(4,"*"),e.k0s()(),e.nrm(5,"input",27),e.DNE(6,sg,3,0,"div",14),e.k0s()),2&a){const t=e.XpG();e.R7$(5),e.Y8G("ngClass",e.eq3(2,pa,!t.form.controls.name.valid)),e.R7$(),e.Y8G("ngIf",(t.form.controls.name.touched||t.submitted)&&(null==t.form.controls.name.errors?null:t.form.controls.name.errors.required))}}function dg(a,r){if(1&a&&(e.j41(0,"div",6),e.nrm(1,"app-admin-details-item",29),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.Y8G("value",t.defaultSchemeName)}}function cg(a,r){1&a&&(e.j41(0,"div",28)(1,"small"),e.EFF(2," Please specify a target "),e.k0s()())}function mg(a,r){if(1&a&&(e.j41(0,"ng-option",32),e.nrm(1,"app-dropdown-item",33),e.k0s()),2&a){const t=r.$implicit;e.Y8G("value",t),e.R7$(),e.Y8G("itemValue",t.title)("imageClass",t.imgClass)("imageSource",t.imgSource)}}function pg(a,r){if(1&a&&(e.j41(0,"div",28)(1,"small"),e.EFF(2),e.k0s()()),2&a){const t=e.XpG(2);e.R7$(2),e.SpI(" Please specify at least one ",t.targetEntity[0]," ")}}function ug(a,r){if(1&a&&(e.j41(0,"div",6)(1,"label",7),e.EFF(2),e.k0s(),e.j41(3,"ng-select",30),e.DNE(4,mg,2,4,"ng-option",31),e.nI1(5,"async"),e.k0s(),e.DNE(6,pg,3,1,"div",14),e.nrm(7,"app-cost-similiar-panel",10),e.nI1(8,"async"),e.k0s()),2&a){let t;const i=e.XpG();e.R7$(2),e.SpI(" ",i.targetsTitle," "),e.R7$(),e.Mz_("notFoundText","No ",i.targetEntity[1]," found"),e.Mz_("placeholder","Start typing to search a ",i.targetEntity[0],""),e.Y8G("minTermLength",i.minTargetsLengthTerm)("loading",i.isTargetsLoading)("multiple",!0)("typeToSearchText",i.targetSearchText)("typeahead",i.targetsSearchInput$),e.R7$(),e.Y8G("ngForOf",e.bMT(5,13,i.targetsOptions$)),e.R7$(2),e.Y8G("ngIf",(i.form.controls.targetValues.touched||i.submitted)&&(null==i.form.controls.targetValues.errors?null:i.form.controls.targetValues.errors.required)),e.R7$(),e.Y8G("targetField",null==(t=e.bMT(8,15,i.similarSchemas$))?null:t.targetFilterValues)}}function hg(a,r){1&a&&(e.j41(0,"div",28)(1,"small"),e.EFF(2," Select at least one transaction type "),e.k0s()())}function fg(a,r){1&a&&(e.j41(0,"div",28)(1,"small"),e.EFF(2," Select at least one payment method "),e.k0s()())}function gg(a,r){1&a&&(e.j41(0,"div",28)(1,"small"),e.EFF(2," Select at least one payment provider "),e.k0s()())}function _g(a,r){if(1&a&&(e.j41(0,"div",6)(1,"label",7),e.EFF(2," Payment providers "),e.k0s(),e.nrm(3,"ng-select",34),e.DNE(4,gg,3,0,"div",14),e.nrm(5,"app-cost-similiar-panel",10),e.nI1(6,"async"),e.k0s()),2&a){let t;const i=e.XpG();e.R7$(3),e.Y8G("items",i.filteredProviders)("multiple",!0),e.R7$(),e.Y8G("ngIf",(i.form.controls.provider.touched||i.submitted)&&(null==i.form.controls.provider.errors?null:i.form.controls.provider.errors.required)),e.R7$(),e.Y8G("targetField",null==(t=e.bMT(6,4,i.similarSchemas$))?null:t.targetPaymentProviders)}}function bg(a,r){1&a&&(e.j41(0,"div",28)(1,"small"),e.EFF(2," Please specify MDR value "),e.k0s()())}function vg(a,r){1&a&&(e.j41(0,"div",28)(1,"small"),e.EFF(2," Invalid number value "),e.k0s()())}function yg(a,r){1&a&&(e.j41(0,"div",28)(1,"small"),e.EFF(2," Please specify transaction cost "),e.k0s()())}function Cg(a,r){1&a&&(e.j41(0,"div",28)(1,"small"),e.EFF(2," Invalid number value "),e.k0s()())}function kg(a,r){if(1&a&&(e.j41(0,"div",35)(1,"h4",36),e.EFF(2),e.k0s()()),2&a){const t=e.XpG();e.R7$(2),e.SpI(" ",t.errorMessage," ")}}function Fg(a,r){1&a&&e.nrm(0,"span",37)}function Tg(a,r){1&a&&e.nrm(0,"span",37)}function xg(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",38),e.bIt("click",function(){e.eBV(t);const n=e.XpG(),o=e.sdS(80);return e.Njj(n.deleteScheme(o))}),e.EFF(1," Delete "),e.k0s()}}function wg(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",39)(1,"h5",40),e.EFF(2,"Delete KYC scheme"),e.k0s(),e.j41(3,"button",41),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",42),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",43)(7,"h4",44),e.EFF(8," You are going to delete selected cost scheme. Confirm operation. "),e.k0s(),e.j41(9,"div",45)(10,"button",46),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Reject"))}),e.EFF(11," Reject "),e.k0s(),e.j41(12,"button",47),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.close("Confirm"))}),e.EFF(13," Confirm "),e.k0s()()()}}let Sg=(()=>{class a{set currentScheme(t){this.setFormData(t),this.settingsId=t?t?.id:"",this.createNew=""===this.settingsId}constructor(t,i,n,o,s){this.formBuilder=t,this.router=i,this.modalService=n,this.auth=o,this.adminService=s,this.permission=0,this.save=new e.bkB,this.close=new e.bkB,this.subscriptions=new R.yU,this.removeDialog=void 0,this.settingsId="",this.TARGET_TYPE=c.AI,this.submitted=!1,this.createNew=!1,this.saveInProgress=!1,this.errorMessage="",this.defaultSchemeName="",this.bankAccounts=[],this.transactionTypes=F.ln,this.instruments=F.m0,this.providers=[],this.filteredProviders=[],this.showPaymentProvider=!1,this.targetEntity=["",""],this.targetSearchText="",this.targetsTitle="",this.targetType=c.AI.None,this.targets=F.lj,this.isTargetsLoading=!1,this.isWidgetsLoading=!1,this.targetsSearchInput$=new y.B,this.widgetsSearchInput$=new y.B,this.targetsOptions$=(0,S.of)([]),this.widgetsOptions$=(0,S.of)([]),this.minTargetsLengthTerm=1,this.adminAdditionalSettings={},this.widgetIds=[],this.form=this.formBuilder.group({id:[void 0],name:[void 0,{validators:[d.k0.required],updateOn:"change"}],description:[void 0],bankAccounts:[[]],isDefault:[!1],target:[void 0,{validators:[d.k0.required],updateOn:"change"}],targetValues:[[],{validators:[d.k0.required],updateOn:"change"}],instrument:[[]],trxType:[[]],provider:[[]],mdr:[void 0,{validators:[d.k0.required,d.k0.pattern("^[0-9.]+$")],updateOn:"change"}],transactionCost:[void 0,{validators:[d.k0.required,d.k0.pattern("^[0-9.]+$")],updateOn:"change"}],widgetIds:[void 0]})}ngOnInit(){this.subscriptions.add(this.form.get("target")?.valueChanges.subscribe(t=>this.updateTarget())),this.subscriptions.add(this.form.get("instrument")?.valueChanges.subscribe(t=>this.filterPaymentProviders(t))),this.loadCommonSettings(),this.getPaymentProviders(),this.getWireTransferAccounts(),this.initWidgetSearch()}ngOnDestroy(){this.subscriptions.unsubscribe()}loadCommonSettings(){const t=this.auth.getLocalSettingsCommon();t&&(this.adminAdditionalSettings="string"==typeof t.adminAdditionalSettings?JSON.parse(t.adminAdditionalSettings):t.adminAdditionalSettings,this.transactionTypes=this.transactionTypes.filter(i=>1==this.adminAdditionalSettings.transactionType[i.id]),this.instruments=this.instruments.filter(i=>1==this.adminAdditionalSettings.paymentMethods[i.id]))}setFormData(t){this.form.reset(),this.defaultSchemeName="",t?(this.defaultSchemeName=t.isDefault?t.name:"",this.widgetIds=t.widgetIds,this.form.get("id")?.setValue(t?.id),this.form.get("name")?.setValue(t?.name),this.form.get("description")?.setValue(t?.description),this.form.get("isDefault")?.setValue(t?.isDefault),this.form.get("bankAccounts")?.setValue(t?.bankAccountIds),this.form.get("target")?.setValue(t?.target),this.targetType=t?.target??c.AI.None,this.setTargetValues(t?.targetValues),this.form.get("trxType")?.setValue(t?.trxType),this.form.get("instrument")?.setValue(t.instrument),this.form.get("provider")?.setValue(t?.provider),this.form.get("mdr")?.setValue(t?.terms.mdr),this.form.get("transactionCost")?.setValue(t?.terms.transactionCost),this.filterPaymentProviders(t.instrument),this.setTargetValidator(),this.setTargetValueParams()):(this.form.get("id")?.setValue(""),this.form.get("name")?.setValue(""),this.form.get("description")?.setValue(""),this.form.get("isDefault")?.setValue(""),this.form.get("bankAccounts")?.setValue([]),this.form.get("target")?.setValue(c.AI.None),this.form.get("targetValues")?.setValue([]),this.form.get("trxType")?.setValue([]),this.form.get("instrument")?.setValue([]),this.form.get("provider")?.setValue([]),this.form.get("mdr")?.setValue(void 0),this.form.get("transactionCost")?.setValue(void 0),this.filterPaymentProviders([]),this.setTargetValidator())}setSchemeData(){const t=new lt.Bd(null);return t.name=this.form.get("name")?.value,t.description=this.form.get("description")?.value,t.isDefault=this.form.get("isDefault")?.value,t.id=this.form.get("id")?.value,t.setWidgets(this.form.get("widgetIds")?.value),t.setTarget(this.targetType,this.form.get("targetValues")?.value),t.bankAccountIds=this.form.get("bankAccounts")?.value,t.trxType=this.form.get("trxType")?.value,t.instrument=this.form.get("instrument")?.value,t.provider=this.form.get("provider")?.value,t.terms.mdr=Number(this.form.get("mdr")?.value),t.terms.transactionCost=Number(this.form.get("transactionCost")?.value),t}setTargetValues(t){if(this.targetType===c.AI.Country){const i=t.map(n=>{const o=re.To.find(s=>s.id===n);return o?(o.imgClass="country-flag-admin",o):new Ue.U}).filter(n=>""!==n.id);this.targetsOptions$=(0,S.of)(i),this.form.get("targetValues")?.setValue(i)}else this.form.get("targetValues")?.setValue([])}setTargetValueParams(){switch(this.targetType=this.form.get("target")?.value,this.targetType){case c.AI.None:this.targetEntity=["",""],this.targetSearchText="",this.targetsTitle="";break;case c.AI.Country:this.targetEntity=["country","countries"],this.targetSearchText="Type a country name",this.targetsTitle="Countries"}this.targetType!==c.AI.None&&this.initTargetSearch()}initTargetSearch(){this.targetsOptions$=(0,ke.x)((0,S.of)([]),this.targetsSearchInput$.pipe((0,W.p)(t=>null!==t&&t.length>=this.minTargetsLengthTerm),(0,q.B)(300),(0,Y.F)(),(0,D.M)(()=>this.isTargetsLoading=!0),(0,J.n)(t=>(this.isTargetsLoading=!1,this.filterTargets(t)))))}initWidgetSearch(){let t=!1;this.widgetsOptions$=this.widgetsSearchInput$.pipe((0,N.Z)(null),(0,q.B)(300),(0,Y.F)(),(0,J.n)(i=>null===i&&!t&&this.widgetIds.length?(this.isWidgetsLoading=!0,t=!0,this.getFilteredWidgets(new G({widgets:this.widgetIds})).pipe((0,D.M)(n=>{this.form.get("widgetIds")?.setValue(n),this.isWidgetsLoading=!1}))):null!==i&&i.length>=this.minTargetsLengthTerm?(this.isWidgetsLoading=!0,this.getFilteredWidgets(new G({search:i})).pipe((0,D.M)(()=>this.isWidgetsLoading=!1))):(this.isWidgetsLoading=!1,(0,S.of)([]))))}filterPaymentProviders(t){t?.length&&(this.filteredProviders=(0,ae.M)(t,this.providers),this.showPaymentProvider=this.filteredProviders.length>0)}getFilteredWidgets(t){return this.adminService.getWidgets(0,100,"widgetId",!1,t).pipe((0,b.T)(i=>i.list.map(n=>({id:n.id,title:n.name}))))}filterTargets(t){return(0,S.of)(this.targetType===c.AI.Country?re.To.map(i=>(i.imgClass="country-flag-admin",i)).filter(i=>i.title.toLowerCase().includes(t.toLowerCase())):[])}updateTarget(){this.clearTargetValues(),this.setTargetValidator(),this.setTargetValueParams()}clearTargetValues(){this.targetsOptions$=(0,S.of)([]),this.form.get("targetValues")?.setValue([])}setTargetValidator(){const t=this.form.get("target")?.value;this.targetType=t??c.AI.None,t===c.AI.None?this.form.get("targetValues")?.clearValidators():this.form.get("targetValues")?.setValidators([d.k0.required]),this.form.get("targetValues")?.updateValueAndValidity()}getPaymentProviders(){this.providers=[];const t=this.adminService.getProviders()?.valueChanges;this.subscriptions.add(t.subscribe(({data:i})=>{const n=i.getPaymentProviders;this.providers=n?.map(o=>new F.LP(o)),this.filterPaymentProviders(this.form.get("instrument")?.value)}))}getWireTransferAccounts(){this.bankAccounts=[];const t=this.adminService.getWireTransferBankAccounts().valueChanges;this.subscriptions.add(t.subscribe(({data:i})=>{const n=i.getWireTransferBankAccounts;n?.count&&(this.bankAccounts=n?.list?.map(o=>({id:o.bankAccountId,title:o.name}))??[])}))}onSubmit(){this.submitted=!0,this.form.valid&&this.saveScheme(this.setSchemeData())}onTest(){this.submitted=!0,console.log(this.form),this.form.valid&&this.getSimilarSchemes(this.setSchemeData())}deleteScheme(t){this.removeDialog=this.modalService.open(t,{backdrop:"static",windowClass:"modalCusSty"}),this.subscriptions.add(this.removeDialog.closed.subscribe(()=>this.deleteSchemeConfirmed(this.settingsId??"")))}saveScheme(t){this.errorMessage="",this.saveInProgress=!0;const i=this.adminService.saveCostSettings(t,this.createNew);this.subscriptions.add(i.subscribe(()=>{this.saveInProgress=!1,this.save.emit()},n=>{this.saveInProgress=!1,this.errorMessage=n,""===this.auth.token&&this.router.navigateByUrl("/")}))}getSimilarSchemes(t){this.errorMessage="",this.saveInProgress=!0,this.similarSchemas$=this.adminService.getCostSettingsSimilar(t).pipe((0,V.j)(()=>this.saveInProgress=!1),(0,ma.t)(1))}deleteSchemeConfirmed(t){this.errorMessage="",this.saveInProgress=!0;const i=this.adminService.deleteCostSettings(t);this.subscriptions.add(i.subscribe(()=>{this.saveInProgress=!1,this.save.emit()},n=>{this.saveInProgress=!1,this.errorMessage=n,""===this.auth.token&&this.router.navigateByUrl("/")}))}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(d.ze),e.rXU(w.Ix),e.rXU(_.Bq),e.rXU(I.u),e.rXU(E))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-cost-details"]],inputs:{permission:"permission",currentScheme:"currentScheme"},outputs:{save:"save",close:"close"},decls:81,vars:52,consts:[["delete_content",""],[1,"row"],[1,"col-md-12","col-lg-12","col-xl-12","mx-auto","d-block"],["novalidate","",3,"ngSubmit","formGroup"],[1,"card","card-body","pd-20","pd-md-40","border","shadow-none"],["class","form-group",4,"ngIf"],[1,"form-group"],[1,"main-content-label","tx-11","tx-medium","tx-gray-600"],["type","text","formControlName","description",1,"form-control"],["bindLabel","title","bindValue","id","formControlName","bankAccounts",3,"items","multiple","placeholder"],[3,"targetField"],[1,"card-title","mg-b-20"],[1,"main-content-label","tx-11","tx-medium","tx-danger"],["bindLabel","name","bindValue","id","formControlName","target","required","",3,"items","clearable","clearOnBackspace"],["class","tx-danger",4,"ngIf"],["formControlName","widgetIds","bindLabel","title","notFoundText","No widgets found","typeToSearchText","type widget name","placeholder","Start typing to search a widget",3,"minTermLength","loading","multiple","typeahead","items"],["bindLabel","name","bindValue","id","formControlName","trxType","placeholder","Select one or more types","required","",3,"items","multiple"],["bindLabel","name","bindValue","id","formControlName","instrument","placeholder","Select one or more methods","required","",3,"items","multiple"],["type","text","formControlName","mdr","maxlength","7","placeholder","2%","required","",1,"form-control",3,"ngClass"],["type","text","formControlName","transactionCost","maxlength","10","placeholder","1","required","",1,"form-control",3,"ngClass"],["class","card card-body card-danger pd-20 pd-md-40 border shadow-none",4,"ngIf"],[2,"display","flex","justify-content","flex-end"],[1,"btn","btn-primary","pd-x-30","me-2","mg-t-5"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["type","button",1,"btn","btn-primary","pd-x-30","me-2","mg-t-5",3,"click"],["class","btn btn-danger pd-x-30 me-2 mg-t-5","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","pd-x-30","mg-t-5",3,"click"],["type","text","formControlName","name","required","",1,"form-control",3,"ngClass"],[1,"tx-danger"],["label","Scheme name",3,"value"],["formControlName","targetValues","bindLabel","title","required","",3,"minTermLength","notFoundText","loading","multiple","typeToSearchText","placeholder","typeahead"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"itemValue","imageClass","imageSource"],["bindLabel","name","bindValue","id","formControlName","provider","placeholder","Select one or more providers",3,"items","multiple"],[1,"card","card-body","card-danger","pd-20","pd-md-40","border","shadow-none"],[1,"card-title2","mg-b-20","color_brown"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["type","button",1,"btn","btn-danger","pd-x-30","me-2","mg-t-5",3,"click"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[2,"text-align","center"],[2,"display","flex","flex-direction","row","justify-content","center","align-items","center"],["type","button",1,"btn","btn-outline-secondary","pd-x-30","me-2","mg-t-5",3,"click"],[1,"btn","btn-primary","pd-x-30","mg-t-5",3,"click"]],template:function(i,n){if(1&i){const o=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"form",3),e.bIt("ngSubmit",function(){return e.eBV(o),e.Njj(n.onSubmit())}),e.j41(3,"div",4),e.DNE(4,lg,7,4,"div",5)(5,dg,2,1,"div",5),e.j41(6,"div",6)(7,"label",7),e.EFF(8," Description "),e.k0s(),e.nrm(9,"input",8),e.k0s(),e.j41(10,"div",6)(11,"label",7),e.EFF(12," Bank accounts "),e.k0s(),e.nrm(13,"ng-select",9)(14,"app-cost-similiar-panel",10),e.nI1(15,"async"),e.k0s(),e.j41(16,"div",4)(17,"h5",11),e.EFF(18," Targets "),e.k0s(),e.j41(19,"div",6)(20,"label",7),e.EFF(21," Target "),e.j41(22,"span",12),e.EFF(23,"*"),e.k0s()(),e.nrm(24,"ng-select",13),e.DNE(25,cg,3,0,"div",14),e.k0s(),e.DNE(26,ug,9,17,"div",5),e.j41(27,"div",6)(28,"label",7),e.EFF(29," Widgets "),e.k0s(),e.nrm(30,"ng-select",15),e.nI1(31,"async"),e.nrm(32,"app-cost-similiar-panel",10),e.nI1(33,"async"),e.k0s(),e.j41(34,"div",6)(35,"label",7),e.EFF(36," Transaction types "),e.k0s(),e.nrm(37,"ng-select",16),e.DNE(38,hg,3,0,"div",14),e.nrm(39,"app-cost-similiar-panel",10),e.nI1(40,"async"),e.k0s(),e.j41(41,"div",6)(42,"label",7),e.EFF(43," Payment Methods "),e.k0s(),e.nrm(44,"ng-select",17),e.DNE(45,fg,3,0,"div",14),e.nrm(46,"app-cost-similiar-panel",10),e.nI1(47,"async"),e.k0s(),e.DNE(48,_g,7,6,"div",5),e.k0s()(),e.j41(49,"div",4)(50,"h5",11),e.EFF(51," Terms "),e.k0s(),e.j41(52,"div",6)(53,"label",7),e.EFF(54," MDR, % "),e.j41(55,"span",12),e.EFF(56,"*"),e.k0s()(),e.nrm(57,"input",18),e.DNE(58,bg,3,0,"div",14)(59,vg,3,0,"div",14),e.k0s(),e.j41(60,"div",6)(61,"label",7),e.EFF(62," Per transaction cost "),e.j41(63,"span",12),e.EFF(64,"*"),e.k0s()(),e.nrm(65,"input",19),e.DNE(66,yg,3,0,"div",14)(67,Cg,3,0,"div",14),e.k0s()(),e.DNE(68,kg,3,1,"div",20),e.j41(69,"div",21)(70,"button",22),e.DNE(71,Fg,1,0,"span",23),e.EFF(72," Save "),e.k0s(),e.j41(73,"button",24),e.bIt("click",function(){return e.eBV(o),e.Njj(n.onTest())}),e.DNE(74,Tg,1,0,"span",23),e.EFF(75," TEST "),e.k0s(),e.DNE(76,xg,2,0,"button",25),e.j41(77,"button",26),e.bIt("click",function(){return e.eBV(o),e.Njj(n.close.emit())}),e.EFF(78," Close "),e.k0s()()()()(),e.DNE(79,wg,14,0,"ng-template",null,0,e.C5r)}if(2&i){let o,s,l,m;e.R7$(2),e.Y8G("formGroup",n.form),e.R7$(2),e.Y8G("ngIf",""===n.defaultSchemeName),e.R7$(),e.Y8G("ngIf",""!==n.defaultSchemeName),e.R7$(8),e.Mz_("placeholder","Select one or more ",n.targetEntity[1],""),e.Y8G("items",n.bankAccounts)("multiple",!0),e.R7$(),e.Y8G("targetField",null==(o=e.bMT(15,38,n.similarSchemas$))?null:o.bankAccounts),e.R7$(10),e.Y8G("items",n.targets)("clearable",!1)("clearOnBackspace",!1),e.R7$(),e.Y8G("ngIf",(n.form.controls.target.touched||n.submitted)&&(null==n.form.controls.target.errors?null:n.form.controls.target.errors.required)),e.R7$(),e.Y8G("ngIf",n.targetType!==n.TARGET_TYPE.None),e.R7$(4),e.Y8G("minTermLength",n.minTargetsLengthTerm)("loading",n.isWidgetsLoading)("multiple",!0)("typeahead",n.widgetsSearchInput$)("items",e.bMT(31,40,n.widgetsOptions$)),e.R7$(2),e.Y8G("targetField",null==(s=e.bMT(33,42,n.similarSchemas$))?null:s.widgetIds),e.R7$(5),e.Y8G("items",n.transactionTypes)("multiple",!0),e.R7$(),e.Y8G("ngIf",(n.form.controls.trxType.touched||n.submitted)&&(null==n.form.controls.trxType.errors?null:n.form.controls.trxType.errors.required)),e.R7$(),e.Y8G("targetField",null==(l=e.bMT(40,44,n.similarSchemas$))?null:l.targetTransactionTypes),e.R7$(5),e.Y8G("items",n.instruments)("multiple",!0),e.R7$(),e.Y8G("ngIf",(n.form.controls.instrument.touched||n.submitted)&&(null==n.form.controls.instrument.errors?null:n.form.controls.instrument.errors.required)),e.R7$(),e.Y8G("targetField",null==(m=e.bMT(47,46,n.similarSchemas$))?null:m.targetInstruments),e.R7$(2),e.Y8G("ngIf",n.showPaymentProvider),e.R7$(9),e.Y8G("ngClass",e.eq3(48,pa,!n.form.controls.mdr.valid)),e.R7$(),e.Y8G("ngIf",(n.form.controls.mdr.touched||n.submitted)&&(null==n.form.controls.mdr.errors?null:n.form.controls.mdr.errors.required)),e.R7$(),e.Y8G("ngIf",(n.form.controls.mdr.touched||n.submitted)&&(null==n.form.controls.mdr.errors?null:n.form.controls.mdr.errors.pattern)),e.R7$(6),e.Y8G("ngClass",e.eq3(50,pa,!n.form.controls.transactionCost.valid)),e.R7$(),e.Y8G("ngIf",(n.form.controls.transactionCost.touched||n.submitted)&&(null==n.form.controls.transactionCost.errors?null:n.form.controls.transactionCost.errors.required)),e.R7$(),e.Y8G("ngIf",(n.form.controls.transactionCost.touched||n.submitted)&&(null==n.form.controls.transactionCost.errors?null:n.form.controls.transactionCost.errors.pattern)),e.R7$(),e.Y8G("ngIf",""!==n.errorMessage),e.R7$(3),e.Y8G("ngIf",n.saveInProgress),e.R7$(3),e.Y8G("ngIf",n.saveInProgress),e.R7$(2),e.Y8G("ngIf",n.permission>1&&!n.createNew&&""===n.defaultSchemeName)}},dependencies:[h.YU,h.Sq,h.bT,d.qT,d.me,d.BC,d.cb,d.YS,d.tU,d.j4,d.JD,te,Oe,Pe,yn,he,h.Jj],styles:[".dark-theme .mat-mdc-button,   .dark-theme .mat-mdc-icon-button,   .dark-theme .mat-mdc-outlined-button{color:#b7c0d6!important}  .dark-theme .mat-form-field-label{color:#eee}  .dark-theme .mat-datepicker-content{background-color:#373d51;color:#ffffffde}  .dark-theme .mat-calendar-table-header,   .dark-theme .mat-calendar-body-label{color:#fff}@media (hover: hover){  .dark-theme .mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#2a2e3f}}  .dark-theme .mat-calendar-body-cell-content,   .dark-theme .mat-date-range-input-separator{color:#e1e1ef}  .dark-theme .ngb-dp-header{background-color:#343545}  .dark-theme .ngb-dp-weekdays{background-color:#343545}  .rtl .color-picker{left:initial!important}  .transparent-theme .card .box{background:#2da28f}  .transparent-theme .hex-text,   .transparent-theme .rgba-text{background:#2da28f}  .transparent-theme .mat-datepicker-content{background-color:#2da28f;color:#ffffffde}  .transparent-theme .mat-datepicker-toggle,   .transparent-theme .mat-datepicker-content .mat-calendar-next-button,   .transparent-theme .mat-datepicker-content .mat-calendar-previous-button{color:#ffffff81}  .transparent-theme .mat-calendar-body-cell-content,   .transparent-theme .mat-date-range-input-separator{color:#ffffffd3}  .transparent-theme .mat-calendar-table-header,   .transparent-theme .mat-calendar-body-label{color:#fff9}  .transparent-theme .ngb-dp-header{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekdays{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekday{color:#000}  .transparent-theme .ng-select .ng-arrow-wrapper .ng-arrow{border-top-color:#fff!important}  .transparent-theme .ng-select.ng-select-opened .ng-arrow-wrapper .ng-arrow{border-bottom-color:#fff!important}  .form-controls{display:block;color:#fff;border:transparent;outline:none;width:100%;height:40px;padding:.375rem .75rem;font-size:.875rem;font-weight:400;line-height:2;background-clip:padding-box;border-radius:5px;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}  button[type=button]{z-index:0!important}",".has-error[_ngcontent-%COMP%]{border:1px solid #f16d75}.tx-danger[_ngcontent-%COMP%]{color:red!important}"]})}return a})();const Dg=()=>["Home","Costs"];function Ig(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",38),e.bIt("click",function(){e.eBV(t);const n=e.XpG(),o=e.sdS(53);return e.Njj(n.showDetails(void 0,o))}),e.EFF(1," Add scheme "),e.k0s()}}function Eg(a,r){1&a&&e.nrm(0,"mat-progress-bar",39)}function Pg(a,r){1&a&&e.nrm(0,"th",40)}function Ag(a,r){if(1&a){const t=e.RV6();e.j41(0,"td",41)(1,"button",42),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG(),s=e.sdS(53);return e.Njj(o.showDetails(n,s))}),e.j41(2,"i",43),e.EFF(3,"wysiwyg"),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(),e.BMQ("aria-label","Scheme details")("aria-pressed",!!t.selectedScheme)}}function Rg(a,r){1&a&&e.nrm(0,"th",40)}function Og(a,r){1&a&&(e.j41(0,"div",45)(1,"i",43),e.EFF(2,"offline_bolt"),e.k0s()())}function jg(a,r){if(1&a&&(e.j41(0,"td",41),e.DNE(1,Og,3,0,"div",44),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.Y8G("ngIf",t.isDefault)}}function $g(a,r){1&a&&(e.j41(0,"th",46),e.EFF(1," Name "),e.k0s())}function Mg(a,r){if(1&a&&(e.j41(0,"td",41),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.name," ")}}function Ng(a,r){1&a&&(e.j41(0,"th",47),e.EFF(1," Widgets "),e.k0s())}function Vg(a,r){if(1&a&&(e.j41(0,"mat-chip",50)(1,"span",51),e.EFF(2),e.k0s()()),2&a){const t=r.$implicit;e.R7$(2),e.JRh(t)}}function Gg(a,r){if(1&a&&(e.j41(0,"td",48)(1,"mat-chip-listbox"),e.DNE(2,Vg,3,1,"mat-chip",49),e.k0s()()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.feeSchemasListDataColumnStyle),e.R7$(2),e.Y8G("ngForOf",t.widgetIds)}}function Bg(a,r){1&a&&(e.j41(0,"th",47),e.EFF(1," Target type "),e.k0s())}function Ug(a,r){if(1&a&&(e.j41(0,"td",41),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.targetName," ")}}function Lg(a,r){1&a&&(e.j41(0,"th",47),e.EFF(1," Targets "),e.k0s())}function Yg(a,r){if(1&a&&(e.j41(0,"mat-chip",50)(1,"span",51),e.EFF(2),e.k0s()()),2&a){const t=r.$implicit;e.R7$(2),e.JRh(t)}}function qg(a,r){if(1&a&&(e.j41(0,"td",41)(1,"mat-chip-listbox"),e.DNE(2,Yg,3,1,"mat-chip",49),e.k0s()()),2&a){const t=r.$implicit;e.R7$(2),e.Y8G("ngForOf",t.targetValues)}}function Wg(a,r){1&a&&(e.j41(0,"th",52),e.EFF(1," Transaction type "),e.k0s())}function Xg(a,r){if(1&a&&(e.j41(0,"span",54),e.EFF(1),e.j41(2,"span",55),e.EFF(3,"|"),e.k0s()()),2&a){const t=r.$implicit;e.R7$(),e.SpI("",t," ")}}function zg(a,r){if(1&a&&(e.j41(0,"td",41),e.DNE(1,Xg,4,1,"span",53),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.Y8G("ngForOf",t.trxType)}}function Hg(a,r){1&a&&(e.j41(0,"th",56),e.EFF(1," User types "),e.k0s())}function Kg(a,r){if(1&a&&(e.j41(0,"span",54),e.EFF(1),e.j41(2,"span",55),e.EFF(3,"|"),e.k0s()()),2&a){const t=r.$implicit;e.R7$(),e.SpI("",t," ")}}function Jg(a,r){if(1&a&&(e.j41(0,"td",41),e.DNE(1,Kg,4,1,"span",53),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.Y8G("ngForOf",t.userType)}}function Qg(a,r){1&a&&(e.j41(0,"th",57),e.EFF(1," User modes "),e.k0s())}function Zg(a,r){if(1&a&&(e.j41(0,"span",54),e.EFF(1),e.j41(2,"span",55),e.EFF(3,"|"),e.k0s()()),2&a){const t=r.$implicit;e.R7$(),e.SpI("",t," ")}}function e_(a,r){if(1&a&&(e.j41(0,"td",41),e.DNE(1,Zg,4,1,"span",53),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.Y8G("ngForOf",t.userMode)}}function t_(a,r){1&a&&(e.j41(0,"th",58),e.EFF(1," Payment Method "),e.k0s())}function a_(a,r){if(1&a&&(e.j41(0,"td",41),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.instrumentList," ")}}function n_(a,r){1&a&&(e.j41(0,"th",59),e.EFF(1," Payment provider / cost scheme "),e.k0s())}function i_(a,r){if(1&a&&(e.j41(0,"span",54),e.EFF(1),e.j41(2,"span",55),e.EFF(3,"|"),e.k0s()()),2&a){const t=r.$implicit;e.R7$(),e.SpI("",t," ")}}function r_(a,r){if(1&a&&(e.j41(0,"td",41),e.DNE(1,i_,4,1,"span",53),e.k0s()),2&a){const t=r.$implicit,i=e.XpG();e.R7$(),e.Y8G("ngForOf",i.convertToArray(t.providerList))}}function o_(a,r){1&a&&(e.j41(0,"th",60),e.EFF(1," Currencies from "),e.k0s())}function s_(a,r){if(1&a&&(e.j41(0,"span",54),e.EFF(1),e.j41(2,"span",55),e.EFF(3,"|"),e.k0s()()),2&a){const t=r.$implicit;e.R7$(),e.SpI("",t," ")}}function l_(a,r){if(1&a&&(e.j41(0,"td",41),e.DNE(1,s_,4,1,"span",53),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.Y8G("ngForOf",t.currenciesFrom)}}function d_(a,r){1&a&&(e.j41(0,"th",60),e.EFF(1," Currencies to "),e.k0s())}function c_(a,r){if(1&a&&(e.j41(0,"span",54),e.EFF(1),e.j41(2,"span",55),e.EFF(3,"|"),e.k0s()()),2&a){const t=r.$implicit;e.R7$(),e.SpI("",t," ")}}function m_(a,r){if(1&a&&(e.j41(0,"td",41),e.DNE(1,c_,4,1,"span",53),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.Y8G("ngForOf",t.currenciesTo)}}function p_(a,r){1&a&&e.nrm(0,"tr",61)}function u_(a,r){1&a&&e.nrm(0,"tr",62)}function h_(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",63)(1,"h5",64),e.EFF(2),e.k0s(),e.j41(3,"button",65),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",66),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",67)(7,"app-admin-cost-details",68),e.bIt("save",function(){const n=e.eBV(t).$implicit;return e.Njj(n.close("OK"))})("close",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Close"))}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(2),e.SpI(" ",t.detailsTitle," "),e.R7$(5),e.Y8G("permission",t.permission)("currentScheme",t.selectedScheme)}}let f_=(()=>{class a{constructor(t,i,n,o){this.modalService=t,this.auth=i,this.adminService=n,this.router=o,this.displayedColumns=["details","default","name","widgetIds","target","targetValues","trxType","userType","userMode","instrument","provider","currenciesFrom","currenciesTo"],this.inProgress=!1,this.errorMessage="",this.detailsTitle="",this.permission=0,this.schemes=[],this.subscriptions=new R.yU,this.detailsDialog=void 0,this.permission=this.auth.isPermittedObjectCode(c.G4.Costs)}ngOnInit(){this.loadSchemes()}ngOnDestroy(){this.subscriptions.unsubscribe()}loadSchemes(){this.schemes=[],this.inProgress=!0;const t=this.adminService.getCostSettings().valueChanges.pipe((0,P.s)(1));this.subscriptions.add(t.subscribe(({data:i})=>{const n=i.getSettingsCost;let o=0;null!==n&&(o=n?.count??0,o>0&&(this.schemes=n?.list?.map(s=>new lt.Bd(s)))),this.inProgress=!1},()=>{this.inProgress=!1,""===this.auth.token&&this.router.navigateByUrl("/")}))}showDetails(t,i){this.selectedScheme=t,this.detailsTitle=t?"Cost scheme details":"Add new cost scheme",this.detailsDialog=this.modalService.open(i,{backdrop:"static",windowClass:"modalCusSty"}),this.subscriptions.add(this.detailsDialog.closed.subscribe(()=>this.loadSchemes()))}convertToArray(t){return t?.split(",")}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(_.Bq),e.rXU(I.u),e.rXU(E),e.rXU(w.Ix))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-cost-schemes"]],decls:54,vars:9,consts:[["details_content",""],[3,"title","items","active_item"],[1,"row","row-sm"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],[1,"table-button-container"],["type","button","class","btn btn-primary me-2",3,"click",4,"ngIf"],["color","accent","mode","indeterminate",4,"ngIf"],[1,"data-table"],[3,"dataSource"],["matColumnDef","details"],["mat-header-cell","","class","mat-column-cost-table mat-column-cost-table-details",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","default"],["matColumnDef","name"],["mat-header-cell","","class","mat-column-cost-table mat-column-cost-table-name",4,"matHeaderCellDef"],["matColumnDef","widgetIds"],["mat-header-cell","","class","mat-column-fee-table mat-column-fee-table-target",4,"matHeaderCellDef"],["mat-cell","",3,"ngClass",4,"matCellDef"],["matColumnDef","target"],["matColumnDef","targetValues"],["matColumnDef","trxType"],["mat-header-cell","","class","mat-column-cost-table mat-column-cost-table-trx-type",4,"matHeaderCellDef"],["matColumnDef","userType"],["mat-header-cell","","class","mat-column-fee-table mat-column-fee-table-userType",4,"matHeaderCellDef"],["matColumnDef","userMode"],["mat-header-cell","","class","mat-column-fee-table mat-column-fee-table-userMode",4,"matHeaderCellDef"],["matColumnDef","instrument"],["mat-header-cell","","class","mat-column-cost-table mat-column-cost-table-instrument",4,"matHeaderCellDef"],["matColumnDef","provider"],["mat-header-cell","","class","mat-column-cost-table mat-column-cost-table-provider",4,"matHeaderCellDef"],["matColumnDef","currenciesFrom"],["mat-header-cell","","class","mat-column-fee-table mat-column-fee-table-provider",4,"matHeaderCellDef"],["matColumnDef","currenciesTo"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["color","accent","mode","indeterminate"],["mat-header-cell","",1,"mat-column-cost-table","mat-column-cost-table-details"],["mat-cell",""],["type","button","mat-icon-button","","matTooltip","Scheme details","matTooltipClass","info-tooltip",1,"row-button",3,"click"],[1,"material-icons","tx-20"],["class","row-icon",4,"ngIf"],[1,"row-icon"],["mat-header-cell","",1,"mat-column-cost-table","mat-column-cost-table-name"],["mat-header-cell","",1,"mat-column-fee-table","mat-column-fee-table-target"],["mat-cell","",3,"ngClass"],["class","widget-chip",4,"ngFor","ngForOf"],[1,"widget-chip"],[1,"tx-13"],["mat-header-cell","",1,"mat-column-cost-table","mat-column-cost-table-trx-type"],["class","multiple-cell",4,"ngFor","ngForOf"],[1,"multiple-cell"],[1,"multiple-cell-seperator"],["mat-header-cell","",1,"mat-column-fee-table","mat-column-fee-table-userType"],["mat-header-cell","",1,"mat-column-fee-table","mat-column-fee-table-userMode"],["mat-header-cell","",1,"mat-column-cost-table","mat-column-cost-table-instrument"],["mat-header-cell","",1,"mat-column-cost-table","mat-column-cost-table-provider"],["mat-header-cell","",1,"mat-column-fee-table","mat-column-fee-table-provider"],["mat-header-row",""],["mat-row",""],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"save","close","permission","currentScheme"]],template:function(i,n){1&i&&(e.nrm(0,"app-admin-page-header",1),e.j41(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",7),e.DNE(7,Ig,2,0,"button",8),e.k0s(),e.DNE(8,Eg,1,0,"mat-progress-bar",9),e.j41(9,"div",10)(10,"mat-table",11),e.qex(11,12),e.DNE(12,Pg,1,0,"th",13)(13,Ag,4,2,"td",14),e.bVm(),e.qex(14,15),e.DNE(15,Rg,1,0,"th",13)(16,jg,2,1,"td",14),e.bVm(),e.qex(17,16),e.DNE(18,$g,2,0,"th",17)(19,Mg,2,1,"td",14),e.bVm(),e.qex(20,18),e.DNE(21,Ng,2,0,"th",19)(22,Gg,3,2,"td",20),e.bVm(),e.qex(23,21),e.DNE(24,Bg,2,0,"th",19)(25,Ug,2,1,"td",14),e.bVm(),e.qex(26,22),e.DNE(27,Lg,2,0,"th",19)(28,qg,3,1,"td",14),e.bVm(),e.qex(29,23),e.DNE(30,Wg,2,0,"th",24)(31,zg,2,1,"td",14),e.bVm(),e.qex(32,25),e.DNE(33,Hg,2,0,"th",26)(34,Jg,2,1,"td",14),e.bVm(),e.qex(35,27),e.DNE(36,Qg,2,0,"th",28)(37,e_,2,1,"td",14),e.bVm(),e.qex(38,29),e.DNE(39,t_,2,0,"th",30)(40,a_,2,1,"td",14),e.bVm(),e.qex(41,31),e.DNE(42,n_,2,0,"th",32)(43,r_,2,1,"td",14),e.bVm(),e.qex(44,33),e.DNE(45,o_,2,0,"th",34)(46,l_,2,1,"td",14),e.bVm(),e.qex(47,35),e.DNE(48,d_,2,0,"th",34)(49,m_,2,1,"td",14),e.bVm(),e.DNE(50,p_,1,0,"tr",36)(51,u_,1,0,"tr",37),e.k0s()(),e.DNE(52,h_,8,3,"ng-template",null,0,e.C5r),e.k0s()()()()()),2&i&&(e.Y8G("title","Cost Schemes")("items",e.lJ4(8,Dg))("active_item","Schemes"),e.R7$(7),e.Y8G("ngIf",n.permission>1),e.R7$(),e.Y8G("ngIf",n.inProgress),e.R7$(2),e.Y8G("dataSource",n.schemes),e.R7$(40),e.Y8G("matHeaderRowDef",n.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",n.displayedColumns))},dependencies:[h.YU,h.Sq,h.bT,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,De.Jl,De.uI,ie.oV,K.iY,z.HM,X,Sg],styles:[".datatable-body{height:600px!important;overflow:scroll;width:100%}  .dataTable-bottom{position:absolute;left:0;right:0;bottom:0;background:#fff!important}  table th,   table td,   .ngx-datatable.material .datatable-header .datatable-header-cell,   .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{font-size:.876rem!important}@media (max-width: 567.9px){  .ngx-datatable .datatable-footer .datatable-footer-inner{flex-wrap:wrap;height:auto!important}  .ngx-datatable .datatable-footer .datatable-pager{text-align:center!important}}  .dataTable-wrapper.no-footer .dataTable-container{border-bottom:none!important}  .dataTable-selector{border-radius:.25rem}  app-data-table input{border-radius:25px;border:1px solid rgba(0,0,0,.1)}  app-data-table .custom-select{border:1px solid rgba(0,0,0,.24)!important;border-radius:.25rem}.table-responsive[_ngcontent-%COMP%]{overflow:visible}  .dark-theme input::placeholder{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material{background-color:#2a2e3f!important}  .dark-theme app-data-tables .dataTable-bottom{background-color:#2a2e3f!important}  .dark-theme app-data-tables .dataTable-selector{background-color:#2a2e3f;border-color:#272c49;color:#fff;outline:none}  .dark-theme app-data-tables input{color:#eee!important;background-color:#2a2e3f!important;border-color:#262b48;border-radius:25px;height:27px}  .dark-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .dark-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#2a2e3f;color:#fff}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid rgb(39,43,74)!important;color:#fff!important;background:#2a2e3f!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #32394e!important}  .dark-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .dark-theme app-data-tables .dataTable-pagination li:hover a,   .dark-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .dark-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .dark-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .dark-theme app-data-tables .mat-mdc-table{background:#2a2e3f!important}  .dark-theme app-data-tables .mat-mdc-header-cell{color:#fff!important}  .dark-theme app-data-tables .mat-mdc-cell,   .dark-theme app-data-tables .mat-mdc-footer-cell{color:#eee!important}  .dark-theme app-data-tables mat-row,   .dark-theme app-data-tables mat-header-row,   .dark-theme app-data-tables mat-footer-row,   .dark-theme app-data-tables th.mat-mdc-header-cell,   .dark-theme app-data-tables td.mat-mdc-cell,   .dark-theme app-data-tables td.mat-mdc-footer-cell{border-bottom-color:#ffffff1f!important}  .dark-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .dark-theme app-data-tables .mat-mdc-paginator,   .dark-theme app-data-tables .mat-mdc-paginator-page-size .mat-mdc-select-trigger{color:#ffffff8a!important}  .dark-theme app-data-tables .mat-mdc-paginator{background:#2a2e3f}  .dark-theme app-data-tables .mat-mdc-select-value{color:#fff7f7de}  .dark-theme app-data-tables .mat-mdc-select-arrow{color:#ffffffba}  .dark-theme .mat-mdc-select-panel{background:#30304d}  .dark-theme .mat-mdc-option{color:#ccc}  .dark-theme .mat-primary .mat-mdc-option.mat-selected:not(.mat-option-disabled){color:#fff}  .dark-theme .mat-mdc-option:hover:not(.mat-option-disabled),   .dark-theme .mat-option:focus:not(.mat-option-disabled){background:#2a2a44}  .dark-theme .mat-mdc-select-panel .mat-mdc-option.mat-selected:not(.mat-mdc-option-multiple){background:#0000001f}  .dark-theme .table-hover>tbody>tr:hover>*{color:#fff}  .dark-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme input::placeholder{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material{background-color:#2da28f!important}  .transparent-theme app-data-tables .dataTable-bottom{background-color:#2da28f!important}  .transparent-theme app-data-tables .dataTable-selector{background-color:#2da28f;border-color:#4cb0a0;color:#fff;outline:none}  .transparent-theme app-data-tables input{color:#eee!important;background-color:#2da28f!important;border-color:#4cb0a0;border-radius:25px;height:27px}  .transparent-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .transparent-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#2da28f;color:#fff}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid #4cb0a0!important;color:#fff!important;background:#2da28f!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #4cb0a0!important}  .transparent-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .transparent-theme app-data-tables .dataTable-pagination li:hover a,   .transparent-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .transparent-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .transparent-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .transparent-theme app-data-tables .mat-mdc-table{background:#2da28f!important}  .transparent-theme app-data-tables .mat-mdc-header-cell{color:#fff!important}  .transparent-theme app-data-tables .mat-mdc-cell,   .transparent-theme app-data-tables .mat-mdc-footer-cell{color:#eee!important}  .transparent-theme app-data-tables mat-row,   .transparent-theme app-data-tables mat-header-row,   .transparent-theme app-data-tables mat-footer-row,   .transparent-theme app-data-tables th.mat-mdc-header-cell,   .transparent-theme app-data-tables td.mat-mdc-cell,   .transparent-theme app-data-tables td.mat-mdc-footer-cell{border-bottom-color:#ffffff1f!important}  .transparent-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .transparent-theme app-data-tables .mat-mdc-paginator,   .transparent-theme app-data-tables .mat-mdc-paginator-page-size .mat-mdc-select-trigger{color:#ffffff8a!important}  .transparent-theme app-data-tables .mat-mdc-paginator{background:#2da28f}  .transparent-theme app-data-tables .mat-mdc-select-value{color:#fff7f7de}  .transparent-theme app-data-tables .mat-mdc-select-arrow{color:#ffffffba}  .transparent-theme .mat-mdc-select-panel{background:#30304d}  .transparent-theme .mat-mdc-option{color:#ccc}  .transparent-theme .mat-primary .mat-mdc-option.mat-selected:not(.mat-option-disabled){color:#fff}  .transparent-theme .mat-mdc-option:hover:not(.mat-option-disabled),   .transparent-theme .mat-option:focus:not(.mat-option-disabled){background:#2a2a44}  .transparent-theme .mat-mdc-select-panel .mat-mdc-option.mat-selected:not(.mat-mdc-option-multiple){background:#0000001f}  .transparent-theme .table-hover>tbody>tr:hover>*{color:#fff}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{background-color:#248272!important}.data-table[_ngcontent-%COMP%]{flex:1 1 0;overflow:auto;margin-top:5px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]{display:table;min-width:100%}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:32px;line-height:32px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   tr.mat-mdc-header-row[_ngcontent-%COMP%]{height:40px;line-height:40px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]{padding:0 4px;white-space:nowrap;font-size:16px;font-weight:400;color:#0000008a;font-family:Roboto,sans-serif}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell.action[_ngcontent-%COMP%]{width:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]{padding:1px 4px 0;line-height:29px;white-space:nowrap}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%]{width:16px;height:16px;font-size:16px;vertical-align:middle;position:relative;top:-1px}.data-table[_ngcontent-%COMP%]   .row-button[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0;position:relative;top:5px;padding:1px}.data-table[_ngcontent-%COMP%]   .row-button[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:16px;height:16px;width:16px;line-height:16px}.data-table[_ngcontent-%COMP%]   .row-icon[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0;position:relative;top:5px}mat-mdc-paginator[_ngcontent-%COMP%]{flex:0 0 auto}table[_ngcontent-%COMP%]{width:100%}.table-button-container[_ngcontent-%COMP%]{padding-bottom:16px}.mat-column-cost-table[_ngcontent-%COMP%]{word-wrap:break-word;white-space:unset;overflow-wrap:break-word;word-break:break-word;-webkit-hyphens:auto;hyphens:auto}.mat-column-cost-table-name[_ngcontent-%COMP%], .mat-column-cost-table-target[_ngcontent-%COMP%], .mat-column-cost-table-trx-type[_ngcontent-%COMP%], .mat-column-cost-table-instrument[_ngcontent-%COMP%], .mat-column-cost-table-provider[_ngcontent-%COMP%]{min-width:5em}.mat-column-cost-table-details[_ngcontent-%COMP%]{min-width:1.5em}.ng-pagination-nav-icons[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:12px}.multiple-cell[_ngcontent-%COMP%]{font-size:13px}.multiple-cell[_ngcontent-%COMP%]:last-child   .multiple-cell-seperator[_ngcontent-%COMP%]{display:none}.multiple-cell[_ngcontent-%COMP%]   .multiple-cell-seperator[_ngcontent-%COMP%]{color:#0003;margin-right:5px}"]})}return a})();const Cn=()=>({standalone:!0}),g_=a=>({"has-error":a});function __(a,r){if(1&a){const t=e.RV6();e.j41(0,"th")(1,"i",15),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.addFeeRiskCode())}),e.EFF(2," add_circle "),e.k0s()()}}function b_(a,r){if(1&a){const t=e.RV6();e.j41(0,"td",16)(1,"i",15),e.bIt("click",function(){const n=e.eBV(t).index,o=e.XpG(2);return e.Njj(o.deleteFeeRiskCode(n))}),e.EFF(2," cancel "),e.k0s()()}}function v_(a,r){1&a&&(e.j41(0,"th"),e.EFF(1," Risk Code "),e.k0s())}function y_(a,r){if(1&a&&(e.j41(0,"span",20),e.EFF(1),e.k0s(),e.nrm(2,"br"),e.j41(3,"small",21),e.EFF(4),e.k0s()),2&a){const t=r.item;e.R7$(),e.JRh(t.riskAlertTypeCode),e.R7$(3),e.JRh(t.description)}}function C_(a,r){if(1&a){const t=e.RV6();e.j41(0,"td",17)(1,"ng-select",18),e.mxI("ngModelChange",function(n){const o=e.eBV(t).$implicit;return e.DH7(o.riskCode,n)||(o.riskCode=n),e.Njj(n)}),e.DNE(2,y_,5,2,"ng-template",19),e.k0s()()}if(2&a){const t=r.$implicit,i=e.XpG(2);e.R7$(),e.R50("ngModel",t.riskCode),e.Y8G("ngModelOptions",e.lJ4(7,Cn))("items",i.riskAlertTypes)("clearable",!1)("clearOnBackspace",!0)("hideSelected",!0)("closeOnSelect",!0)}}function k_(a,r){1&a&&(e.j41(0,"th"),e.EFF(1," Fee "),e.k0s())}function F_(a,r){if(1&a){const t=e.RV6();e.j41(0,"td",22)(1,"div",23)(2,"input",24),e.mxI("ngModelChange",function(n){const o=e.eBV(t).$implicit;return e.DH7(o.feePercent,n)||(o.feePercent=n),e.Njj(n)}),e.k0s(),e.j41(3,"div",25)(4,"span",26),e.EFF(5,"%"),e.k0s()()()()}if(2&a){const t=r.$implicit,i=r.index;e.R7$(2),e.Y8G("id","input-"+i)("ngClass",e.eq3(5,g_,null===t.feePercent||""===t.feePercent)),e.R50("ngModel",t.feePercent),e.Y8G("ngModelOptions",e.lJ4(7,Cn))("required",!0)}}function T_(a,r){1&a&&e.nrm(0,"tr",27)}function x_(a,r){1&a&&e.nrm(0,"tr",28)}function w_(a,r){if(1&a&&(e.j41(0,"div",1)(1,"h5",2),e.EFF(2," Extra Fees "),e.j41(3,"span",3),e.EFF(4),e.k0s()(),e.j41(5,"div",4)(6,"table",5),e.qex(7,6),e.DNE(8,__,3,0,"th",7)(9,b_,3,0,"td",8),e.bVm(),e.qex(10,9),e.DNE(11,v_,2,0,"th",7)(12,C_,3,8,"td",10),e.bVm(),e.qex(13,11),e.DNE(14,k_,2,0,"th",7)(15,F_,6,8,"td",12),e.bVm(),e.DNE(16,T_,1,0,"tr",13)(17,x_,1,0,"tr",14),e.k0s()()()),2&a){const t=e.XpG();e.R7$(4),e.JRh(t.isListItemContainDuplicate?"Extra fees cointains duplicates":""),e.R7$(2),e.Y8G("dataSource",t.dataSource),e.R7$(10),e.Y8G("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),e.R7$(),e.Y8G("matRowDefColumns",t.displayedColumns)}}let S_=(()=>{class a{constructor(t,i){this.adminService=t,this.cdr=i,this.feeRiskCodes=[],this.dataSource=new p.I6,this.riskAlertTypes=[],this.displayedColumns=["details","riskCode","fee"],this.isListItemContainDuplicate=!1,this.destroy$=new y.B}ngOnInit(){this.dataSource=new p.I6(this.feeRiskCodes),this.adminService.getRiskAlertTypes().pipe((0,T.Q)(this.destroy$)).subscribe(t=>{this.riskAlertTypes=t,this.cdr.markForCheck()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}addFeeRiskCode(){const t=this.dataSource.data.at(-1);t&&(!t.riskCode||!t.feePercent)||(this.dataSource.data.push({riskCode:null,feePercent:null,selected:!0}),this.dataSource=new p.I6(this.dataSource.data),this.cdr.markForCheck())}deleteFeeRiskCode(t){t>-1&&(this.dataSource.data.splice(t,1),this.table.renderRows()),this.cdr.markForCheck()}mapFeeRiskCodes(){if(this.dataSource.data.length>0){const t=[];for(const i of this.dataSource.data)i.selected&&t.push({riskCode:i.riskCode,feePercent:i.feePercent});return t}return[]}riskFeesContainsDuplicates(){return this.isListItemContainDuplicate=!1,this.dataSource.data.length>0?(this.isListItemContainDuplicate=this.isDuplicate(this.dataSource.data),this.cdr.markForCheck(),this.isListItemContainDuplicate):(this.cdr.markForCheck(),!1)}isDuplicate(t){const i=t.reduce((n,o)=>(n[o.riskCode]=(n[o.riskCode]||0)+1,n),{});return!!Object.values(i).some(n=>n>1)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(E),e.rXU(e.gRc))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-fee-risk-codes"]],viewQuery:function(i,n){if(1&i&&e.GBs(p.Zl,5),2&i){let o;e.mGM(o=e.lsd())&&(n.table=o.first)}},inputs:{feeRiskCodes:"feeRiskCodes"},decls:1,vars:1,consts:[["class","card card-body pd-20 pd-md-40 border shadow-none",4,"ngIf"],[1,"card","card-body","pd-20","pd-md-40","border","shadow-none"],[1,"card-title","mg-b-20","d-flex","justify-content-between"],[1,"m-0","error","tx-12","tx-transform-none"],[1,"form-group"],["mat-table","",3,"dataSource"],["matColumnDef","details"],[4,"matHeaderCellDef"],["class","mat-column-fee-risk-table mat-column-fee-risk-table-details",4,"matCellDef"],["matColumnDef","riskCode"],["class","mat-column-fee-risk-table mat-column-fee-risk-table-riskCode",4,"matCellDef"],["matColumnDef","fee"],["class","mat-column-fee-risk-table mat-column-fee-risk-table-feePercent",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"material-icons","cursor-icon","tx-20",3,"click"],[1,"mat-column-fee-risk-table","mat-column-fee-risk-table-details"],[1,"mat-column-fee-risk-table","mat-column-fee-risk-table-riskCode"],["bindLabel","riskAlertTypeCode","bindValue","riskAlertTypeCode",3,"ngModelChange","ngModel","ngModelOptions","items","clearable","clearOnBackspace","hideSelected","closeOnSelect"],["ng-option-tmp",""],[1,"tx-13"],[1,"tx-12",2,"white-space","initial"],[1,"mat-column-fee-risk-table","mat-column-fee-risk-table-feePercent"],[1,"input-group"],["type","text","maxlength","4",1,"form-control",2,"padding","1px 6px",3,"ngModelChange","id","ngClass","ngModel","ngModelOptions","required"],[1,"input-group-append"],[1,"input-group-text",2,"padding","1px 2px"],["mat-header-row",""],["mat-row",""]],template:function(i,n){1&i&&e.DNE(0,w_,18,5,"div",0),2&i&&e.Y8G("ngIf",n.riskAlertTypes)},dependencies:[h.YU,h.bT,d.me,d.BC,d.YS,d.tU,d.vS,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.YZ,p.NB,te,at],styles:[".mat-column-fee-risk-table-details[_ngcontent-%COMP%]{width:2em}.mat-column-fee-risk-table-riskCode[_ngcontent-%COMP%]{width:20em;max-width:20em}.mat-column-fee-risk-table-feePercent[_ngcontent-%COMP%]{width:5em}.has-error[_ngcontent-%COMP%]{border:1px solid #f16d75}"],changeDetection:0})}return a})();function D_(a,r){if(1&a&&(e.j41(0,"div",3)(1,"span"),e.EFF(2),e.k0s(),e.nrm(3,"br"),e.j41(4,"span"),e.EFF(5),e.k0s()()),2&a){const t=r.$implicit;e.R7$(2),e.SpI("Name: ",t.schema.name,""),e.R7$(3),e.SpI("Values: ",t.similarValues.join(", "),"")}}function I_(a,r){if(1&a&&(e.j41(0,"mat-accordion",1)(1,"mat-expansion-panel")(2,"mat-expansion-panel-header")(3,"mat-panel-title")(4,"span"),e.EFF(5,"Similar Schemes"),e.k0s()()(),e.DNE(6,D_,6,2,"div",2),e.k0s()()),2&a){const t=e.XpG();e.R7$(6),e.Y8G("ngForOf",t.targetField.feeData)}}let kn=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-fee-similiar-panel"]],inputs:{targetField:"targetField"},standalone:!0,features:[e.aNF],decls:1,vars:1,consts:[["class","fee-similiar-panel",4,"ngIf"],[1,"fee-similiar-panel"],["class","fee-similiar-panel__body",4,"ngFor","ngForOf"],[1,"fee-similiar-panel__body"]],template:function(i,n){1&i&&e.DNE(0,I_,7,1,"mat-accordion",0),2&i&&e.Y8G("ngIf",null==n.targetField||null==n.targetField.feeData?null:n.targetField.feeData.length)},dependencies:[Qt,Jt,kt,Ft,Kt,h.pM,h.bT],styles:[".fee-similiar-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]{height:30px;padding:0 12px!important}.fee-similiar-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:400;color:#00000080;font-size:13px}.fee-similiar-panel__body[_ngcontent-%COMP%]{margin:0 -12px}.fee-similiar-panel__body[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{color:#000c;font-size:13px}.fee-similiar-panel__body[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{color:#0009;font-size:11px}"],changeDetection:0})}return a})();const E_=["feeRiskCodes"],ua=a=>({"has-error":a});function P_(a,r){1&a&&(e.j41(0,"div",34)(1,"small"),e.EFF(2," Scheme name is required "),e.k0s()())}function A_(a,r){if(1&a&&(e.j41(0,"div",7)(1,"label",8),e.EFF(2," Scheme name "),e.j41(3,"span",11),e.EFF(4,"*"),e.k0s()(),e.nrm(5,"input",33),e.DNE(6,P_,3,0,"div",13),e.k0s()),2&a){const t=e.XpG();e.R7$(5),e.Y8G("ngClass",e.eq3(2,ua,!t.form.controls.name.valid)),e.R7$(),e.Y8G("ngIf",(t.form.controls.name.touched||t.submitted)&&(null==t.form.controls.name.errors?null:t.form.controls.name.errors.required))}}function R_(a,r){if(1&a&&(e.j41(0,"div",7),e.nrm(1,"app-admin-details-item",35),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.Y8G("value",t.defaultSchemeName)}}function O_(a,r){1&a&&(e.j41(0,"div",34)(1,"small"),e.EFF(2," Please specify a target "),e.k0s()())}function j_(a,r){if(1&a&&(e.j41(0,"ng-option",40),e.nrm(1,"app-dropdown-item",41),e.k0s()),2&a){const t=r.$implicit;e.Y8G("value",t),e.R7$(),e.Y8G("itemValue",t.title)("imageClass",t.imgClass)("imageSource",t.imgSource)}}function $_(a,r){if(1&a&&(e.j41(0,"ng-select",38),e.DNE(1,j_,2,4,"ng-option",39),e.nI1(2,"async"),e.k0s()),2&a){const t=e.XpG(2);e.Mz_("notFoundText","No ",t.targetEntity[1]," found"),e.Mz_("placeholder","Start typing to search a ",t.targetEntity[0],""),e.Y8G("minTermLength",t.minTargetsLengthTerm)("loading",t.isTargetsLoading)("multiple",!0)("typeToSearchText",t.targetSearchText)("typeahead",t.targetsSearchInput$),e.R7$(),e.Y8G("ngForOf",e.bMT(2,10,t.targetsOptions$))}}function M_(a,r){if(1&a&&e.nrm(0,"ng-select",42),2&a){const t=e.XpG(2);e.Mz_("placeholder","Select one or more ",t.targetEntity[1],""),e.Y8G("items",t.sourceTargetsOptions)("multiple",!0)}}function N_(a,r){if(1&a&&(e.j41(0,"div",34)(1,"small"),e.EFF(2),e.k0s()()),2&a){const t=e.XpG(2);e.R7$(2),e.SpI(" Please specify at least one ",t.targetEntity[0]," ")}}function V_(a,r){if(1&a&&(e.j41(0,"div",7)(1,"label",8),e.EFF(2),e.j41(3,"span",11),e.EFF(4,"*"),e.k0s()(),e.DNE(5,$_,3,12,"ng-select",36)(6,M_,1,4,"ng-select",37)(7,N_,3,1,"div",13),e.nrm(8,"app-fee-similiar-panel",15),e.nI1(9,"async"),e.k0s()),2&a){let t;const i=e.XpG();e.R7$(2),e.SpI(" ",i.targetsTitle," "),e.R7$(3),e.Y8G("ngIf",i.targetType!==i.TARGET_TYPE.InitiateFrom),e.R7$(),e.Y8G("ngIf",i.targetType===i.TARGET_TYPE.InitiateFrom),e.R7$(),e.Y8G("ngIf",(i.form.controls.targetValues.touched||i.submitted)&&(null==i.form.controls.targetValues.errors?null:i.form.controls.targetValues.errors.required)),e.R7$(),e.Y8G("targetField",null==(t=e.bMT(9,5,i.similarSchemas$))?null:t.targetFilterValues)}}function G_(a,r){1&a&&(e.j41(0,"div",34)(1,"small"),e.EFF(2," Please specify transaction fee percentage "),e.k0s()())}function B_(a,r){1&a&&(e.j41(0,"div",34)(1,"small"),e.EFF(2," Invalid number value "),e.k0s()())}function U_(a,r){1&a&&(e.j41(0,"div",34)(1,"small"),e.EFF(2," Please specify transaction fee "),e.k0s()())}function L_(a,r){1&a&&(e.j41(0,"div",34)(1,"small"),e.EFF(2," Invalid number value "),e.k0s()())}function Y_(a,r){if(1&a&&(e.j41(0,"div",43)(1,"h4",44),e.EFF(2),e.k0s()()),2&a){const t=e.XpG();e.R7$(2),e.SpI(" ",t.errorMessage," ")}}function q_(a,r){1&a&&e.nrm(0,"span",45)}function W_(a,r){1&a&&e.nrm(0,"span",45)}function X_(a,r){1&a&&e.nrm(0,"span",45)}function z_(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",46),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onStateChangeScheme())}),e.DNE(1,X_,1,0,"span",29),e.EFF(2),e.k0s()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.disableInProgress),e.R7$(),e.SpI(" ",t.deleted?"Enable":"Disable"," ")}}function H_(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",47),e.bIt("click",function(){e.eBV(t);const n=e.XpG(),o=e.sdS(107);return e.Njj(n.deleteScheme(o))}),e.EFF(1," Delete "),e.k0s()}}function K_(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",48)(1,"h5",49),e.EFF(2,"Delete fee scheme"),e.k0s(),e.j41(3,"button",50),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",51),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",52)(7,"h4",53),e.EFF(8," You are going to delete selected fee scheme. Confirm operation. "),e.k0s(),e.j41(9,"div",54)(10,"button",55),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Reject"))}),e.EFF(11," Reject "),e.k0s(),e.j41(12,"button",56),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.close("Confirm"))}),e.EFF(13," Confirm "),e.k0s()()()}}let J_=(()=>{class a{set currentScheme(t){this.setFormData(t),this.settingsId=t?t?.id:"",this.createNew=""===this.settingsId}constructor(t,i,n,o,s,l){this.formBuilder=t,this.router=i,this.modalService=n,this.auth=o,this.commonService=s,this.adminService=l,this.permission=0,this.save=new e.bkB,this.close=new e.bkB,this.removeDialog=void 0,this.settingsId="",this.TARGET_TYPE=c.hF,this.submitted=!1,this.createNew=!1,this.saveInProgress=!1,this.disableInProgress=!1,this.errorMessage="",this.defaultSchemeName="",this.currencyOptions=[],this.riskFees=[],this.userTypeOptions=F.GV,this.userModes=F.b1,this.transactionTypes=F.ln,this.instruments=F.m0,this.providers=[],this.filteredProviders=[],this.currency="",this.deleted=!1,this.targetEntity=["",""],this.targetSearchText="",this.targetsTitle="",this.targetType=c.hF.None,this.targets=F.Wu,this.isTargetsLoading=!1,this.isWidgetsLoading=!1,this.targetsSearchInput$=new y.B,this.widgetsSearchInput$=new y.B,this.targetsOptions$=(0,S.of)([]),this.widgetsOptions$=(0,S.of)([]),this.sourceTargetsOptions=Ke,this.minTargetsLengthTerm=1,this.adminAdditionalSettings={},this.widgetIds=[],this.form=this.formBuilder.group({id:[""],name:["",{validators:[d.k0.required],updateOn:"change"}],description:[""],isDefault:[!1],target:["",{validators:[d.k0.required],updateOn:"change"}],targetValues:[[],{validators:[d.k0.required],updateOn:"change"}],instrument:[void 0],currenciesFrom:[],currenciesTo:[],userType:[void 0],userMode:[[]],trxType:[void 0],provider:[void 0],transactionFees:[void 0,{validators:[d.k0.required,d.k0.pattern("^[0-9.]+$")],updateOn:"change"}],minTransactionFee:[void 0,{validators:[d.k0.required,d.k0.pattern("^[0-9.]+$")],updateOn:"change"}],widgetIds:[void 0]}),this.destroy$=new y.B}ngOnInit(){this.form.get("target")?.valueChanges.pipe((0,T.Q)(this.destroy$)).subscribe(()=>this.updateTarget()),this.form.get("instrument")?.valueChanges.pipe((0,T.Q)(this.destroy$)).subscribe(t=>this.filterPaymentProviders(t)),this.loadCommonSettings(),this.getPaymentProviders(),this.loadCurrencies(),this.initWidgetSearch()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadCommonSettings(){const t=this.auth.getLocalSettingsCommon();t&&(this.adminAdditionalSettings="string"==typeof t.adminAdditionalSettings?JSON.parse(t.adminAdditionalSettings):t.adminAdditionalSettings,this.userModes=this.userModes.filter(i=>this.adminAdditionalSettings.userMode[i.id]),this.transactionTypes=this.transactionTypes.filter(i=>this.adminAdditionalSettings.transactionType[i.id]),this.userTypeOptions=this.userTypeOptions.filter(i=>this.adminAdditionalSettings.userType[i.id]),this.instruments=this.instruments.filter(i=>this.adminAdditionalSettings.paymentMethods[i.id]))}loadCurrencies(){this.commonService.getSettingsCurrency()?.valueChanges.pipe((0,P.s)(1),(0,T.Q)(this.destroy$)).subscribe(({data:t})=>{const i=t.getSettingsCurrency;this.currencyOptions=i.settingsCurrency&&i.settingsCurrency.count?i.settingsCurrency.list?.map(n=>new F.xD(n)):[]},t=>{this.errorMessage=t})}setFormData(t){if(this.form.reset(),this.defaultSchemeName="",this.currency=t?.currency??"",this.deleted=!!t?.deleted,t){if(this.defaultSchemeName=t.isDefault?t.name:"",this.widgetIds=t.widgetIds,this.form.get("id")?.setValue(t.id),this.form.get("name")?.setValue(t.name),this.form.get("description")?.setValue(t.description),this.form.get("isDefault")?.setValue(t.isDefault),this.form.get("currenciesFrom")?.setValue(t.currenciesFrom),this.form.get("currenciesTo")?.setValue(t.currenciesTo),this.form.get("target")?.setValue(t.target),this.targetType=t?.target??c.hF.None,this.setTargetValues(t?.targetValues),t.instrument&&t.instrument.length>0){const i=t.instrument[0];this.form.get("instrument")?.setValue(i),this.form.get("provider")?.setValue(t?.provider)}else this.form.get("instrument")?.setValue(void 0),this.form.get("provider")?.setValue([]);this.form.get("userMode")?.setValue(t?.userMode),this.form.get("userType")?.setValue(t?.userType),this.form.get("trxType")?.setValue(t?.trxType),this.form.get("transactionFees")?.setValue(t?.terms.transactionFees),this.form.get("minTransactionFee")?.setValue(t?.terms.minTransactionFee),t?.terms?.riskFees?.forEach(i=>{this.riskFees.push({riskCode:i.riskCode,feePercent:i.feePercent,selected:!0})}),this.setTargetValidator(),this.setTargetValueParams()}else this.form.get("id")?.setValue(""),this.form.get("name")?.setValue(""),this.form.get("description")?.setValue(""),this.form.get("isDefault")?.setValue(""),this.form.get("currenciesFrom")?.setValue([]),this.form.get("currenciesTo")?.setValue([]),this.form.get("target")?.setValue(c.hF.None),this.form.get("targetValues")?.setValue([]),this.form.get("instrument")?.setValue(void 0),this.form.get("userMode")?.setValue([]),this.form.get("userType")?.setValue(void 0),this.form.get("trxType")?.setValue(void 0),this.form.get("provider")?.setValue([]),this.form.get("transactionFees")?.setValue(void 0),this.form.get("minTransactionFee")?.setValue(void 0),this.setTargetValidator()}setSchemeData(){const t=new ln(null);t.name=this.form.get("name")?.value,t.description=this.form.get("description")?.value,t.isDefault=this.form.get("isDefault")?.value,t.id=this.form.get("id")?.value,t.setTarget(this.targetType,this.form.get("targetValues")?.value),t.setWidgets(this.form.get("widgetIds")?.value),t.userType=this.form.get("userType")?.value,t.userMode=this.form.get("userMode")?.value,t.trxType=this.form.get("trxType")?.value,t.currenciesFrom=this.form.get("currenciesFrom")?.value,t.currenciesTo=this.form.get("currenciesTo")?.value;const i=this.form.get("instrument")?.value;return t.instrument=null==i?[]:[i],t.provider=this.form.get("provider")?.value,t.terms.transactionFees=Number(this.form.get("transactionFees")?.value),t.terms.minTransactionFee=Number(this.form.get("minTransactionFee")?.value),t.terms.riskFees=this.feeRiskCodes.mapFeeRiskCodes(),t}setTargetValues(t){if(this.targetType===c.hF.AccountId){const i=new G({users:t});this.getFilteredAccounts(i).pipe((0,T.Q)(this.destroy$)).subscribe(n=>{this.targetsOptions$=(0,S.of)(n),this.form.get("targetValues")?.setValue(n)})}else if(this.targetType===c.hF.Country){const i=t.map(n=>{const o=re.To.find(s=>s.id===n);return o?(o.imgClass="country-flag-admin",o):new Ue.U}).filter(n=>""!==n.id);this.targetsOptions$=(0,S.of)(i),this.form.get("targetValues")?.setValue(i)}else if(this.targetType===c.hF.InitiateFrom){const i=t.map(n=>Ke.find(s=>s.id===n)??new Ue.U).filter(n=>""!==n.id);this.targetsOptions$=(0,S.of)(i),this.form.get("targetValues")?.setValue(i)}else this.form.get("targetValues")?.setValue([])}setTargetValueParams(){switch(this.targetType=this.form.get("target")?.value,this.targetType){case c.hF.None:this.targetEntity=["",""],this.targetSearchText="",this.targetsTitle="";break;case c.hF.Country:this.targetEntity=["country","countries"],this.targetSearchText="Type a country name",this.targetsTitle="Countries";break;case c.hF.AccountId:this.targetEntity=["account","accounts"],this.targetSearchText="Type email or user name",this.targetsTitle="Accounts";break;case c.hF.InitiateFrom:this.targetEntity=["source","sources"],this.targetSearchText="",this.targetsTitle="Transaction sources"}this.targetType!==c.hF.None&&this.initTargetSearch()}initTargetSearch(){this.targetsOptions$=(0,ke.x)((0,S.of)([]),this.targetsSearchInput$.pipe((0,W.p)(t=>null!==t&&t.length>=this.minTargetsLengthTerm),(0,q.B)(300),(0,Y.F)(),(0,D.M)(()=>this.isTargetsLoading=!0),(0,J.n)(t=>(this.isTargetsLoading=!1,this.filterTargets(t)))))}initWidgetSearch(){let t=!1;this.widgetsOptions$=this.widgetsSearchInput$.pipe((0,N.Z)(null),(0,q.B)(300),(0,Y.F)(),(0,J.n)(i=>null===i&&!t&&this.widgetIds?.length?(this.isWidgetsLoading=!0,t=!0,this.getFilteredWidgets(new G({widgets:this.widgetIds})).pipe((0,D.M)(n=>{this.form.get("widgetIds")?.setValue(n),this.isWidgetsLoading=!1}))):null!==i&&i.length>=this.minTargetsLengthTerm?(this.isWidgetsLoading=!0,this.getFilteredWidgets(new G({search:i})).pipe((0,D.M)(()=>this.isWidgetsLoading=!1))):(this.isWidgetsLoading=!1,(0,S.of)([]))))}filterPaymentProviders(t){if(!t||0===t.length)return this.form.get("instrument")?.setValue(void 0),void this.form.get("provider")?.setValue([]);this.filteredProviders=(0,ae.M)(t,this.providers),this.filteredProviders.length?this.form.controls.provider.enable():this.form.controls.provider.disable(),this.providers.length>0?this.form.get("provider")?.setValue((0,ae.VY)(this.form.get("provider")?.value??[],this.filteredProviders)):this.form.get("provider")?.setValue([])}filterTargets(t){if(this.targetType===c.hF.Country)return(0,S.of)(re.To.map(i=>(i.imgClass="country-flag-admin",i)).filter(i=>i.title.toLowerCase().includes(t.toLowerCase())));if(this.targetType===c.hF.AccountId){const i=new G({search:t});return this.getFilteredAccounts(i)}return(0,S.of)(this.targetType===c.hF.InitiateFrom?Ke:[])}getFilteredAccounts(t){return this.adminService.findUsers(t).pipe((0,b.T)(i=>i.list.map(n=>({id:n.id,title:n.extendedName}))))}getFilteredWidgets(t){return this.adminService.getWidgets(0,100,"widgetId",!1,t).pipe((0,b.T)(i=>i.list.map(n=>({id:n.id,title:n.name}))))}updateTarget(){this.clearTargetValues(),this.setTargetValidator(),this.setTargetValueParams()}clearTargetValues(){this.targetsOptions$=(0,S.of)([]),this.form.get("targetValues")?.setValue([])}setTargetValidator(){const t=this.form.get("target")?.value;this.targetType=t??c.hF.None;const i=this.form.get("targetValues");t===c.hF.None?i?.clearValidators():i?.setValidators([d.k0.required]),i?.updateValueAndValidity()}getPaymentProviders(){this.providers=[],this.adminService.getProviders()?.valueChanges.pipe((0,T.Q)(this.destroy$)).subscribe(({data:t})=>{const i=t.getPaymentProviders;this.providers=i?.map(o=>new F.LP(o));const n=this.form.get("instrument")?.value;this.filterPaymentProviders([n])})}onSubmit(){if(this.submitted=!0,this.form.valid){const t=this.setSchemeData(),i=this.feeRiskCodes.riskFeesContainsDuplicates();if(t.terms.riskFees.some(n=>!n.riskCode||!n.feePercent)||i)return;this.errorMessage="",this.saveInProgress=!0,this.adminService.saveFeeSettings(t).pipe((0,V.j)(()=>this.saveInProgress=!1),(0,T.Q)(this.destroy$)).subscribe({next:()=>this.save.emit(),error:n=>{this.errorMessage=n,""===this.auth.token&&this.router.navigateByUrl("/")}})}}onTest(){this.submitted=!0,this.form.valid&&this.getSimilarSchemes(this.setSchemeData())}deleteScheme(t){this.removeDialog=this.modalService.open(t,{backdrop:"static",windowClass:"modalCusSty"}),this.removeDialog.closed.pipe((0,T.Q)(this.destroy$)).subscribe(()=>this.deleteSchemeConfirmed(this.settingsId??""))}onStateChangeScheme(){this.disableInProgress=!0,this.deleted?this.enableScheme():this.disableScheme()}disableScheme(){this.adminService.disableFeeSettings(this.settingsId).pipe((0,V.j)(()=>this.saveInProgress=!1),(0,T.Q)(this.destroy$)).subscribe({next:()=>this.save.emit(),error:t=>{this.errorMessage=t,""===this.auth.token&&this.router.navigateByUrl("/")}})}enableScheme(){this.disableInProgress=!0,this.adminService.enableFeeSettings(this.settingsId).pipe((0,V.j)(()=>this.saveInProgress=!1),(0,T.Q)(this.destroy$)).subscribe({next:()=>this.save.emit(),error:t=>{this.errorMessage=t,""===this.auth.token&&this.router.navigateByUrl("/")}})}getSimilarSchemes(t){this.errorMessage="",this.saveInProgress=!0,this.similarSchemas$=this.adminService.getFeeSettingsSimilar(t).pipe((0,V.j)(()=>this.saveInProgress=!1),(0,ma.t)(1))}deleteSchemeConfirmed(t){this.errorMessage="",this.saveInProgress=!0,this.adminService.deleteFeeSettings(t).pipe((0,V.j)(()=>this.saveInProgress=!1),(0,T.Q)(this.destroy$)).subscribe({next:()=>this.save.emit(),error:i=>{this.errorMessage=i,""===this.auth.token&&this.router.navigateByUrl("/")}})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(d.ze),e.rXU(w.Ix),e.rXU(_.Bq),e.rXU(I.u),e.rXU(xe.X),e.rXU(E))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-fee-details"]],viewQuery:function(i,n){if(1&i&&e.GBs(E_,5),2&i){let o;e.mGM(o=e.lsd())&&(n.feeRiskCodes=o.first)}},inputs:{permission:"permission",currentScheme:"currentScheme"},outputs:{save:"save",close:"close"},decls:108,vars:86,consts:[["feeRiskCodes",""],["delete_content",""],[1,"row"],[1,"col-md-12","col-lg-12","col-xl-12","mx-auto","d-block"],["novalidate","",3,"formGroup"],[1,"card","card-body","pd-20","pd-md-40","border","shadow-none"],["class","form-group",4,"ngIf"],[1,"form-group"],[1,"main-content-label","tx-11","tx-medium","tx-gray-600"],["type","text","formControlName","description",1,"form-control"],[1,"card-title","mg-b-20"],[1,"main-content-label","tx-11","tx-medium","tx-danger"],["bindLabel","name","bindValue","id","formControlName","target","required","",3,"items","clearable","clearOnBackspace"],["class","tx-danger",4,"ngIf"],["formControlName","widgetIds","bindLabel","title","notFoundText","No widgets found","typeToSearchText","type widget name","placeholder","Start typing to search a widget",3,"minTermLength","loading","multiple","typeahead","items"],[3,"targetField"],["bindLabel","name","bindValue","id","formControlName","trxType","placeholder","Select one or more types",3,"items","multiple","closeOnSelect"],["bindLabel","name","bindValue","id","formControlName","instrument","placeholder","Select payment method","required","",3,"items","clearable"],["bindLabel","display","bindValue","symbol","formControlName","currenciesFrom",3,"items","clearable","clearOnBackspace","multiple","closeOnSelect"],["bindLabel","display","bindValue","symbol","formControlName","currenciesTo",3,"items","clearable","clearOnBackspace","multiple","closeOnSelect"],["bindLabel","name","bindValue","id","formControlName","provider",3,"items","multiple","placeholder","closeOnSelect"],["bindLabel","name","bindValue","id","formControlName","userType",3,"items","clearable","clearOnBackspace","multiple","closeOnSelect"],["bindLabel","name","bindValue","id","formControlName","userMode",3,"items","clearable","clearOnBackspace","multiple","closeOnSelect"],["type","text","formControlName","transactionFees","maxlength","7","placeholder","2%","required","",1,"form-control",3,"ngClass"],["type","text","formControlName","minTransactionFee","maxlength","10","placeholder","\u20ac5","required","",1,"form-control",3,"ngClass"],[3,"feeRiskCodes"],["class","card card-body card-danger pd-20 pd-md-40 border shadow-none",4,"ngIf"],[2,"display","flex","justify-content","flex-end"],["type","button",1,"btn","btn-primary","pd-x-30","me-2","mg-t-5",3,"click"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["type","button","class","btn btn-secondary pd-x-30 me-2 mg-t-5",3,"click",4,"ngIf"],["class","btn btn-danger pd-x-30 me-2 mg-t-5","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","pd-x-30","mg-t-5",3,"click"],["type","text","formControlName","name","required","",1,"form-control",3,"ngClass"],[1,"tx-danger"],["label","Scheme name",3,"value"],["formControlName","targetValues","bindLabel","title","required","",3,"minTermLength","notFoundText","loading","multiple","typeToSearchText","placeholder","typeahead",4,"ngIf"],["bindLabel","title","formControlName","targetValues","required","",3,"items","multiple","placeholder",4,"ngIf"],["formControlName","targetValues","bindLabel","title","required","",3,"minTermLength","notFoundText","loading","multiple","typeToSearchText","placeholder","typeahead"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"itemValue","imageClass","imageSource"],["bindLabel","title","formControlName","targetValues","required","",3,"items","multiple","placeholder"],[1,"card","card-body","card-danger","pd-20","pd-md-40","border","shadow-none"],[1,"card-title2","mg-b-20","color_brown"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["type","button",1,"btn","btn-secondary","pd-x-30","me-2","mg-t-5",3,"click"],["type","button",1,"btn","btn-danger","pd-x-30","me-2","mg-t-5",3,"click"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"text-center"],[2,"display","flex","flex-direction","row","justify-content","center","align-items","center"],["type","button",1,"btn","btn-outline-secondary","pd-x-30","me-2","mg-t-5",3,"click"],["type","button",1,"btn","btn-primary","pd-x-30","mg-t-5",3,"click"]],template:function(i,n){if(1&i){const o=e.RV6();e.j41(0,"div",2)(1,"div",3)(2,"form",4)(3,"div",5),e.DNE(4,A_,7,4,"div",6)(5,R_,2,1,"div",6),e.j41(6,"div",7)(7,"label",8),e.EFF(8," Description "),e.k0s(),e.nrm(9,"input",9),e.k0s(),e.j41(10,"div",5)(11,"h5",10),e.EFF(12," Targets "),e.k0s(),e.j41(13,"div",7)(14,"label",8),e.EFF(15," Target "),e.j41(16,"span",11),e.EFF(17,"*"),e.k0s()(),e.nrm(18,"ng-select",12),e.DNE(19,O_,3,0,"div",13),e.k0s(),e.DNE(20,V_,10,7,"div",6),e.j41(21,"div",7)(22,"label",8),e.EFF(23," Widgets "),e.k0s(),e.nrm(24,"ng-select",14),e.nI1(25,"async"),e.nrm(26,"app-fee-similiar-panel",15),e.nI1(27,"async"),e.k0s(),e.j41(28,"div",7)(29,"label",8),e.EFF(30," Transaction types "),e.k0s(),e.nrm(31,"ng-select",16)(32,"app-fee-similiar-panel",15),e.nI1(33,"async"),e.k0s(),e.j41(34,"div",7)(35,"label",8),e.EFF(36," Payment Methods "),e.j41(37,"span",11),e.EFF(38,"*"),e.k0s()(),e.nrm(39,"ng-select",17)(40,"app-fee-similiar-panel",15),e.nI1(41,"async"),e.k0s(),e.j41(42,"div",7)(43,"label",8),e.EFF(44," Currencies From "),e.k0s(),e.nrm(45,"ng-select",18)(46,"app-fee-similiar-panel",15),e.nI1(47,"async"),e.k0s(),e.j41(48,"div",7)(49,"label",8),e.EFF(50," Currencies To "),e.k0s(),e.nrm(51,"ng-select",19)(52,"app-fee-similiar-panel",15),e.nI1(53,"async"),e.k0s(),e.j41(54,"div",7)(55,"label",8),e.EFF(56," Payment providers "),e.k0s(),e.nrm(57,"ng-select",20)(58,"app-fee-similiar-panel",15),e.nI1(59,"async"),e.k0s(),e.j41(60,"div",7)(61,"label",8),e.EFF(62," User types "),e.k0s(),e.nrm(63,"ng-select",21)(64,"app-fee-similiar-panel",15),e.nI1(65,"async"),e.k0s(),e.j41(66,"div",7)(67,"label",8),e.EFF(68," User modes "),e.k0s(),e.nrm(69,"ng-select",22)(70,"app-fee-similiar-panel",15),e.nI1(71,"async"),e.k0s()(),e.j41(72,"div",5)(73,"h5",10),e.EFF(74," Terms "),e.k0s(),e.j41(75,"div",7)(76,"label",8),e.EFF(77," Transaction fees, % "),e.j41(78,"span",11),e.EFF(79,"*"),e.k0s()(),e.nrm(80,"input",23),e.DNE(81,G_,3,0,"div",13)(82,B_,3,0,"div",13),e.k0s(),e.j41(83,"div",7)(84,"label",8),e.EFF(85),e.j41(86,"span",11),e.EFF(87,"*"),e.k0s()(),e.nrm(88,"input",24),e.DNE(89,U_,3,0,"div",13)(90,L_,3,0,"div",13),e.k0s()(),e.nrm(91,"app-fee-risk-codes",25,0),e.k0s(),e.DNE(93,Y_,3,1,"div",26),e.j41(94,"div",27),e.EFF(95),e.j41(96,"button",28),e.bIt("click",function(){return e.eBV(o),e.Njj(n.onSubmit())}),e.DNE(97,q_,1,0,"span",29),e.EFF(98," Save "),e.k0s(),e.j41(99,"button",28),e.bIt("click",function(){return e.eBV(o),e.Njj(n.onTest())}),e.DNE(100,W_,1,0,"span",29),e.EFF(101," TEST "),e.k0s(),e.DNE(102,z_,3,2,"button",30)(103,H_,2,0,"button",31),e.j41(104,"button",32),e.bIt("click",function(){return e.eBV(o),e.Njj(n.close.emit())}),e.EFF(105," Close "),e.k0s()()()()(),e.DNE(106,K_,14,0,"ng-template",null,1,e.C5r)}if(2&i){let o,s,l,m,u,g,C,x;e.R7$(2),e.Y8G("formGroup",n.form),e.R7$(2),e.Y8G("ngIf",""===n.defaultSchemeName),e.R7$(),e.Y8G("ngIf",""!==n.defaultSchemeName),e.R7$(13),e.Y8G("items",n.targets)("clearable",!1)("clearOnBackspace",!1),e.R7$(),e.Y8G("ngIf",(n.form.controls.target.touched||n.submitted)&&(null==n.form.controls.target.errors?null:n.form.controls.target.errors.required)),e.R7$(),e.Y8G("ngIf",n.targetType!==n.TARGET_TYPE.None),e.R7$(4),e.Y8G("minTermLength",n.minTargetsLengthTerm)("loading",n.isWidgetsLoading)("multiple",!0)("typeahead",n.widgetsSearchInput$)("items",e.bMT(25,64,n.widgetsOptions$)),e.R7$(2),e.Y8G("targetField",null==(o=e.bMT(27,66,n.similarSchemas$))?null:o.widgetIds),e.R7$(5),e.Y8G("items",n.transactionTypes)("multiple",!0)("closeOnSelect",!1),e.R7$(),e.Y8G("targetField",null==(s=e.bMT(33,68,n.similarSchemas$))?null:s.targetTransactionTypes),e.R7$(7),e.Y8G("items",n.instruments)("clearable",!1),e.R7$(),e.Y8G("targetField",null==(l=e.bMT(41,70,n.similarSchemas$))?null:l.targetInstruments),e.R7$(5),e.Y8G("items",n.currencyOptions)("clearable",!0)("clearOnBackspace",!0)("multiple",!0)("closeOnSelect",!1),e.R7$(),e.Y8G("targetField",null==(m=e.bMT(47,72,n.similarSchemas$))?null:m.targetCurrenciesFrom),e.R7$(5),e.Y8G("items",n.currencyOptions)("clearable",!0)("clearOnBackspace",!0)("multiple",!0)("closeOnSelect",!1),e.R7$(),e.Y8G("targetField",null==(u=e.bMT(53,74,n.similarSchemas$))?null:u.targetCurrenciesTo),e.R7$(5),e.Y8G("items",n.filteredProviders)("multiple",!0)("placeholder","Select one or more providers")("closeOnSelect",!1),e.R7$(),e.Y8G("targetField",null==(g=e.bMT(59,76,n.similarSchemas$))?null:g.targetPaymentProviders),e.R7$(5),e.Y8G("items",n.userTypeOptions)("clearable",!0)("clearOnBackspace",!0)("multiple",!0)("closeOnSelect",!1),e.R7$(),e.Y8G("targetField",null==(C=e.bMT(65,78,n.similarSchemas$))?null:C.targetUserTypes),e.R7$(5),e.Y8G("items",n.userModes)("clearable",!0)("clearOnBackspace",!0)("multiple",!0)("closeOnSelect",!1),e.R7$(),e.Y8G("targetField",null==(x=e.bMT(71,80,n.similarSchemas$))?null:x.targetUserModes),e.R7$(10),e.Y8G("ngClass",e.eq3(82,ua,!n.form.controls.transactionFees.valid)),e.R7$(),e.Y8G("ngIf",(n.form.controls.transactionFees.touched||n.submitted)&&(null==n.form.controls.transactionFees.errors?null:n.form.controls.transactionFees.errors.required)),e.R7$(),e.Y8G("ngIf",(n.form.controls.transactionFees.touched||n.submitted)&&(null==n.form.controls.transactionFees.errors?null:n.form.controls.transactionFees.errors.pattern)),e.R7$(3),e.SpI(" Minimal transaction fee, ",n.currency," "),e.R7$(3),e.Y8G("ngClass",e.eq3(84,ua,!n.form.controls.minTransactionFee.valid)),e.R7$(),e.Y8G("ngIf",(n.form.controls.minTransactionFee.touched||n.submitted)&&(null==n.form.controls.minTransactionFee.errors?null:n.form.controls.minTransactionFee.errors.required)),e.R7$(),e.Y8G("ngIf",(n.form.controls.minTransactionFee.touched||n.submitted)&&(null==n.form.controls.minTransactionFee.errors?null:n.form.controls.minTransactionFee.errors.pattern)),e.R7$(),e.Y8G("feeRiskCodes",n.riskFees),e.R7$(2),e.Y8G("ngIf",""!==n.errorMessage),e.R7$(2),e.SpI(" ",null==n.currentScheme?null:n.currentScheme.deleted," "),e.R7$(2),e.Y8G("ngIf",n.saveInProgress),e.R7$(3),e.Y8G("ngIf",n.saveInProgress),e.R7$(2),e.Y8G("ngIf",!n.createNew),e.R7$(),e.Y8G("ngIf",n.permission>1&&!n.createNew&&""===n.defaultSchemeName)}},dependencies:[h.YU,h.Sq,h.bT,d.qT,d.me,d.BC,d.cb,d.YS,d.tU,d.j4,d.JD,te,Oe,Pe,kn,he,S_,h.Jj],styles:[".dark-theme .mat-mdc-button,   .dark-theme .mat-mdc-icon-button,   .dark-theme .mat-mdc-outlined-button{color:#b7c0d6!important}  .dark-theme .mat-form-field-label{color:#eee}  .dark-theme .mat-datepicker-content{background-color:#373d51;color:#ffffffde}  .dark-theme .mat-calendar-table-header,   .dark-theme .mat-calendar-body-label{color:#fff}@media (hover: hover){  .dark-theme .mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#2a2e3f}}  .dark-theme .mat-calendar-body-cell-content,   .dark-theme .mat-date-range-input-separator{color:#e1e1ef}  .dark-theme .ngb-dp-header{background-color:#343545}  .dark-theme .ngb-dp-weekdays{background-color:#343545}  .rtl .color-picker{left:initial!important}  .transparent-theme .card .box{background:#2da28f}  .transparent-theme .hex-text,   .transparent-theme .rgba-text{background:#2da28f}  .transparent-theme .mat-datepicker-content{background-color:#2da28f;color:#ffffffde}  .transparent-theme .mat-datepicker-toggle,   .transparent-theme .mat-datepicker-content .mat-calendar-next-button,   .transparent-theme .mat-datepicker-content .mat-calendar-previous-button{color:#ffffff81}  .transparent-theme .mat-calendar-body-cell-content,   .transparent-theme .mat-date-range-input-separator{color:#ffffffd3}  .transparent-theme .mat-calendar-table-header,   .transparent-theme .mat-calendar-body-label{color:#fff9}  .transparent-theme .ngb-dp-header{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekdays{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekday{color:#000}  .transparent-theme .ng-select .ng-arrow-wrapper .ng-arrow{border-top-color:#fff!important}  .transparent-theme .ng-select.ng-select-opened .ng-arrow-wrapper .ng-arrow{border-bottom-color:#fff!important}  .form-controls{display:block;color:#fff;border:transparent;outline:none;width:100%;height:40px;padding:.375rem .75rem;font-size:.875rem;font-weight:400;line-height:2;background-clip:padding-box;border-radius:5px;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}  button[type=button]{z-index:0!important}",".has-error[_ngcontent-%COMP%]{border:1px solid #f16d75}.tx-danger[_ngcontent-%COMP%]{color:red!important}"]})}return a})();function Q_(a,r){if(1&a&&(e.EFF(0),e.nrm(1,"br"),e.j41(2,"small"),e.EFF(3),e.k0s()),2&a){const t=r.item;e.SpI(" ",t.title," "),e.R7$(3),e.JRh(t.id)}}function Z_(a,r){if(1&a&&(e.j41(0,"div",13)(1,"h4",14),e.EFF(2),e.k0s()()),2&a){const t=e.XpG();e.R7$(2),e.SpI(" ",t.errorMessage," ")}}function eb(a,r){1&a&&e.nrm(0,"span",15)}let tb=(()=>{class a{set feeSchemas(t){this.feeOptions=this.getFilteredFees(t)}constructor(t,i,n,o){this.formBuilder=t,this.router=i,this.auth=n,this.adminService=o,this.permission=0,this.save=new e.bkB,this.close=new e.bkB,this.subscriptions=new R.yU,this.saveInProgress=!1,this.costSchemes=[],this.errorMessage="",this.form=this.formBuilder.group({ids:[void 0,d.k0.required],costId:[void 0,d.k0.required]})}ngOnInit(){this.loadCostSchemeList()}ngOnDestroy(){this.subscriptions.unsubscribe()}getFilteredFees(t){return t.filter(i=>i.instrument.includes(c.iw.WireTransfer)).map(i=>({id:i.id,title:i.name}))}loadCostSchemeList(){const t=this.adminService.getCostSettings().valueChanges.pipe((0,P.s)(1));this.subscriptions.add(t.subscribe(({data:i})=>{const n=i.getSettingsCost;let o=0;n&&(o=n?.count??0,o>0&&(this.costSchemes=n?.list?.map(s=>new lt.Bd(s))))}))}feeSearchFn(t,i){return t=t.toLocaleLowerCase(),i.title.toLocaleLowerCase().indexOf(t)>-1||i.id&&i.id.toLocaleLowerCase().indexOf(t)>-1}onSubmit(){this.errorMessage="",this.saveInProgress=!0;const t=this.form.get("ids")?.value,i=this.form.get("costId")?.value,n=this.adminService.assignCostToFees(t,i);this.subscriptions.add(n.pipe((0,V.j)(()=>this.saveInProgress=!1)).subscribe({next:()=>this.save.emit(),error:o=>{this.errorMessage=o,""===this.auth.token&&this.router.navigateByUrl("/")}}))}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(d.ze),e.rXU(w.Ix),e.rXU(I.u),e.rXU(E))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-fee-assign-cost"]],inputs:{permission:"permission",feeSchemas:"feeSchemas"},outputs:{save:"save",close:"close"},decls:20,vars:13,consts:[[3,"formGroup"],[1,"card","card-body","pd-20","pd-md-40","border","shadow-none"],[1,"card-title","mg-b-20"],[1,"form-group"],[1,"main-content-label","tx-11","tx-medium","tx-gray-600"],["bindLabel","title","bindValue","id","formControlName","ids","required","",3,"items","multiple","searchFn","closeOnSelect","clearOnBackspace","placeholder"],["ng-option-tmp",""],["bindLabel","name","bindValue","id","formControlName","costId","required","",3,"clearable","items","placeholder"],["class","card card-body card-danger pd-20 pd-md-40 border shadow-none",4,"ngIf"],[1,"d-sm-flex","justify-content-end"],["type","button",1,"btn","btn-primary","pd-x-30","me-2","mg-t-5",3,"click","disabled"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","pd-x-30","mg-t-5",3,"click"],[1,"card","card-body","card-danger","pd-20","pd-md-40","border","shadow-none"],[1,"card-title2","mg-b-20","color_brown"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(i,n){1&i&&(e.j41(0,"form",0)(1,"div",1)(2,"h5",2),e.EFF(3," Schema assignment details "),e.k0s(),e.j41(4,"div",3)(5,"label",4),e.EFF(6," Fees "),e.k0s(),e.j41(7,"ng-select",5),e.DNE(8,Q_,4,2,"ng-template",6),e.k0s()(),e.j41(9,"div",3)(10,"label",4),e.EFF(11," Cost Schema "),e.k0s(),e.nrm(12,"ng-select",7),e.k0s()(),e.DNE(13,Z_,3,1,"div",8),e.j41(14,"div",9)(15,"button",10),e.bIt("click",function(){return n.onSubmit()}),e.DNE(16,eb,1,0,"span",11),e.EFF(17," Save "),e.k0s(),e.j41(18,"button",12),e.bIt("click",function(){return n.close.emit()}),e.EFF(19," Close "),e.k0s()()()),2&i&&(e.Y8G("formGroup",n.form),e.R7$(7),e.Y8G("items",n.feeOptions)("multiple",!0)("searchFn",n.feeSearchFn)("closeOnSelect",!1)("clearOnBackspace",!1)("placeholder","Select fee"),e.R7$(5),e.Y8G("clearable",!1)("items",n.costSchemes)("placeholder","Select cost scheme"),e.R7$(),e.Y8G("ngIf",n.errorMessage),e.R7$(2),e.Y8G("disabled",!n.form.valid),e.R7$(),e.Y8G("ngIf",n.saveInProgress))},dependencies:[h.bT,d.qT,d.BC,d.cb,d.YS,d.j4,d.JD,te,at],styles:[".dark-theme .mat-mdc-button,   .dark-theme .mat-mdc-icon-button,   .dark-theme .mat-mdc-outlined-button{color:#b7c0d6!important}  .dark-theme .mat-form-field-label{color:#eee}  .dark-theme .mat-datepicker-content{background-color:#373d51;color:#ffffffde}  .dark-theme .mat-calendar-table-header,   .dark-theme .mat-calendar-body-label{color:#fff}@media (hover: hover){  .dark-theme .mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#2a2e3f}}  .dark-theme .mat-calendar-body-cell-content,   .dark-theme .mat-date-range-input-separator{color:#e1e1ef}  .dark-theme .ngb-dp-header{background-color:#343545}  .dark-theme .ngb-dp-weekdays{background-color:#343545}  .rtl .color-picker{left:initial!important}  .transparent-theme .card .box{background:#2da28f}  .transparent-theme .hex-text,   .transparent-theme .rgba-text{background:#2da28f}  .transparent-theme .mat-datepicker-content{background-color:#2da28f;color:#ffffffde}  .transparent-theme .mat-datepicker-toggle,   .transparent-theme .mat-datepicker-content .mat-calendar-next-button,   .transparent-theme .mat-datepicker-content .mat-calendar-previous-button{color:#ffffff81}  .transparent-theme .mat-calendar-body-cell-content,   .transparent-theme .mat-date-range-input-separator{color:#ffffffd3}  .transparent-theme .mat-calendar-table-header,   .transparent-theme .mat-calendar-body-label{color:#fff9}  .transparent-theme .ngb-dp-header{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekdays{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekday{color:#000}  .transparent-theme .ng-select .ng-arrow-wrapper .ng-arrow{border-top-color:#fff!important}  .transparent-theme .ng-select.ng-select-opened .ng-arrow-wrapper .ng-arrow{border-bottom-color:#fff!important}  .form-controls{display:block;color:#fff;border:transparent;outline:none;width:100%;height:40px;padding:.375rem .75rem;font-size:.875rem;font-weight:400;line-height:2;background-clip:padding-box;border-radius:5px;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}  button[type=button]{z-index:0!important}",".has-error[_ngcontent-%COMP%]{border:1px solid #f16d75}.tx-danger[_ngcontent-%COMP%]{color:red!important}"]})}return a})();const ab=()=>["Home"];function nb(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",36)(1,"button",37),e.bIt("click",function(){e.eBV(t);const n=e.XpG(),o=e.sdS(52);return e.Njj(n.showDetails(void 0,o))}),e.EFF(2," Add scheme "),e.k0s(),e.j41(3,"button",37),e.bIt("click",function(){e.eBV(t);const n=e.XpG(),o=e.sdS(54);return e.Njj(n.showDetails(void 0,o))}),e.EFF(4," Assign cost scheme "),e.k0s()()}}function ib(a,r){1&a&&e.nrm(0,"mat-progress-bar",38)}function rb(a,r){1&a&&e.nrm(0,"th",39)}function ob(a,r){if(1&a){const t=e.RV6();e.j41(0,"td",40)(1,"button",41),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG(),s=e.sdS(52);return e.Njj(o.showDetails(n,s))}),e.j41(2,"i",42),e.EFF(3,"wysiwyg"),e.k0s()()()}if(2&a){const t=r.$implicit,i=e.XpG();e.Y8G("ngClass",t.feeSchemasListDataColumnStyle),e.R7$(),e.BMQ("aria-label","Scheme details")("aria-pressed",!!i.selectedScheme)}}function sb(a,r){1&a&&e.nrm(0,"th",39)}function lb(a,r){1&a&&(e.j41(0,"div",44)(1,"i",42),e.EFF(2,"offline_bolt"),e.k0s()())}function db(a,r){if(1&a&&(e.j41(0,"td",40),e.DNE(1,lb,3,0,"div",43),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.feeSchemasListDataColumnStyle),e.R7$(),e.Y8G("ngIf",t.isDefault)}}function cb(a,r){1&a&&(e.j41(0,"th",45),e.EFF(1," Name "),e.k0s())}function mb(a,r){if(1&a&&(e.j41(0,"td",40),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.feeSchemasListDataColumnStyle),e.R7$(),e.SpI(" ",t.name," ")}}function pb(a,r){1&a&&(e.j41(0,"th",46),e.EFF(1," Widgets "),e.k0s())}function ub(a,r){if(1&a&&(e.j41(0,"mat-chip",48)(1,"span",49),e.EFF(2),e.k0s()()),2&a){const t=r.$implicit;e.R7$(2),e.JRh(t)}}function hb(a,r){if(1&a&&(e.j41(0,"td",40)(1,"mat-chip-listbox"),e.DNE(2,ub,3,1,"mat-chip",47),e.k0s()()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.feeSchemasListDataColumnStyle),e.R7$(2),e.Y8G("ngForOf",t.widgetIds)}}function fb(a,r){1&a&&(e.j41(0,"th",46),e.EFF(1," Target type "),e.k0s())}function gb(a,r){if(1&a&&(e.j41(0,"td",40),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.feeSchemasListDataColumnStyle),e.R7$(),e.SpI(" ",t.targetName," ")}}function _b(a,r){1&a&&(e.j41(0,"th",46),e.EFF(1," Targets "),e.k0s())}function bb(a,r){if(1&a&&(e.j41(0,"mat-chip",48)(1,"span",49),e.EFF(2),e.k0s()()),2&a){const t=r.$implicit;e.R7$(2),e.JRh(t)}}function vb(a,r){if(1&a&&(e.j41(0,"td",40)(1,"mat-chip-listbox"),e.DNE(2,bb,3,1,"mat-chip",47),e.k0s()()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.feeSchemasListDataColumnStyle),e.R7$(2),e.Y8G("ngForOf",t.targetValues)}}function yb(a,r){1&a&&(e.j41(0,"th",50),e.EFF(1," Transaction types "),e.k0s())}function Cb(a,r){if(1&a&&(e.j41(0,"span",52),e.EFF(1),e.j41(2,"span",53),e.EFF(3,"|"),e.k0s()()),2&a){const t=r.$implicit;e.R7$(),e.SpI("",t," ")}}function kb(a,r){if(1&a&&(e.j41(0,"td",40),e.DNE(1,Cb,4,1,"span",51),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.feeSchemasListDataColumnStyle),e.R7$(),e.Y8G("ngForOf",t.trxType)}}function Fb(a,r){1&a&&(e.j41(0,"th",54),e.EFF(1," User types "),e.k0s())}function Tb(a,r){if(1&a&&(e.j41(0,"span",52),e.EFF(1),e.j41(2,"span",53),e.EFF(3,"|"),e.k0s()()),2&a){const t=r.$implicit;e.R7$(),e.SpI("",t," ")}}function xb(a,r){if(1&a&&(e.j41(0,"td",40),e.DNE(1,Tb,4,1,"span",51),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.feeSchemasListDataColumnStyle),e.R7$(),e.Y8G("ngForOf",t.userType)}}function wb(a,r){1&a&&(e.j41(0,"th",55),e.EFF(1," User modes "),e.k0s())}function Sb(a,r){if(1&a&&(e.j41(0,"span",52),e.EFF(1),e.j41(2,"span",53),e.EFF(3,"|"),e.k0s()()),2&a){const t=r.$implicit;e.R7$(),e.SpI("",t," ")}}function Db(a,r){if(1&a&&(e.j41(0,"td",40),e.DNE(1,Sb,4,1,"span",51),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.feeSchemasListDataColumnStyle),e.R7$(),e.Y8G("ngForOf",t.userMode)}}function Ib(a,r){1&a&&(e.j41(0,"th",56),e.EFF(1," Payment Method "),e.k0s())}function Eb(a,r){if(1&a&&(e.j41(0,"td",40),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.feeSchemasListDataColumnStyle),e.R7$(),e.SpI(" ",t.instrumentList," ")}}function Pb(a,r){1&a&&(e.j41(0,"th",57),e.EFF(1," Payment provider / cost scheme "),e.k0s())}function Ab(a,r){if(1&a&&(e.j41(0,"span",52),e.EFF(1),e.j41(2,"span",53),e.EFF(3,"|"),e.k0s()()),2&a){const t=r.$implicit;e.R7$(),e.SpI("",t," ")}}function Rb(a,r){if(1&a&&(e.j41(0,"td",40),e.DNE(1,Ab,4,1,"span",51),e.k0s()),2&a){const t=r.$implicit,i=e.XpG();e.Y8G("ngClass",t.feeSchemasListDataColumnStyle),e.R7$(),e.Y8G("ngForOf",i.convertToArray(t.providerList))}}function Ob(a,r){1&a&&(e.j41(0,"th",57),e.EFF(1," Currencies from "),e.k0s())}function jb(a,r){if(1&a&&(e.j41(0,"span",52),e.EFF(1),e.j41(2,"span",53),e.EFF(3,"|"),e.k0s()()),2&a){const t=r.$implicit;e.R7$(),e.SpI("",t," ")}}function $b(a,r){if(1&a&&(e.j41(0,"td",40),e.DNE(1,jb,4,1,"span",51),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.feeSchemasListDataColumnStyle),e.R7$(),e.Y8G("ngForOf",t.currenciesFrom)}}function Mb(a,r){1&a&&(e.j41(0,"th",57),e.EFF(1," Currencies to "),e.k0s())}function Nb(a,r){if(1&a&&(e.j41(0,"span",52),e.EFF(1),e.j41(2,"span",53),e.EFF(3,"|"),e.k0s()()),2&a){const t=r.$implicit;e.R7$(),e.SpI("",t," ")}}function Vb(a,r){if(1&a&&(e.j41(0,"td",40),e.DNE(1,Nb,4,1,"span",51),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.feeSchemasListDataColumnStyle),e.R7$(),e.Y8G("ngForOf",t.currenciesTo)}}function Gb(a,r){1&a&&e.nrm(0,"tr",58)}function Bb(a,r){1&a&&e.nrm(0,"tr",59)}function Ub(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",60)(1,"h5",61),e.EFF(2),e.k0s(),e.j41(3,"button",62),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",63),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",64)(7,"app-admin-fee-details",65),e.bIt("save",function(){const n=e.eBV(t).$implicit;return e.Njj(n.close("OK"))})("close",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Close"))}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(2),e.SpI(" ",t.detailsTitle," "),e.R7$(5),e.Y8G("permission",t.permission)("currentScheme",t.selectedScheme)}}function Lb(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",60)(1,"h5",61),e.EFF(2," Assign cost schema "),e.k0s(),e.j41(3,"button",62),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",63),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",64)(7,"app-admin-fee-assign-cost",66),e.bIt("save",function(){const n=e.eBV(t).$implicit;return e.Njj(n.close("OK"))})("close",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Close"))}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(7),e.Y8G("permission",t.permission)("feeSchemas",t.schemes)}}let Yb=(()=>{class a{constructor(t,i,n){this.modalService=t,this.auth=i,this.adminService=n,this.displayedColumns=["details","default","name","widgetIds","target","targetValues","trxType","userType","userMode","instrument","provider","currenciesFrom","currenciesTo"],this.inProgress=!1,this.errorMessage="",this.detailsTitle="",this.permission=0,this.schemes=[],this.costs=[],this.subscriptions=new R.yU,this.detailsDialog=void 0,this.permission=this.auth.isPermittedObjectCode(c.G4.Fees)}ngOnInit(){this.loadSchemes()}ngOnDestroy(){this.subscriptions.unsubscribe()}loadSchemes(){this.loadCostSchemes()}loadCostSchemes(){this.schemes=[],this.inProgress=!0;const t=this.adminService.getCostSettings().valueChanges.pipe((0,P.s)(1));this.subscriptions.add(t.subscribe(({data:i})=>{this.inProgress=!1;const n=i.getSettingsCost;let o=0;null!==n&&(o=n?.count??0,o>0&&(this.costs=n?.list?.map(s=>new lt.Bd(s)),this.loadFeeSchemes()))}))}loadFeeSchemes(){this.schemes=[],this.inProgress=!0;const t=this.adminService.getFeeSettings().pipe((0,P.s)(1));this.subscriptions.add(t.subscribe(({list:i})=>{this.inProgress=!1,this.schemes=i,i.forEach(n=>{if(n.instrument.length>0&&n.provider.length>0){const s=n.provider[0];if(n.instrument[0]===c.iw.WireTransfer){const l=this.costs.find(m=>m.id===s);l&&n.setCostSchemeName(l.name)}}})}))}showDetails(t,i){this.selectedScheme=t,this.detailsTitle=t?"Fee scheme details":"Add new fee scheme",this.detailsDialog=this.modalService.open(i,{backdrop:"static",windowClass:"modalCusSty"}),this.subscriptions.add(this.detailsDialog.closed.subscribe(()=>this.loadSchemes()))}convertToArray(t){return t?.split(",")}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(_.Bq),e.rXU(I.u),e.rXU(E))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-fee-schemes"]],decls:55,vars:9,consts:[["details_content",""],["assign_cost_content",""],[3,"title","items","active_item"],[1,"row","row-sm"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],["class","table-button-container",4,"ngIf"],["color","accent","mode","indeterminate",4,"ngIf"],[1,"data-table"],[3,"dataSource"],["matColumnDef","details"],["mat-header-cell","","class","mat-column-fee-table mat-column-fee-table-details",4,"matHeaderCellDef"],["mat-cell","",3,"ngClass",4,"matCellDef"],["matColumnDef","default"],["matColumnDef","name"],["mat-header-cell","","class","mat-column-fee-table mat-column-fee-table-name",4,"matHeaderCellDef"],["matColumnDef","widgetIds"],["mat-header-cell","","class","mat-column-fee-table mat-column-fee-table-target",4,"matHeaderCellDef"],["matColumnDef","target"],["matColumnDef","targetValues"],["matColumnDef","trxType"],["mat-header-cell","","class","mat-column-fee-table mat-column-fee-table-trx-type",4,"matHeaderCellDef"],["matColumnDef","userType"],["mat-header-cell","","class","mat-column-fee-table mat-column-fee-table-userType",4,"matHeaderCellDef"],["matColumnDef","userMode"],["mat-header-cell","","class","mat-column-fee-table mat-column-fee-table-userMode",4,"matHeaderCellDef"],["matColumnDef","instrument"],["mat-header-cell","","class","mat-column-fee-table mat-column-fee-table-instrument",4,"matHeaderCellDef"],["matColumnDef","provider"],["mat-header-cell","","class","mat-column-fee-table mat-column-fee-table-provider",4,"matHeaderCellDef"],["matColumnDef","currenciesFrom"],["matColumnDef","currenciesTo"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"table-button-container"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["color","accent","mode","indeterminate"],["mat-header-cell","",1,"mat-column-fee-table","mat-column-fee-table-details"],["mat-cell","",3,"ngClass"],["type","button","mat-icon-button","","matTooltip","Scheme details","matTooltipClass","info-tooltip",1,"row-button",3,"click"],[1,"material-icons","tx-20"],["class","row-icon",4,"ngIf"],[1,"row-icon"],["mat-header-cell","",1,"mat-column-fee-table","mat-column-fee-table-name"],["mat-header-cell","",1,"mat-column-fee-table","mat-column-fee-table-target"],["class","widget-chip",4,"ngFor","ngForOf"],[1,"widget-chip"],[1,"tx-13"],["mat-header-cell","",1,"mat-column-fee-table","mat-column-fee-table-trx-type"],["class","multiple-cell",4,"ngFor","ngForOf"],[1,"multiple-cell"],[1,"multiple-cell-seperator"],["mat-header-cell","",1,"mat-column-fee-table","mat-column-fee-table-userType"],["mat-header-cell","",1,"mat-column-fee-table","mat-column-fee-table-userMode"],["mat-header-cell","",1,"mat-column-fee-table","mat-column-fee-table-instrument"],["mat-header-cell","",1,"mat-column-fee-table","mat-column-fee-table-provider"],["mat-header-row",""],["mat-row",""],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"save","close","permission","currentScheme"],[3,"save","close","permission","feeSchemas"]],template:function(i,n){1&i&&(e.nrm(0,"app-admin-page-header",2),e.j41(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7),e.DNE(6,nb,5,0,"div",8)(7,ib,1,0,"mat-progress-bar",9),e.j41(8,"div",10)(9,"mat-table",11),e.qex(10,12),e.DNE(11,rb,1,0,"th",13)(12,ob,4,3,"td",14),e.bVm(),e.qex(13,15),e.DNE(14,sb,1,0,"th",13)(15,db,2,2,"td",14),e.bVm(),e.qex(16,16),e.DNE(17,cb,2,0,"th",17)(18,mb,2,2,"td",14),e.bVm(),e.qex(19,18),e.DNE(20,pb,2,0,"th",19)(21,hb,3,2,"td",14),e.bVm(),e.qex(22,20),e.DNE(23,fb,2,0,"th",19)(24,gb,2,2,"td",14),e.bVm(),e.qex(25,21),e.DNE(26,_b,2,0,"th",19)(27,vb,3,2,"td",14),e.bVm(),e.qex(28,22),e.DNE(29,yb,2,0,"th",23)(30,kb,2,2,"td",14),e.bVm(),e.qex(31,24),e.DNE(32,Fb,2,0,"th",25)(33,xb,2,2,"td",14),e.bVm(),e.qex(34,26),e.DNE(35,wb,2,0,"th",27)(36,Db,2,2,"td",14),e.bVm(),e.qex(37,28),e.DNE(38,Ib,2,0,"th",29)(39,Eb,2,2,"td",14),e.bVm(),e.qex(40,30),e.DNE(41,Pb,2,0,"th",31)(42,Rb,2,2,"td",14),e.bVm(),e.qex(43,32),e.DNE(44,Ob,2,0,"th",31)(45,$b,2,2,"td",14),e.bVm(),e.qex(46,33),e.DNE(47,Mb,2,0,"th",31)(48,Vb,2,2,"td",14),e.bVm(),e.DNE(49,Gb,1,0,"tr",34)(50,Bb,1,0,"tr",35),e.k0s()(),e.DNE(51,Ub,8,3,"ng-template",null,0,e.C5r)(53,Lb,8,2,"ng-template",null,1,e.C5r),e.k0s()()()()()),2&i&&(e.Y8G("title","Fees")("items",e.lJ4(8,ab))("active_item","Fees"),e.R7$(6),e.Y8G("ngIf",n.permission>1),e.R7$(),e.Y8G("ngIf",n.inProgress),e.R7$(2),e.Y8G("dataSource",n.schemes),e.R7$(40),e.Y8G("matHeaderRowDef",n.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",n.displayedColumns))},dependencies:[h.YU,h.Sq,h.bT,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,De.Jl,De.uI,ie.oV,K.iY,z.HM,X,J_,tb],styles:[".datatable-body{height:600px!important;overflow:scroll;width:100%}  .dataTable-bottom{position:absolute;left:0;right:0;bottom:0;background:#fff!important}  table th,   table td,   .ngx-datatable.material .datatable-header .datatable-header-cell,   .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{font-size:.876rem!important}@media (max-width: 567.9px){  .ngx-datatable .datatable-footer .datatable-footer-inner{flex-wrap:wrap;height:auto!important}  .ngx-datatable .datatable-footer .datatable-pager{text-align:center!important}}  .dataTable-wrapper.no-footer .dataTable-container{border-bottom:none!important}  .dataTable-selector{border-radius:.25rem}  app-data-table input{border-radius:25px;border:1px solid rgba(0,0,0,.1)}  app-data-table .custom-select{border:1px solid rgba(0,0,0,.24)!important;border-radius:.25rem}.table-responsive[_ngcontent-%COMP%]{overflow:visible}  .dark-theme input::placeholder{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material{background-color:#2a2e3f!important}  .dark-theme app-data-tables .dataTable-bottom{background-color:#2a2e3f!important}  .dark-theme app-data-tables .dataTable-selector{background-color:#2a2e3f;border-color:#272c49;color:#fff;outline:none}  .dark-theme app-data-tables input{color:#eee!important;background-color:#2a2e3f!important;border-color:#262b48;border-radius:25px;height:27px}  .dark-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .dark-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#2a2e3f;color:#fff}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid rgb(39,43,74)!important;color:#fff!important;background:#2a2e3f!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #32394e!important}  .dark-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .dark-theme app-data-tables .dataTable-pagination li:hover a,   .dark-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .dark-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .dark-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .dark-theme app-data-tables .mat-mdc-table{background:#2a2e3f!important}  .dark-theme app-data-tables .mat-mdc-header-cell{color:#fff!important}  .dark-theme app-data-tables .mat-mdc-cell,   .dark-theme app-data-tables .mat-mdc-footer-cell{color:#eee!important}  .dark-theme app-data-tables mat-row,   .dark-theme app-data-tables mat-header-row,   .dark-theme app-data-tables mat-footer-row,   .dark-theme app-data-tables th.mat-mdc-header-cell,   .dark-theme app-data-tables td.mat-mdc-cell,   .dark-theme app-data-tables td.mat-mdc-footer-cell{border-bottom-color:#ffffff1f!important}  .dark-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .dark-theme app-data-tables .mat-mdc-paginator,   .dark-theme app-data-tables .mat-mdc-paginator-page-size .mat-mdc-select-trigger{color:#ffffff8a!important}  .dark-theme app-data-tables .mat-mdc-paginator{background:#2a2e3f}  .dark-theme app-data-tables .mat-mdc-select-value{color:#fff7f7de}  .dark-theme app-data-tables .mat-mdc-select-arrow{color:#ffffffba}  .dark-theme .mat-mdc-select-panel{background:#30304d}  .dark-theme .mat-mdc-option{color:#ccc}  .dark-theme .mat-primary .mat-mdc-option.mat-selected:not(.mat-option-disabled){color:#fff}  .dark-theme .mat-mdc-option:hover:not(.mat-option-disabled),   .dark-theme .mat-option:focus:not(.mat-option-disabled){background:#2a2a44}  .dark-theme .mat-mdc-select-panel .mat-mdc-option.mat-selected:not(.mat-mdc-option-multiple){background:#0000001f}  .dark-theme .table-hover>tbody>tr:hover>*{color:#fff}  .dark-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme input::placeholder{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material{background-color:#2da28f!important}  .transparent-theme app-data-tables .dataTable-bottom{background-color:#2da28f!important}  .transparent-theme app-data-tables .dataTable-selector{background-color:#2da28f;border-color:#4cb0a0;color:#fff;outline:none}  .transparent-theme app-data-tables input{color:#eee!important;background-color:#2da28f!important;border-color:#4cb0a0;border-radius:25px;height:27px}  .transparent-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .transparent-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#2da28f;color:#fff}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid #4cb0a0!important;color:#fff!important;background:#2da28f!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #4cb0a0!important}  .transparent-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .transparent-theme app-data-tables .dataTable-pagination li:hover a,   .transparent-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .transparent-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .transparent-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .transparent-theme app-data-tables .mat-mdc-table{background:#2da28f!important}  .transparent-theme app-data-tables .mat-mdc-header-cell{color:#fff!important}  .transparent-theme app-data-tables .mat-mdc-cell,   .transparent-theme app-data-tables .mat-mdc-footer-cell{color:#eee!important}  .transparent-theme app-data-tables mat-row,   .transparent-theme app-data-tables mat-header-row,   .transparent-theme app-data-tables mat-footer-row,   .transparent-theme app-data-tables th.mat-mdc-header-cell,   .transparent-theme app-data-tables td.mat-mdc-cell,   .transparent-theme app-data-tables td.mat-mdc-footer-cell{border-bottom-color:#ffffff1f!important}  .transparent-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .transparent-theme app-data-tables .mat-mdc-paginator,   .transparent-theme app-data-tables .mat-mdc-paginator-page-size .mat-mdc-select-trigger{color:#ffffff8a!important}  .transparent-theme app-data-tables .mat-mdc-paginator{background:#2da28f}  .transparent-theme app-data-tables .mat-mdc-select-value{color:#fff7f7de}  .transparent-theme app-data-tables .mat-mdc-select-arrow{color:#ffffffba}  .transparent-theme .mat-mdc-select-panel{background:#30304d}  .transparent-theme .mat-mdc-option{color:#ccc}  .transparent-theme .mat-primary .mat-mdc-option.mat-selected:not(.mat-option-disabled){color:#fff}  .transparent-theme .mat-mdc-option:hover:not(.mat-option-disabled),   .transparent-theme .mat-option:focus:not(.mat-option-disabled){background:#2a2a44}  .transparent-theme .mat-mdc-select-panel .mat-mdc-option.mat-selected:not(.mat-mdc-option-multiple){background:#0000001f}  .transparent-theme .table-hover>tbody>tr:hover>*{color:#fff}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{background-color:#248272!important}.data-table[_ngcontent-%COMP%]{flex:1 1 0;overflow:auto;margin-top:5px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]{display:table;min-width:100%}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:32px;line-height:32px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   tr.mat-mdc-header-row[_ngcontent-%COMP%]{height:40px;line-height:40px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]{padding:0 4px;white-space:nowrap;font-size:16px;font-weight:400;color:#0000008a;font-family:Roboto,sans-serif}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell.action[_ngcontent-%COMP%]{width:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]{padding:1px 4px 0;line-height:29px;white-space:nowrap}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%]{width:16px;height:16px;font-size:16px;vertical-align:middle;position:relative;top:-1px}.data-table[_ngcontent-%COMP%]   .row-button[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0;position:relative;top:5px;padding:1px}.data-table[_ngcontent-%COMP%]   .row-button[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:16px;height:16px;width:16px;line-height:16px}.data-table[_ngcontent-%COMP%]   .row-icon[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0;position:relative;top:5px}mat-mdc-paginator[_ngcontent-%COMP%]{flex:0 0 auto}table[_ngcontent-%COMP%]{width:100%}.table-button-container[_ngcontent-%COMP%]{padding-bottom:16px}.mat-column-fee-table[_ngcontent-%COMP%]{word-wrap:break-word;white-space:unset;overflow-wrap:break-word;word-break:break-word;-webkit-hyphens:auto;hyphens:auto}.mat-column-fee-table-name[_ngcontent-%COMP%]{max-width:5em}.mat-column-fee-table-target[_ngcontent-%COMP%], .mat-column-fee-table-trx-type[_ngcontent-%COMP%], .mat-column-fee-table-provider[_ngcontent-%COMP%]{min-width:5em}.mat-column-fee-table-userMode[_ngcontent-%COMP%]{min-width:22em}.mat-column-fee-table-userType[_ngcontent-%COMP%]{min-width:10em}.mat-column-fee-table-instrument[_ngcontent-%COMP%]{min-width:5em}.mat-column-fee-table-details[_ngcontent-%COMP%]{min-width:1.5em}.ng-pagination-nav-icons[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:12px}.multiple-cell[_ngcontent-%COMP%]{font-size:13px}.multiple-cell[_ngcontent-%COMP%]:last-child   .multiple-cell-seperator[_ngcontent-%COMP%]{display:none}.multiple-cell[_ngcontent-%COMP%]   .multiple-cell-seperator[_ngcontent-%COMP%]{color:#0003;margin-right:5px}.fee-schemas-list-column-grey[_ngcontent-%COMP%]{background-color:#ececec}.fee-schemas-list-column-white[_ngcontent-%COMP%]{background-color:#fff}"]})}return a})();function qb(a,r){if(1&a&&(e.j41(0,"div",20)(1,"h4",21),e.EFF(2),e.k0s()()),2&a){const t=e.XpG();e.R7$(2),e.SpI(" ",t.errorMessage," ")}}function Wb(a,r){1&a&&e.nrm(0,"span",24)}function Xb(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",22),e.bIt("click",function(){e.eBV(t);const n=e.XpG(),o=e.sdS(21);return e.Njj(n.onDelete(o))}),e.DNE(1,Wb,1,0,"span",23),e.EFF(2," Delete "),e.k0s()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.deleteInProgress)}}function zb(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",25)(1,"h5",26),e.EFF(2,"Delete device confirmation"),e.k0s(),e.j41(3,"button",27),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",28),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",29)(7,"h4",30),e.EFF(8," You are going to delete device confirmation. Confirm operation. "),e.k0s(),e.j41(9,"div",31)(10,"button",32),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Reject"))}),e.EFF(11," Reject "),e.k0s(),e.j41(12,"button",33),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onConfirmDelete())}),e.EFF(13," Confirm "),e.k0s()()()}}let Hb=(()=>{class a{set device(t){this.deviceData=t,t?.country&&(this.country=new Ue.U,this.country.id=t?.country?.code3??"",this.country.title=t?.country?.name??"",this.country.imgClass="country-flag",this.country.imgSource=`assets/svg-country-flags/${t?.country?.code2.toLowerCase()}.svg`)}constructor(t,i,n,o){this.router=t,this.auth=i,this.modalService=n,this.adminService=o,this.permission=0,this.save=new e.bkB,this.close=new e.bkB,this.subscriptions=new R.yU,this.deleteInProgress=!1,this.errorMessage="",this.deviceData=void 0,this.country=null}ngOnDestroy(){this.subscriptions.unsubscribe()}deleteDeviceConfirmed(){this.deleteInProgress=!0;const t=this.adminService.deleteDevice(this.deviceData?.id??"");this.subscriptions.add(t.subscribe(()=>{this.deleteInProgress=!1,this.save.emit()},i=>{this.errorMessage=i,this.deleteInProgress=!1,""===this.auth.token&&this.router.navigateByUrl("/")}))}onDelete(t){this.deleteDialog=this.modalService.open(t,{backdrop:"static",windowClass:"modalCusSty"})}onClose(){this.close.emit()}onConfirmDelete(){this.deleteDialog&&(this.deleteDialog.close(""),this.deleteDeviceConfirmed())}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(w.Ix),e.rXU(I.u),e.rXU(_.Bq),e.rXU(E))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-device-details"]],inputs:{permission:"permission",device:"device"},outputs:{save:"save",close:"close"},decls:22,vars:14,consts:[["delete_confirm_content",""],[1,"row"],[1,"col-md-12","col-lg-12","col-xl-12","mx-auto","d-block"],[1,"card","card-body","pd-20","pd-md-40","border","shadow-none"],["label","Device",3,"value"],["label","Browser",3,"value"],["label","Country",3,"value"],["label","Location",3,"value"],["label","EU",3,"value"],["label","Region",3,"value"],["label","City",3,"value"],["label","Metro",3,"value"],["label","Area",3,"value"],["label","Created",3,"value"],["label","Confirmed",3,"value"],["label","Ip",3,"value"],["class","card card-body card-danger pd-20 pd-md-40 border shadow-none",4,"ngIf"],[2,"display","flex","justify-content","flex-end"],["class","btn btn-danger pd-x-30 me-2 mg-t-5","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","pd-x-30","mg-t-5",3,"click"],[1,"card","card-body","card-danger","pd-20","pd-md-40","border","shadow-none"],[1,"card-title2","mg-b-20","color_brown"],["type","button",1,"btn","btn-danger","pd-x-30","me-2","mg-t-5",3,"click"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[2,"text-align","center"],[2,"display","flex","flex-direction","row","justify-content","center","align-items","center"],["type","button",1,"btn","btn-outline-secondary","pd-x-30","me-2","mg-t-5",3,"click"],[1,"btn","btn-danger","pd-x-30","mg-t-5",3,"click"]],template:function(i,n){if(1&i){const o=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"div",3),e.nrm(3,"app-admin-details-item",4)(4,"app-admin-details-item",5)(5,"app-admin-details-item",6)(6,"app-admin-details-item",7)(7,"app-admin-details-item",8)(8,"app-admin-details-item",9)(9,"app-admin-details-item",10)(10,"app-admin-details-item",11)(11,"app-admin-details-item",12)(12,"app-admin-details-item",13)(13,"app-admin-details-item",14)(14,"app-admin-details-item",15),e.k0s(),e.DNE(15,qb,3,1,"div",16),e.j41(16,"div",17),e.DNE(17,Xb,3,1,"button",18),e.j41(18,"button",19),e.bIt("click",function(){return e.eBV(o),e.Njj(n.onClose())}),e.EFF(19," Close "),e.k0s()()()(),e.DNE(20,zb,14,0,"ng-template",null,0,e.C5r)}2&i&&(e.R7$(3),e.Y8G("value",null==n.deviceData?null:n.deviceData.device),e.R7$(),e.Y8G("value",null==n.deviceData?null:n.deviceData.browser),e.R7$(),e.Y8G("value",n.country),e.R7$(),e.Y8G("value",null==n.deviceData?null:n.deviceData.location),e.R7$(),e.Y8G("value",null==n.deviceData?null:n.deviceData.eu),e.R7$(),e.Y8G("value",null==n.deviceData?null:n.deviceData.region),e.R7$(),e.Y8G("value",null==n.deviceData?null:n.deviceData.city),e.R7$(),e.Y8G("value",null==n.deviceData?null:n.deviceData.metro),e.R7$(),e.Y8G("value",null==n.deviceData?null:n.deviceData.area),e.R7$(),e.Y8G("value",null==n.deviceData?null:n.deviceData.created),e.R7$(),e.Y8G("value",null==n.deviceData?null:n.deviceData.deviceConfirmed),e.R7$(),e.Y8G("value",null==n.deviceData?null:n.deviceData.ip),e.R7$(),e.Y8G("ngIf",""!==n.errorMessage),e.R7$(2),e.Y8G("ngIf",n.permission>1))},dependencies:[h.bT,he],styles:[".dark-theme .mat-mdc-button,   .dark-theme .mat-mdc-icon-button,   .dark-theme .mat-mdc-outlined-button{color:#b7c0d6!important}  .dark-theme .mat-form-field-label{color:#eee}  .dark-theme .mat-datepicker-content{background-color:#373d51;color:#ffffffde}  .dark-theme .mat-calendar-table-header,   .dark-theme .mat-calendar-body-label{color:#fff}@media (hover: hover){  .dark-theme .mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#2a2e3f}}  .dark-theme .mat-calendar-body-cell-content,   .dark-theme .mat-date-range-input-separator{color:#e1e1ef}  .dark-theme .ngb-dp-header{background-color:#343545}  .dark-theme .ngb-dp-weekdays{background-color:#343545}  .rtl .color-picker{left:initial!important}  .transparent-theme .card .box{background:#2da28f}  .transparent-theme .hex-text,   .transparent-theme .rgba-text{background:#2da28f}  .transparent-theme .mat-datepicker-content{background-color:#2da28f;color:#ffffffde}  .transparent-theme .mat-datepicker-toggle,   .transparent-theme .mat-datepicker-content .mat-calendar-next-button,   .transparent-theme .mat-datepicker-content .mat-calendar-previous-button{color:#ffffff81}  .transparent-theme .mat-calendar-body-cell-content,   .transparent-theme .mat-date-range-input-separator{color:#ffffffd3}  .transparent-theme .mat-calendar-table-header,   .transparent-theme .mat-calendar-body-label{color:#fff9}  .transparent-theme .ngb-dp-header{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekdays{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekday{color:#000}  .transparent-theme .ng-select .ng-arrow-wrapper .ng-arrow{border-top-color:#fff!important}  .transparent-theme .ng-select.ng-select-opened .ng-arrow-wrapper .ng-arrow{border-bottom-color:#fff!important}  .form-controls{display:block;color:#fff;border:transparent;outline:none;width:100%;height:40px;padding:.375rem .75rem;font-size:.875rem;font-weight:400;line-height:2;background-clip:padding-box;border-radius:5px;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}  button[type=button]{z-index:0!important}"]})}return a})();const Kb=()=>["Home","Users"];function Jb(a,r){1&a&&e.nrm(0,"mat-progress-bar",24)}function Qb(a,r){1&a&&e.nrm(0,"th",25)}function Zb(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(),s=e.sdS(36);return e.Njj(o.confirmDevice(n,s))}),e.j41(1,"i",28),e.EFF(2," approval "),e.k0s()()}if(2&a){const t=e.XpG(2);e.BMQ("aria-label","Confirm device")("aria-pressed",!!t.selectedDevice)}}function e1(a,r){if(1&a){const t=e.RV6();e.j41(0,"td",26)(1,"button",27),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG(),s=e.sdS(34);return e.Njj(o.showDetails(n,s))}),e.j41(2,"i",28),e.EFF(3," wysiwyg "),e.k0s()(),e.DNE(4,Zb,3,2,"button",29),e.k0s()}if(2&a){const t=r.$implicit,i=e.XpG();e.R7$(),e.BMQ("aria-label","Device details")("aria-pressed",!!i.selectedDevice),e.R7$(3),e.Y8G("ngIf",""===t.deviceConfirmed&&i.permission>1)}}function t1(a,r){1&a&&(e.j41(0,"th",25),e.EFF(1,"Country"),e.k0s())}function a1(a,r){if(1&a&&(e.j41(0,"td",26),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",null==t.country?null:t.country.name," ")}}function n1(a,r){1&a&&(e.j41(0,"th",25),e.EFF(1,"Browser"),e.k0s())}function r1(a,r){if(1&a&&(e.j41(0,"td",26),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.browser," ")}}function o1(a,r){1&a&&(e.j41(0,"th",25),e.EFF(1,"Device"),e.k0s())}function s1(a,r){if(1&a&&(e.j41(0,"td",31),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.device," ")}}function l1(a,r){1&a&&(e.j41(0,"th",25),e.EFF(1,"Created"),e.k0s())}function d1(a,r){if(1&a&&(e.j41(0,"td",31),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.created," ")}}function c1(a,r){1&a&&(e.j41(0,"th",25),e.EFF(1,"Confirmed"),e.k0s())}function m1(a,r){if(1&a&&(e.j41(0,"td",31),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.deviceConfirmed," ")}}function p1(a,r){1&a&&(e.j41(0,"th",25),e.EFF(1,"Ip"),e.k0s())}function u1(a,r){if(1&a&&(e.j41(0,"td",31),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.ip," ")}}function h1(a,r){1&a&&e.nrm(0,"tr",32)}function f1(a,r){1&a&&e.nrm(0,"tr",33)}function g1(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",34)(1,"h5",35),e.EFF(2,"Device details"),e.k0s(),e.j41(3,"button",36),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",37),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",38)(7,"app-admin-device-details",39),e.bIt("save",function(){const n=e.eBV(t).$implicit;return e.XpG().loadDevices(),e.Njj(n.close("OK"))})("close",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Close"))}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(7),e.Y8G("permission",t.permission)("device",t.selectedDevice)}}function _1(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",34)(1,"h5",35),e.EFF(2,"Device confirmation"),e.k0s(),e.j41(3,"button",36),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",37),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",38)(7,"h4",40),e.EFF(8," Device has been confirmed successfully. "),e.k0s(),e.j41(9,"div",41)(10,"button",42),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.close("OK"))}),e.EFF(11," OK "),e.k0s()()()}}let b1=(()=>{class a{constructor(t,i,n,o,s){this.modalService=t,this.auth=i,this.adminService=n,this.router=o,this.activeRoute=s,this.displayedColumns=["details","country","browser","device","created","confirmed","ip"],this.inProgress=!1,this.permission=0,this.deviceCount=0,this.devices=[],this.filterUserId="",this.subscriptions=new R.yU,this.filterUserId=this.activeRoute.snapshot.params.userid,this.permission=this.auth.isPermittedObjectCode(c.G4.SystemUsers)}ngOnInit(){this.loadUserData(),this.loadDevices()}ngOnDestroy(){this.subscriptions.unsubscribe()}showDetails(t,i){this.selectedDevice=t,this.modalService.open(i,{backdrop:"static",windowClass:"modalCusSty"})}confirmDevice(t,i){const n=this.adminService.confirmDevice(t.id);this.subscriptions.add(n.subscribe(()=>{const o=this.modalService.open(i,{backdrop:"static",windowClass:"modalCusSty"});this.subscriptions.add(o.closed.subscribe(()=>{this.loadDevices()}))},()=>{""===this.auth.token&&this.router.navigateByUrl("/")}))}loadDevices(){this.inProgress=!0;const t=this.adminService.getDevices(this.filterUserId).pipe((0,P.s)(1));this.subscriptions.add(t.subscribe(({list:i,count:n})=>{this.devices=i,this.deviceCount=n,this.inProgress=!1},()=>{this.inProgress=!1,""===this.auth.token&&this.router.navigateByUrl("/")}))}loadUserData(){this.subscriptions.add(this.adminService.getUser(this.filterUserId).pipe((0,P.s)(1)).subscribe(t=>{this.user=t},()=>{""===this.auth.token&&this.router.navigateByUrl("/")}))}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(_.Bq),e.rXU(I.u),e.rXU(E),e.rXU(w.Ix),e.rXU(w.nX))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-user-devices"]],decls:37,vars:10,consts:[["details_content",""],["confirmed_content",""],[3,"title","items","active_item"],[1,"row","row-sm"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],["label","Account",3,"value"],["color","accent","mode","indeterminate",4,"ngIf"],[1,"data-table"],[3,"dataSource"],["matColumnDef","details","sticky",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","device-list-selector-column",4,"matCellDef"],["matColumnDef","country"],["matColumnDef","browser"],["matColumnDef","device"],["mat-cell","","class","device-list-data-column",4,"matCellDef"],["matColumnDef","created"],["matColumnDef","confirmed"],["matColumnDef","ip"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["color","accent","mode","indeterminate"],["mat-header-cell",""],["mat-cell","",1,"device-list-selector-column"],["mat-icon-button","","matTooltip","Device details","matTooltipClass","info-tooltip",1,"row-button",3,"click"],[1,"material-icons",2,"font-size","20px"],["mat-icon-button","","class","row-button","matTooltip","Confirm device","matTooltipClass","info-tooltip",3,"click",4,"ngIf"],["mat-icon-button","","matTooltip","Confirm device","matTooltipClass","info-tooltip",1,"row-button",3,"click"],["mat-cell","",1,"device-list-data-column"],["mat-header-row",""],["mat-row",""],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"save","close","permission","device"],[2,"text-align","center"],[2,"display","flex","flex-direction","row","justify-content","center","align-items","center"],["type","button",1,"btn","btn-primary","pd-x-30","me-2","mg-t-5",3,"click"]],template:function(i,n){1&i&&(e.nrm(0,"app-admin-page-header",2),e.j41(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7),e.nrm(6,"app-admin-details-item",8),e.DNE(7,Jb,1,0,"mat-progress-bar",9),e.j41(8,"div",10)(9,"mat-table",11),e.qex(10,12),e.DNE(11,Qb,1,0,"th",13)(12,e1,5,3,"td",14),e.bVm(),e.qex(13,15),e.DNE(14,t1,2,0,"th",13)(15,a1,2,1,"td",14),e.bVm(),e.qex(16,16),e.DNE(17,n1,2,0,"th",13)(18,r1,2,1,"td",14),e.bVm(),e.qex(19,17),e.DNE(20,o1,2,0,"th",13)(21,s1,2,1,"td",18),e.bVm(),e.qex(22,19),e.DNE(23,l1,2,0,"th",13)(24,d1,2,1,"td",18),e.bVm(),e.qex(25,20),e.DNE(26,c1,2,0,"th",13)(27,m1,2,1,"td",18),e.bVm(),e.qex(28,21),e.DNE(29,p1,2,0,"th",13)(30,u1,2,1,"td",18),e.bVm(),e.DNE(31,h1,1,0,"tr",22)(32,f1,1,0,"tr",23),e.k0s()(),e.DNE(33,g1,8,2,"ng-template",null,0,e.C5r)(35,_1,12,0,"ng-template",null,1,e.C5r),e.k0s()()()()()),2&i&&(e.Y8G("title","White List")("items",e.lJ4(9,Kb))("active_item","White List"),e.R7$(6),e.Y8G("value",null==n.user?null:n.user.extendedName),e.R7$(),e.Y8G("ngIf",n.inProgress),e.R7$(2),e.Y8G("dataSource",n.devices),e.R7$(22),e.Y8G("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),e.R7$(),e.Y8G("matRowDefColumns",n.displayedColumns))},dependencies:[h.bT,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,ie.oV,K.iY,z.HM,X,he,Hb],styles:[".datatable-body{height:600px!important;overflow:scroll;width:100%}  .dataTable-bottom{position:absolute;left:0;right:0;bottom:0;background:#fff!important}  table th,   table td,   .ngx-datatable.material .datatable-header .datatable-header-cell,   .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{font-size:.876rem!important}@media (max-width: 567.9px){  .ngx-datatable .datatable-footer .datatable-footer-inner{flex-wrap:wrap;height:auto!important}  .ngx-datatable .datatable-footer .datatable-pager{text-align:center!important}}  .dataTable-wrapper.no-footer .dataTable-container{border-bottom:none!important}  .dataTable-selector{border-radius:.25rem}  app-data-table input{border-radius:25px;border:1px solid rgba(0,0,0,.1)}  app-data-table .custom-select{border:1px solid rgba(0,0,0,.24)!important;border-radius:.25rem}.table-responsive[_ngcontent-%COMP%]{overflow:visible}  .dark-theme input::placeholder{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material{background-color:#2a2e3f!important}  .dark-theme app-data-tables .dataTable-bottom{background-color:#2a2e3f!important}  .dark-theme app-data-tables .dataTable-selector{background-color:#2a2e3f;border-color:#272c49;color:#fff;outline:none}  .dark-theme app-data-tables input{color:#eee!important;background-color:#2a2e3f!important;border-color:#262b48;border-radius:25px;height:27px}  .dark-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .dark-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#2a2e3f;color:#fff}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid rgb(39,43,74)!important;color:#fff!important;background:#2a2e3f!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #32394e!important}  .dark-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .dark-theme app-data-tables .dataTable-pagination li:hover a,   .dark-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .dark-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .dark-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .dark-theme app-data-tables .mat-mdc-table{background:#2a2e3f!important}  .dark-theme app-data-tables .mat-mdc-header-cell{color:#fff!important}  .dark-theme app-data-tables .mat-mdc-cell,   .dark-theme app-data-tables .mat-mdc-footer-cell{color:#eee!important}  .dark-theme app-data-tables mat-row,   .dark-theme app-data-tables mat-header-row,   .dark-theme app-data-tables mat-footer-row,   .dark-theme app-data-tables th.mat-mdc-header-cell,   .dark-theme app-data-tables td.mat-mdc-cell,   .dark-theme app-data-tables td.mat-mdc-footer-cell{border-bottom-color:#ffffff1f!important}  .dark-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .dark-theme app-data-tables .mat-mdc-paginator,   .dark-theme app-data-tables .mat-mdc-paginator-page-size .mat-mdc-select-trigger{color:#ffffff8a!important}  .dark-theme app-data-tables .mat-mdc-paginator{background:#2a2e3f}  .dark-theme app-data-tables .mat-mdc-select-value{color:#fff7f7de}  .dark-theme app-data-tables .mat-mdc-select-arrow{color:#ffffffba}  .dark-theme .mat-mdc-select-panel{background:#30304d}  .dark-theme .mat-mdc-option{color:#ccc}  .dark-theme .mat-primary .mat-mdc-option.mat-selected:not(.mat-option-disabled){color:#fff}  .dark-theme .mat-mdc-option:hover:not(.mat-option-disabled),   .dark-theme .mat-option:focus:not(.mat-option-disabled){background:#2a2a44}  .dark-theme .mat-mdc-select-panel .mat-mdc-option.mat-selected:not(.mat-mdc-option-multiple){background:#0000001f}  .dark-theme .table-hover>tbody>tr:hover>*{color:#fff}  .dark-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme input::placeholder{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material{background-color:#2da28f!important}  .transparent-theme app-data-tables .dataTable-bottom{background-color:#2da28f!important}  .transparent-theme app-data-tables .dataTable-selector{background-color:#2da28f;border-color:#4cb0a0;color:#fff;outline:none}  .transparent-theme app-data-tables input{color:#eee!important;background-color:#2da28f!important;border-color:#4cb0a0;border-radius:25px;height:27px}  .transparent-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .transparent-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#2da28f;color:#fff}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid #4cb0a0!important;color:#fff!important;background:#2da28f!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #4cb0a0!important}  .transparent-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .transparent-theme app-data-tables .dataTable-pagination li:hover a,   .transparent-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .transparent-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .transparent-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .transparent-theme app-data-tables .mat-mdc-table{background:#2da28f!important}  .transparent-theme app-data-tables .mat-mdc-header-cell{color:#fff!important}  .transparent-theme app-data-tables .mat-mdc-cell,   .transparent-theme app-data-tables .mat-mdc-footer-cell{color:#eee!important}  .transparent-theme app-data-tables mat-row,   .transparent-theme app-data-tables mat-header-row,   .transparent-theme app-data-tables mat-footer-row,   .transparent-theme app-data-tables th.mat-mdc-header-cell,   .transparent-theme app-data-tables td.mat-mdc-cell,   .transparent-theme app-data-tables td.mat-mdc-footer-cell{border-bottom-color:#ffffff1f!important}  .transparent-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .transparent-theme app-data-tables .mat-mdc-paginator,   .transparent-theme app-data-tables .mat-mdc-paginator-page-size .mat-mdc-select-trigger{color:#ffffff8a!important}  .transparent-theme app-data-tables .mat-mdc-paginator{background:#2da28f}  .transparent-theme app-data-tables .mat-mdc-select-value{color:#fff7f7de}  .transparent-theme app-data-tables .mat-mdc-select-arrow{color:#ffffffba}  .transparent-theme .mat-mdc-select-panel{background:#30304d}  .transparent-theme .mat-mdc-option{color:#ccc}  .transparent-theme .mat-primary .mat-mdc-option.mat-selected:not(.mat-option-disabled){color:#fff}  .transparent-theme .mat-mdc-option:hover:not(.mat-option-disabled),   .transparent-theme .mat-option:focus:not(.mat-option-disabled){background:#2a2a44}  .transparent-theme .mat-mdc-select-panel .mat-mdc-option.mat-selected:not(.mat-mdc-option-multiple){background:#0000001f}  .transparent-theme .table-hover>tbody>tr:hover>*{color:#fff}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{background-color:#248272!important}.data-table[_ngcontent-%COMP%]{flex:1 1 0;overflow:auto;margin-top:5px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]{display:table;min-width:100%}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:32px;line-height:32px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   tr.mat-mdc-header-row[_ngcontent-%COMP%]{height:40px;line-height:40px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]{padding:0 4px;white-space:nowrap;font-size:16px;font-weight:400;color:#0000008a;font-family:Roboto,sans-serif}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell.action[_ngcontent-%COMP%]{width:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]{padding:1px 4px 0;line-height:29px;white-space:nowrap}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%]{width:16px;height:16px;font-size:16px;vertical-align:middle;position:relative;top:-1px}.data-table[_ngcontent-%COMP%]   .row-button[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0;position:relative;top:5px;padding:1px}.data-table[_ngcontent-%COMP%]   .row-button[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:16px;height:16px;width:16px;line-height:16px}.data-table[_ngcontent-%COMP%]   .row-icon[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0;position:relative;top:5px}mat-mdc-paginator[_ngcontent-%COMP%]{flex:0 0 auto}table[_ngcontent-%COMP%]{width:100%}.table-button-container[_ngcontent-%COMP%]{padding-bottom:16px}.alert-list-selector-column[_ngcontent-%COMP%]{margin:0;padding:0 8px}.alert-list-data-column[_ngcontent-%COMP%]{margin:0;padding:0}.ng-pagination-nav-icons[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:12px}"]})}return a})();const v1=a=>({"has-error":a});function y1(a,r){1&a&&(e.j41(0,"div",35)(1,"small"),e.EFF(2," Tier name is required "),e.k0s()())}function C1(a,r){if(1&a&&(e.j41(0,"div",6)(1,"label",10),e.EFF(2," Tier name "),e.j41(3,"span",17),e.EFF(4,"*"),e.k0s()(),e.nrm(5,"input",34),e.DNE(6,y1,3,0,"div",16),e.k0s()),2&a){const t=e.XpG();e.R7$(5),e.Y8G("ngClass",e.eq3(2,v1,!t.form.controls.name.valid)),e.R7$(),e.Y8G("ngIf",(t.form.controls.name.touched||t.submitted)&&(null==t.form.controls.name.errors?null:t.form.controls.name.errors.required))}}function k1(a,r){if(1&a&&(e.j41(0,"div",6),e.nrm(1,"app-admin-details-item",36),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.Y8G("value",t.defaultTierName)}}function F1(a,r){1&a&&(e.j41(0,"div",35)(1,"small"),e.EFF(2," Amount has invalid number value "),e.k0s()())}function T1(a,r){1&a&&(e.j41(0,"div",35)(1,"small"),e.EFF(2," Please specify an account type appropriate for the tier "),e.k0s()())}function x1(a,r){1&a&&(e.j41(0,"div",35)(1,"small"),e.EFF(2," Please specify a target "),e.k0s()())}function w1(a,r){if(1&a&&(e.j41(0,"ng-option",41),e.nrm(1,"app-dropdown-item",42),e.k0s()),2&a){const t=r.$implicit;e.Y8G("value",t),e.R7$(),e.Y8G("itemValue",t.title)("imageClass",t.imgClass)("imageSource",t.imgSource)}}function S1(a,r){if(1&a&&(e.j41(0,"ng-select",39),e.DNE(1,w1,2,4,"ng-option",40),e.nI1(2,"async"),e.k0s()),2&a){const t=e.XpG(2);e.Mz_("notFoundText","No ",t.targetEntity[1]," found"),e.Mz_("placeholder","Start typing to search a ",t.targetEntity[0],""),e.Y8G("minTermLength",t.minTargetsLengthTerm)("loading",t.isTargetsLoading)("multiple",!0)("typeToSearchText",t.targetSearchText)("typeahead",t.targetsSearchInput$),e.R7$(),e.Y8G("ngForOf",e.bMT(2,10,t.targetsOptions$))}}function D1(a,r){if(1&a&&e.nrm(0,"ng-select",43),2&a){const t=e.XpG(2);e.Mz_("placeholder","Select one or more ",t.targetEntity[1],""),e.Y8G("items",t.sourceTargetsOptions)("multiple",!0)}}function I1(a,r){if(1&a&&(e.j41(0,"div",35)(1,"small"),e.EFF(2),e.k0s()()),2&a){const t=e.XpG(2);e.R7$(2),e.SpI(" Please specify at least one ",t.targetEntity[0]," ")}}function E1(a,r){if(1&a&&(e.j41(0,"div",6)(1,"label",10),e.EFF(2),e.j41(3,"span",17),e.EFF(4,"*"),e.k0s()(),e.DNE(5,S1,3,12,"ng-select",37)(6,D1,1,4,"ng-select",38)(7,I1,3,1,"div",16),e.k0s()),2&a){const t=e.XpG();e.R7$(2),e.SpI(" ",t.targetsTitle," "),e.R7$(3),e.Y8G("ngIf",t.targetType!==t.TARGET_TYPE.InitiateFrom),e.R7$(),e.Y8G("ngIf",t.targetType===t.TARGET_TYPE.InitiateFrom),e.R7$(),e.Y8G("ngIf",(t.form.controls.targetValues.touched||t.submitted)&&(null==t.form.controls.targetValues.errors?null:t.form.controls.targetValues.errors.required))}}function P1(a,r){1&a&&(e.j41(0,"div",35)(1,"small"),e.EFF(2," Please choose user modes "),e.k0s()())}function A1(a,r){1&a&&(e.j41(0,"div",35)(1,"small"),e.EFF(2," Please choose KYC providers "),e.k0s()())}function R1(a,r){1&a&&(e.j41(0,"div",35)(1,"small"),e.EFF(2," Select KYC level "),e.k0s()())}function O1(a,r){if(1&a&&(e.j41(0,"div",44)(1,"h4",45),e.EFF(2),e.k0s()()),2&a){const t=e.XpG();e.R7$(2),e.SpI(" ",t.errorMessage," ")}}function j1(a,r){1&a&&e.nrm(0,"span",46)}function $1(a,r){1&a&&e.nrm(0,"span",46)}function M1(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",47),e.bIt("click",function(){e.eBV(t);const n=e.XpG(),o=e.sdS(100);return e.Njj(n.deleteTier(o))}),e.DNE(1,$1,1,0,"span",31),e.EFF(2," Delete "),e.k0s()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.deleteInProgress)}}function N1(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",48)(1,"h5",49),e.EFF(2,"Overwrite default KYC tier"),e.k0s(),e.j41(3,"button",50),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",51),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",52)(7,"h4",53),e.EFF(8," You are going overwrite existing default tier with the same account type and KYC providers. Confirm operation. "),e.k0s(),e.j41(9,"div",54)(10,"button",55),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Reject"))}),e.EFF(11," Reject "),e.k0s(),e.j41(12,"button",56),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.close("Confirm"))}),e.EFF(13," Confirm "),e.k0s()()()}}function V1(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",48)(1,"h5",49),e.EFF(2,"Delete KYC tier"),e.k0s(),e.j41(3,"button",50),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",51),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",52)(7,"h4",53),e.EFF(8," You are going to delete selected KYC tier. Confirm operation. "),e.k0s(),e.j41(9,"div",54)(10,"button",55),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Reject"))}),e.EFF(11," Reject "),e.k0s(),e.j41(12,"button",56),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.close("Confirm"))}),e.EFF(13," Confirm "),e.k0s()()()}}let G1=(()=>{class a{set currentTier(t){this.setFormData(t),this.settingsId=t?t?.id:"",this.createNew=""===this.settingsId}constructor(t,i,n,o,s){this.formBuilder=t,this.router=i,this.modalService=n,this.auth=o,this.adminService=s,this.permission=0,this.tiers=[],this.save=new e.bkB,this.close=new e.bkB,this.subscriptions=new R.yU,this.removeDialog=void 0,this.defaultOverwriteConfirmDialog=void 0,this.settingsId="",this.TARGET_TYPE=c.AW,this.submitted=!1,this.createNew=!1,this.saveInProgress=!1,this.deleteInProgress=!1,this.errorMessage="",this.defaultTierName="",this.userTypeOptions=F.GV,this.userModes=F.b1,this.kycProviders=F.dP,this.levels=[],this.targetEntity=["",""],this.targetSearchText="",this.targetsTitle="",this.targetType=c.AW.None,this.targets=F.NK,this.isTargetsLoading=!1,this.targetsSearchInput$=new y.B,this.targetsOptions$=(0,S.of)([]),this.sourceTargetsOptions=Ke,this.minTargetsLengthTerm=1,this.defaultAmount=null,this.form=this.formBuilder.group({id:[""],name:["",{validators:[d.k0.required],updateOn:"change"}],description:[""],isDefault:[!1],amount:[0,{validators:[d.k0.pattern("^[0-9.]+$")],updateOn:"change"}],amountUnlimited:[!1],target:["",{validators:[d.k0.required],updateOn:"change"}],targetValues:[[],{validators:[d.k0.required],updateOn:"change"}],level:["",{validators:[d.k0.required],updateOn:"change"}],userMode:[[],{validators:[d.k0.required],updateOn:"change"}],userType:["",{validators:[d.k0.required],updateOn:"change"}],provider:[void 0,{validators:[d.k0.required],updateOn:"change"}],requireUserFullName:[!1],requireUserPhone:[!1],requireUserBirthday:[!1],requireUserAddress:[!1],requireUserFlatNumber:[!1]})}ngOnInit(){this.subscriptions.add(this.form.get("target")?.valueChanges.subscribe(()=>this.updateTarget())),this.subscriptions.add(this.form.get("userType")?.valueChanges.subscribe(t=>{this.form.get("level")?.setValue(void 0),this.loadLevelValues(t)})),this.subscriptions.add(this.form.get("requireUserFlatNumber")?.valueChanges.subscribe(t=>{!0===t&&this.form.get("requireUserAddress")?.setValue(!0)})),this.subscriptions.add(this.form.get("requireUserAddress")?.valueChanges.subscribe(t=>{!1===t&&this.form.get("requireUserFlatNumber")?.setValue(!1)})),this.subscriptions.add(this.form.get("amountUnlimited")?.valueChanges.subscribe(t=>{!0===t?(this.defaultAmount=this.form.get("amount")?.value,this.form.get("amount")?.setValue(null),this.form.get("amount")?.disable()):(this.form.get("amount")?.setValue(this.defaultAmount),this.form.get("amount")?.enable())}))}ngOnDestroy(){this.subscriptions.unsubscribe()}setFormData(t){this.form.reset(),this.defaultTierName="",t?(this.defaultTierName=t.isDefault?t.name:"",this.form.get("id")?.setValue(t?.id),this.form.get("name")?.setValue(t?.name),this.form.get("description")?.setValue(t?.description),this.form.get("amount")?.setValue(t?.amount),this.form.get("amountUnlimited")?.setValue(null===t?.amount),null===t?.amount&&(this.defaultAmount=0,this.form.get("amount")?.disable()),this.form.get("isDefault")?.setValue(t?.isDefault),this.form.get("level")?.setValue(t?.level?.settingsKycLevelId??void 0),this.targetType=t?.target??c.AW.None,this.form.get("target")?.setValue(this.targetType),this.setTargetValues(t?.targetValues),this.form.get("userMode")?.setValue(t.userModes),this.form.get("userType")?.setValue(t?.userType),t?.kycProviders.length>0&&this.form.get("provider")?.setValue(t?.kycProviders[0]),this.form.get("requireUserFullName")?.setValue(t?.requireUserFullName),this.form.get("requireUserPhone")?.setValue(t?.requireUserPhone),this.form.get("requireUserBirthday")?.setValue(t?.requireUserBirthday),this.form.get("requireUserAddress")?.setValue(t?.requireUserAddress),this.form.get("requireUserFlatNumber")?.setValue(t?.requireUserFlatNumber),this.loadLevelValues(t?.userType),this.setTargetValidator(),this.setTargetValueParams()):(this.form.get("id")?.setValue(""),this.form.get("name")?.setValue(""),this.form.get("description")?.setValue(""),this.form.get("amount")?.setValue(0),this.form.get("amountUnlimited")?.setValue(!1),this.form.get("isDefault")?.setValue(!1),this.form.get("level")?.setValue(""),this.form.get("target")?.setValue(c.AW.None),this.form.get("targetValues")?.setValue([]),this.form.get("userMode")?.setValue([]),this.form.get("userType")?.setValue(""),this.form.get("provider")?.setValue(void 0),this.form.get("requireUserFullName")?.setValue(!1),this.form.get("requireUserPhone")?.setValue(!1),this.form.get("requireUserBirthday")?.setValue(!1),this.form.get("requireUserAddress")?.setValue(!1),this.form.get("requireUserFlatNumber")?.setValue(!1),this.setTargetValidator())}setTierData(){const t=new dt.Kn(null);return t.name=this.form.get("name")?.value,t.description=this.form.get("description")?.value,t.amount=!0===this.form.get("amountUnlimited")?.value?null:parseFloat(this.form.get("amount")?.value),t.isDefault=this.form.get("isDefault")?.value,t.id=this.form.get("id")?.value,t.setTarget(this.targetType,this.form.get("targetValues")?.value),t.userType=this.form.get("userType")?.value,t.levelId=this.form.get("level")?.value,(this.form.get("userMode")?.value).forEach(i=>t.userModes.push(i)),t.kycProviders=[this.form.get("provider")?.value],t.requireUserFullName=this.form.get("requireUserFullName")?.value,t.requireUserPhone=this.form.get("requireUserPhone")?.value,t.requireUserBirthday=this.form.get("requireUserBirthday")?.value,t.requireUserAddress=this.form.get("requireUserAddress")?.value,t.requireUserFlatNumber=this.form.get("requireUserFlatNumber")?.value,t}setTargetValues(t){if(this.targetType===c.AW.AccountId){const i=new G({users:t});this.subscriptions.add(this.getFilteredAccounts(i).subscribe(n=>{this.targetsOptions$=(0,S.of)(n),this.form.get("targetValues")?.setValue(n)}))}else if(this.targetType===c.AW.WidgetId){const i=new G({widgets:t});this.subscriptions.add(this.getFilteredWidgets(i).subscribe(n=>{this.targetsOptions$=(0,S.of)(n),this.form.get("targetValues")?.setValue(n)}))}else if(this.targetType===c.AW.Country){const i=t.map(n=>{const o=re.To.find(s=>s.id===n);return o?(o.imgClass="country-flag-admin",o):new Ue.U}).filter(n=>""!==n.id);this.targetsOptions$=(0,S.of)(i),this.form.get("targetValues")?.setValue(i)}else if(this.targetType===c.AW.InitiateFrom){const i=t.map(n=>Ke.find(s=>s.id===n)||new Ue.U).filter(n=>""!==n.id);this.targetsOptions$=(0,S.of)(i),this.form.get("targetValues")?.setValue(i)}else this.form.get("targetValues")?.setValue([])}setTargetValueParams(){switch(this.targetType=this.form.get("target")?.value,this.targetType){case c.AW.None:this.targetEntity=["",""],this.targetSearchText="",this.targetsTitle="";break;case c.AW.Country:this.targetEntity=["country","countries"],this.targetSearchText="Type a country name",this.targetsTitle="Countries";break;case c.AW.AccountId:this.targetEntity=["account","accounts"],this.targetSearchText="Type email or user name",this.targetsTitle="Accounts";break;case c.AW.WidgetId:this.targetEntity=["widget","widgets"],this.targetSearchText="Type a widget name",this.targetsTitle="Widgets";break;case c.AW.InitiateFrom:this.targetEntity=["source","sources"],this.targetSearchText="",this.targetsTitle="Transaction sources"}this.targetType!==c.AW.None&&this.initTargetSearch()}initTargetSearch(){this.targetsOptions$=(0,ke.x)((0,S.of)([]),this.targetsSearchInput$.pipe((0,W.p)(t=>null!==t&&t.length>=this.minTargetsLengthTerm),(0,q.B)(300),(0,Y.F)(),(0,D.M)(()=>{this.isTargetsLoading=!0}),(0,J.n)(t=>(this.isTargetsLoading=!1,this.filterTargets(t)))))}filterTargets(t){if(this.targetType===c.AW.Country)return(0,S.of)(re.To.map(i=>(i.imgClass="country-flag-admin",i)).filter(i=>i.title.toLowerCase().includes(t.toLowerCase())));if(this.targetType===c.AW.WidgetId){const i=new G({search:t});return this.getFilteredWidgets(i)}if(this.targetType===c.AW.AccountId){const i=new G({search:t});return this.getFilteredAccounts(i)}return(0,S.of)(this.targetType===c.AW.InitiateFrom?Ke:[])}getFilteredAccounts(t){return this.adminService.findUsers(t).pipe((0,b.T)(i=>i.list.map(n=>({id:n.id,title:n.extendedName}))))}getFilteredWidgets(t){return this.adminService.getWidgets(0,100,"widgetId",!1,t).pipe((0,b.T)(i=>i.list.map(n=>({id:n.id,title:n.name}))))}updateTarget(){this.clearTargetValues(),this.setTargetValidator(),this.setTargetValueParams()}clearTargetValues(){this.targetsOptions$=(0,S.of)([]),this.form.get("targetValues")?.setValue([])}setTargetValidator(){const t=this.form.get("target")?.value;this.targetType=t??c.AW.None,t===c.AW.None?this.form.get("targetValues")?.clearValidators():this.form.get("targetValues")?.setValidators([d.k0.required]),this.form.get("targetValues")?.updateValueAndValidity()}loadLevelValues(t){this.subscriptions.add(this.adminService.getKycLevels(t).pipe((0,P.s)(1)).subscribe(i=>{this.levels=i.list.map(n=>{const o=new F.Fy;return o.id=n.id,o.name=n.name,o.description=n.description,o})}))}onSubmit(t){if(this.submitted=!0,this.form.valid){const i=this.setTierData();(0,ae.CM)(this.tiers,i)?(this.defaultOverwriteConfirmDialog=this.modalService.open(t,{backdrop:"static",windowClass:"modalCusSty"}),this.subscriptions.add(this.defaultOverwriteConfirmDialog.closed.subscribe(()=>{this.saveTier(i)}))):this.saveTier(i)}}deleteTier(t){this.removeDialog=this.modalService.open(t,{backdrop:"static",windowClass:"modalCusSty"}),this.subscriptions.add(this.removeDialog.closed.subscribe(()=>{this.deleteTierConfirmed(this.settingsId??"")}))}saveTier(t){this.errorMessage="",this.saveInProgress=!0;const i=this.adminService.saveKycTierSettings(t,this.createNew);this.subscriptions.add(i.subscribe(()=>{this.saveInProgress=!1,this.save.emit()},n=>{this.saveInProgress=!1,this.errorMessage=n,""===this.auth.token&&this.router.navigateByUrl("/")}))}deleteTierConfirmed(t){this.errorMessage="",this.saveInProgress=!0;const i=this.adminService.deleteKycTierSettings(t);this.subscriptions.add(i.subscribe(()=>{this.saveInProgress=!1,this.save.emit()},n=>{this.saveInProgress=!1,this.errorMessage=n,""===this.auth.token&&this.router.navigateByUrl("/")}))}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(d.ze),e.rXU(w.Ix),e.rXU(_.Bq),e.rXU(I.u),e.rXU(E))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-tier-details"]],inputs:{permission:"permission",currentTier:"currentTier",tiers:"tiers"},outputs:{save:"save",close:"close"},decls:101,vars:32,consts:[["default_overwrite_content",""],["delete_content",""],[1,"row"],[1,"col-md-12","col-lg-12","col-xl-12","mx-auto","d-block"],["novalidate","",3,"ngSubmit","formGroup"],[1,"card","card-body","pd-20","pd-md-40","border","shadow-none"],[1,"form-group"],[1,"ckbox"],["type","checkbox","formControlName","isDefault"],["class","form-group",4,"ngIf"],[1,"main-content-label","tx-11","tx-medium","tx-gray-600"],["type","text","formControlName","description",1,"form-control"],[1,"__tier-details-amount-grid"],["type","text","formControlName","amount",1,"form-control"],[2,"display","flex","align-items","center"],["type","checkbox","formControlName","amountUnlimited"],["class","tx-danger",4,"ngIf"],[1,"main-content-label","tx-11","tx-medium","tx-danger"],["bindLabel","name","bindValue","id","formControlName","userType","required","",3,"items","clearable","clearOnBackspace"],["bindLabel","name","bindValue","id","formControlName","target","required","",3,"items","clearable","clearOnBackspace"],["bindLabel","name","bindValue","id","formControlName","userMode",3,"items","clearable","clearOnBackspace","multiple","closeOnSelect"],["bindLabel","name","bindValue","id","formControlName","provider",3,"items","clearable","clearOnBackspace","multiple","closeOnSelect"],["bindLabel","name","bindValue","id","formControlName","level","required","",3,"items","clearable","clearOnBackspace"],["type","checkbox","formControlName","requireUserFullName"],["type","checkbox","formControlName","requireUserPhone"],["type","checkbox","formControlName","requireUserBirthday"],["type","checkbox","formControlName","requireUserAddress"],["type","checkbox","formControlName","requireUserFlatNumber"],["class","card card-body card-danger pd-20 pd-md-40 border shadow-none",4,"ngIf"],[2,"display","flex","justify-content","flex-end"],[1,"btn","btn-primary","pd-x-30","me-2","mg-t-5"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["class","btn btn-danger pd-x-30 me-2 mg-t-5","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","pd-x-30","mg-t-5",3,"click"],["type","text","formControlName","name","required","",1,"form-control",3,"ngClass"],[1,"tx-danger"],["label","Tier name",3,"value"],["formControlName","targetValues","bindLabel","title","required","",3,"minTermLength","notFoundText","loading","multiple","typeToSearchText","placeholder","typeahead",4,"ngIf"],["bindLabel","title","formControlName","targetValues","required","",3,"items","multiple","placeholder",4,"ngIf"],["formControlName","targetValues","bindLabel","title","required","",3,"minTermLength","notFoundText","loading","multiple","typeToSearchText","placeholder","typeahead"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"itemValue","imageClass","imageSource"],["bindLabel","title","formControlName","targetValues","required","",3,"items","multiple","placeholder"],[1,"card","card-body","card-danger","pd-20","pd-md-40","border","shadow-none"],[1,"card-title2","mg-b-20","color_brown"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["type","button",1,"btn","btn-danger","pd-x-30","me-2","mg-t-5",3,"click"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[2,"text-align","center"],[2,"display","flex","flex-direction","row","justify-content","center","align-items","center"],["type","button",1,"btn","btn-outline-secondary","pd-x-30","me-2","mg-t-5",3,"click"],[1,"btn","btn-primary","pd-x-30","mg-t-5",3,"click"]],template:function(i,n){if(1&i){const o=e.RV6();e.j41(0,"div",2)(1,"div",3)(2,"form",4),e.bIt("ngSubmit",function(){e.eBV(o);const l=e.sdS(98);return e.Njj(n.onSubmit(l))}),e.j41(3,"div",5)(4,"div",6)(5,"label",7),e.nrm(6,"input",8),e.j41(7,"span"),e.EFF(8," Default tier "),e.k0s()()(),e.DNE(9,C1,7,4,"div",9)(10,k1,2,1,"div",9),e.j41(11,"div",6)(12,"label",10),e.EFF(13," Description "),e.k0s(),e.nrm(14,"input",11),e.k0s(),e.j41(15,"div",6)(16,"label",10),e.EFF(17," Amount "),e.k0s(),e.j41(18,"div",12),e.nrm(19,"input",13),e.j41(20,"div",14)(21,"label",7),e.nrm(22,"input",15),e.j41(23,"span"),e.EFF(24," Unlimited "),e.k0s()()()(),e.DNE(25,F1,3,0,"div",16),e.k0s(),e.j41(26,"div",6)(27,"label",10),e.EFF(28," Account type "),e.j41(29,"span",17),e.EFF(30,"*"),e.k0s()(),e.nrm(31,"ng-select",18),e.DNE(32,T1,3,0,"div",16),e.k0s(),e.j41(33,"div",6)(34,"label",10),e.EFF(35," Target "),e.j41(36,"span",17),e.EFF(37,"*"),e.k0s()(),e.nrm(38,"ng-select",19),e.DNE(39,x1,3,0,"div",16),e.k0s(),e.DNE(40,E1,8,4,"div",9),e.j41(41,"div",6)(42,"label",10),e.EFF(43," User modes "),e.j41(44,"span",17),e.EFF(45,"*"),e.k0s()(),e.nrm(46,"ng-select",20),e.DNE(47,P1,3,0,"div",16),e.k0s(),e.j41(48,"div",6)(49,"label",10),e.EFF(50," KYC providers "),e.j41(51,"span",17),e.EFF(52,"*"),e.k0s()(),e.nrm(53,"ng-select",21),e.DNE(54,A1,3,0,"div",16),e.k0s(),e.j41(55,"div",6)(56,"label",10),e.EFF(57," Level "),e.j41(58,"span",17),e.EFF(59,"*"),e.k0s()(),e.nrm(60,"ng-select",22),e.DNE(61,R1,3,0,"div",16),e.k0s(),e.j41(62,"div",6)(63,"label",10),e.EFF(64," User requirements "),e.k0s(),e.j41(65,"label",7),e.nrm(66,"input",23),e.j41(67,"span"),e.EFF(68," Require User Full Name "),e.k0s()()(),e.j41(69,"div",6)(70,"label",7),e.nrm(71,"input",24),e.j41(72,"span"),e.EFF(73," Require User Phone "),e.k0s()()(),e.j41(74,"div",6)(75,"label",7),e.nrm(76,"input",25),e.j41(77,"span"),e.EFF(78," Require User Birthday "),e.k0s()()(),e.j41(79,"div",6)(80,"label",7),e.nrm(81,"input",26),e.j41(82,"span"),e.EFF(83," Require User Address "),e.k0s()()(),e.j41(84,"div",6)(85,"label",7),e.nrm(86,"input",27),e.j41(87,"span"),e.EFF(88," Require User Flat Number "),e.k0s()()()(),e.DNE(89,O1,3,1,"div",28),e.j41(90,"div",29)(91,"button",30),e.DNE(92,j1,1,0,"span",31),e.EFF(93," Save "),e.k0s(),e.DNE(94,M1,3,1,"button",32),e.j41(95,"button",33),e.bIt("click",function(){return e.eBV(o),e.Njj(n.close.emit())}),e.EFF(96," Close "),e.k0s()()()()(),e.DNE(97,N1,14,0,"ng-template",null,0,e.C5r)(99,V1,14,0,"ng-template",null,1,e.C5r)}2&i&&(e.R7$(2),e.Y8G("formGroup",n.form),e.R7$(7),e.Y8G("ngIf",""===n.defaultTierName),e.R7$(),e.Y8G("ngIf",""!==n.defaultTierName),e.R7$(15),e.Y8G("ngIf",(n.form.controls.amount.touched||n.submitted)&&(null==n.form.controls.amount.errors?null:n.form.controls.amount.errors.pattern)),e.R7$(6),e.Y8G("items",n.userTypeOptions)("clearable",!1)("clearOnBackspace",!1),e.R7$(),e.Y8G("ngIf",(n.form.controls.userType.touched||n.submitted)&&(null==n.form.controls.userType.errors?null:n.form.controls.userType.errors.required)),e.R7$(6),e.Y8G("items",n.targets)("clearable",!1)("clearOnBackspace",!1),e.R7$(),e.Y8G("ngIf",(n.form.controls.target.touched||n.submitted)&&(null==n.form.controls.target.errors?null:n.form.controls.target.errors.required)),e.R7$(),e.Y8G("ngIf",n.targetType!==n.TARGET_TYPE.None),e.R7$(6),e.Y8G("items",n.userModes)("clearable",!0)("clearOnBackspace",!0)("multiple",!0)("closeOnSelect",!1),e.R7$(),e.Y8G("ngIf",(n.form.controls.userMode.touched||n.submitted)&&(null==n.form.controls.userMode.errors?null:n.form.controls.userMode.errors.required)),e.R7$(6),e.Y8G("items",n.kycProviders)("clearable",!1)("clearOnBackspace",!1)("multiple",!1)("closeOnSelect",!1),e.R7$(),e.Y8G("ngIf",(n.form.controls.provider.touched||n.submitted)&&(null==n.form.controls.provider.errors?null:n.form.controls.provider.errors.required)),e.R7$(6),e.Y8G("items",n.levels)("clearable",!1)("clearOnBackspace",!1),e.R7$(),e.Y8G("ngIf",(n.form.controls.level.touched||n.submitted)&&(null==n.form.controls.level.errors?null:n.form.controls.level.errors.required)),e.R7$(28),e.Y8G("ngIf",""!==n.errorMessage),e.R7$(3),e.Y8G("ngIf",n.saveInProgress),e.R7$(2),e.Y8G("ngIf",n.permission>1&&!n.createNew&&""===n.defaultTierName))},dependencies:[h.YU,h.Sq,h.bT,d.qT,d.me,d.Zm,d.BC,d.cb,d.YS,d.j4,d.JD,te,Oe,Pe,he,h.Jj],styles:[".dark-theme .mat-mdc-button,   .dark-theme .mat-mdc-icon-button,   .dark-theme .mat-mdc-outlined-button{color:#b7c0d6!important}  .dark-theme .mat-form-field-label{color:#eee}  .dark-theme .mat-datepicker-content{background-color:#373d51;color:#ffffffde}  .dark-theme .mat-calendar-table-header,   .dark-theme .mat-calendar-body-label{color:#fff}@media (hover: hover){  .dark-theme .mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#2a2e3f}}  .dark-theme .mat-calendar-body-cell-content,   .dark-theme .mat-date-range-input-separator{color:#e1e1ef}  .dark-theme .ngb-dp-header{background-color:#343545}  .dark-theme .ngb-dp-weekdays{background-color:#343545}  .rtl .color-picker{left:initial!important}  .transparent-theme .card .box{background:#2da28f}  .transparent-theme .hex-text,   .transparent-theme .rgba-text{background:#2da28f}  .transparent-theme .mat-datepicker-content{background-color:#2da28f;color:#ffffffde}  .transparent-theme .mat-datepicker-toggle,   .transparent-theme .mat-datepicker-content .mat-calendar-next-button,   .transparent-theme .mat-datepicker-content .mat-calendar-previous-button{color:#ffffff81}  .transparent-theme .mat-calendar-body-cell-content,   .transparent-theme .mat-date-range-input-separator{color:#ffffffd3}  .transparent-theme .mat-calendar-table-header,   .transparent-theme .mat-calendar-body-label{color:#fff9}  .transparent-theme .ngb-dp-header{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekdays{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekday{color:#000}  .transparent-theme .ng-select .ng-arrow-wrapper .ng-arrow{border-top-color:#fff!important}  .transparent-theme .ng-select.ng-select-opened .ng-arrow-wrapper .ng-arrow{border-bottom-color:#fff!important}  .form-controls{display:block;color:#fff;border:transparent;outline:none;width:100%;height:40px;padding:.375rem .75rem;font-size:.875rem;font-weight:400;line-height:2;background-clip:padding-box;border-radius:5px;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}  button[type=button]{z-index:0!important}.__tier-details-amount-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%;grid-template-rows:auto;gap:12px}",".has-error[_ngcontent-%COMP%]{border:1px solid #f16d75}.tx-danger[_ngcontent-%COMP%]{color:red!important}"]})}return a})();const B1=()=>["Home","KYC / KYB"];function U1(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",34),e.bIt("click",function(){e.eBV(t);const n=e.XpG(),o=e.sdS(44);return e.Njj(n.showDetails(void 0,o))}),e.EFF(1," Add tier "),e.k0s()}}function L1(a,r){1&a&&e.nrm(0,"mat-progress-bar",35)}function Y1(a,r){1&a&&e.nrm(0,"th",36)}function q1(a,r){if(1&a){const t=e.RV6();e.j41(0,"td",37)(1,"button",38),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG(),s=e.sdS(44);return e.Njj(o.showDetails(n,s))}),e.j41(2,"i",39),e.EFF(3,"wysiwyg"),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(),e.BMQ("aria-label","Tier details")("aria-pressed",!!t.selectedTier)}}function W1(a,r){1&a&&e.nrm(0,"th",36)}function X1(a,r){1&a&&(e.j41(0,"div",41)(1,"i",39),e.EFF(2,"offline_bolt"),e.k0s()())}function z1(a,r){if(1&a&&(e.j41(0,"td",37),e.DNE(1,X1,3,0,"div",40),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.Y8G("ngIf",t.isDefault)}}function H1(a,r){1&a&&(e.j41(0,"th",42),e.EFF(1," Name "),e.k0s())}function K1(a,r){if(1&a&&(e.j41(0,"td",37),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.name," ")}}function J1(a,r){1&a&&(e.j41(0,"th",43),e.EFF(1," Description "),e.k0s())}function Q1(a,r){if(1&a&&(e.j41(0,"td",37),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.description," ")}}function Z1(a,r){1&a&&(e.j41(0,"th",44),e.EFF(1," Amount "),e.k0s())}function e0(a,r){if(1&a&&(e.j41(0,"td",37),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.amountExt," ")}}function t0(a,r){1&a&&(e.j41(0,"th",45),e.EFF(1," Target "),e.k0s())}function a0(a,r){if(1&a&&(e.j41(0,"td",37),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.targetName," ")}}function n0(a,r){1&a&&(e.j41(0,"th",46),e.EFF(1," User type "),e.k0s())}function r0(a,r){if(1&a&&(e.j41(0,"td",37),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.userType," ")}}function o0(a,r){1&a&&(e.j41(0,"th",47),e.EFF(1," User mode "),e.k0s())}function s0(a,r){if(1&a&&(e.j41(0,"td",37),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.userModeList," ")}}function l0(a,r){1&a&&(e.j41(0,"th",48),e.EFF(1," Provider "),e.k0s())}function d0(a,r){if(1&a&&(e.j41(0,"td",37),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.kycProviderList," ")}}function c0(a,r){1&a&&(e.j41(0,"th",49),e.EFF(1," Level "),e.k0s())}function m0(a,r){if(1&a&&(e.j41(0,"td",37),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.levelName," ")}}function p0(a,r){1&a&&e.nrm(0,"tr",50)}function u0(a,r){1&a&&e.nrm(0,"tr",51)}function h0(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",52)(1,"h5",53),e.EFF(2),e.k0s(),e.j41(3,"button",54),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",55),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",56)(7,"app-admin-tier-details",57),e.bIt("save",function(){const n=e.eBV(t).$implicit;return e.Njj(n.close("OK"))})("close",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Close"))}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(2),e.SpI(" ",t.detailsTitle," "),e.R7$(5),e.Y8G("permission",t.permission)("currentTier",t.selectedTier)("tiers",t.tiers)}}let f0=(()=>{class a{constructor(t,i,n,o){this.modalService=t,this.auth=i,this.adminService=n,this.router=o,this.displayedColumns=["details","default","name","description","amount","target","userType","userMode","provider","level"],this.inProgress=!1,this.errorMessage="",this.detailsTitle="",this.permission=0,this.tiers=[],this.subscriptions=new R.yU,this.detailsDialog=void 0,this.permission=this.auth.isPermittedObjectCode(c.G4.Kyc)}ngOnInit(){this.loadTiers()}ngOnDestroy(){this.subscriptions.unsubscribe()}loadTiers(){this.tiers=[],this.inProgress=!0;const t=this.adminService.getKycTiers().pipe((0,P.s)(1));this.subscriptions.add(t.subscribe(i=>{this.tiers=i.list,this.inProgress=!1},()=>{this.inProgress=!1,""===this.auth.token&&this.router.navigateByUrl("/")}))}showDetails(t,i){this.selectedTier=t,this.detailsTitle=t?"KYC tier details":"Add new KYC tier",this.detailsDialog=this.modalService.open(i,{backdrop:"static",windowClass:"modalCusSty"}),this.subscriptions.add(this.detailsDialog.closed.subscribe(()=>{this.loadTiers()}))}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(_.Bq),e.rXU(I.u),e.rXU(E),e.rXU(w.Ix))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-kyc-tiers"]],decls:45,vars:9,consts:[["details_content",""],[3,"title","items","active_item"],[1,"row","row-sm"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],[1,"table-button-container"],["type","button","class","btn btn-primary me-2",3,"click",4,"ngIf"],["color","accent","mode","indeterminate",4,"ngIf"],[1,"data-table"],[3,"dataSource"],["matColumnDef","details"],["mat-header-cell","","class","mat-column-kyc-table mat-column-kyc-table-details",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","default"],["matColumnDef","name"],["mat-header-cell","","class","mat-column-kyc-table mat-column-kyc-table-name",4,"matHeaderCellDef"],["matColumnDef","description"],["mat-header-cell","","class","mat-column-fee-table mat-column-fee-table-name",4,"matHeaderCellDef"],["matColumnDef","amount"],["mat-header-cell","","class","mat-column-kyc-table mat-column-kyc-table-amount",4,"matHeaderCellDef"],["matColumnDef","target"],["mat-header-cell","","class","mat-column-kyc-table mat-column-kyc-table-target",4,"matHeaderCellDef"],["matColumnDef","userType"],["mat-header-cell","","class","mat-column-kyc-table mat-column-kyc-table-user-type",4,"matHeaderCellDef"],["matColumnDef","userMode"],["mat-header-cell","","class","mat-column-kyc-table mat-column-kyc-table-user-mode",4,"matHeaderCellDef"],["matColumnDef","provider"],["mat-header-cell","","class","mat-column-kyc-table mat-column-kyc-table-provider",4,"matHeaderCellDef"],["matColumnDef","level"],["mat-header-cell","","class","mat-column-kyc-table mat-column-kyc-table-level",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["color","accent","mode","indeterminate"],["mat-header-cell","",1,"mat-column-kyc-table","mat-column-kyc-table-details"],["mat-cell",""],["mat-icon-button","","matTooltip","Tier details","matTooltipClass","info-tooltip",1,"row-button",3,"click"],[1,"material-icons",2,"font-size","20px"],["class","row-icon",4,"ngIf"],[1,"row-icon"],["mat-header-cell","",1,"mat-column-kyc-table","mat-column-kyc-table-name"],["mat-header-cell","",1,"mat-column-fee-table","mat-column-fee-table-name"],["mat-header-cell","",1,"mat-column-kyc-table","mat-column-kyc-table-amount"],["mat-header-cell","",1,"mat-column-kyc-table","mat-column-kyc-table-target"],["mat-header-cell","",1,"mat-column-kyc-table","mat-column-kyc-table-user-type"],["mat-header-cell","",1,"mat-column-kyc-table","mat-column-kyc-table-user-mode"],["mat-header-cell","",1,"mat-column-kyc-table","mat-column-kyc-table-provider"],["mat-header-cell","",1,"mat-column-kyc-table","mat-column-kyc-table-level"],["mat-header-row",""],["mat-row",""],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"save","close","permission","currentTier","tiers"]],template:function(i,n){1&i&&(e.nrm(0,"app-admin-page-header",1),e.j41(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",7),e.DNE(7,U1,2,0,"button",8),e.k0s(),e.DNE(8,L1,1,0,"mat-progress-bar",9),e.j41(9,"div",10)(10,"mat-table",11),e.qex(11,12),e.DNE(12,Y1,1,0,"th",13)(13,q1,4,2,"td",14),e.bVm(),e.qex(14,15),e.DNE(15,W1,1,0,"th",13)(16,z1,2,1,"td",14),e.bVm(),e.qex(17,16),e.DNE(18,H1,2,0,"th",17)(19,K1,2,1,"td",14),e.bVm(),e.qex(20,18),e.DNE(21,J1,2,0,"th",19)(22,Q1,2,1,"td",14),e.bVm(),e.qex(23,20),e.DNE(24,Z1,2,0,"th",21)(25,e0,2,1,"td",14),e.bVm(),e.qex(26,22),e.DNE(27,t0,2,0,"th",23)(28,a0,2,1,"td",14),e.bVm(),e.qex(29,24),e.DNE(30,n0,2,0,"th",25)(31,r0,2,1,"td",14),e.bVm(),e.qex(32,26),e.DNE(33,o0,2,0,"th",27)(34,s0,2,1,"td",14),e.bVm(),e.qex(35,28),e.DNE(36,l0,2,0,"th",29)(37,d0,2,1,"td",14),e.bVm(),e.qex(38,30),e.DNE(39,c0,2,0,"th",31)(40,m0,2,1,"td",14),e.bVm(),e.DNE(41,p0,1,0,"tr",32)(42,u0,1,0,"tr",33),e.k0s()(),e.DNE(43,h0,8,4,"ng-template",null,0,e.C5r),e.k0s()()()()()),2&i&&(e.Y8G("title","KYC Tiers")("items",e.lJ4(8,B1))("active_item","Tiers"),e.R7$(7),e.Y8G("ngIf",n.permission>1),e.R7$(),e.Y8G("ngIf",n.inProgress),e.R7$(2),e.Y8G("dataSource",n.tiers),e.R7$(31),e.Y8G("matHeaderRowDef",n.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",n.displayedColumns))},dependencies:[h.bT,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,ie.oV,K.iY,z.HM,X,G1],styles:[".datatable-body{height:600px!important;overflow:scroll;width:100%}  .dataTable-bottom{position:absolute;left:0;right:0;bottom:0;background:#fff!important}  table th,   table td,   .ngx-datatable.material .datatable-header .datatable-header-cell,   .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{font-size:.876rem!important}@media (max-width: 567.9px){  .ngx-datatable .datatable-footer .datatable-footer-inner{flex-wrap:wrap;height:auto!important}  .ngx-datatable .datatable-footer .datatable-pager{text-align:center!important}}  .dataTable-wrapper.no-footer .dataTable-container{border-bottom:none!important}  .dataTable-selector{border-radius:.25rem}  app-data-table input{border-radius:25px;border:1px solid rgba(0,0,0,.1)}  app-data-table .custom-select{border:1px solid rgba(0,0,0,.24)!important;border-radius:.25rem}.table-responsive[_ngcontent-%COMP%]{overflow:visible}  .dark-theme input::placeholder{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material{background-color:#2a2e3f!important}  .dark-theme app-data-tables .dataTable-bottom{background-color:#2a2e3f!important}  .dark-theme app-data-tables .dataTable-selector{background-color:#2a2e3f;border-color:#272c49;color:#fff;outline:none}  .dark-theme app-data-tables input{color:#eee!important;background-color:#2a2e3f!important;border-color:#262b48;border-radius:25px;height:27px}  .dark-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .dark-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#2a2e3f;color:#fff}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid rgb(39,43,74)!important;color:#fff!important;background:#2a2e3f!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #32394e!important}  .dark-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .dark-theme app-data-tables .dataTable-pagination li:hover a,   .dark-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .dark-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .dark-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .dark-theme app-data-tables .mat-mdc-table{background:#2a2e3f!important}  .dark-theme app-data-tables .mat-mdc-header-cell{color:#fff!important}  .dark-theme app-data-tables .mat-mdc-cell,   .dark-theme app-data-tables .mat-mdc-footer-cell{color:#eee!important}  .dark-theme app-data-tables mat-row,   .dark-theme app-data-tables mat-header-row,   .dark-theme app-data-tables mat-footer-row,   .dark-theme app-data-tables th.mat-mdc-header-cell,   .dark-theme app-data-tables td.mat-mdc-cell,   .dark-theme app-data-tables td.mat-mdc-footer-cell{border-bottom-color:#ffffff1f!important}  .dark-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .dark-theme app-data-tables .mat-mdc-paginator,   .dark-theme app-data-tables .mat-mdc-paginator-page-size .mat-mdc-select-trigger{color:#ffffff8a!important}  .dark-theme app-data-tables .mat-mdc-paginator{background:#2a2e3f}  .dark-theme app-data-tables .mat-mdc-select-value{color:#fff7f7de}  .dark-theme app-data-tables .mat-mdc-select-arrow{color:#ffffffba}  .dark-theme .mat-mdc-select-panel{background:#30304d}  .dark-theme .mat-mdc-option{color:#ccc}  .dark-theme .mat-primary .mat-mdc-option.mat-selected:not(.mat-option-disabled){color:#fff}  .dark-theme .mat-mdc-option:hover:not(.mat-option-disabled),   .dark-theme .mat-option:focus:not(.mat-option-disabled){background:#2a2a44}  .dark-theme .mat-mdc-select-panel .mat-mdc-option.mat-selected:not(.mat-mdc-option-multiple){background:#0000001f}  .dark-theme .table-hover>tbody>tr:hover>*{color:#fff}  .dark-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme input::placeholder{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material{background-color:#2da28f!important}  .transparent-theme app-data-tables .dataTable-bottom{background-color:#2da28f!important}  .transparent-theme app-data-tables .dataTable-selector{background-color:#2da28f;border-color:#4cb0a0;color:#fff;outline:none}  .transparent-theme app-data-tables input{color:#eee!important;background-color:#2da28f!important;border-color:#4cb0a0;border-radius:25px;height:27px}  .transparent-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .transparent-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#2da28f;color:#fff}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid #4cb0a0!important;color:#fff!important;background:#2da28f!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #4cb0a0!important}  .transparent-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .transparent-theme app-data-tables .dataTable-pagination li:hover a,   .transparent-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .transparent-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .transparent-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .transparent-theme app-data-tables .mat-mdc-table{background:#2da28f!important}  .transparent-theme app-data-tables .mat-mdc-header-cell{color:#fff!important}  .transparent-theme app-data-tables .mat-mdc-cell,   .transparent-theme app-data-tables .mat-mdc-footer-cell{color:#eee!important}  .transparent-theme app-data-tables mat-row,   .transparent-theme app-data-tables mat-header-row,   .transparent-theme app-data-tables mat-footer-row,   .transparent-theme app-data-tables th.mat-mdc-header-cell,   .transparent-theme app-data-tables td.mat-mdc-cell,   .transparent-theme app-data-tables td.mat-mdc-footer-cell{border-bottom-color:#ffffff1f!important}  .transparent-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .transparent-theme app-data-tables .mat-mdc-paginator,   .transparent-theme app-data-tables .mat-mdc-paginator-page-size .mat-mdc-select-trigger{color:#ffffff8a!important}  .transparent-theme app-data-tables .mat-mdc-paginator{background:#2da28f}  .transparent-theme app-data-tables .mat-mdc-select-value{color:#fff7f7de}  .transparent-theme app-data-tables .mat-mdc-select-arrow{color:#ffffffba}  .transparent-theme .mat-mdc-select-panel{background:#30304d}  .transparent-theme .mat-mdc-option{color:#ccc}  .transparent-theme .mat-primary .mat-mdc-option.mat-selected:not(.mat-option-disabled){color:#fff}  .transparent-theme .mat-mdc-option:hover:not(.mat-option-disabled),   .transparent-theme .mat-option:focus:not(.mat-option-disabled){background:#2a2a44}  .transparent-theme .mat-mdc-select-panel .mat-mdc-option.mat-selected:not(.mat-mdc-option-multiple){background:#0000001f}  .transparent-theme .table-hover>tbody>tr:hover>*{color:#fff}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{background-color:#248272!important}.data-table[_ngcontent-%COMP%]{flex:1 1 0;overflow:auto;margin-top:5px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]{display:table;min-width:100%}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:32px;line-height:32px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   tr.mat-mdc-header-row[_ngcontent-%COMP%]{height:40px;line-height:40px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]{padding:0 4px;white-space:nowrap;font-size:16px;font-weight:400;color:#0000008a;font-family:Roboto,sans-serif}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell.action[_ngcontent-%COMP%]{width:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]{padding:1px 4px 0;line-height:29px;white-space:nowrap}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%]{width:16px;height:16px;font-size:16px;vertical-align:middle;position:relative;top:-1px}.data-table[_ngcontent-%COMP%]   .row-button[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0;position:relative;top:5px;padding:1px}.data-table[_ngcontent-%COMP%]   .row-button[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:16px;height:16px;width:16px;line-height:16px}.data-table[_ngcontent-%COMP%]   .row-icon[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0;position:relative;top:5px}mat-mdc-paginator[_ngcontent-%COMP%]{flex:0 0 auto}table[_ngcontent-%COMP%]{width:100%}.table-button-container[_ngcontent-%COMP%]{padding-bottom:16px}.mat-column-kyc-table[_ngcontent-%COMP%]{word-wrap:break-word;white-space:unset;overflow-wrap:break-word;word-break:break-word;-webkit-hyphens:auto;hyphens:auto}.mat-column-kyc-table-name[_ngcontent-%COMP%]{flex:0 0 15%;width:15%;min-width:5em}.mat-column-kyc-table-amount[_ngcontent-%COMP%]{flex:0 0 9%;width:9%;min-width:3em}.mat-column-kyc-table-target[_ngcontent-%COMP%]{flex:0 0 15%;width:15%;min-width:5em}.mat-column-kyc-table-user-type[_ngcontent-%COMP%]{flex:0 0 10%;width:10%;min-width:5em}.mat-column-kyc-table-user-mode[_ngcontent-%COMP%], .mat-column-kyc-table-provider[_ngcontent-%COMP%], .mat-column-kyc-table-level[_ngcontent-%COMP%]{flex:0 0 15%;width:15%;min-width:5em}.mat-column-kyc-table-details[_ngcontent-%COMP%]{flex:0 0 2%;width:2%;min-width:1.5em}.ng-pagination-nav-icons[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:12px}"]})}return a})(),g0=(()=>{class a{constructor(){this.permission=0,this.message=void 0,this.close=new e.bkB}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-action-details"]],inputs:{permission:"permission",message:"message"},outputs:{close:"close"},decls:13,vars:7,consts:[[1,"row","m-0"],[1,"col-md-12","col-lg-12","col-xl-12","mx-auto","d-block"],[1,"card","card-body","pd-20","pd-md-40","border","shadow-none"],["label","Date",3,"value"],["label","Status",3,"value"],["label","Viewed",3,"value"],["label","User identifier",3,"value"],["label","Object identifier",3,"value"],["label","Linked ID's",3,"value"],[2,"display","flex","justify-content","flex-end"],["type","button",1,"btn","btn-outline-primary","pd-x-30",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.nrm(3,"app-admin-details-item",3)(4,"app-admin-details-item",4)(5,"app-admin-details-item",5)(6,"app-admin-details-item",5)(7,"app-admin-details-item",6)(8,"app-admin-details-item",7)(9,"app-admin-details-item",8),e.k0s(),e.j41(10,"div",9)(11,"button",10),e.bIt("click",function(){return n.close.emit()}),e.EFF(12," Close "),e.k0s()()()()),2&i&&(e.R7$(3),e.Y8G("value",null==n.message?null:n.message.date),e.R7$(),e.Y8G("value",null==n.message?null:n.message.status),e.R7$(),e.Y8G("value",null==n.message||null==n.message.actionType?null:n.message.actionType.name),e.R7$(),e.Y8G("value",null==n.message||null==n.message.result?null:n.message.result.name),e.R7$(),e.Y8G("value",null==n.message?null:n.message.userId),e.R7$(),e.Y8G("value",null==n.message?null:n.message.objectId),e.R7$(),e.Y8G("value",null==n.message?null:n.message.linkedIds))},dependencies:[he],styles:[".dark-theme .mat-mdc-button,   .dark-theme .mat-mdc-icon-button,   .dark-theme .mat-mdc-outlined-button{color:#b7c0d6!important}  .dark-theme .mat-form-field-label{color:#eee}  .dark-theme .mat-datepicker-content{background-color:#373d51;color:#ffffffde}  .dark-theme .mat-calendar-table-header,   .dark-theme .mat-calendar-body-label{color:#fff}@media (hover: hover){  .dark-theme .mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#2a2e3f}}  .dark-theme .mat-calendar-body-cell-content,   .dark-theme .mat-date-range-input-separator{color:#e1e1ef}  .dark-theme .ngb-dp-header{background-color:#343545}  .dark-theme .ngb-dp-weekdays{background-color:#343545}  .rtl .color-picker{left:initial!important}  .transparent-theme .card .box{background:#2da28f}  .transparent-theme .hex-text,   .transparent-theme .rgba-text{background:#2da28f}  .transparent-theme .mat-datepicker-content{background-color:#2da28f;color:#ffffffde}  .transparent-theme .mat-datepicker-toggle,   .transparent-theme .mat-datepicker-content .mat-calendar-next-button,   .transparent-theme .mat-datepicker-content .mat-calendar-previous-button{color:#ffffff81}  .transparent-theme .mat-calendar-body-cell-content,   .transparent-theme .mat-date-range-input-separator{color:#ffffffd3}  .transparent-theme .mat-calendar-table-header,   .transparent-theme .mat-calendar-body-label{color:#fff9}  .transparent-theme .ngb-dp-header{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekdays{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekday{color:#000}  .transparent-theme .ng-select .ng-arrow-wrapper .ng-arrow{border-top-color:#fff!important}  .transparent-theme .ng-select.ng-select-opened .ng-arrow-wrapper .ng-arrow{border-bottom-color:#fff!important}  .form-controls{display:block;color:#fff;border:transparent;outline:none;width:100%;height:40px;padding:.375rem .75rem;font-size:.875rem;font-weight:400;line-height:2;background-clip:padding-box;border-radius:5px;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}  button[type=button]{z-index:0!important}",".has-error[_ngcontent-%COMP%]{border:1px solid #f16d75}.tx-danger[_ngcontent-%COMP%]{color:red!important}"]})}return a})();const _0=()=>["Home"],b0=(a,r)=>({"tx-success":a,"tx-danger":r});function v0(a,r){1&a&&e.nrm(0,"mat-progress-bar",28)}function y0(a,r){1&a&&e.nrm(0,"th",29)}function C0(a,r){if(1&a){const t=e.RV6();e.j41(0,"td",30)(1,"button",31),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG(),s=e.sdS(32);return e.Njj(o.showDetails(n,s))}),e.j41(2,"i",32),e.EFF(3,"wysiwyg"),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(),e.BMQ("aria-label","Action details")("aria-pressed",!!t.selectedAction)}}function k0(a,r){1&a&&(e.j41(0,"th",33),e.EFF(1,"Date"),e.k0s())}function F0(a,r){if(1&a&&(e.j41(0,"td",34),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.date," ")}}function T0(a,r){1&a&&(e.j41(0,"th",33),e.EFF(1,"User"),e.k0s())}function x0(a,r){if(1&a&&(e.j41(0,"td",35),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.currentUserEmail," ")}}function w0(a,r){1&a&&(e.j41(0,"th",29),e.EFF(1,"Action type"),e.k0s())}function S0(a,r){if(1&a&&(e.j41(0,"td",36),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",null==t||null==t.actionType?null:t.actionType.name," ")}}function D0(a,r){1&a&&(e.j41(0,"th",29),e.EFF(1,"Result"),e.k0s())}function I0(a,r){if(1&a&&(e.j41(0,"td",37),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",e.l_i(2,b0,"Succeeded"===(null==t||null==t.result?null:t.result.name),"Failed"===(null==t||null==t.result?null:t.result.name))),e.R7$(),e.SpI(" ",null==t||null==t.result?null:t.result.name," ")}}function E0(a,r){1&a&&(e.j41(0,"th",29),e.EFF(1,"Status"),e.k0s())}function P0(a,r){if(1&a&&(e.j41(0,"td",38),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.status," ")}}function A0(a,r){1&a&&e.nrm(0,"tr",39)}function R0(a,r){1&a&&e.nrm(0,"tr",40)}function O0(a,r){1&a&&(e.j41(0,"div",47)(1,"i",48),e.EFF(2,"first_page"),e.k0s()())}function j0(a,r){1&a&&(e.j41(0,"div",47)(1,"i",48),e.EFF(2,"keyboard_arrow_left"),e.k0s()())}function $0(a,r){1&a&&(e.j41(0,"div",47)(1,"i",48),e.EFF(2,"keyboard_arrow_right"),e.k0s()())}function M0(a,r){1&a&&(e.j41(0,"div",47)(1,"i",48),e.EFF(2,"last_page"),e.k0s()())}function N0(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",41)(1,"ngb-pagination",42),e.bIt("pageChange",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.handlePage(n))}),e.DNE(2,O0,3,0,"ng-template",43)(3,j0,3,0,"ng-template",44)(4,$0,3,0,"ng-template",45)(5,M0,3,0,"ng-template",46),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("collectionSize",t.actionCount)("pageSize",t.pageSize)("boundaryLinks",!0)("maxSize",10)}}function V0(a,r){if(1&a){const t=e.RV6();e.j41(0,"app-admin-action-details",55),e.bIt("close",function(){e.eBV(t);const n=e.XpG().$implicit;return e.Njj(n.dismiss("Close"))}),e.k0s()}if(2&a){const t=e.XpG(2);e.Y8G("permission",t.permission)("message",t.selectedAction)}}function G0(a,r){if(1&a&&e.nrm(0,"app-raw-json",57),2&a){const t=e.XpG(3);e.Y8G("data",t.selectedAction.info)}}function B0(a,r){1&a&&(e.j41(0,"mat-tab",56),e.DNE(1,G0,1,1,"ng-template",51),e.k0s())}function U0(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",49)(1,"mat-tab-group")(2,"mat-tab",50),e.DNE(3,V0,1,2,"ng-template",51),e.k0s(),e.DNE(4,B0,2,0,"mat-tab",52),e.k0s(),e.j41(5,"button",53),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(6,"span",54),e.EFF(7,"\xd7"),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(4),e.Y8G("ngIf",t.selectedAction.info)}}let L0=(()=>{class a{constructor(t,i,n,o){this.modalService=t,this.auth=i,this.adminService=n,this.router=o,this.filterFields=["createdDateAction","userActionType","user"],this.displayedColumns=["details","date","userId","actionType","result","status"],this.inProgress=!1,this.permission=0,this.actionCount=0,this.actions=[],this.pageSize=50,this.pageIndex=0,this.sortedField="date",this.sortedDesc=!0,this.filter=new G({}),this.adminAdditionalSettings={},this.subscriptions=new R.yU,this.permission=this.auth.isPermittedObjectCode(c.G4.SystemUsers)}ngOnInit(){this.loadCommonSettings(),this.loadUserActions()}ngOnDestroy(){this.subscriptions.unsubscribe()}ngAfterViewInit(){this.subscriptions.add(this.sort.sortChange.subscribe(()=>{this.sortedDesc="desc"===this.sort.direction,this.sortedField=this.sort.active,this.loadUserActions()}))}handleFilterApplied(t){this.filter=t,this.loadUserActions()}handlePage(t){this.pageIndex=t-1,this.loadUserActions()}showDetails(t,i){this.selectedAction=t,this.modalService.open(i,{backdrop:"static",windowClass:"modalCusSty"})}loadCommonSettings(){const t=this.auth.getLocalSettingsCommon();t&&(this.adminAdditionalSettings="string"==typeof t.adminAdditionalSettings?JSON.parse(t.adminAdditionalSettings):t.adminAdditionalSettings,this.adminAdditionalSettings?.tabs?.actions?.filterFields&&(this.filterFields=this.adminAdditionalSettings.tabs.actions.filterFields))}loadUserActions(){this.inProgress=!0;const t=this.adminService.getUserActions(this.pageIndex,this.pageSize,this.sortedField,this.sortedDesc,this.filter).pipe((0,P.s)(1));this.subscriptions.add(t.subscribe(({list:i,count:n})=>{this.actions=i,this.actionCount=n,this.inProgress=!1},()=>{this.inProgress=!1,""===this.auth.token&&this.router.navigateByUrl("/"),this.actions=[new Ce.Ff({userActionId:"user_action_id_1",userId:"user_id_1",objectId:"object_id_1",actionType:c.KM.CreateUser,linkedIds:["linked_id_15","linked_id_23","linked_id_48"],info:"Action info",result:c.pQ.Succeeded,status:"User status 1",date:new Date}),new Ce.Ff({userActionId:"user_action_id_2",userId:"user_id_1",objectId:"object_id_2",actionType:c.KM.AddBlackCountry,linkedIds:["linked_id_7","linked_id_86","linked_id_113"],info:"Action info",result:c.pQ.Failed,status:"User status 2",date:new Date})]}))}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(_.Bq),e.rXU(I.u),e.rXU(E),e.rXU(w.Ix))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-user-actions"]],viewQuery:function(i,n){if(1&i&&e.GBs($.B4,5),2&i){let o;e.mGM(o=e.lsd())&&(n.sort=o.first)}},decls:33,vars:14,consts:[["details_content",""],[3,"title","items","active_item"],[1,"row","row-sm"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],[3,"filter","filterType","fields","filterData"],["color","accent","mode","indeterminate",4,"ngIf"],[1,"data-table"],["matSort","","matSortDirection","desc","matSortDisableClear","",3,"matSortActive","dataSource"],["matColumnDef","details","sticky",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","action-list-selector-column",4,"matCellDef"],["matColumnDef","date"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","class","action-list-data-date",4,"matCellDef"],["matColumnDef","userId"],["mat-cell","","class","action-list-data-user",4,"matCellDef"],["matColumnDef","actionType"],["mat-cell","","class","action-list-data-action-type",4,"matCellDef"],["matColumnDef","result"],["mat-cell","","class","action-list-data-result",3,"ngClass",4,"matCellDef"],["matColumnDef","status"],["mat-cell","","class","action-list-data-status",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","card card-body border shadow-none",4,"ngIf"],["color","accent","mode","indeterminate"],["mat-header-cell",""],["mat-cell","",1,"action-list-selector-column"],["mat-icon-button","","matTooltip","Action details","matTooltipClass","info-tooltip",1,"row-button",3,"click"],[1,"material-icons",2,"font-size","20px"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"action-list-data-date"],["mat-cell","",1,"action-list-data-user"],["mat-cell","",1,"action-list-data-action-type"],["mat-cell","",1,"action-list-data-result",3,"ngClass"],["mat-cell","",1,"action-list-data-status"],["mat-header-row",""],["mat-row",""],[1,"card","card-body","border","shadow-none"],["aria-label","Table pagination",1,"d-flex","justify-content-center",3,"pageChange","collectionSize","pageSize","boundaryLinks","maxSize"],["ngbPaginationFirst",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationLast",""],[1,"ng-pagination-nav-icons"],[1,"material-icons"],[1,"modal-body","tabs"],["label","Action Details"],["matTabContent",""],["label","Action Info",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[3,"close","permission","message"],["label","Action Info"],[3,"data"]],template:function(i,n){if(1&i){const o=e.RV6();e.nrm(0,"app-admin-page-header",1),e.j41(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"app-admin-filter",7),e.bIt("filter",function(l){return e.eBV(o),e.Njj(n.handleFilterApplied(l))}),e.k0s(),e.DNE(7,v0,1,0,"mat-progress-bar",8),e.j41(8,"div",9)(9,"mat-table",10),e.qex(10,11),e.DNE(11,y0,1,0,"th",12)(12,C0,4,2,"td",13),e.bVm(),e.qex(13,14),e.DNE(14,k0,2,0,"th",15)(15,F0,2,1,"td",16),e.bVm(),e.qex(16,17),e.DNE(17,T0,2,0,"th",15)(18,x0,2,1,"td",18),e.bVm(),e.qex(19,19),e.DNE(20,w0,2,0,"th",12)(21,S0,2,1,"td",20),e.bVm(),e.qex(22,21),e.DNE(23,D0,2,0,"th",12)(24,I0,2,5,"td",22),e.bVm(),e.qex(25,23),e.DNE(26,E0,2,0,"th",12)(27,P0,2,1,"td",24),e.bVm(),e.DNE(28,A0,1,0,"tr",25)(29,R0,1,0,"tr",26),e.k0s()(),e.DNE(30,N0,6,4,"div",27)(31,U0,8,1,"ng-template",null,0,e.C5r),e.k0s()()()()()}2&i&&(e.Y8G("title","User actions")("items",e.lJ4(13,_0))("active_item","User actions"),e.R7$(6),e.Y8G("filterType","actions")("fields",n.filterFields)("filterData",n.filter),e.R7$(),e.Y8G("ngIf",n.inProgress),e.R7$(2),e.Y8G("matSortActive",n.sortedField)("dataSource",n.actions),e.R7$(19),e.Y8G("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),e.R7$(),e.Y8G("matRowDefColumns",n.displayedColumns),e.R7$(),e.Y8G("ngIf",n.actionCount>n.pageSize))},dependencies:[h.YU,h.bT,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,$.B4,$.aE,_.s5,_.gA,_.ug,_.PB,_.hO,ie.oV,ve.$L,ve.mq,ve.T8,It,K.iY,z.HM,X,Te,g0],styles:[".datatable-body{height:600px!important;overflow:scroll;width:100%}  .dataTable-bottom{position:absolute;left:0;right:0;bottom:0;background:#fff!important}  table th,   table td,   .ngx-datatable.material .datatable-header .datatable-header-cell,   .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{font-size:.876rem!important}@media (max-width: 567.9px){  .ngx-datatable .datatable-footer .datatable-footer-inner{flex-wrap:wrap;height:auto!important}  .ngx-datatable .datatable-footer .datatable-pager{text-align:center!important}}  .dataTable-wrapper.no-footer .dataTable-container{border-bottom:none!important}  .dataTable-selector{border-radius:.25rem}  app-data-table input{border-radius:25px;border:1px solid rgba(0,0,0,.1)}  app-data-table .custom-select{border:1px solid rgba(0,0,0,.24)!important;border-radius:.25rem}.table-responsive[_ngcontent-%COMP%]{overflow:visible}  .dark-theme input::placeholder{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material{background-color:#2a2e3f!important}  .dark-theme app-data-tables .dataTable-bottom{background-color:#2a2e3f!important}  .dark-theme app-data-tables .dataTable-selector{background-color:#2a2e3f;border-color:#272c49;color:#fff;outline:none}  .dark-theme app-data-tables input{color:#eee!important;background-color:#2a2e3f!important;border-color:#262b48;border-radius:25px;height:27px}  .dark-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .dark-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#2a2e3f;color:#fff}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid rgb(39,43,74)!important;color:#fff!important;background:#2a2e3f!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #32394e!important}  .dark-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .dark-theme app-data-tables .dataTable-pagination li:hover a,   .dark-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .dark-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .dark-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .dark-theme app-data-tables .mat-mdc-table{background:#2a2e3f!important}  .dark-theme app-data-tables .mat-mdc-header-cell{color:#fff!important}  .dark-theme app-data-tables .mat-mdc-cell,   .dark-theme app-data-tables .mat-mdc-footer-cell{color:#eee!important}  .dark-theme app-data-tables mat-row,   .dark-theme app-data-tables mat-header-row,   .dark-theme app-data-tables mat-footer-row,   .dark-theme app-data-tables th.mat-mdc-header-cell,   .dark-theme app-data-tables td.mat-mdc-cell,   .dark-theme app-data-tables td.mat-mdc-footer-cell{border-bottom-color:#ffffff1f!important}  .dark-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .dark-theme app-data-tables .mat-mdc-paginator,   .dark-theme app-data-tables .mat-mdc-paginator-page-size .mat-mdc-select-trigger{color:#ffffff8a!important}  .dark-theme app-data-tables .mat-mdc-paginator{background:#2a2e3f}  .dark-theme app-data-tables .mat-mdc-select-value{color:#fff7f7de}  .dark-theme app-data-tables .mat-mdc-select-arrow{color:#ffffffba}  .dark-theme .mat-mdc-select-panel{background:#30304d}  .dark-theme .mat-mdc-option{color:#ccc}  .dark-theme .mat-primary .mat-mdc-option.mat-selected:not(.mat-option-disabled){color:#fff}  .dark-theme .mat-mdc-option:hover:not(.mat-option-disabled),   .dark-theme .mat-option:focus:not(.mat-option-disabled){background:#2a2a44}  .dark-theme .mat-mdc-select-panel .mat-mdc-option.mat-selected:not(.mat-mdc-option-multiple){background:#0000001f}  .dark-theme .table-hover>tbody>tr:hover>*{color:#fff}  .dark-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme input::placeholder{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material{background-color:#2da28f!important}  .transparent-theme app-data-tables .dataTable-bottom{background-color:#2da28f!important}  .transparent-theme app-data-tables .dataTable-selector{background-color:#2da28f;border-color:#4cb0a0;color:#fff;outline:none}  .transparent-theme app-data-tables input{color:#eee!important;background-color:#2da28f!important;border-color:#4cb0a0;border-radius:25px;height:27px}  .transparent-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .transparent-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#2da28f;color:#fff}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid #4cb0a0!important;color:#fff!important;background:#2da28f!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #4cb0a0!important}  .transparent-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .transparent-theme app-data-tables .dataTable-pagination li:hover a,   .transparent-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .transparent-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .transparent-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .transparent-theme app-data-tables .mat-mdc-table{background:#2da28f!important}  .transparent-theme app-data-tables .mat-mdc-header-cell{color:#fff!important}  .transparent-theme app-data-tables .mat-mdc-cell,   .transparent-theme app-data-tables .mat-mdc-footer-cell{color:#eee!important}  .transparent-theme app-data-tables mat-row,   .transparent-theme app-data-tables mat-header-row,   .transparent-theme app-data-tables mat-footer-row,   .transparent-theme app-data-tables th.mat-mdc-header-cell,   .transparent-theme app-data-tables td.mat-mdc-cell,   .transparent-theme app-data-tables td.mat-mdc-footer-cell{border-bottom-color:#ffffff1f!important}  .transparent-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .transparent-theme app-data-tables .mat-mdc-paginator,   .transparent-theme app-data-tables .mat-mdc-paginator-page-size .mat-mdc-select-trigger{color:#ffffff8a!important}  .transparent-theme app-data-tables .mat-mdc-paginator{background:#2da28f}  .transparent-theme app-data-tables .mat-mdc-select-value{color:#fff7f7de}  .transparent-theme app-data-tables .mat-mdc-select-arrow{color:#ffffffba}  .transparent-theme .mat-mdc-select-panel{background:#30304d}  .transparent-theme .mat-mdc-option{color:#ccc}  .transparent-theme .mat-primary .mat-mdc-option.mat-selected:not(.mat-option-disabled){color:#fff}  .transparent-theme .mat-mdc-option:hover:not(.mat-option-disabled),   .transparent-theme .mat-option:focus:not(.mat-option-disabled){background:#2a2a44}  .transparent-theme .mat-mdc-select-panel .mat-mdc-option.mat-selected:not(.mat-mdc-option-multiple){background:#0000001f}  .transparent-theme .table-hover>tbody>tr:hover>*{color:#fff}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{background-color:#248272!important}.data-table[_ngcontent-%COMP%]{flex:1 1 0;overflow:auto;margin-top:5px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]{display:table;min-width:100%}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:32px;line-height:32px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   tr.mat-mdc-header-row[_ngcontent-%COMP%]{height:40px;line-height:40px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]{padding:0 4px;white-space:nowrap;font-size:16px;font-weight:400;color:#0000008a;font-family:Roboto,sans-serif}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell.action[_ngcontent-%COMP%]{width:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]{padding:1px 4px 0;line-height:29px;white-space:nowrap}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%]{width:16px;height:16px;font-size:16px;vertical-align:middle;position:relative;top:-1px}.data-table[_ngcontent-%COMP%]   .row-button[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0;position:relative;top:5px;padding:1px}.data-table[_ngcontent-%COMP%]   .row-button[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:16px;height:16px;width:16px;line-height:16px}.data-table[_ngcontent-%COMP%]   .row-icon[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0;position:relative;top:5px}mat-mdc-paginator[_ngcontent-%COMP%]{flex:0 0 auto}table[_ngcontent-%COMP%]{width:100%}.table-button-container[_ngcontent-%COMP%]{padding-bottom:16px}.action-list-selector-column[_ngcontent-%COMP%]{flex:0 0 3%;width:3%;margin:0;padding:0 8px}.action-list-data-date[_ngcontent-%COMP%]{flex:0 0 12%;width:12%;min-width:2em}.action-list-data-user[_ngcontent-%COMP%], .action-list-data-action-type[_ngcontent-%COMP%]{flex:0 0 20%;width:20%;min-width:5em}.action-list-data-result[_ngcontent-%COMP%]{flex:0 0 10%;width:10%;min-width:4em}.action-list-data-status[_ngcontent-%COMP%]{flex:0 0 20%;width:20%;min-width:4em}.ng-pagination-nav-icons[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:12px}  .mat-mdc-tab.mdc-tab{height:40px!important}.tabs[_ngcontent-%COMP%]{padding:1rem 1.2rem}.close[_ngcontent-%COMP%]{position:absolute;top:5px;right:10px}"]})}return a})();var Fn=f(8652);const ha=a=>({"has-error":a});function Y0(a,r){1&a&&(e.j41(0,"div",6)(1,"div",22)(2,"div",23)(3,"div",24),e.EFF(4," Full amount "),e.k0s()(),e.j41(5,"div",23)(6,"div",25),e.nrm(7,"input",26),e.k0s()()()())}function q0(a,r){if(1&a&&(e.j41(0,"div",30)(1,"small"),e.EFF(2),e.k0s()()),2&a){const t=e.XpG(2);e.R7$(2),e.SpI(" ",t.amountToSpendTitle," is required ")}}function W0(a,r){1&a&&(e.j41(0,"div",30)(1,"small"),e.EFF(2," Incorrect number value "),e.k0s()())}function X0(a,r){if(1&a&&(e.j41(0,"div",27),e.nrm(1,"input",28),e.DNE(2,q0,3,1,"div",29)(3,W0,3,0,"div",29),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.Y8G("ngClass",e.eq3(3,ha,!t.form.controls.amountToSpend.valid)),e.R7$(),e.Y8G("ngIf",(t.form.controls.amountToSpend.touched||t.submitted)&&(null==t.form.controls.amountToSpend.errors?null:t.form.controls.amountToSpend.errors.required)),e.R7$(),e.Y8G("ngIf",null==t.form.controls.amountToSpend.errors?null:t.form.controls.amountToSpend.errors.pattern)}}function z0(a,r){if(1&a&&(e.j41(0,"div",27),e.nrm(1,"input",32),e.k0s()),2&a){const t=e.XpG(2);e.R7$(),e.Y8G("ngClass",e.eq3(1,ha,!t.form.controls.amountToReceive.valid))}}function H0(a,r){if(1&a&&(e.j41(0,"div",6)(1,"div",1)(2,"div",12)(3,"label",7),e.EFF(4," Amount To Receive "),e.j41(5,"span",8),e.EFF(6,"*"),e.k0s()(),e.j41(7,"div",1),e.DNE(8,z0,2,3,"div",13),e.j41(9,"div",14),e.nrm(10,"ng-select",31),e.k0s()()()()()),2&a){const t=e.XpG();e.R7$(8),e.Y8G("ngIf",!0!==(null==t.fullAmountField?null:t.fullAmountField.value)),e.R7$(2),e.Y8G("items",t.currenciesToReceive)("clearable",!1)("clearOnBackspace",!1)}}function K0(a,r){if(1&a){const t=e.RV6();e.j41(0,"a",35),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.updateRate())}),e.EFF(1," Set current "),e.k0s()}}function J0(a,r){1&a&&(e.j41(0,"div",30)(1,"small"),e.EFF(2," Rate is required "),e.k0s()())}function Q0(a,r){1&a&&(e.j41(0,"div",30)(1,"small"),e.EFF(2," Incorrect number value "),e.k0s()())}function Z0(a,r){if(1&a&&(e.j41(0,"div",6)(1,"label",7),e.EFF(2," Exchange rate "),e.j41(3,"span",8),e.EFF(4,"*"),e.k0s(),e.DNE(5,K0,2,0,"a",33),e.k0s(),e.nrm(6,"input",34),e.DNE(7,J0,3,0,"div",29)(8,Q0,3,0,"div",29),e.k0s()),2&a){const t=e.XpG();e.R7$(5),e.Y8G("ngIf",t.showSetCurrentRate),e.R7$(),e.Y8G("ngClass",e.eq3(4,ha,!t.form.controls.rate.valid)),e.R7$(),e.Y8G("ngIf",(t.form.controls.rate.touched||t.submitted)&&(null==t.form.controls.rate.errors?null:t.form.controls.rate.errors.required)),e.R7$(),e.Y8G("ngIf",null==t.form.controls.rate.errors?null:t.form.controls.rate.errors.pattern)}}function ev(a,r){if(1&a&&(e.j41(0,"div",6)(1,"label",7),e.EFF(2," Payment providers "),e.k0s(),e.nrm(3,"ng-select",36),e.k0s()),2&a){const t=e.XpG();e.R7$(3),e.Y8G("items",t.filteredProviders)("closeOnSelect",!0)}}function tv(a,r){1&a&&e.nrm(0,"span",37)}function av(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",38),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onClose())}),e.EFF(1," Close "),e.k0s()}}function nv(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",39)(1,"h5",40),e.EFF(2,"Update transaction"),e.k0s(),e.j41(3,"button",41),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",42),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",43)(7,"h4",44),e.EFF(8," Are you sure you want to create a transaction? "),e.k0s(),e.j41(9,"div",45)(10,"button",46),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onCreateUserTransactionConfirm(0))}),e.EFF(11," No "),e.k0s(),e.j41(12,"button",47),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onCreateUserTransactionConfirm(1))}),e.EFF(13," Yes "),e.k0s()()()}}const iv=[c.D_.Buy,c.D_.Sell,c.D_.Deposit,c.D_.Withdrawal];let Tn=(()=>{class a{set users(t){t&&(this.usersPreset=t.map(i=>({id:i.id,title:i.fullName?`${i.fullName} (${i.email})`:i.email})),this.form.get("users")?.setValue(t.map(i=>i.id)))}get transactionTypeField(){return this.form.get("transactionType")}get currencyToSpendField(){return this.form.get("currencyToSpend")}get currencyToReceiveField(){return this.form.get("currencyToReceive")}get rateField(){return this.form.get("rate")}get amountToSpendField(){return this.form.get("amountToSpend")}get amountToReceiveField(){return this.form.get("amountToReceive")}get fullAmountField(){return this.form.get("fullAmount")}get instrumentTypeField(){return this.form.get("instrument")}get usersField(){return this.form.get("users")}constructor(t,i,n,o,s,l,m){this.formBuilder=t,this.router=i,this.auth=n,this.modalService=o,this.exchangeRate=s,this.commonService=l,this.adminService=m,this.permission=0,this.save=new e.bkB,this.close=new e.bkB,this.subscriptions=new R.yU,this.transactionTypes=F.ln.filter(u=>iv.includes(u.id)),this.instrumentTypes=F.m0.filter(u=>u.id===c.iw.FiatVault),this.PAYMENT_INSTRUMENT=c.iw,this.submitted=!1,this.saveInProgress=!1,this.errorMessage="",this.data=void 0,this.transactionType=c.D_.System,this.currenciesToSpend=[],this.currenciesToReceive=[],this.currentRate=0,this.amountToSpendTitle=`Amount To ${c.D_.Buy}`,this.currencyOptions=[],this.usersOptions$=(0,S.of)([]),this.usersSearchInput$=new y.B,this.isUsersLoading=!1,this.minUsersLengthTerm=1,this.usersPreset=[],this.pSpendAutoUpdated=!1,this.pReceiveAutoUpdated=!1,this.pAmountToSpend=0,this.pAmountToReceive=0,this.filteredProviders=[],this.providers=[],this.showPaymentProvider=!1,this.form=this.formBuilder.group({currencyToSpend:[null,{validators:[d.k0.required],updateOn:"change"}],currencyToReceive:[null,{validators:[d.k0.required],updateOn:"change"}],amountToSpend:[void 0,{validators:[d.k0.required,d.k0.pattern(de.n)],updateOn:"change"}],amountToReceive:[void 0,{validators:[d.k0.required,d.k0.pattern(de.n)],updateOn:"change"}],rate:[0,{validators:[d.k0.required,d.k0.pattern(de.n)],updateOn:"change"}],transactionType:[null,{validators:[d.k0.required],updateOn:"change"}],users:[[],{validators:[d.k0.required],updateOn:"change"}],fullAmount:[!1],instrument:[c.iw.FiatVault,{validators:[d.k0.required],updateOn:"change"}],provider:[void 0]}),this.showSetCurrentRate=pe.Li.create_transaction_update_rate}ngOnInit(){this.loadCurrencies(),this.usersSearch(),this.getPaymentProviders(),this.exchangeRate.register(this.onExchangeRateUpdated.bind(this)),this.subscriptions.add(this.form.get("currencyToSpend")?.valueChanges.subscribe(()=>{this.startExchangeRate()})),this.subscriptions.add(this.form.get("currencyToReceive")?.valueChanges.subscribe(()=>{this.startExchangeRate()})),this.subscriptions.add(this.transactionTypeField?.valueChanges.pipe((0,Y.F)((t,i)=>t===i)).subscribe(t=>this.onTransactionTypeUpdate(t))),this.subscriptions.add(this.amountToSpendField?.valueChanges.pipe((0,Y.F)((t,i)=>t===i)).subscribe(t=>this.onAmountToSpendUpdate(t))),this.subscriptions.add(this.rateField?.valueChanges.pipe((0,Y.F)((t,i)=>t===i)).subscribe(t=>this.onAmountToSpendUpdate(t))),this.subscriptions.add(this.amountToReceiveField?.valueChanges.pipe((0,Y.F)((t,i)=>t===i)).subscribe(t=>this.onAmountToReceiveUpdate(t))),this.subscriptions.add(this.instrumentTypeField?.valueChanges.pipe((0,Y.F)((t,i)=>t===i)).subscribe(t=>this.onFilterPaymentProviders(t))),this.subscriptions.add(this.fullAmountField?.valueChanges.pipe((0,Y.F)((t,i)=>t===i)).subscribe(t=>this.onFullAmount(t)))}ngOnDestroy(){this.exchangeRate.stop(),this.subscriptions.unsubscribe()}onExchangeRateUpdated(t,i,n,o){t&&(this.currentRate=t.depositRate)}getPaymentProviders(){this.subscriptions.add(this.adminService.getProviders()?.valueChanges.subscribe(({data:t})=>{const i=t.getPaymentProviders;this.providers=i?.map(o=>new F.LP(o));const n=this.form.get("instrument")?.value;this.onFilterPaymentProviders(n)}))}loadCurrencies(){this.subscriptions.add(this.commonService.getSettingsCurrency()?.valueChanges.pipe((0,P.s)(1)).subscribe({next:({data:t})=>{const i=t.getSettingsCurrency;this.currencyOptions=i.settingsCurrency?.list?.map(n=>new F.xD(n))||[]},error:t=>this.errorMessage=t}))}onFullAmount(t){t&&(this.amountToSpendField?.setValue(0),this.amountToReceiveField?.setValue(0))}onFilterPaymentProviders(t){t?.length>0&&!t?.includes(c.iw.WireTransfer)?(this.filteredProviders=(0,ae.M)([t],this.providers),this.showPaymentProvider=this.filteredProviders.length>0,this.form.get("provider")?.setValue(this.providers.length>0?(0,ae.VY)(this.form.get("provider")?.value??[],this.filteredProviders):[])):(this.form.get("instrument")?.setValue(void 0),this.form.get("provider")?.setValue([]))}onTransactionTypeUpdate(t){this.transactionType=t,t===c.D_.Buy||t===c.D_.Sell?(this.onCurrenciesUpdate(t),this.setAmountToSpend(this.pAmountToSpend)):(this.filteredProviders=this.filteredProviders.filter(i=>"FiatVault"===i.id),this.currenciesToSpend=this.currencyOptions.filter(i=>!0===i.fiat)),this.amountToSpendTitle=`Amount To ${t}`}onCurrenciesUpdate(t){t===c.D_.Buy?(this.currenciesToReceive=this.currencyOptions.filter(i=>!i.fiat),this.currenciesToSpend=this.currencyOptions.filter(i=>i.fiat)):t===c.D_.Sell&&(this.currenciesToReceive=this.currencyOptions.filter(i=>i.fiat),this.currenciesToSpend=this.currencyOptions.filter(i=>!i.fiat)),this.currencyToSpendField?.setValue(this.currenciesToSpend[0]?.symbol),this.currencyToReceiveField?.setValue(this.currenciesToReceive[0]?.symbol)}setAmountToSpend(t){let i=0;const n=this.rateField?.value,o=this.amountToSpendField?.value;n&&o&&(this.transactionTypeField?.value===c.D_.Buy?i=o/n:this.transactionTypeField?.value===c.D_.Sell&&(i=o*n)),this.pReceiveAutoUpdated=!0,this.pAmountToSpend=t,this.amountToReceiveField?.setValue(i)}onAmountToSpendUpdate(t){!this.pSpendAutoUpdated&&this.pAmountToSpend!==t&&this.setAmountToSpend(t),this.pSpendAutoUpdated=!1}onAmountToReceiveUpdate(t){if(!this.pReceiveAutoUpdated&&this.pAmountToReceive!==t){let i=0;const n=this.rateField?.value,o=this.amountToReceiveField?.value;n&&o&&(this.transactionTypeField?.value===c.D_.Buy?i=o*n:this.transactionTypeField?.value===c.D_.Sell&&(i=o/n)),this.pSpendAutoUpdated=!0,this.pAmountToReceive=t,this.amountToSpendField?.setValue(i)}this.pReceiveAutoUpdated=!1}usersSearch(){let t=[];this.usersPreset&&0!==this.usersPreset.length&&(t=this.usersPreset),this.usersOptions$=(0,ke.x)((0,S.of)(t),this.usersSearchInput$.pipe((0,W.p)(i=>null!==i&&i.length>=this.minUsersLengthTerm),(0,q.B)(300),(0,Y.F)(),(0,D.M)(()=>this.isUsersLoading=!0),(0,J.n)(i=>(this.isUsersLoading=!1,this.adminService.getUsers([],0,100,"email",!1,new G({search:i})).pipe((0,b.T)(n=>n.list.map(o=>({id:o.id,title:""!==o.fullName?`${o.fullName} (${o.email})`:o.email}))))))))}startExchangeRate(){if(0===this.currenciesToSpend.length)return;const t=this.data?.currencyToSpend,n=this.currenciesToSpend.find(l=>l.symbol===t)?.fiat??!1,o=this.form.get("currencyToSpend")?.value,s=this.form.get("currencyToReceive")?.value;n?this.exchangeRate.setCurrency(o,s,c.D_.Buy):this.exchangeRate.setCurrency(s,o,c.D_.Sell),this.exchangeRate.update()}getTransactionToCreate(){return{type:this.form.get("transactionType")?.value,source:c.km.Wallet,currencyToSpend:this.form.get("currencyToSpend")?.value,currencyToReceive:this.form.get("currencyToReceive")?.value,amountToSpend:parseFloat(this.form.get("amountToSpend")?.value??"0"),instrument:this.form.get("instrument")?.value,paymentProvider:this.form.get("provider")?.value}}updateRate(){this.currentRate&&this.form.get("rate")?.setValue(this.currentRate)}setParamsIfRequired(){(this.transactionType===c.D_.Deposit||this.transactionType===c.D_.Withdrawal)&&(this.form.get("currencyToReceive")?.setValue(this.currencyToSpendField?.value),this.form.get("amountToReceive")?.setValue(this.amountToSpendField?.value))}onSubmit(t){this.submitted=!0,this.setParamsIfRequired(),this.form.valid&&(this.createDialog=this.modalService.open(t,{backdrop:"static",windowClass:"modalCusSty"}))}createUserTransaction(){const t=this.usersField?.value,i=this.rateField?.value;if(0!==t?.length)for(const n of t){const o=this.getTransactionToCreate();this.saveInProgress=!0;const s=this.adminService.createUserTransaction(o,n,parseFloat(i));this.subscriptions.add(s.subscribe({next:()=>{this.saveInProgress=!1,this.save.emit()},error:l=>{this.errorMessage=l,this.saveInProgress=!1,""===this.auth.token&&this.router.navigateByUrl("/")}}))}this.close.emit()}onClose(){this.close.emit()}onCreateUserTransactionConfirm(t){this.createDialog&&this.createDialog.close(""),1===t&&this.createUserTransaction()}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(d.ze),e.rXU(w.Ix),e.rXU(I.u),e.rXU(_.Bq),e.rXU(Fn.J),e.rXU(xe.X),e.rXU(E))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-transaction-create"]],inputs:{permission:"permission",users:"users"},outputs:{save:"save",close:"close"},decls:46,vars:25,consts:[["confirm_content",""],[1,"row"],[1,"col-md-12","col-lg-12","col-xl-12","mx-auto","d-block"],["novalidate","",3,"ngSubmit","formGroup"],[1,"card","card-body","pd-20","pd-md-40","border","shadow-none"],[1,"card-title","mg-b-20"],[1,"form-group"],[1,"main-content-label","tx-11","tx-medium","tx-gray-600"],[1,"main-content-label","tx-11","tx-medium","tx-danger"],["bindLabel","name","bindValue","id","formControlName","transactionType","required","",3,"items","clearable","clearOnBackspace"],["bindLabel","title","bindValue","id","notFoundText","No users found","formControlName","users","typeToSearchText","Type email or user name","placeholder","Start typing to search users",3,"items","minTermLength","loading","multiple","typeahead"],["class","form-group",4,"ngIf"],[1,"col-sm-12"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-5","mg-t-10","mg-sm-t-0"],["bindLabel","display","bindValue","symbol","formControlName","currencyToSpend","required","",3,"items","clearable","clearOnBackspace"],["bindLabel","name","bindValue","id","formControlName","instrument","required","",3,"items","clearable","clearOnBackspace"],[2,"display","flex","justify-content","space-between"],[2,"display","flex","justify-content","flex-end"],[1,"btn","btn-primary","pd-x-30","me-2","mg-t-5"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["class","btn btn-outline-primary pd-x-30 mg-t-5","type","button",3,"click",4,"ngIf"],[1,"__tool-bar-double-sided-data-box-top"],[1,"__tool-bar-block"],[1,"__tool-bar-label"],[1,"__toggle-switch"],["type","checkbox","id","toggle-button","formControlName","fullAmount",1,"__toggle-switch-slider"],[1,"col-sm-7"],["type","text","formControlName","amountToSpend","required","",1,"form-control",3,"ngClass"],["class","tx-danger",4,"ngIf"],[1,"tx-danger"],["bindLabel","display","bindValue","symbol","formControlName","currencyToReceive","required","",3,"items","clearable","clearOnBackspace"],["type","text","formControlName","amountToReceive","required","",1,"form-control",3,"ngClass"],["class","tx-12 mg-l-10",3,"routerLink","click",4,"ngIf"],["type","text","formControlName","rate","required","",1,"form-control",3,"ngClass"],[1,"tx-12","mg-l-10",3,"click","routerLink"],["bindLabel","name","bindValue","id","formControlName","provider","placeholder","Select provider",3,"items","closeOnSelect"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["type","button",1,"btn","btn-outline-primary","pd-x-30","mg-t-5",3,"click"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[2,"text-align","center"],[2,"display","flex","flex-direction","row","justify-content","center","align-items","center"],["type","button",1,"btn","btn-outline-secondary","pd-x-30","me-2","mg-t-5",3,"click"],[1,"btn","btn-primary","pd-x-30","mg-t-5",3,"click"]],template:function(i,n){if(1&i){const o=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"form",3),e.bIt("ngSubmit",function(){e.eBV(o);const l=e.sdS(45);return e.Njj(n.onSubmit(l))}),e.j41(3,"div",4)(4,"h5",5),e.EFF(5," Payment Data "),e.k0s(),e.j41(6,"div",6)(7,"label",7),e.EFF(8," Transaction type "),e.j41(9,"span",8),e.EFF(10,"*"),e.k0s()(),e.nrm(11,"ng-select",9),e.k0s(),e.j41(12,"div",6)(13,"label",7),e.EFF(14," Customer search "),e.k0s(),e.nrm(15,"ng-select",10),e.nI1(16,"async"),e.k0s(),e.DNE(17,Y0,8,0,"div",11),e.j41(18,"div",6)(19,"div",1)(20,"div",12)(21,"label",7),e.EFF(22),e.j41(23,"span",8),e.EFF(24,"*"),e.k0s()(),e.j41(25,"div",1),e.DNE(26,X0,4,5,"div",13),e.j41(27,"div",14),e.nrm(28,"ng-select",15),e.k0s()()()()(),e.DNE(29,H0,11,4,"div",11)(30,Z0,9,6,"div",11),e.j41(31,"div",6)(32,"label",7),e.EFF(33," Payment Methods "),e.j41(34,"span",8),e.EFF(35,"*"),e.k0s()(),e.nrm(36,"ng-select",16),e.k0s(),e.DNE(37,ev,4,2,"div",11),e.k0s(),e.j41(38,"div",17)(39,"div",18)(40,"button",19),e.DNE(41,tv,1,0,"span",20),e.EFF(42," Save "),e.k0s(),e.DNE(43,av,2,0,"button",21),e.k0s()()()()(),e.DNE(44,nv,14,0,"ng-template",null,0,e.C5r)}2&i&&(e.R7$(2),e.Y8G("formGroup",n.form),e.R7$(9),e.Y8G("items",n.transactionTypes)("clearable",!1)("clearOnBackspace",!1),e.R7$(4),e.Y8G("items",e.bMT(16,23,n.usersOptions$))("minTermLength",n.minUsersLengthTerm)("loading",n.isUsersLoading)("multiple",!0)("typeahead",n.usersSearchInput$),e.R7$(2),e.Y8G("ngIf","Deposit"!==n.transactionType&&"Withdrawal"!==n.transactionType),e.R7$(5),e.SpI(" ",n.amountToSpendTitle," "),e.R7$(4),e.Y8G("ngIf",!0!==(null==n.fullAmountField?null:n.fullAmountField.value)),e.R7$(2),e.Y8G("items",n.currenciesToSpend)("clearable",!1)("clearOnBackspace",!1),e.R7$(),e.Y8G("ngIf","Deposit"!==n.transactionType&&"Withdrawal"!==n.transactionType),e.R7$(),e.Y8G("ngIf","Deposit"!==n.transactionType&&"Withdrawal"!==n.transactionType),e.R7$(6),e.Y8G("items",n.instrumentTypes)("clearable",!1)("clearOnBackspace",!1),e.R7$(),e.Y8G("ngIf",n.showPaymentProvider&&(null==n.form.controls.instrument?null:n.form.controls.instrument.value)!==n.PAYMENT_INSTRUMENT.WireTransfer),e.R7$(4),e.Y8G("ngIf",n.saveInProgress),e.R7$(2),e.Y8G("ngIf",n.permission>1))},dependencies:[h.YU,h.bT,d.qT,d.me,d.Zm,d.BC,d.cb,d.YS,d.j4,d.JD,w.Wk,te,h.Jj],styles:[".dark-theme .mat-mdc-button,   .dark-theme .mat-mdc-icon-button,   .dark-theme .mat-mdc-outlined-button{color:#b7c0d6!important}  .dark-theme .mat-form-field-label{color:#eee}  .dark-theme .mat-datepicker-content{background-color:#373d51;color:#ffffffde}  .dark-theme .mat-calendar-table-header,   .dark-theme .mat-calendar-body-label{color:#fff}@media (hover: hover){  .dark-theme .mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#2a2e3f}}  .dark-theme .mat-calendar-body-cell-content,   .dark-theme .mat-date-range-input-separator{color:#e1e1ef}  .dark-theme .ngb-dp-header{background-color:#343545}  .dark-theme .ngb-dp-weekdays{background-color:#343545}  .rtl .color-picker{left:initial!important}  .transparent-theme .card .box{background:#2da28f}  .transparent-theme .hex-text,   .transparent-theme .rgba-text{background:#2da28f}  .transparent-theme .mat-datepicker-content{background-color:#2da28f;color:#ffffffde}  .transparent-theme .mat-datepicker-toggle,   .transparent-theme .mat-datepicker-content .mat-calendar-next-button,   .transparent-theme .mat-datepicker-content .mat-calendar-previous-button{color:#ffffff81}  .transparent-theme .mat-calendar-body-cell-content,   .transparent-theme .mat-date-range-input-separator{color:#ffffffd3}  .transparent-theme .mat-calendar-table-header,   .transparent-theme .mat-calendar-body-label{color:#fff9}  .transparent-theme .ngb-dp-header{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekdays{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekday{color:#000}  .transparent-theme .ng-select .ng-arrow-wrapper .ng-arrow{border-top-color:#fff!important}  .transparent-theme .ng-select.ng-select-opened .ng-arrow-wrapper .ng-arrow{border-bottom-color:#fff!important}  .form-controls{display:block;color:#fff;border:transparent;outline:none;width:100%;height:40px;padding:.375rem .75rem;font-size:.875rem;font-weight:400;line-height:2;background-clip:padding-box;border-radius:5px;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}  button[type=button]{z-index:0!important}",".has-error[_ngcontent-%COMP%]{border:1px solid #f16d75}.tx-danger[_ngcontent-%COMP%]{color:red!important}",'@import"https://fonts.googleapis.com/css2?family=Montserrat+Alternates:wght@800&display=swap";.__top-menu-bar[_ngcontent-%COMP%]{position:sticky;top:0;display:flex;box-sizing:border-box;align-items:center;-moz-box-pack:justify;height:96px;padding:0 24px 0 0;background-color:var(--color_purple_900);width:100%;z-index:100}@media (max-width: 1908px){.__top-menu-bar[_ngcontent-%COMP%]{height:64px}}@media (max-width: 1354px){.__top-menu-bar[_ngcontent-%COMP%]{height:64px}}@media (max-width: 1012px){.__top-menu-bar[_ngcontent-%COMP%]{display:none;width:0px;min-width:0px;visibility:hidden}}.__top-menu-hamburger[_ngcontent-%COMP%]{display:none}@media (max-width: 1012px){.__top-menu-hamburger[_ngcontent-%COMP%]{position:sticky;top:0;display:flex;box-sizing:border-box;align-items:center;-moz-box-pack:justify;height:48px;background-color:var(--color_purple_900);width:100%;z-index:100}}.__top-menu-content-bar[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end}.__top-menu-content-bar-profile-side-menu-expanded[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center;margin-left:336px}@media (max-width: 1908px){.__top-menu-content-bar-profile-side-menu-expanded[_ngcontent-%COMP%]{margin-left:244px}}@media (max-width: 1354px){.__top-menu-content-bar-profile-side-menu-expanded[_ngcontent-%COMP%]{margin-left:244px}}@media (max-width: 1012px){.__top-menu-content-bar-profile-side-menu-expanded[_ngcontent-%COMP%]{width:0px;visibility:hidden}}.__top-menu-content-bar-profile-side-menu-collapsed[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center;margin-left:200px}@media (max-width: 1908px){.__top-menu-content-bar-profile-side-menu-collapsed[_ngcontent-%COMP%]{margin-left:96px}}@media (max-width: 1354px){.__top-menu-content-bar-profile-side-menu-collapsed[_ngcontent-%COMP%]{margin-left:96px}}@media (max-width: 1012px){.__top-menu-content-bar-profile-side-menu-collapsed[_ngcontent-%COMP%]{width:0px;visibility:hidden}}.__top-menu-content-box[_ngcontent-%COMP%]{display:flex;align-items:center}.__top-menu-error-bar[_ngcontent-%COMP%]{position:sticky;top:0;display:grid;grid-template-columns:auto 40px;grid-template-rows:auto;box-sizing:border-box;align-items:center;-moz-box-pack:justify;min-height:48px;padding:0;background-color:var(--color_pink_500);width:100%;z-index:500}.__top-menu-error-bar[_ngcontent-%COMP%]   div.__error-message-text[_ngcontent-%COMP%]{grid-row:1;grid-column:1/2;margin:8px 40px;font-family:var(--font_main);font-style:normal;font-weight:400;font-size:14px;line-height:28px;color:var(--color_white);white-space:pre-line}.__top-menu-error-bar[_ngcontent-%COMP%]   div.__error-close-button[_ngcontent-%COMP%]{grid-row:1;grid-column:2/3;width:24px;height:24px}.__top-menu-error-bar-hidden[_ngcontent-%COMP%]{position:sticky;top:0;display:none;min-height:0px;width:100%}.__popup-menu-separator[_ngcontent-%COMP%]{display:block;margin:8px auto;width:100%;height:.5px;background-color:var(--color_purple_200)}.__popup-menu-button[_ngcontent-%COMP%]{height:28px;margin:0 15px;padding:0;border:none;background-color:var(--color_white);color:var(--color_purple_900_text);font-family:var(--font_main);font-style:normal;font-weight:400;font-size:14px;line-height:28px}.__popup-menu-button[_ngcontent-%COMP%]   #button-icon[_ngcontent-%COMP%]{font-size:32px;margin-right:16px;color:var(--color_purple_900_icons)}.__popup-menu-button[_ngcontent-%COMP%]:focus{outline:none}.__popup-menu-button[_ngcontent-%COMP%]:hover{color:var(--color_main_blue_600)}.__popup-menu-button[_ngcontent-%COMP%]:hover   #button-icon[_ngcontent-%COMP%]{font-size:32px;margin-right:16px;color:var(--color_main_blue_600)}.__popup-menu-button-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.__side-menu-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;height:80%;width:100%}.__side-menu-footer-container[_ngcontent-%COMP%]{margin-left:48px}@media (max-width: 1908px){.__side-menu-footer-container[_ngcontent-%COMP%]{margin-left:24px}}@media (max-width: 1354px){.__side-menu-footer-container[_ngcontent-%COMP%]{margin-left:24px}}.__side-menu-data-container[_ngcontent-%COMP%]{margin-top:44px;margin-left:48px}@media (max-width: 1908px){.__side-menu-data-container[_ngcontent-%COMP%]{margin-left:0}}@media (max-width: 1354px){.__side-menu-data-container[_ngcontent-%COMP%]{margin-left:0}}.__tool-bar-container[_ngcontent-%COMP%]{margin:32px 24px 24px}@media (max-width: 1908px){.__tool-bar-container[_ngcontent-%COMP%]{margin:24px 24px 16px}}@media (max-width: 1012px){.__tool-bar-container[_ngcontent-%COMP%]{margin:8px}}.__tool-bar-filter-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:baseline}.__tool-bar-filter-mixed-height-area[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;margin:0 0 12px}.__tool-bar-filter-mixed-height-small[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:flex-start}.__tool-bar-filter-cloud[_ngcontent-%COMP%]{width:100%;margin:8px 0 4px}.__tool-selector-bar-container[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto;grid-template-columns:auto 1px}.__tool-selector-bar-line[_ngcontent-%COMP%]{grid-column:1;grid-row:2/3;height:1px;background-color:var(--color_purple_50)}.__tool-selector-bar-data-container[_ngcontent-%COMP%]{grid-column:1;grid-row:1/3;display:flex;flex-direction:row;align-items:baseline;justify-content:flex-start;white-space:nowrap}.__tool-selector-bar-item-container[_ngcontent-%COMP%]{height:30px;margin:0 16px}.__tool-selector-bar-item-data[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:28px;font-family:var(--font_main);font-style:normal;font-weight:400;font-size:14px;line-height:28px;color:var(--color_purple_900_text);cursor:pointer}.__tool-selector-bar-item-data-selected[_ngcontent-%COMP%]{border:2px solid var(--color_main_blue_800);border-style:none none solid none;color:var(--color_main_blue_800);cursor:default}.__tool-bar-block[_ngcontent-%COMP%]{height:28px}.__tool-bar-block-lg[_ngcontent-%COMP%]{height:36px}.__tool-bar-data-block[_ngcontent-%COMP%]{width:50px;font-size:8px!important}.__tool-bar-label[_ngcontent-%COMP%]{margin:0 16px 0 0;font-family:var(--font_main);font-style:normal;font-weight:300;font-size:14px;line-height:28px;color:var(--color_purple_900_text);white-space:nowrap}.__tool-bar-error[_ngcontent-%COMP%]{display:block;width:120px;font-family:var(--font_main);font-style:normal;font-weight:400;font-size:11px;color:var(--color_pink_600)}.__tool-bar-error-wide[_ngcontent-%COMP%]{width:100%}.__tool-bar-double-sided-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end;width:100%}.__tool-bar-double-sided-data-box[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.__tool-bar-double-sided-data-box-top[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:flex-start}.__tool-bar-icon-box[_ngcontent-%COMP%]{display:block;margin:0 24px 0 4px}input.__tool-bar-text-box[_ngcontent-%COMP%]{width:120px;border:0px solid var(--color_purple_300);border-bottom-width:.5px;background-color:transparent;font-family:var(--font_main);font-style:normal;font-weight:400;font-size:14px;color:var(--color_purple_900_text)}input.__tool-bar-text-box[_ngcontent-%COMP%]:hover{border:0px solid var(--color_main_blue_600);border-bottom-width:1px}input.__tool-bar-text-box[_ngcontent-%COMP%]:focus{outline:none;border:0px solid var(--color_main_blue_800);border-bottom-width:2px}input.__tool-bar-text-box-error[_ngcontent-%COMP%]{border:0px solid var(--color_pink_300);border-bottom-width:.5px}input.__tool-bar-text-box-error[_ngcontent-%COMP%]:hover{border:0px solid var(--color_pink_700);border-bottom-width:1px}input.__tool-bar-text-box-error[_ngcontent-%COMP%]:focus{border:0px solid var(--color_pink_500);border-bottom-width:2px}input.__tool-bar-text-box-wide[_ngcontent-%COMP%]{width:100%}textarea.__tool-bar-text-box[_ngcontent-%COMP%]{resize:none;height:150px;width:100%;border:0px solid var(--color_purple_300);border-bottom-width:.5px;background-color:transparent;font-family:var(--font_main);font-style:normal;font-weight:300;font-size:14px;color:var(--color_purple_900_text)}textarea.__tool-bar-text-box[_ngcontent-%COMP%]:hover{border:0px solid var(--color_main_blue_600);border-bottom-width:1px}textarea.__tool-bar-text-box[_ngcontent-%COMP%]:focus{outline:none;border:0px solid var(--color_main_blue_800);border-bottom-width:2px}textarea.__tool-bar-text-box-error[_ngcontent-%COMP%]{border:0px solid var(--color_pink_300);border-bottom-width:.5px}textarea.__tool-bar-text-box-error[_ngcontent-%COMP%]:hover{border:0px solid var(--color_pink_700);border-bottom-width:1px}textarea.__tool-bar-text-box-error[_ngcontent-%COMP%]:focus{border:0px solid var(--color_pink_500);border-bottom-width:2px}.__tool-bar-text-area-separator[_ngcontent-%COMP%]{height:136px}.__top-menu-button-separator[_ngcontent-%COMP%]{width:1px;height:28px;background-color:var(--color_purple_50);margin:0 8px;opacity:.3}.__tool-bar-image-combo-item[_ngcontent-%COMP%]{margin:auto;display:flex;flex-direction:row;justify-content:flex-start;align-items:center}.__tool-bar-image-combo-item-img[_ngcontent-%COMP%]{margin:0 4px 0 8px;width:16px;height:16px}.__tool-bar-image-combo-item-text[_ngcontent-%COMP%]{font-family:var(--font_main);font-style:normal;font-weight:400;font-size:14px;line-height:15px;color:var(--color_purple_900_text)}#top_menu_hamburger_toggle[_ngcontent-%COMP%]{opacity:0}#top_menu_hamburger_toggle[_ngcontent-%COMP%]:checked ~ .__top-menu-hamburger-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{transform:rotate(45deg)}#top_menu_hamburger_toggle[_ngcontent-%COMP%]:checked ~ .__top-menu-hamburger-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:before{top:0;transform:rotate(0)}#top_menu_hamburger_toggle[_ngcontent-%COMP%]:checked ~ .__top-menu-hamburger-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:after{top:0;transform:rotate(90deg)}#top_menu_hamburger_toggle[_ngcontent-%COMP%]:checked ~ .__top-menu-hamburger-box[_ngcontent-%COMP%]{visibility:visible;top:0}.__top-menu-hamburger-button[_ngcontent-%COMP%]{display:flex;align-items:center;position:fixed;top:12px;left:16px;width:24px;height:24px;cursor:pointer;z-index:1}.__top-menu-hamburger-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .__top-menu-hamburger-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:before, .__top-menu-hamburger-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:after{display:block;position:absolute;width:100%;height:2px;background-color:var(--color_white);transition-duration:.25s}.__top-menu-hamburger-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:before{content:"";top:-8px}.__top-menu-hamburger-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:after{content:"";top:8px}.__top-menu-hamburger-box[_ngcontent-%COMP%]{display:block;position:fixed;visibility:hidden;top:-100%;left:0;width:100%;height:100%;margin:0;padding:64px 0;list-style:none;background-color:var(--color_purple_900);transition-duration:.25s}.__top-menu-hamburger-item[_ngcontent-%COMP%]{display:block!important;padding:8px 24px!important;color:var(--color_purple_50)!important;font-family:var(--font_main)!important;font-size:16px!important;font-weight:300!important;text-decoration:none!important;transition-duration:.25s!important}.__top-menu-hamburger-item[_ngcontent-%COMP%]:hover{background-color:var(--color_purple_500)!important}.__top-menu-hamburger-separator[_ngcontent-%COMP%]{width:100%;height:1px;background-color:var(--color_purple_50);margin:8px 0}.menu-bar[_ngcontent-%COMP%]{position:fixed;box-sizing:border-box;align-items:center;-moz-box-pack:justify;width:1366px;height:96px;background-color:var(--color_white);padding:24px;z-index:100}.menu-content-bar[_ngcontent-%COMP%]{margin:auto;display:flex;flex-direction:column;justify-content:space-between;width:100%}.menu-box[_ngcontent-%COMP%]{margin:0}.menu-delimiter[_ngcontent-%COMP%]{margin:0 1.5em}']})}return a})();var Je=f(5351),Ye=f(1626);const xn=(a,r)=>{const t=Object.keys(a).reduce((n,o)=>n+a[o]+"\u25ec","").toLowerCase();return r.trim().toLowerCase().split(" ").every(n=>-1!==t.indexOf(n))};var fa=f(4658),ga=function(a){return a.COMPLETED="COMPLETED",a.EXPIRED="EXPIRED",a.PROCESSING="PROCESSING",a.ERROR="ERROR",a.CANCELED="CANCELED",a}(ga||{});let wn=(()=>{class a{constructor(t,i){this.httpClient=t,this.auth=i}get apiUrl(){return`${pe.Li.api_server}`}get(t,i={}){return this.httpClient.get(this.makeUri(this.apiUrl,t),this.concatAuthOptions(i))}getFile(t){return this.httpClient.get(this.makeUri(this.apiUrl,t),{headers:(new Ye.Lr).set("Authorization","Bearer "+this.auth.token),responseType:"blob"})}post(t,i={},n={}){return this.httpClient.post(this.makeUri(this.apiUrl,t),i,this.concatAuthOptions(n))}postFormData(t,i){return this.httpClient.post(this.makeUri(this.apiUrl,t),i,{headers:(new Ye.Lr).set("Authorization","Bearer "+this.auth.token),observe:"events",reportProgress:!0})}put(t,i={},n={}){return this.httpClient.put(this.makeUri(this.apiUrl,t),i,this.concatAuthOptions(n))}delete(t,i={}){return this.httpClient.delete(this.makeUri(this.apiUrl,t),this.concatAuthOptions(i))}makeUri(...t){return t.join("/")}concatAuthOptions(t){return{...t,headers:(new Ye.Lr).set("Authorization","Bearer "+this.auth.token)}}static#e=this.\u0275fac=function(i){return new(i||a)(e.KVO(Ye.Qq),e.KVO(I.u))};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),_a=(()=>{class a{constructor(t){this.apiFacade=t}getSignatures(t){return this.apiFacade.post("docs/v1/dod/signatures",{id:"663c6c06-b993-4967-ad98-4018af1f9caf"}).pipe((0,b.T)(o=>o.data))}addSignature(t){return this.apiFacade.postFormData("docs/v1/dod/signature/add",t)}updateSignature(t){return this.apiFacade.put("docs/v1/documents",t)}removeSignedFile(t){return this.apiFacade.delete(`docs/v1/documents/${t}`,t)}downloadSignedFile(t){return this.apiFacade.getFile(`docs/v1/documents/files/${t}`)}static#e=this.\u0275fac=function(i){return new(i||a)(e.KVO(wn))};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();const ba={isLoaded:!1,isLoading:!1,documents:[],documentsDetails:new Map,expandedElement:null};let Sn=(()=>{class a{constructor(){this._state$=new Me.t({...ba}),this.getState$=this._state$.asObservable()}get getState(){return this._state$.getValue()}setState(t){return this._state$.next({...this.getState,...t})}resetState(){return this._state$.next({...ba})}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();var Dn=f(2578);let In=(()=>{class a{constructor(t,i,n){this.api=t,this.state=i,this._snackBar=n,this.getState$=this.state.getState$}loadAll(t,i){return!i&&this.state.getState.isLoaded?this.getState$.pipe((0,b.T)(n=>n?.documents)):(this.state.resetState(),this.state.setState({isLoading:!0}),this.loadData(t))}deleteDocument(t){return this.state.setState({isLoading:!0}),this.api.removeSignedFile(t).pipe((0,D.M)(()=>{const i=this.state.getState.documents.filter(n=>n.id!==t);this.state.setState({documents:i,isLoading:!1}),this._snackBar.open("The document has been successfully deleted.",null,{duration:5e3})}),(0,Ee.W)(i=>(console.error(i),this._snackBar.open("There was an error deleting the document. Please contact R&D",null,{duration:5e3}),this.state.setState({isLoading:!1}),(0,S.of)(null))))}onLoadFiles(t){this.state.setState({isLoading:!0});const i=t.documentFile.map(n=>this.api.downloadSignedFile(n.id));return(0,la.p)(i).pipe((0,D.M)(n=>{this.state.setState({isLoading:!1}),n.forEach(o=>(0,Dn.saveAs)(o))}),(0,Ee.W)(()=>(this.state.setState({isLoading:!1}),(0,S.of)(null))))}loadData(t){return this.api.getSignatures(t).pipe((0,D.M)(i=>{this.state.setState({documents:i,isLoaded:!0,isLoading:!1})}),(0,Ee.W)(()=>(this.state.setState({isLoaded:!1,isLoading:!1}),(0,S.of)({...ba}).pipe((0,b.T)(i=>i?.documents)))))}static#e=this.\u0275fac=function(i){return new(i||a)(e.KVO(_a),e.KVO(Sn),e.KVO(Ie.UG))};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();var we=function(a){return a.simple="columnSimple",a.custom="columnCustom",a.shortDate="columnShortDate",a.number="number",a.fullDate="columnFullDate",a.boolean="columnBoolean",a.priceWithCurrency="priceWithCurrency",a.percent="percent",a}(we||{});const sv=[{name:"Status",prop:"status",columnType:we.simple},{name:"Created",prop:"createdAt",columnType:we.shortDate},{name:"Executed",prop:"executedAt",columnType:we.shortDate},{name:"Actions",prop:"...",columnType:we.custom}],lv=[(0,A.hZ)("detailExpand",[(0,A.wk)("collapsed",(0,A.iF)({height:"0px",minHeight:"0"})),(0,A.wk)("expanded",(0,A.iF)({height:"*"})),(0,A.kY)("expanded <=> collapsed",(0,A.i0)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))]),(0,A.hZ)("fadeInOut",[(0,A.kY)("* <=> void",(0,A.i0)(0))])];var dv=f(7312);let cv=(()=>{class a{transform(t){return 0===t||!1===t||t?t:"-"}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275pipe=e.EJ8({name:"emptyValue",type:a,pure:!0})}return a})();const mv=["*"],pv=()=>["expandedDetail"];function uv(a,r){if(1&a&&(e.j41(0,"th",14),e.EFF(1),e.nI1(2,"emptyValue"),e.k0s()),2&a){const t=e.XpG(3).$implicit;e.Y8G("mat-sort-header",t.prop),e.R7$(),e.JRh(e.bMT(2,2,t.name))}}function hv(a,r){1&a&&(e.qex(0),e.DNE(1,uv,3,4,"th",13),e.bVm())}function fv(a,r){if(1&a&&(e.j41(0,"th",16),e.EFF(1),e.nI1(2,"emptyValue"),e.k0s()),2&a){const t=e.XpG(3).$implicit;e.R7$(),e.JRh(e.bMT(2,1,t.name))}}function gv(a,r){1&a&&e.DNE(0,fv,3,3,"th",15)}function _v(a,r){if(1&a&&(e.qex(0),e.EFF(1),e.nI1(2,"emptyValue"),e.bVm()),2&a){const t=e.XpG().$implicit,i=e.XpG(2).$implicit,n=e.XpG();e.R7$(),e.JRh(e.bMT(2,1,n.getRowColumnValue(t,i)))}}function bv(a,r){if(1&a&&(e.qex(0),e.EFF(1),e.nI1(2,"number"),e.nI1(3,"emptyValue"),e.bVm()),2&a){const t=e.XpG().$implicit,i=e.XpG(2).$implicit,n=e.XpG();e.R7$(),e.SpI(" ",e.bMT(3,4,e.i5U(2,1,n.getRowColumnValue(t,i),"0.0-0"))," ")}}function vv(a,r){if(1&a&&(e.qex(0),e.EFF(1),e.nI1(2,"date"),e.nI1(3,"emptyValue"),e.bVm()),2&a){const t=e.XpG().$implicit,i=e.XpG(2).$implicit,n=e.XpG();e.R7$(),e.SpI(" ",e.bMT(3,4,e.i5U(2,1,n.getRowColumnValue(t,i),"MM/dd/y"))," ")}}function yv(a,r){if(1&a&&(e.qex(0),e.EFF(1),e.nI1(2,"date"),e.nI1(3,"emptyValue"),e.bVm()),2&a){const t=e.XpG().$implicit,i=e.XpG(2).$implicit,n=e.XpG();e.R7$(),e.SpI(" ",e.bMT(3,4,e.i5U(2,1,n.getRowColumnValue(t,i),"yyyy/MM/dd hh:mm:ss "))," ")}}function Cv(a,r){if(1&a&&(e.qex(0),e.EFF(1),e.nI1(2,"currency"),e.bVm()),2&a){const t=e.XpG().$implicit,i=e.XpG(2).$implicit,n=e.XpG();e.R7$(),e.SpI(" ",e.bMT(2,1,n.getRowColumnValue(t,i))," ")}}function kv(a,r){if(1&a&&(e.qex(0),e.EFF(1),e.nI1(2,"percent"),e.bVm()),2&a){const t=e.XpG().$implicit,i=e.XpG(2).$implicit,n=e.XpG();e.R7$(),e.SpI(" ",e.bMT(2,1,n.getRowColumnValue(t,i))," ")}}function Fv(a,r){1&a&&(e.j41(0,"span",19),e.nrm(1,"i",20),e.k0s())}function Tv(a,r){1&a&&(e.j41(0,"span",21),e.nrm(1,"i",22),e.k0s())}function xv(a,r){if(1&a&&(e.qex(0),e.DNE(1,Fv,2,0,"span",18)(2,Tv,2,0,"ng-template",null,1,e.C5r),e.bVm()),2&a){const t=e.sdS(3),i=e.XpG().$implicit,n=e.XpG(2).$implicit,o=e.XpG();e.R7$(),e.Y8G("ngIf",!!o.getRowColumnValue(i,n))("ngIfElse",t)}}function wv(a,r){if(1&a&&(e.qex(0),e.j41(1,"span",23),e.EFF(2),e.k0s(),e.bVm()),2&a){const t=e.XpG(3).$implicit;e.R7$(2),e.JRh(t.appendUnits)}}function Sv(a,r){if(1&a&&(e.j41(0,"td",17),e.DNE(1,_v,3,3,"ng-container",8)(2,bv,4,6,"ng-container",8)(3,vv,4,6,"ng-container",8)(4,yv,4,6,"ng-container",8)(5,Cv,3,3,"ng-container",8)(6,kv,3,3,"ng-container",8)(7,xv,4,2,"ng-container",8)(8,wv,3,1,"ng-container",8),e.k0s()),2&a){const t=e.XpG(2).$implicit,i=e.XpG();e.R7$(),e.Y8G("ngIf",t.columnType===i.columnTypes.simple),e.R7$(),e.Y8G("ngIf",t.columnType===i.columnTypes.number),e.R7$(),e.Y8G("ngIf",t.columnType===i.columnTypes.shortDate),e.R7$(),e.Y8G("ngIf",t.columnType===i.columnTypes.fullDate),e.R7$(),e.Y8G("ngIf",t.columnType===i.columnTypes.priceWithCurrency),e.R7$(),e.Y8G("ngIf",t.columnType===i.columnTypes.percent),e.R7$(),e.Y8G("ngIf",t.columnType===i.columnTypes.boolean),e.R7$(),e.Y8G("ngIf",t.appendUnits)}}function Dv(a,r){if(1&a&&(e.qex(0)(1,10),e.DNE(2,hv,2,0,"ng-container",11)(3,gv,1,0,"ng-template",null,0,e.C5r)(5,Sv,9,8,"td",12),e.bVm()()),2&a){const t=e.sdS(4),i=e.XpG().$implicit;e.R7$(),e.Y8G("matColumnDef",i.prop),e.R7$(),e.Y8G("ngIf",i.isSortable)("ngIfElse",t)}}function Iv(a,r){if(1&a&&(e.qex(0),e.DNE(1,Dv,6,3,"ng-container",8),e.bVm()),2&a){const t=r.$implicit,i=e.XpG();e.R7$(),e.Y8G("ngIf",t.columnType!==i.columnTypes.custom)}}function Ev(a,r){1&a&&e.nrm(0,"tr",24)}function Pv(a,r){if(1&a){const t=e.RV6();e.j41(0,"tr",25),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG();return e.Njj(o.onRowClick(n))}),e.k0s()}if(2&a){const t=r.$implicit,i=e.XpG();e.AVh("gray-out",!!i.conditionForGrayOut&&i.conditionForGrayOut(t))("row-expanded",i.expandedElement===t)("row-with-action",i.withRowAction)("row-with-details",i.withDetails)}}function Av(a,r){1&a&&e.nrm(0,"tr",27)}function Rv(a,r){if(1&a&&(e.qex(0),e.DNE(1,Av,1,0,"tr",26),e.bVm()),2&a){const t=e.XpG();e.R7$(),e.Y8G("matFooterRowDef",t.tableColumns)("matFooterRowDefSticky",!0)}}function Ov(a,r){1&a&&e.nrm(0,"tr",29)}function jv(a,r){1&a&&(e.qex(0),e.DNE(1,Ov,1,0,"tr",28),e.bVm()),2&a&&(e.R7$(),e.Y8G("matRowDefColumns",e.lJ4(1,pv)))}let En=(()=>{class a extends dv.F{set columns(t){this._displayColumns=t}constructor(t){super(),this.cdr=t,this.decorativeRowsCount=0,this.pageSizeOptions=[10,25,50],this.pageSize=25,this.withRowAction=!1,this.withDetails=!1,this.withTotal=!1,this.isSticky=!0,this.conditionForGrayOut=null,this.expandDetail=new e.bkB,this.rowClick=new e.bkB,this.columnTypes=we,this._displayColumns=[]}ngOnInit(){this.cdr.markForCheck()}ngAfterContentInit(){this.columnDefs.forEach(t=>this.table.addColumnDef(t)),this.rowDefs.forEach(t=>this.table.addRowDef(t)),this.headerRowDefs.forEach(t=>this.table.addHeaderRowDef(t)),this.decorativeRowsCount<1&&(this.dataSource.paginator=this.paginator),this.sort&&(this.dataSource.sort=this.sort)}onRowClick(t){this.withDetails&&(this.expandedElement=this.expandedElement===t?null:t,this.expandDetail.emit(this.expandedElement)),(this.withDetails||this.withRowAction)&&this.rowClick.emit(t)}getRowColumnValue(t,i){return i.nestedProp?t[i.prop][i.nestedProp]:t[i.prop]}get availableColumns(){return this._displayColumns}get tableColumns(){return this._displayColumns.map(t=>t.prop)}get isPresenterModeEnabled(){return this._isPresenterModeEnabled}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.gRc))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-table"]],contentQueries:function(i,n,o){if(1&i&&(e.wni(o,p.ji,4),e.wni(o,p.cC,4),e.wni(o,p.iL,4)),2&i){let s;e.mGM(s=e.lsd())&&(n.headerRowDefs=s),e.mGM(s=e.lsd())&&(n.columnDefs=s),e.mGM(s=e.lsd())&&(n.rowDefs=s)}},viewQuery:function(i,n){if(1&i&&(e.GBs($t.iy,7),e.GBs(p.Zl,7)),2&i){let o;e.mGM(o=e.lsd())&&(n.paginator=o.first),e.mGM(o=e.lsd())&&(n.table=o.first)}},inputs:{decorativeRowsCount:"decorativeRowsCount",pageSizeOptions:"pageSizeOptions",pageSize:"pageSize",columns:"columns",dataSource:"dataSource",withRowAction:"withRowAction",withDetails:"withDetails",withTotal:"withTotal",maxHeight:"maxHeight",isSticky:"isSticky",sort:"sort",conditionForGrayOut:"conditionForGrayOut"},outputs:{expandDetail:"expandDetail",rowClick:"rowClick"},features:[e.Vt3],ngContentSelectors:mv,decls:10,vars:15,consts:[["columnWithoutSort",""],["falseBlock",""],[1,"z-table-wrapper"],[1,"overflow","flex-grow-1"],["mat-table","","multiTemplateDataRows","",1,"z-table","w-100",3,"dataSource"],[4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"gray-out","row-expanded","row-with-action","row-with-details","click",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["showFirstLastButtons","",1,"z-paginator",3,"hidden","length","pageSizeOptions","pageSize"],[3,"matColumnDef"],[4,"ngIf","ngIfElse"],["mat-cell","",4,"matCellDef"],["mat-header-cell","",3,"mat-sort-header",4,"matHeaderCellDef"],["mat-header-cell","",3,"mat-sort-header"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-cell",""],["mat-cell",""],["class","badge badge-pill badge-success badge-checkmark",4,"ngIf","ngIfElse"],[1,"badge","badge-pill","badge-success","badge-checkmark"],[1,"fas","fa-check"],[1,"badge","badge-pill","badge-danger","badge-checkmark"],[1,"fas","fa-times"],[1,"text-muted","text-sm-80"],["mat-header-row",""],["mat-row","",3,"click"],["mat-footer-row","",4,"matFooterRowDef","matFooterRowDefSticky"],["mat-footer-row",""],["mat-row","","class","detail-row",4,"matRowDef","matRowDefColumns"],["mat-row","",1,"detail-row"]],template:function(i,n){1&i&&(e.NAR(),e.j41(0,"div",2)(1,"div",3)(2,"table",4),e.SdG(3),e.DNE(4,Iv,2,1,"ng-container",5)(5,Ev,1,0,"tr",6)(6,Pv,1,8,"tr",7)(7,Rv,2,2,"ng-container",8)(8,jv,2,2,"ng-container",8),e.k0s()(),e.nrm(9,"mat-paginator",9),e.k0s()),2&i&&(e.R7$(),e.xc7("max-height",n.maxHeight),e.R7$(),e.Y8G("dataSource",n.dataSource),e.R7$(2),e.Y8G("ngForOf",n.availableColumns),e.R7$(),e.Y8G("matHeaderRowDef",n.tableColumns)("matHeaderRowDefSticky",n.isSticky),e.R7$(),e.Y8G("matRowDefColumns",n.tableColumns),e.R7$(),e.Y8G("ngIf",n.withTotal),e.R7$(),e.Y8G("ngIf",n.withDetails),e.R7$(),e.AVh("z-paginator-sticky",n.isSticky),e.Y8G("hidden",n.dataSource.filteredData.length<n.pageSize)("length",n.dataSource.filteredData.length)("pageSizeOptions",n.pageSizeOptions)("pageSize",n.pageSize))},dependencies:[h.Sq,h.bT,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.xW,p.KS,p.$R,p.YZ,p.NB,p.iF,$.aE,$t.iy,h.QX,h.m1,h.oe,h.vh,cv],styles:["[_nghost-%COMP%]{display:block;height:100%;width:100%}.z-table-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-direction:column;height:100%}.overflow[_ngcontent-%COMP%]{overflow:auto}.z-table[_ngcontent-%COMP%]{background:transparent}.z-table.mat-mdc-table[_ngcontent-%COMP%]  thead{background:#fff;font-family:Poppins,sans-serif;letter-spacing:1px}.z-table.mat-mdc-table[_ngcontent-%COMP%]  thead tr.mat-mdc-header-row{height:45px}.z-table.mat-mdc-table[_ngcontent-%COMP%]  thead th.mat-mdc-header-cell{padding-left:5px;padding-right:5px;border-bottom-width:0}.z-table.mat-mdc-table[_ngcontent-%COMP%]  thead th.mat-mdc-header-cell:first-of-type{padding-left:24px;border-top-left-radius:5px;border-bottom-left-radius:5px}.z-table.mat-mdc-table[_ngcontent-%COMP%]  thead th.mat-mdc-header-cell:last-of-type{padding-right:24px;border-top-right-radius:5px;border-bottom-right-radius:5px}.z-table.mat-mdc-table[_ngcontent-%COMP%]  thead button:focus{outline:none!important}.z-table.mat-mdc-table[_ngcontent-%COMP%]  thead .header-cell-status{display:block;width:15px;height:15px;border-radius:50%;border:1px solid #ddd;background-color:#fff}.z-table.mat-mdc-table[_ngcontent-%COMP%]  tbody{background:transparent}.z-table.mat-mdc-table[_ngcontent-%COMP%]  tbody tr.mat-mdc-row{height:45px}.z-table.mat-mdc-table[_ngcontent-%COMP%]  tbody tr.mat-mdc-row:last-child td.mat-mdc-cell{border-bottom-width:0}.z-table.mat-mdc-table[_ngcontent-%COMP%]  tbody td.mat-mdc-cell{padding-left:5px;padding-right:5px;font-family:Open Sans,sans-serif}.z-table.mat-mdc-table[_ngcontent-%COMP%]  tbody td.mat-mdc-cell:first-of-type{padding-left:24px}.z-table.mat-mdc-table[_ngcontent-%COMP%]  tbody td.mat-mdc-cell:last-of-type{padding-right:24px}.z-table.mat-mdc-table[_ngcontent-%COMP%]  tbody .row-with-details td{border-bottom-width:0}.z-table.mat-mdc-table[_ngcontent-%COMP%]  tbody .gray-out{opacity:.3}.z-table.mat-mdc-table[_ngcontent-%COMP%]  tbody .row-with-details:not(.row-expanded):hover, .z-table.mat-mdc-table[_ngcontent-%COMP%]  tbody .row-with-action:not(.row-expanded):hover{cursor:pointer;background:#e7ecf1}.z-table.mat-mdc-table[_ngcontent-%COMP%]  tbody .row-with-details:not(.row-expanded):active, .z-table.mat-mdc-table[_ngcontent-%COMP%]  tbody .row-with-action:not(.row-expanded):active{background:#efefef}.z-table.mat-mdc-table[_ngcontent-%COMP%]  tbody .row-with-details.row-expanded+.detail-row, .z-table.mat-mdc-table[_ngcontent-%COMP%]  tbody .row-with-action.row-expanded+.detail-row{background-color:#e8edf2}.z-table.mat-mdc-table[_ngcontent-%COMP%]  tbody tr.detail-row{height:0!important}.z-table.mat-mdc-table[_ngcontent-%COMP%]  tbody .cell-detail{overflow:hidden;display:flex}.z-table.mat-mdc-table[_ngcontent-%COMP%]  tbody .cell-status{display:block;width:15px;height:15px;border-radius:50%;border:1px solid #ddd;background-color:#fff}.z-table.mat-mdc-table[_ngcontent-%COMP%]  tbody .cell-status.connected{border-color:#4dbd74;background:#4dbd74}.z-table.mat-mdc-table[_ngcontent-%COMP%]  tbody .cell-status.pending{border-color:#3e5efd;background:#3e5efd}.z-table.mat-mdc-table[_ngcontent-%COMP%]  tbody .cell-status.not-responding{border-color:#ffc107;background:#ffc107}.z-table.mat-mdc-table[_ngcontent-%COMP%]  tbody .cell-status.permissions-alert{border-color:#fd397a;background:#fd397a}.z-table.mat-mdc-table[_ngcontent-%COMP%]  tbody .multi-action-button-expanded{padding:.25rem .5rem;font-family:Poppins,sans-serif;letter-spacing:1px;font-size:.765625rem;font-weight:400;line-height:1.5;color:#282a3c;background-color:#fff;border:2px solid transparent;border-radius:.2rem;transition:all .3s ease}.z-table.mat-mdc-table[_ngcontent-%COMP%]  tbody .multi-action-button-expanded:hover{border-color:#1765cc}.z-table.mat-mdc-table[_ngcontent-%COMP%]  tbody .multi-action-button-expanded:focus{outline:none}.z-table.mat-mdc-table[_ngcontent-%COMP%]  tbody .multi-action-button-expanded i{margin-right:.5rem;color:#3e5efd}.z-table.mat-mdc-table[_ngcontent-%COMP%]  tbody .multi-action-button{display:inline-block;width:30px;height:30px;margin-top:7px;padding:0;background:url(/assets/icons/actions.svg) no-repeat center/25px,transparent;border-radius:5px;border:2px solid transparent;transition:all .2s ease}.z-table.mat-mdc-table[_ngcontent-%COMP%]  tbody .multi-action-button:hover{background-color:#bac5d0}.z-table.mat-mdc-table[_ngcontent-%COMP%]  tbody .multi-action-button:focus{outline:none;border-color:#3e5efd}.z-table.mat-mdc-table[_ngcontent-%COMP%]  tbody .multi-action-button:disabled{cursor:not-allowed}.z-table.mat-mdc-table[_ngcontent-%COMP%]  tbody .multi-action-button.active{background-color:#fff}.z-table.mat-mdc-table[_ngcontent-%COMP%]  tbody .action-button{margin-left:.5rem;display:inline-block;padding:.25rem .5rem;font-family:Poppins,sans-serif;font-size:.765625rem;font-weight:400;line-height:1.5;color:#282a3c;background-color:#fff;border:2px solid transparent;border-radius:.2rem;transition:all .3s ease}.z-table.mat-mdc-table[_ngcontent-%COMP%]  tbody .action-button:hover{border-color:#1765cc}.z-table.mat-mdc-table[_ngcontent-%COMP%]  tbody .action-button:focus{outline:none;border-color:#1765cc}.z-table.mat-mdc-table[_ngcontent-%COMP%]  tbody .action-button:disabled{cursor:not-allowed;opacity:.4}.z-table.mat-mdc-table[_ngcontent-%COMP%]  tbody .action-button i{color:#3e5efd}.z-table.mat-mdc-table[_ngcontent-%COMP%]  tfoot{background:#f8f8f8;height:100%}.z-paginator[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif}.z-paginator.z-paginator-sticky[_ngcontent-%COMP%]{position:sticky;bottom:0;z-index:100}.z-paginator.mat-mdc-paginator[_ngcontent-%COMP%] {border-radius:5px}.z-paginator.mat-mdc-paginator[_ngcontent-%COMP%]  .mat-mdc-paginator-container{justify-content:space-between}[_nghost-%COMP%]{position:relative;overflow:auto}"],changeDetection:0})}return a})(),$v=(()=>{class a{ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-signtature-doc-details"]],inputs:{signatureDocument:"signatureDocument"},decls:43,vars:48,consts:[[1,"event-details"],[1,"event-details__container"],[1,"event-details__title"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"h4",2),e.EFF(3,"Signature Details"),e.k0s(),e.j41(4,"p"),e.EFF(5),e.nI1(6,"date"),e.k0s(),e.j41(7,"p"),e.EFF(8),e.nI1(9,"date"),e.k0s(),e.j41(10,"p"),e.EFF(11),e.nI1(12,"date"),e.k0s(),e.j41(13,"p"),e.EFF(14),e.nI1(15,"date"),e.k0s(),e.j41(16,"p"),e.EFF(17),e.nI1(18,"date"),e.k0s(),e.j41(19,"p"),e.EFF(20),e.nI1(21,"date"),e.k0s()(),e.j41(22,"div",1)(23,"h4",2),e.EFF(24,"Signature Details"),e.k0s(),e.j41(25,"p"),e.EFF(26),e.nI1(27,"date"),e.k0s(),e.j41(28,"p"),e.EFF(29),e.nI1(30,"date"),e.k0s(),e.j41(31,"p"),e.EFF(32),e.nI1(33,"date"),e.k0s(),e.j41(34,"p"),e.EFF(35),e.nI1(36,"date"),e.k0s(),e.j41(37,"p"),e.EFF(38),e.nI1(39,"date"),e.k0s(),e.j41(40,"p"),e.EFF(41),e.nI1(42,"date"),e.k0s()()()),2&i&&(e.R7$(5),e.SpI("Created: ",e.i5U(6,12,null==n.signatureDocument?null:n.signatureDocument.createdAt,"MMMM d, y, h:mm:ss"),""),e.R7$(3),e.SpI("Executed: ",e.i5U(9,15,null==n.signatureDocument?null:n.signatureDocument.executedAt,"MMMM d, y, h:mm:ss"),""),e.R7$(3),e.SpI("Created: ",e.i5U(12,18,null==n.signatureDocument?null:n.signatureDocument.createdAt,"MMMM d, y, h:mm:ss"),""),e.R7$(3),e.SpI("Executed: ",e.i5U(15,21,null==n.signatureDocument?null:n.signatureDocument.executedAt,"MMMM d, y, h:mm:ss"),""),e.R7$(3),e.SpI("Created: ",e.i5U(18,24,null==n.signatureDocument?null:n.signatureDocument.createdAt,"MMMM d, y, h:mm:ss"),""),e.R7$(3),e.SpI("Executed: ",e.i5U(21,27,null==n.signatureDocument?null:n.signatureDocument.executedAt,"MMMM d, y, h:mm:ss"),""),e.R7$(6),e.SpI("Created: ",e.i5U(27,30,null==n.signatureDocument?null:n.signatureDocument.createdAt,"MMMM d, y, h:mm:ss"),""),e.R7$(3),e.SpI("Executed: ",e.i5U(30,33,null==n.signatureDocument?null:n.signatureDocument.executedAt,"MMMM d, y, h:mm:ss"),""),e.R7$(3),e.SpI("Created: ",e.i5U(33,36,null==n.signatureDocument?null:n.signatureDocument.createdAt,"MMMM d, y, h:mm:ss"),""),e.R7$(3),e.SpI("Executed: ",e.i5U(36,39,null==n.signatureDocument?null:n.signatureDocument.executedAt,"MMMM d, y, h:mm:ss"),""),e.R7$(3),e.SpI("Created: ",e.i5U(39,42,null==n.signatureDocument?null:n.signatureDocument.createdAt,"MMMM d, y, h:mm:ss"),""),e.R7$(3),e.SpI("Executed: ",e.i5U(42,45,null==n.signatureDocument?null:n.signatureDocument.executedAt,"MMMM d, y, h:mm:ss"),""))},dependencies:[h.vh],styles:["[_nghost-%COMP%]{display:block}.event-details[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;grid-gap:30px;padding:15px 0}.event-details__container[_ngcontent-%COMP%]{padding:15px;font-size:14px;font-weight:400;background:#f6f7f9;border-radius:5px}.event-details__container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}.event-details__title[_ngcontent-%COMP%]{font-size:16px;color:#444}.event-details__table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}.event-details__table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .event-details__table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px 10px}.event-details__table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, .event-details__table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-right:1px solid #ddd}.instance-id[_ngcontent-%COMP%]{color:bluet}"],changeDetection:0})}return a})();function Mv(a,r){if(1&a&&(e.j41(0,"mat-option",13),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("value",t),e.R7$(),e.SpI(" ",t," ")}}function Nv(a,r){1&a&&(e.j41(0,"fieldset")(1,"mat-form-field",3)(2,"mat-label"),e.EFF(3,"Created"),e.k0s(),e.nrm(4,"input",14),e.k0s(),e.j41(5,"mat-form-field",15)(6,"mat-label"),e.EFF(7,"Executed"),e.k0s(),e.nrm(8,"input",16),e.k0s()()),2&a&&(e.R7$(4),e.Y8G("readonly",!0),e.R7$(4),e.Y8G("readonly",!0))}function Vv(a,r){1&a&&(e.j41(0,"th",17),e.EFF(1,"Actions"),e.k0s())}function Gv(a,r){if(1&a){const t=e.RV6();e.j41(0,"td",18)(1,"div",19)(2,"button",20),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG();return e.Njj(o.onFileDownload(n))}),e.nrm(3,"i",21),e.k0s(),e.j41(4,"button",20),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG();return e.Njj(o.onFileRemove(n))}),e.nrm(5,"i",22),e.k0s()()()}}function Bv(a,r){if(1&a&&(e.j41(0,"td",18)(1,"div",23),e.nrm(2,"app-signtature-doc-details",24),e.k0s()()),2&a){const t=r.$implicit,i=e.XpG();e.BMQ("colspan",i.config.length),e.R7$(),e.Y8G("@detailExpand",t===i.expandedElement?"expanded":"collapsed"),e.R7$(),e.Y8G("signatureDocument",t)}}function Uv(a,r){1&a&&(e.qex(0),e.nrm(1,"app-spinner"),e.bVm())}let Lv=(()=>{class a{constructor(t,i,n,o,s){this.fb=t,this.cdr=i,this.serviceApi=n,this.dialog=o,this.service=s,this.config=sv,this.tableDataSource=new p.I6([]),this.isLoading$=this.service.getState$.pipe((0,b.T)(l=>l?.isLoading)),this.isLoaded$=this.service.getState$.pipe((0,b.T)(l=>l?.isLoaded)),this.destroy$=new y.B,this.signatureStatuses=Object.values(ga).map(l=>String(l)),this.displayedColumns=["name","description","type","created"],this.form=this.fb.group({status:new d.MJ(ga.COMPLETED,d.k0.required),createdAt:new d.MJ(void 0),executedAt:new d.MJ(void 0)}),this.isEditDocument=!1,this.isSignatureAdd=!1}get isFileUploaded(){return this.formData?.has("files")}ngOnInit(){this.tableDataSource.filterPredicate=xn,this.getAllSignatures(!0),this.service.getState$.pipe((0,b.T)(t=>t?.documents),(0,T.Q)(this.destroy$)).subscribe(t=>{if(0===t?.length)this.isSignatureAdd=!0;else{this.selectedSignature=t[0];const i=new h.vh("en-US");this.form.patchValue({status:this.selectedSignature.status,executedAt:i.transform(this.selectedSignature.executedAt,"dd MMM YYYY"),createdAt:i.transform(this.selectedSignature.createdAt,"dd MMM YYYY HH:mm:ss")}),this.tableDataSource.data=this.selectedSignature.signatureDocument}})}ngOnDestroy(){this.destroy$.next(),this.isEditDocument=!1}onAddDocument(){this.isEditDocument=!0}onCancelEditDocument(){this.isEditDocument=!1}onSave(){this.mapFormToEntity()}onFileSelected(t){this.formData=t}onFileRemove(t){this.dialog.open(fa.f,{width:"400px",data:{title:"Delete Document",message:`You are about to delete a ${t.name} document with files`,button:"DELETE"}}).afterClosed().pipe((0,T.Q)(this.destroy$),(0,W.p)(n=>!!n),(0,J.n)(()=>this.service.deleteDocument(t.id))).subscribe()}onFileDownload(t){this.service.onLoadFiles(t).pipe((0,T.Q)(this.destroy$)).subscribe()}showDetail(t){this.expandedElement=t}mapFormToEntity(){this.uploadProgress=1;const i=this.serviceApi.addSignature(this.formData).pipe((0,T.Q)(this.destroy$),(0,V.j)(()=>this.reset()));this.uploadSub=i.subscribe({next:n=>{n.type===Ye.hv.UploadProgress&&(this.uploadProgress=Math.round(n.loaded/n.total*100)),this.cdr.markForCheck()},error:()=>{this.uploadProgress=void 0}})}getAllSignatures(t=!1){this.service.loadAll(this.userId,t).pipe((0,T.Q)(this.destroy$)).subscribe()}reset(){this.uploadSub?.unsubscribe(),this.isEditDocument=!1,this.form.reset(),this.uploadProgress=null,this.uploadSub=null,this.getAllSignatures(!0)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(d.ok),e.rXU(e.gRc),e.rXU(_a),e.rXU(Je.bZ),e.rXU(In))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-transaction-docs"]],inputs:{userId:"userId"},features:[e.Jv_([_a,Sn,In])],decls:23,vars:11,consts:[[1,"w-500px"],[1,"pd-10-f"],[1,"inputs-wrap",3,"formGroup"],["appearance","outline",1,"size-wider"],["appendTo","body","formControlName","status"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"docs-wrapper","w-500px","pd-b-20-f"],[3,"expandDetail","dataSource","withDetails","columns"],["matColumnDef","..."],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","expandedDetail"],[3,"value"],["matInput","","type","text","formControlName","createdAt",3,"readonly"],["appearance","outline",1,"size-smaller"],["matInput","","type","text","formControlName","executedAt",3,"readonly"],["mat-header-cell",""],["mat-cell",""],[1,"flex"],["type","button",1,"action-button",3,"click"],[1,"fas","fa-download"],[1,"fas","fa-trash"],[1,"cell-detail"],[3,"signatureDocument"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"mat-card-header",1)(2,"mat-card-title"),e.EFF(3,"Signature"),e.k0s()(),e.j41(4,"div",2)(5,"mat-form-field",3)(6,"mat-label"),e.EFF(7,"Status"),e.k0s(),e.j41(8,"mat-select",4),e.DNE(9,Mv,2,2,"mat-option",5),e.k0s()(),e.DNE(10,Nv,9,2,"fieldset",6),e.k0s()(),e.j41(11,"div",7)(12,"mat-card-header",1)(13,"mat-card-title"),e.EFF(14,"Signature Documents"),e.k0s()(),e.j41(15,"app-table",8),e.bIt("expandDetail",function(s){return n.showDetail(s)}),e.qex(16,9),e.DNE(17,Vv,2,0,"th",10)(18,Gv,6,0,"td",11),e.bVm(),e.qex(19,12),e.DNE(20,Bv,3,3,"td",11),e.bVm(),e.k0s()(),e.DNE(21,Uv,2,0,"ng-container",6),e.nI1(22,"async")),2&i&&(e.R7$(4),e.Y8G("formGroup",n.form),e.R7$(5),e.Y8G("ngForOf",n.signatureStatuses),e.R7$(),e.Y8G("ngIf",!n.isSignatureAdd),e.R7$(),e.AVh("emptyData",!n.tableDataSource.data.length),e.R7$(4),e.Y8G("dataSource",n.tableDataSource)("withDetails",!0)("columns",n.config),e.R7$(6),e.Y8G("ngIf",e.bMT(22,9,n.isLoading$)))},dependencies:[h.Sq,h.bT,d.me,d.BC,d.cb,d.j4,d.JD,En,p.tL,p.cC,p.YV,p.KS,p.$R,Q.MM,Q.dh,Le.t,ue.rl,ue.nJ,We.fg,gt.VO,ze.wT,$v,h.Jj],styles:['.inputs-wrap[_ngcontent-%COMP%]{margin-top:10px}.w-500px[_ngcontent-%COMP%]{width:500px}mat-form-field[_ngcontent-%COMP%]{margin:0 16px;width:calc(100% - 32px)!important}mat-form-field.size-third[_ngcontent-%COMP%]{width:calc(33.33% - 32px)!important}mat-form-field.size-two-third[_ngcontent-%COMP%]{width:calc(66.66% - 32px)!important}mat-form-field.size-smaller[_ngcontent-%COMP%]{width:calc(40% - 32px)!important}mat-form-field.size-wider[_ngcontent-%COMP%]{width:calc(60% - 32px)!important}.create_docs-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin:0 15px}.docs-wrapper[_ngcontent-%COMP%]{position:relative;min-height:300px}.docs-wrapper.emptyData[_ngcontent-%COMP%]:after{content:"No Data";position:absolute;top:50%;left:40%}.flex[_ngcontent-%COMP%]{display:flex!important}'],data:{animation:lv},changeDetection:0})}return a})();const Yv=["originalorderid_confirm_content"],qv=["payment_status_confirm_content"],Wv=["update_confirm_content"],Xv=["status_confirm_content"],zv=["amount_confirm_content"],Hv=["delete_confirm_content"],Rt=a=>({"has-error":a});function Kv(a,r){1&a&&e.nrm(0,"span",95)}function Jv(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",93),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.flagValue())}),e.DNE(1,Kv,1,0,"span",94),e.EFF(2),e.k0s()}if(2&a){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",t.flagInProgress),e.R7$(),e.SpI(" ",t.flagText()," ")}}function Qv(a,r){if(1&a&&e.nrm(0,"app-admin-details-item",98),2&a){const t=e.XpG(3);e.Y8G("value",null==t.data?null:t.data.address)}}function Zv(a,r){1&a&&(e.j41(0,"div",100)(1,"small"),e.EFF(2," Address is required "),e.k0s()())}function ey(a,r){if(1&a&&(e.j41(0,"div",67)(1,"label",56),e.EFF(2," End User Address "),e.j41(3,"span",69),e.EFF(4,"*"),e.k0s()(),e.nrm(5,"input",99),e.DNE(6,Zv,3,0,"div",73),e.k0s()),2&a){const t=e.XpG(3);e.R7$(5),e.Y8G("ngClass",e.eq3(2,Rt,!t.form.controls.address.valid)),e.R7$(),e.Y8G("ngIf",(t.form.controls.address.touched||t.submitted)&&(null==t.form.controls.address.errors?null:t.form.controls.address.errors.required))}}function ty(a,r){if(1&a&&(e.j41(0,"div",82)(1,"div",96),e.DNE(2,Qv,1,1,"app-admin-details-item",97)(3,ey,7,4,"div",48),e.k0s()()),2&a){const t=e.XpG(2);e.R7$(2),e.Y8G("ngIf",t.isTransactionNotDepositOrWithdrawal&&!t.editableDestination),e.R7$(),e.Y8G("ngIf",t.isTransactionNotDepositOrWithdrawal&&t.editableDestination)}}function ay(a,r){if(1&a&&(e.j41(0,"div",55)(1,"label",101),e.EFF(2," Docs Check "),e.nrm(3,"div",51),e.k0s(),e.nrm(4,"input",102),e.k0s()),2&a){let t;const i=e.XpG(2);e.R7$(3),e.Y8G("ngClass",null!==(t=null==i.data?null:i.data.kycStatusColor)&&void 0!==t?t:""),e.R7$(),e.Y8G("value",i.kycStatus)}}function ny(a,r){if(1&a&&(e.j41(0,"div",67)(1,"label",101),e.EFF(2," Docs Check "),e.nrm(3,"div",51),e.k0s(),e.nrm(4,"ng-select",103),e.k0s()),2&a){let t;const i=e.XpG(2);e.R7$(3),e.Y8G("ngClass",null!==(t=null==i.data?null:i.data.kycStatusColor)&&void 0!==t?t:""),e.R7$(),e.Y8G("items",i.kycStatuses)("clearable",!1)("clearOnBackspace",!1)}}function iy(a,r){if(1&a&&e.nrm(0,"app-admin-details-item",104),2&a){const t=e.XpG(2);e.Y8G("value",t.accountStatus)}}function ry(a,r){if(1&a&&(e.j41(0,"div",67)(1,"label",56),e.EFF(2," Account Status "),e.j41(3,"span",69),e.EFF(4,"*"),e.k0s()(),e.nrm(5,"ng-select",105),e.k0s()),2&a){const t=e.XpG(2);e.R7$(5),e.Y8G("items",t.accountStatuses)("clearable",!1)("clearOnBackspace",!1)}}function oy(a,r){if(1&a&&e.nrm(0,"app-admin-details-item",106),2&a){const t=e.XpG(2);e.Y8G("value",t.transactionStatusName)}}function sy(a,r){if(1&a&&(e.j41(0,"div",67)(1,"label",56),e.EFF(2," Transaction status "),e.j41(3,"span",69),e.EFF(4,"*"),e.k0s()(),e.nrm(5,"ng-select",107),e.k0s()),2&a){const t=e.XpG(2);e.R7$(5),e.Y8G("items",t.transactionStatuses)("clearable",!1)("clearOnBackspace",!1)}}function ly(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",44)(1,"div",67)(2,"label",56),e.EFF(3," Recall registered date "),e.k0s(),e.j41(4,"input",109,7),e.bIt("click",function(){e.eBV(t);const n=e.sdS(5);return e.Njj(n.toggle())}),e.k0s()()()}}function dy(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",18)(1,"div",44)(2,"div",67)(3,"label",56),e.EFF(4),e.k0s(),e.j41(5,"input",108,6),e.bIt("click",function(){e.eBV(t);const n=e.sdS(6);return e.Njj(n.toggle())}),e.k0s()()(),e.DNE(7,ly,6,0,"div",78),e.k0s()}if(2&a){const t=e.XpG(2);e.R7$(4),e.SpI(" ",t.form.controls.transactionStatus.value===t.TRANSACTION_STATUS.Chargeback?"Chargeback refunded":"Refunded date"," "),e.R7$(3),e.Y8G("ngIf",t.form.controls.recallNumber.value)}}function cy(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",67)(1,"label",56),e.EFF(2," Recall number "),e.k0s(),e.j41(3,"div",110),e.nrm(4,"input",111),e.j41(5,"button",112),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToRecallNumber())}),e.j41(6,"mat-icon"),e.EFF(7,"link"),e.k0s()()()()}if(2&a){const t=e.XpG(2);e.R7$(4),e.Y8G("ngClass",e.eq3(2,Rt,!t.form.controls.recallNumber.valid)),e.R7$(),e.Y8G("disabled",!(null!=t.data&&t.data.paymentOrderRecallNumberLink))}}function my(a,r){1&a&&(e.j41(0,"div",113),e.nrm(1,"img",114),e.k0s())}function py(a,r){if(1&a&&(e.EFF(0),e.nrm(1,"br"),e.j41(2,"small"),e.EFF(3),e.k0s()),2&a){const t=r.item;e.SpI(" ",t.title," "),e.R7$(3),e.JRh(t.id)}}function uy(a,r){if(1&a&&(e.j41(0,"div",67)(1,"label",56),e.EFF(2," Widget ID "),e.j41(3,"span",69),e.EFF(4,"*"),e.k0s()(),e.j41(5,"ng-select",115),e.nI1(6,"async"),e.DNE(7,py,4,2,"ng-template",116),e.k0s()()),2&a){const t=e.XpG(2);e.R7$(5),e.Y8G("items",e.bMT(6,4,t.widgetOptions$))("searchFn",t.widgetSearchFn)("clearable",!1)("clearOnBackspace",!1)}}function hy(a,r){if(1&a&&(e.j41(0,"div",18)(1,"div",44),e.nrm(2,"app-admin-details-item",117),e.k0s(),e.j41(3,"div",44),e.nrm(4,"app-admin-details-item",118),e.k0s()()),2&a){const t=e.XpG(2);e.R7$(2),e.Y8G("value",null==t.data?null:t.data.instrumentName),e.R7$(2),e.Y8G("value",null==t.data?null:t.data.paymentProvider)}}function fy(a,r){if(1&a&&(e.j41(0,"p",76),e.EFF(1),e.k0s()),2&a){const t=e.XpG(2);e.R7$(),e.SpI(" ",null==t.data?null:t.data.amountToSpend," ")}}function gy(a,r){if(1&a&&e.nrm(0,"input",119),2&a){const t=e.XpG(2);e.Y8G("ngClass",e.eq3(1,Rt,!t.form.controls.amountToSpend.valid))}}function _y(a,r){if(1&a&&(e.j41(0,"div",100)(1,"small"),e.EFF(2),e.k0s()()),2&a){const t=e.XpG(2);e.R7$(2),e.SpI(" ",t.amountToSpendTitle," is required ")}}function by(a,r){1&a&&(e.j41(0,"div",100)(1,"small"),e.EFF(2," Incorrect number value "),e.k0s()())}function vy(a,r){if(1&a&&(e.j41(0,"div",67)(1,"div",18)(2,"div",68)(3,"label",56),e.EFF(4," Merchant fee amount "),e.j41(5,"span",69),e.EFF(6,"*"),e.k0s()(),e.j41(7,"div",18)(8,"div",70)(9,"p",76),e.EFF(10),e.k0s()(),e.j41(11,"div",74),e.nrm(12,"ng-select",77),e.k0s()()()()()),2&a){const t=e.XpG(2);e.R7$(10),e.SpI(" ",null==t.data?null:t.data.merchantAmountToReceive," "),e.R7$(2),e.Y8G("items",t.currenciesToReceive)("clearable",!1)("clearOnBackspace",!1)}}function yy(a,r){1&a&&(e.j41(0,"div",100)(1,"small"),e.EFF(2," Rate is required "),e.k0s()())}function Cy(a,r){1&a&&(e.j41(0,"div",100)(1,"small"),e.EFF(2," Incorrect number value "),e.k0s()())}function ky(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",67)(1,"label",56),e.EFF(2," Exchange rate "),e.j41(3,"span",69),e.EFF(4,"*"),e.k0s(),e.j41(5,"a",120),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.updateRate())}),e.EFF(6," Set current "),e.k0s()(),e.nrm(7,"input",121),e.DNE(8,yy,3,0,"div",73)(9,Cy,3,0,"div",73),e.k0s()}if(2&a){const t=e.XpG(2);e.R7$(5),e.Y8G("routerLink",null),e.R7$(2),e.Y8G("ngClass",e.eq3(4,Rt,!t.form.controls.rate.valid)),e.R7$(),e.Y8G("ngIf",(t.form.controls.rate.touched||t.submitted)&&(null==t.form.controls.rate.errors?null:t.form.controls.rate.errors.required)),e.R7$(),e.Y8G("ngIf",null==t.form.controls.rate.errors?null:t.form.controls.rate.errors.pattern)}}function Fy(a,r){if(1&a&&(e.j41(0,"div",44),e.nrm(1,"app-admin-details-item",122),e.k0s()),2&a){const t=e.XpG(2);e.R7$(),e.Y8G("label",t.systemFeeTitle)("value",null==t.data?null:t.data.fees)}}function Ty(a,r){if(1&a&&(e.j41(0,"div",44)(1,"div",67)(2,"div",18)(3,"div",68)(4,"label",56),e.EFF(5," Fee, % "),e.j41(6,"span",69),e.EFF(7,"*"),e.k0s()(),e.j41(8,"div",18)(9,"div",123),e.nrm(10,"input",124),e.k0s(),e.j41(11,"div",125)(12,"p",126),e.EFF(13),e.k0s()()()()()()()),2&a){const t=e.XpG(2);e.R7$(13),e.SpI(" \u2248 ",t.feePercentFiat," ")}}function xy(a,r){if(1&a&&(e.j41(0,"div",67)(1,"div",18)(2,"div",68)(3,"label",56),e.EFF(4," Merchant Fee, % "),e.j41(5,"span",69),e.EFF(6,"*"),e.k0s()(),e.j41(7,"div",18)(8,"div",123),e.nrm(9,"input",127),e.k0s(),e.j41(10,"div",125)(11,"p",126),e.EFF(12),e.k0s()()()()()()),2&a){const t=e.XpG(2);e.R7$(12),e.SpI(" \u2248 ",t.merchantFeeFiat," ")}}function wy(a,r){if(1&a&&e.nrm(0,"app-admin-details-item",128),2&a){const t=e.XpG(2);e.Y8G("value",null==t.data?null:t.data.interimWallet)}}function Sy(a,r){if(1&a&&e.nrm(0,"app-admin-details-item",129),2&a){const t=e.XpG(2);e.Y8G("value",null==t.data?null:t.data.sourceWallet)}}function Dy(a,r){if(1&a){const t=e.RV6();e.j41(0,"mat-chip",136),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG(4);return e.Njj(o.navigateToKrakenTrades(n))}),e.j41(1,"span",137),e.EFF(2),e.k0s()()}if(2&a){const t=r.$implicit;e.R7$(2),e.JRh(t)}}function Iy(a,r){if(1&a&&(e.j41(0,"div",67)(1,"div",18)(2,"div",68)(3,"label",56),e.EFF(4," Original exchange trade IDs "),e.k0s(),e.j41(5,"mat-chip-listbox"),e.DNE(6,Dy,3,1,"mat-chip",135),e.k0s()()()()),2&a){const t=e.XpG(3);e.R7$(6),e.Y8G("ngForOf",null==t.data?null:t.data.trades)}}function Ey(a,r){if(1&a&&(e.j41(0,"div",80)(1,"div",20)(2,"h5",21),e.EFF(3," Exchange "),e.k0s(),e.nrm(4,"app-admin-details-item",130)(5,"app-admin-details-item",131),e.DNE(6,Iy,7,1,"div",48),e.nrm(7,"app-admin-details-item",132)(8,"app-admin-details-item",133)(9,"app-admin-details-item",134),e.k0s()()),2&a){const t=e.XpG(2);e.R7$(4),e.Y8G("value",null==t.data?null:t.data.exchangeOrderId),e.R7$(),e.Y8G("value",null==t.data?null:t.data.exchanged),e.R7$(),e.Y8G("ngIf",null==t.data?null:t.data.trades.length),e.R7$(),e.Y8G("value",null==t.data?null:t.data.exchangeState),e.R7$(),e.Y8G("value",null==t.data?null:t.data.exchangeStatus),e.R7$(),e.Y8G("value",null==t.data?null:t.data.exchangeStatusReason)}}function Py(a,r){1&a&&(e.j41(0,"div",67)(1,"label",56),e.EFF(2," Benchmark transfer hash "),e.k0s(),e.nrm(3,"input",142),e.k0s())}function Ay(a,r){if(1&a&&(e.j41(0,"div",44)(1,"div",20)(2,"h5",21),e.EFF(3," Benchmark Transfer details "),e.k0s(),e.nrm(4,"app-admin-details-item",138),e.DNE(5,Py,4,0,"div",48),e.nrm(6,"app-admin-details-item",139)(7,"app-admin-details-item",140)(8,"app-admin-details-item",141),e.k0s()()),2&a){const t=e.XpG(2);e.R7$(4),e.Y8G("value",null==t.data?null:t.data.benchmarkTransferOriginalOrderId),e.R7$(),e.Y8G("ngIf",null==t.data?null:t.data.benchmarkTransferOrderId),e.R7$(),e.Y8G("value",t.benchmarkTransferOrderBlockchainLink)("linkUrl",t.benchmarkTransferOrderBlockchainLink),e.R7$(),e.Y8G("value",null==t.data?null:t.data.benchmarkStatus),e.R7$(),e.Y8G("value",null==t.data?null:t.data.benchmarkSubStatus)}}function Ry(a,r){1&a&&(e.j41(0,"div",67)(1,"label",56),e.EFF(2," End-user transfer hash "),e.k0s(),e.nrm(3,"input",147),e.k0s())}function Oy(a,r){if(1&a&&(e.j41(0,"div",18)(1,"div",44),e.nrm(2,"app-admin-details-item",117),e.k0s(),e.j41(3,"div",44),e.nrm(4,"app-admin-details-item",118),e.k0s()()),2&a){const t=e.XpG(3);e.R7$(2),e.Y8G("value",null==t.data?null:t.data.instrumentName),e.R7$(2),e.Y8G("value",null==t.data?null:t.data.paymentProvider)}}function jy(a,r){if(1&a&&(e.j41(0,"div",44)(1,"div",20)(2,"h5",21),e.EFF(3," End-user Transfer details "),e.k0s(),e.nrm(4,"app-admin-details-item",143),e.DNE(5,Ry,4,0,"div",48),e.nrm(6,"app-admin-details-item",144)(7,"app-admin-details-item",145)(8,"app-admin-details-item",146),e.DNE(9,Oy,5,2,"div",53),e.k0s()()),2&a){const t=e.XpG(2);e.R7$(4),e.Y8G("value",null==t.data?null:t.data.transferOriginalOrderId),e.R7$(),e.Y8G("ngIf",null==t.data?null:t.data.transferOrderId),e.R7$(),e.Y8G("value",t.transferOrderBlockchainLink)("linkUrl",t.transferOrderBlockchainLink),e.R7$(),e.Y8G("value",null==t.data?null:t.data.transferStatus),e.R7$(),e.Y8G("value",null==t.data?null:t.data.transferSubStatus),e.R7$(),e.Y8G("ngIf",t.isSellTransactionType)}}function $y(a,r){if(1&a&&(e.j41(0,"div",20)(1,"h5",21),e.EFF(2," Merchant fee transfer details "),e.k0s(),e.nrm(3,"app-admin-details-item",148)(4,"app-admin-details-item",149)(5,"app-admin-details-item",150)(6,"app-admin-details-item",151)(7,"app-admin-details-item",152),e.k0s()),2&a){const t=e.XpG(2);e.R7$(3),e.Y8G("value",null==t.data?null:t.data.merchantTransferOriginalOrderId),e.R7$(),e.Y8G("value",null==t.data?null:t.data.merchantTransferHash),e.R7$(),e.Y8G("value",null==t.data?null:t.data.merchantFeeTransferOrderBlockchainLink)("linkUrl",null==t.data?null:t.data.merchantFeeTransferOrderBlockchainLink),e.R7$(),e.Y8G("value",null==t.data?null:t.data.merchantTransferStatus),e.R7$(),e.Y8G("value",null==t.data?null:t.data.merchantTransferSubStatus)}}function My(a,r){1&a&&e.nrm(0,"span",95)}function Ny(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",160),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onDelete())}),e.DNE(1,My,1,0,"span",94),e.EFF(2," Cancel "),e.k0s()}if(2&a){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",t.cancelInProgress)}}function Vy(a,r){1&a&&e.nrm(0,"span",95)}function Gy(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",161),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onPaid())}),e.DNE(1,Vy,1,0,"span",94),e.EFF(2," Paid "),e.k0s()}if(2&a){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",t.saveInProgress)}}function By(a,r){1&a&&e.nrm(0,"span",95)}function Uy(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",162),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onExchange())}),e.DNE(1,By,1,0,"span",94),e.EFF(2," Exchange "),e.k0s()}if(2&a){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",t.saveInProgress)}}function Ly(a,r){1&a&&e.nrm(0,"span",95)}function Yy(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",163),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onDeclined())}),e.DNE(1,Ly,1,0,"span",94),e.EFF(2," Decline Payment "),e.k0s()}if(2&a){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",t.saveInProgress)}}function qy(a,r){1&a&&e.nrm(0,"span",95)}function Wy(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",164)(1,"button",165),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onSubmit())}),e.DNE(2,qy,1,0,"span",94),e.EFF(3," Save "),e.k0s(),e.j41(4,"button",166),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onClose())}),e.EFF(5," Close "),e.k0s()()}if(2&a){const t=e.XpG(3);e.R7$(),e.Y8G("disabled",!t.form.valid),e.R7$(),e.Y8G("ngIf",t.saveInProgress)}}function Xy(a,r){if(1&a&&(e.j41(0,"div",153)(1,"div",154),e.DNE(2,Ny,3,1,"button",155)(3,Gy,3,1,"button",156)(4,Uy,3,1,"button",157)(5,Yy,3,1,"button",158),e.k0s(),e.DNE(6,Wy,6,2,"div",159),e.k0s()),2&a){const t=e.XpG(2);e.R7$(2),e.Y8G("ngIf",t.removable&&(null==t.data?null:t.data.canBeCancelled)),e.R7$(),e.Y8G("ngIf",!t.isReceiveTransactionType&&!t.notPaidStatuses.includes(t.transactionStatus)),e.R7$(),e.Y8G("ngIf",t.exchangeStatuses.includes(t.transactionStatus)),e.R7$(),e.Y8G("ngIf",!t.isReceiveTransactionType&&(null==t.data?null:t.data.canBeReviewed)),e.R7$(),e.Y8G("ngIf",!t.isReceiveTransactionType)}}function zy(a,r){if(1&a&&(e.j41(0,"div",167)(1,"h4",168),e.EFF(2),e.k0s()()),2&a){const t=e.XpG(2);e.R7$(2),e.SpI(" ",t.errorMessage," ")}}function Hy(a,r){1&a&&(e.qex(0),e.nrm(1,"app-spinner"),e.bVm())}function Ky(a,r){if(1&a){const t=e.RV6();e.j41(0,"form",14)(1,"div",15),e.DNE(2,Jv,3,2,"button",16),e.j41(3,"button",17),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.refreshTransaction(null==n.data?null:n.data.id))}),e.EFF(4," Refresh Transaction "),e.k0s()(),e.j41(5,"div",18)(6,"div",19)(7,"div",20)(8,"h5",21),e.EFF(9," Transaction info "),e.k0s(),e.j41(10,"div",18)(11,"div",22),e.nrm(12,"app-admin-details-item",23),e.k0s(),e.j41(13,"div",22),e.nrm(14,"app-admin-details-item",24),e.k0s(),e.j41(15,"div",22),e.nrm(16,"app-admin-details-item",25),e.k0s()(),e.j41(17,"div",18)(18,"div",22),e.nrm(19,"app-admin-details-item",26),e.k0s(),e.j41(20,"div",22),e.nrm(21,"app-admin-details-item",27),e.k0s(),e.j41(22,"div",22),e.nrm(23,"app-admin-details-item",28),e.k0s()(),e.nrm(24,"app-admin-details-item",29)(25,"app-admin-details-item",30),e.k0s()(),e.j41(26,"div",19)(27,"div",20)(28,"h5",21),e.EFF(29," Customer "),e.k0s(),e.j41(30,"div",18)(31,"div",31),e.nrm(32,"app-admin-details-item",32),e.k0s(),e.j41(33,"div",31),e.nrm(34,"app-admin-details-item",33),e.k0s(),e.j41(35,"div",34),e.nrm(36,"app-admin-details-item",35),e.k0s()(),e.j41(37,"div",18),e.DNE(38,ty,4,2,"div",36),e.j41(39,"div",37),e.nrm(40,"app-admin-details-item",38),e.k0s()(),e.j41(41,"div",18)(42,"div",31),e.nrm(43,"app-admin-details-item",39),e.k0s(),e.j41(44,"div",31),e.nrm(45,"app-admin-details-item",40),e.k0s(),e.j41(46,"div",34),e.nrm(47,"app-admin-details-item",41),e.k0s()(),e.nrm(48,"app-admin-details-item",42),e.k0s()(),e.j41(49,"div",43)(50,"div",20)(51,"h5",21),e.EFF(52," KYC "),e.k0s(),e.j41(53,"div",18)(54,"div",44),e.nrm(55,"app-admin-details-item",45),e.k0s(),e.j41(56,"div",44),e.nrm(57,"app-admin-details-item",46),e.k0s()(),e.DNE(58,ay,5,2,"div",47)(59,ny,5,4,"div",48)(60,iy,1,1,"app-admin-details-item",49)(61,ry,6,3,"div",48),e.k0s()()(),e.j41(62,"div",18)(63,"div",22)(64,"div",20)(65,"h5",50),e.EFF(66," Status "),e.nrm(67,"div",51),e.k0s(),e.DNE(68,oy,1,1,"app-admin-details-item",52)(69,sy,6,3,"div",48)(70,dy,8,2,"div",53)(71,cy,8,4,"div",48),e.nrm(72,"app-admin-details-item",54),e.j41(73,"div",55)(74,"label",56),e.EFF(75," Answer screening "),e.k0s(),e.nrm(76,"input",57),e.k0s(),e.j41(77,"div",55)(78,"label",56),e.EFF(79," Riscscore screening "),e.k0s(),e.nrm(80,"input",58),e.k0s(),e.j41(81,"div",55)(82,"label",56),e.EFF(83," Status screening "),e.k0s(),e.nrm(84,"input",59),e.k0s(),e.j41(85,"div",18)(86,"div",43),e.nrm(87,"app-admin-details-item",60),e.k0s(),e.j41(88,"div",61),e.nrm(89,"app-admin-details-item",62),e.k0s()()()(),e.j41(90,"div",19)(91,"div",20)(92,"h5",50),e.EFF(93," Payment Details "),e.DNE(94,my,2,0,"div",63),e.k0s(),e.DNE(95,uy,8,6,"div",48)(96,hy,5,2,"div",53),e.j41(97,"div",18)(98,"div",64),e.nrm(99,"app-admin-details-item",65),e.k0s(),e.j41(100,"div",22),e.nrm(101,"app-admin-details-item",66),e.k0s()(),e.j41(102,"div",67)(103,"div",18)(104,"div",68)(105,"label",56),e.EFF(106),e.j41(107,"span",69),e.EFF(108,"*"),e.k0s()(),e.j41(109,"div",18)(110,"div",70),e.DNE(111,fy,2,1,"p",71)(112,gy,1,3,"input",72)(113,_y,3,1,"div",73)(114,by,3,0,"div",73),e.k0s(),e.j41(115,"div",74),e.nrm(116,"ng-select",75),e.k0s()()()()(),e.j41(117,"div",67)(118,"div",18)(119,"div",68)(120,"label",56),e.EFF(121," End-user Amount "),e.j41(122,"span",69),e.EFF(123,"*"),e.k0s()(),e.j41(124,"div",18)(125,"div",70)(126,"p",76),e.EFF(127),e.k0s()(),e.j41(128,"div",74),e.nrm(129,"ng-select",77),e.k0s()()()()(),e.DNE(130,vy,13,4,"div",48)(131,ky,10,6,"div",48),e.j41(132,"div",18),e.DNE(133,Fy,2,2,"div",78)(134,Ty,14,1,"div",78),e.j41(135,"div",44),e.DNE(136,xy,13,1,"div",48),e.k0s()(),e.nrm(137,"app-admin-details-item",79),e.j41(138,"div",18)(139,"div",80),e.nrm(140,"app-admin-details-item",81),e.k0s(),e.j41(141,"div",82),e.nrm(142,"app-admin-details-item",83),e.k0s()(),e.DNE(143,wy,1,1,"app-admin-details-item",84)(144,Sy,1,1,"app-admin-details-item",85),e.nrm(145,"app-admin-details-item",86),e.k0s()(),e.DNE(146,Ey,10,6,"div",87),e.k0s(),e.j41(147,"div",18),e.DNE(148,Ay,9,6,"div",78)(149,jy,10,7,"div",78),e.k0s(),e.j41(150,"div",18)(151,"div",44),e.DNE(152,$y,8,6,"div",88),e.k0s(),e.j41(153,"div",44)(154,"div",20)(155,"div",67)(156,"label",56),e.EFF(157," Actions "),e.k0s(),e.nrm(158,"textarea",89),e.k0s(),e.DNE(159,Xy,7,5,"div",90),e.k0s()()(),e.DNE(160,zy,3,1,"div",91),e.k0s(),e.DNE(161,Hy,2,0,"ng-container",92)}if(2&a){let t,i;const n=e.XpG();e.Y8G("formGroup",n.form),e.R7$(2),e.Y8G("ngIf",n.permission>1),e.R7$(10),e.Y8G("value",null==n.data?null:n.data.code),e.R7$(2),e.Y8G("value",null==n.data?null:n.data.transactionTypeName),e.R7$(2),e.Y8G("value",null==n.data?null:n.data.transactionSourceName),e.R7$(3),e.Y8G("value",null==n.data?null:n.data.created),e.R7$(2),e.Y8G("value",null==n.data?null:n.data.executed),e.R7$(2),e.Y8G("value",null==n.data?null:n.data.updated),e.R7$(),e.Y8G("value",null==n.data?null:n.data.sender),e.R7$(),e.Y8G("value",null==n.data?null:n.data.recipient),e.R7$(7),e.Y8G("value",null==n.data||null==n.data.user?null:n.data.user.firstName),e.R7$(2),e.Y8G("value",null==n.data||null==n.data.user?null:n.data.user.lastName),e.R7$(2),e.Y8G("value",null==n.data||null==n.data.user?null:n.data.user.email),e.R7$(2),e.Y8G("ngIf",!n.isSellTransactionType),e.R7$(2),e.Y8G("value",null==n.data?null:n.data.userModeName),e.R7$(3),e.Y8G("value",null==n.data||null==n.data.user?null:n.data.user.country),e.R7$(2),e.Y8G("value",null==n.data?null:n.data.ip),e.R7$(2),e.Y8G("value",null==n.data?null:n.data.accountId),e.R7$(),e.Y8G("value",null==n.data||null==n.data.user?null:n.data.user.company),e.R7$(7),e.Y8G("value",null==n.data||null==n.data.user?null:n.data.user.referralCode)("linkUrl","/admin/customers/"+(null==n.data||null==n.data.user?null:n.data.user.id))("smartLink",!0),e.R7$(2),e.Y8G("value",null==n.data?null:n.data.kycTier),e.R7$(),e.Y8G("ngIf",n.isReceiveTransactionType),e.R7$(),e.Y8G("ngIf",!n.isReceiveTransactionType),e.R7$(),e.Y8G("ngIf",n.isReceiveTransactionType),e.R7$(),e.Y8G("ngIf",!n.isReceiveTransactionType),e.R7$(6),e.Y8G("ngClass",null!==(t=null==n.data?null:n.data.transactionStatusColor)&&void 0!==t?t:""),e.R7$(),e.Y8G("ngIf",n.isReceiveTransactionType),e.R7$(),e.Y8G("ngIf",!n.isReceiveTransactionType),e.R7$(),e.Y8G("ngIf",n.form.controls.transactionStatus.value===n.TRANSACTION_STATUS.Chargeback||n.form.controls.transactionStatus.value===n.TRANSACTION_STATUS.Refund),e.R7$(),e.Y8G("ngIf",n.form.controls.transactionStatus.value===n.TRANSACTION_STATUS.Chargeback||n.form.controls.transactionStatus.value===n.TRANSACTION_STATUS.Refund),e.R7$(),e.Y8G("value",null==n.data?null:n.data.subStatus),e.R7$(4),e.Y8G("ngClass",null!==(i=null==n.data?null:n.data.screeningAnswerColor)&&void 0!==i?i:""),e.R7$(11),e.Y8G("value",null==n.data?null:n.data.risk),e.R7$(2),e.Y8G("value",null==n.data?null:n.data.riskCodes),e.R7$(5),e.Y8G("ngIf",n.isTransactionCompleted),e.R7$(),e.Y8G("ngIf",n.form.controls.widgetId.value),e.R7$(),e.Y8G("ngIf",!n.isSellTransactionType),e.R7$(3),e.Y8G("value",null==n.data?null:n.data.originalPaymentOrderId),e.R7$(2),e.Y8G("value",null==n.data?null:n.data.instrumentDetails),e.R7$(5),e.SpI(" ",n.amountToSpendTitle," "),e.R7$(5),e.Y8G("ngIf",n.isReceiveTransactionType),e.R7$(),e.Y8G("ngIf",!n.isReceiveTransactionType),e.R7$(),e.Y8G("ngIf",(n.form.controls.amountToSpend.touched||n.submitted)&&(null==n.form.controls.amountToSpend.errors?null:n.form.controls.amountToSpend.errors.required)),e.R7$(),e.Y8G("ngIf",null==n.form.controls.amountToSpend.errors?null:n.form.controls.amountToSpend.errors.pattern),e.R7$(2),e.Y8G("items",n.currenciesToSpend)("clearable",!1)("clearOnBackspace",!1),e.R7$(11),e.SpI(" ",null==n.data?null:n.data.amountToReceive," "),e.R7$(2),e.Y8G("items",n.currenciesToReceive)("clearable",!1)("clearOnBackspace",!1),e.R7$(),e.Y8G("ngIf",null==n.data?null:n.data.merchantAmountToReceive),e.R7$(),e.Y8G("ngIf",n.transactionType===n.TRANSACTION_TYPE.Buy||n.isSellTransactionType||n.transactionType===n.TRANSACTION_TYPE.Exchange),e.R7$(2),e.Y8G("ngIf",n.isReceiveTransactionType),e.R7$(),e.Y8G("ngIf",(null==n.data?null:n.data.feePercent)&&n.transactionType===n.TRANSACTION_TYPE.Buy),e.R7$(2),e.Y8G("ngIf",(null==n.data?null:n.data.merchantFeePercent)&&n.transactionType===n.TRANSACTION_TYPE.Buy),e.R7$(),e.Y8G("value",null==n.data?null:n.data.transferFee),e.R7$(3),e.Y8G("value",null==n.data?null:n.data.paymentStatus),e.R7$(2),e.Y8G("value",null==n.data?null:n.data.paymentStatusReason),e.R7$(),e.Y8G("ngIf",n.isSellTransactionType),e.R7$(),e.Y8G("ngIf",n.isSellTransactionType),e.R7$(),e.Y8G("value",n.instrumentDetailsData),e.R7$(),e.Y8G("ngIf",null==n.data?null:n.data.exchangeOrderId),e.R7$(2),e.Y8G("ngIf",null==n.data?null:n.data.benchmarkTransferOrder),e.R7$(),e.Y8G("ngIf",null==n.data?null:n.data.transferOrder),e.R7$(3),e.Y8G("ngIf",null==n.data?null:n.data.merchantTransferOrder),e.R7$(7),e.Y8G("ngIf",n.permission>1),e.R7$(),e.Y8G("ngIf",""!==n.errorMessage),e.R7$(),e.Y8G("ngIf",n.isTransactionRefreshing)}}function Jy(a,r){if(1&a&&(e.j41(0,"div",167)(1,"h4",168),e.EFF(2),e.k0s()()),2&a){const t=e.XpG(3);e.R7$(2),e.SpI(" ",t.errorMessage," ")}}function Qy(a,r){if(1&a&&(e.nrm(0,"app-raw-json",170),e.DNE(1,Jy,3,1,"div",91)),2&a){const t=e.XpG(2);e.Y8G("data",t.scriningData),e.R7$(),e.Y8G("ngIf",""!==t.errorMessage)}}function Zy(a,r){1&a&&(e.j41(0,"mat-tab",169),e.DNE(1,Qy,2,2,"ng-template",10),e.k0s())}function eC(a,r){if(1&a&&e.nrm(0,"app-raw-json",170),2&a){const t=e.XpG(2);e.Y8G("data",null==t.data?null:t.data.widgetUserParams)}}function tC(a,r){1&a&&(e.j41(0,"mat-tab",171),e.DNE(1,eC,1,1,"ng-template",10),e.k0s())}function aC(a,r){if(1&a&&e.nrm(0,"app-admin-transaction-docs",173),2&a){const t=e.XpG(2);e.Y8G("userId",null==t.data?null:t.data.id)}}function nC(a,r){1&a&&(e.j41(0,"mat-tab",172),e.DNE(1,aC,1,1,"ng-template",10),e.k0s())}function iC(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",174)(1,"h5",175),e.EFF(2,"Cancel transaction"),e.k0s(),e.j41(3,"button",176),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",177),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",178)(7,"h4",179),e.EFF(8," You are going to cancel selected transaction. Confirm operation. "),e.k0s(),e.j41(9,"div",180)(10,"button",181),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Reject"))}),e.EFF(11," Reject "),e.k0s(),e.j41(12,"button",182),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onConfirmDelete())}),e.EFF(13," Confirm "),e.k0s()()()}}function rC(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",174)(1,"h5",175),e.EFF(2,"Update transaction"),e.k0s(),e.j41(3,"button",176),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",177),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",178)(7,"h4",179),e.EFF(8," You are going to update transaction data. Confirm operation. "),e.k0s(),e.j41(9,"div",180)(10,"button",181),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Reject"))}),e.EFF(11," Reject "),e.k0s(),e.j41(12,"button",93),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onConfirmUpdate())}),e.EFF(13," Confirm "),e.k0s()()()}}function oC(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",174)(1,"h5",175),e.EFF(2,"Update transaction"),e.k0s(),e.j41(3,"button",176),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onChangeOriginaOrderIdCancel())}),e.j41(4,"span",177),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",178)(7,"label",56),e.EFF(8," Original order Id "),e.j41(9,"span",69),e.EFF(10,"*"),e.k0s()(),e.j41(11,"input",183),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.originalOrderId,n)||(o.originalOrderId=n),e.Njj(n)}),e.k0s(),e.j41(12,"div",180)(13,"button",184),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onChangeOriginaOrderIdConfirm())}),e.EFF(14," Save "),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(11),e.R50("ngModel",t.originalOrderId),e.R7$(2),e.Y8G("disabled",!t.originalOrderId)}}function sC(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",174)(1,"h5",175),e.EFF(2,"Update transaction"),e.k0s(),e.j41(3,"button",176),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",177),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",178)(7,"h4",179),e.EFF(8," You are going to change the transaction status. Should we restart the transaction handling after saving? "),e.k0s(),e.j41(9,"div",180)(10,"button",181),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onChangeTransactionStatusConfirm(0))}),e.EFF(11," No "),e.k0s(),e.j41(12,"button",93),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onChangeTransactionStatusConfirm(1))}),e.EFF(13," Yes "),e.k0s()()()}}function lC(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",174)(1,"h5",175),e.EFF(2,"Update transaction"),e.k0s(),e.j41(3,"button",176),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onChangePaymentCancel())}),e.j41(4,"span",177),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",178)(7,"h4",179),e.EFF(8," You are going to change the payment status. Are you sure want to chage to "),e.j41(9,"b"),e.EFF(10,"PAID"),e.k0s(),e.EFF(11," status? "),e.k0s(),e.j41(12,"div",180)(13,"button",181),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onChangePaymentCancel())}),e.EFF(14," No "),e.k0s(),e.j41(15,"button",93),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onChangePaymentConfirm())}),e.EFF(16," Yes "),e.k0s()()()}}function dC(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",174)(1,"h5",175),e.EFF(2,"Update transaction"),e.k0s(),e.j41(3,"button",176),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",177),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",178)(7,"h4",179),e.EFF(8," You are going to change the transaction amounts. Should we recalculate transaction after saving? "),e.k0s(),e.j41(9,"div",180)(10,"button",181),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onChangeTransactionAmountConfirm(0))}),e.EFF(11," No "),e.k0s(),e.j41(12,"button",93),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onChangeTransactionAmountConfirm(1))}),e.EFF(13," Yes "),e.k0s()()()}}let cC=(()=>{class a{set transaction(t){this.setFormData(t),this.setCurrencies(this.pCurrencies),this.pStatusHash=t?.statusHash??0,this.pAmountHash=t?.amountHash??0,this.pDefaultRate=t?.rate??0,t?.type===c.D_.Sell&&(this.amountToSpendTitle="Amount To Sell",this.currencyToSpendTitle="Currency To Sell"),this.systemFeeTitle=`Fee, ${t?.currencyFiat}`}set userStatuses(t){this.transactionStatuses=F.zh.map(i=>{const n=this.getTransactionStatusName(t,i);return{id:i.id,name:n}}),this.transactionStatus&&(this.transactionStatusName=this.transactionStatuses.find(i=>i.id===this.transactionStatus)?.name??"")}set currencies(t){this.pCurrencies=t,this.setCurrencies(t)}get merchantFeePercentField(){return this.form.controls.merchantFeePercent}get transactionStatusField(){return this.form.controls.transactionStatus}get merchantFeeFiat(){return`${(this.merchantFeePercentField.value/100*this.data.amountToSpend/this.data.rate).toFixed(8)}, ${this.data.currencyCrypto}`}get feePercentField(){return this.form.controls.feePercent}get feePercentFiat(){return`${(this.feePercentField?.value/100*this.data.amountToSpend).toFixed(2)}, ${this.data.currencyFiat}`}constructor(t,i,n,o,s,l,m,u,g){this.fb=t,this.router=i,this.auth=n,this.modalService=o,this.dialog=s,this.errorHandler=l,this.exchangeRate=m,this._snackBar=u,this.adminService=g,this.originalOrderIdDialogContent=void 0,this.paymentStatusConfirmContent=void 0,this.updateConfirmContent=void 0,this.statusConfirmContent=void 0,this.amountConfirmContent=void 0,this.deleteConfirmContent=void 0,this.permission=0,this.isScreeningInfo=!1,this.save=new e.bkB,this.close=new e.bkB,this.form=this.fb.group({address:this.fb.control(void 0),currencyToSpend:this.fb.control(void 0,d.k0.required),currencyToReceive:this.fb.control(void 0,d.k0.required),amountToSpend:this.fb.control(void 0,[d.k0.required,d.k0.pattern(de.n)]),rate:this.fb.control(void 0,[d.k0.required,d.k0.pattern(de.n)]),fees:this.fb.control(void 0,[d.k0.required,d.k0.pattern(de.n)]),transactionStatus:this.fb.control(c.x8.New,d.k0.required),kycStatus:this.fb.control(void 0,d.k0.required),accountStatus:this.fb.control(c.u1.Closed,d.k0.required),widgetId:this.fb.control(void 0),transferOrderHash:this.fb.control(void 0),transactionType:this.fb.control(void 0,d.k0.required),screeningAnswer:this.fb.control(void 0),screeningRiskscore:this.fb.control(void 0),screeningStatus:this.fb.control(void 0),benchmarkTransferOrderHash:this.fb.control(void 0),comment:this.fb.control(void 0),merchantFeePercent:this.fb.control(void 0),feePercent:this.fb.control(void 0),refundOrderAddress:this.fb.control(void 0),refundOrderAmount:this.fb.control(void 0),recallNumber:this.fb.control(void 0),reversalProcessed:this.fb.control(void 0),recallRegistered:this.fb.control(void 0)}),this.pStatusHash=0,this.pAmountHash=0,this.statusChanged=!1,this.amountChanged=!1,this.originalOrderIdChanged=!1,this.restartTransaction=!1,this.recalculateAmounts=!1,this.transactionToUpdate=void 0,this.pDefaultRate=0,this.pCurrencies=[],this.transactionTypes=F.ln,this.submitted=!1,this.saveInProgress=!1,this.flagInProgress=!1,this.cancelInProgress=!1,this.errorMessage="",this.TRANSACTION_TYPE=c.D_,this.TRANSACTION_STATUS=c.x8,this.data=void 0,this.accountStatuses=F._8,this.kycStatuses=F.yd,this.transactionStatuses=[],this.removable=!1,this.isFastPaid=!1,this.transactionId="",this.scriningData={},this.transactionType=c.D_.System,this.currenciesToSpend=[],this.currenciesToReceive=[],this.currentRate=0,this.transactionStatus=void 0,this.transactionStatusName="",this.notPaidStatuses=[c.x8.Completed,c.x8.Paid,c.x8.Exchanged,c.x8.Exchanging,c.x8.TransferBenchmarkWaiting],this.exchangeStatuses=[c.x8.Paid],this.isTransactionNotDepositOrWithdrawal=!1,this.isSellTransactionType=!1,this.isReceiveTransactionType=!1,this.isTransactionCompleted=!1,this.kycStatus="",this.accountStatus="",this.transferOrderBlockchainLink="",this.benchmarkTransferOrderBlockchainLink="",this.amountToSpendTitle="Amount To Buy",this.currencyToSpendTitle="Currency To Buy",this.systemFeeTitle="Fee, EUR",this.editableDestination=!1,this.flag=!1,this.transactionTypeSetting=void 0,this.originalOrderId=void 0,this.isTransactionRefreshing=!1,this.isTransactionDocsAllowed=0,this.instrumentDetailsData=[],this.paymentOrderChanges={},this.unsubscribe$=new y.B,this.isTransactionDocsAllowed=this.auth.isPermittedObjectCode(c.G4.Documents)}ngOnInit(){this.getSettingsCommon(),this.exchangeRate.register(this.onExchangeRateUpdated.bind(this)),this.form.controls.currencyToSpend.valueChanges.pipe((0,T.Q)(this.unsubscribe$)).subscribe(()=>this.startExchangeRate()),this.form.controls.currencyToReceive.valueChanges.pipe((0,T.Q)(this.unsubscribe$)).subscribe(()=>this.startExchangeRate()),this.form.controls.transactionStatus.valueChanges.pipe((0,T.Q)(this.unsubscribe$)).subscribe(t=>{const i=this.form.controls.recallNumber;t===c.x8.Chargeback?this.data.paymentOrder?i.setValidators([d.k0.required]):(this._snackBar.open(`The transaction ${this.data.code} does not have a payment order; therefore, you cannot set the Chargeback status for it. Please either use the Refund status instead or set the Paid status first and then the Chargeback status.`,null,{duration:1e4}),this.form.controls.transactionStatus.patchValue(this.data.status)):i.clearValidators(),t===c.x8.Paid&&(this.data.paymentOrder?!this.isTransactionCompleted&&!this.isFastPaid&&(this.paymentStatusChangeDialog=this.modalService.open(this.paymentStatusConfirmContent,{backdrop:"static",windowClass:"modalCusSty"})):this.onOriginalOrderModal()),i.updateValueAndValidity(),this.data.recallNumber||this.form.controls.recallNumber.patchValue(null),!this.data.paymentOrder&&this.originalOrderIdChanged&&(this.originalOrderId=null,this.paymentOrderChanges.originalOrderId=null)}),this.widgetOptions$=this.getFilteredWidgets(),this.data.paymentOrder&&this.isPaymentOrderCompleted(),this.isScreeningInfo&&(this.selectedTabIndex=1)}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete(),this.exchangeRate.stop()}onChangeOriginaOrderIdCancel(){this.form.controls.transactionStatus.patchValue(this.data.status),this.originalOrderDialog?.close(""),this.isFastPaid=!1}onChangeOriginaOrderIdConfirm(){this.originalOrderId&&(this.paymentOrderChanges.originalOrderId=this.originalOrderId,this.originalOrderIdChanged=!0),this.originalOrderDialog?.close(""),this.isFastPaid=!1}onChangePaymentCancel(){this.form.controls.transactionStatus.patchValue(this.data.status),this.onChangePaymentClose()}onChangePaymentConfirm(){this.isFastPaid?this.fastStatusChange(c.x8.Paid):this.onChangePaymentClose()}onChangePaymentClose(){this.isFastPaid=!1,this.paymentStatusChangeDialog?.close("")}onOriginalOrderModal(){this.data.paymentOrder||(this.originalOrderDialog=this.modalService.open(this.originalOrderIdDialogContent,{backdrop:"static",keyboard:!1,windowClass:"modalCusSty"}))}getFilteredWidgets(){return this.adminService.getWidgets(0,100,"name",!1,{}).pipe((0,b.T)(t=>t.list.map(i=>({id:i.id,title:i.name}))))}isPaymentOrderCompleted(){this.adminService.isPaymentOrderCompleted(this.data.id).pipe((0,T.Q)(this.unsubscribe$)).subscribe(t=>this.isTransactionCompleted=t)}widgetSearchFn(t,i){return t=t.toLocaleLowerCase(),i.title.toLocaleLowerCase().indexOf(t)>-1||i.id&&i.id.toLocaleLowerCase().indexOf(t)>-1}onExchangeRateUpdated(t,i,n,o){t&&(this.currentRate=t.depositRate)}startExchangeRate(){if(0===this.currenciesToSpend.length)return;const t=this.data?.currencyToSpend,n=this.currenciesToSpend.find(l=>l.symbol===t)?.fiat??!1,o=this.form.controls.currencyToSpend.value,s=this.form.controls.currencyToReceive.value;this.exchangeRate.setCurrency(n?o:s,n?s:o,c.D_.Buy),this.exchangeRate.update()}setCurrencies(t){if(this.data){const i=this.data?.currencyToSpend,n=t.find(o=>o.symbol===i);n&&(this.data.type===c.D_.Receive||this.data.type===c.D_.Transfer?(this.currenciesToSpend=t.filter(o=>!o.fiat),this.currenciesToReceive=t.filter(o=>!o.fiat)):this.data.type===c.D_.Deposit||this.data.type===c.D_.Withdrawal?(this.currenciesToSpend=t.filter(o=>o.fiat),this.currenciesToReceive=t.filter(o=>o.fiat)):(this.currenciesToSpend=t.filter(o=>o.fiat===n.fiat),this.currenciesToReceive=t.filter(o=>o.fiat===!n.fiat)),this.form.controls.currencyToSpend.setValue(this.data?.currencyToSpend),this.form.controls.currencyToReceive.setValue(this.data?.currencyToReceive)),this.startExchangeRate()}}setFormData(t){if(this.data=t,this.transactionId=t?.id??"",this.transactionType=t?.type??c.D_.System,this.isTransactionNotDepositOrWithdrawal=this.transactionType!==this.TRANSACTION_TYPE.Deposit&&this.transactionType!==this.TRANSACTION_TYPE.Withdrawal,this.isSellTransactionType=this.transactionType===this.TRANSACTION_TYPE.Sell,this.isReceiveTransactionType=this.transactionType===this.TRANSACTION_TYPE.Receive,this.transferOrderBlockchainLink=t?.transferOrderBlockchainLink??"",this.benchmarkTransferOrderBlockchainLink=t?.benchmarkTransferOrderBlockchainLink??"",this.removable=!0,this.data){if(this.flag=!0===this.data.flag,this.form.patchValue({transactionType:this.data.type,address:this.data.address,rate:this.data.rate,fees:this.data.fees,amountToSpend:this.data.amountToSpend,currencyToSpend:this.data.currencyToSpend,currencyToReceive:this.data.currencyToReceive,transactionStatus:this.data.status,recallNumber:this.data.recallNumber,kycStatus:this.data.kycStatusValue,widgetId:this.data.widgetId,accountStatus:this.data.accountStatusValue,transferOrderHash:this.data.transferOrderHash,screeningAnswer:this.data.screeningAnswer,screeningRiskscore:this.data.screeningRiskscore,screeningStatus:this.data.screeningStatus,benchmarkTransferOrderHash:this.data.benchmarkTransferOrderHash,merchantFeePercent:this.data.merchantFeePercent,feePercent:this.data.feePercent,comment:this.data.comment}),this.data.reversalProcessed){const i=`${this.data.reversalProcessed.getDate()}-${this.data.reversalProcessed.getMonth()+1}-${this.data.reversalProcessed.getFullYear()}`;this.form.controls.reversalProcessed.setValue(i)}else this.form.controls.reversalProcessed.setValue(void 0);if(this.data.recallRegistered){const i=`${this.data.recallRegistered.getDate()}-${this.data.recallRegistered.getMonth()+1}-${this.data.recallRegistered.getFullYear()}`;this.form.controls.recallRegistered.setValue(i)}else{const i=new Date,n=`${i.getDate()}-${i.getMonth()+1}-${i.getFullYear()}`;this.form.controls.recallRegistered.setValue(n)}this.data?.screeningData?.paymentChecks&&this.data?.screeningData?.paymentChecks.length>0&&(this.scriningData=this.data?.screeningData?.paymentChecks[0]),this.transactionStatus=this.data.status,this.transactionStatuses.length>0&&(this.transactionStatusName=this.transactionStatuses.find(i=>i.id===this.transactionStatus)?.name??""),this.kycStatus=F.yd.find(i=>i.id===this.data?.kycStatusValue)?.name??"",this.accountStatus=F._8.find(i=>i.id===this.data?.accountStatusValue)?.name??""}(this.transactionType===c.D_.Withdrawal||this.transactionType===c.D_.Deposit)&&(this.form.controls.address.setValidators([]),this.form.updateValueAndValidity()),(this.transactionType===c.D_.Sell||this.transactionType===c.D_.Buy||this.transactionType===c.D_.Deposit||this.transactionType===c.D_.Withdrawal)&&(this.instrumentDetailsData=this.getInstrumentDetails(this.data.instrumentDetailsRaw))}getSettingsCommon(){this.adminService.getSettingsCommon().valueChanges.pipe((0,T.Q)(this.unsubscribe$)).subscribe(t=>{const i=t.data.getSettingsCommon,n=i.additionalSettings?JSON.parse(i.additionalSettings):void 0;this.editableDestination=n.admin?.editTransactionDestination??!1,i.transactionTypeSettings&&0!==i.transactionTypeSettings.length&&(this.transactionTypeSetting=i.transactionTypeSettings.find(o=>o.transactionType===this.transactionType),this.transactionTypes=this.transactionTypes.filter(o=>i.transactionTypeSettings.find(s=>s.transactionType===o.id&&s.allowChange)))})}refreshTransaction(t){this.isTransactionRefreshing=!0,this.adminService.getTransaction(t).pipe((0,T.Q)(this.unsubscribe$)).subscribe({next:i=>{this.isTransactionRefreshing=!1,this.setFormData(i)}})}getTransactionToUpdate(){let t;return this.form.controls.merchantFeePercent.value&&(t={merchantFeePercent:this.form.controls.merchantFeePercent.value??""}),this.form.controls.merchantFeePercent.value&&(t={merchantFeePercent:this.form.controls.merchantFeePercent.value??""}),this.paymentOrderChanges.recallNumber=this.form.controls.recallNumber.value??void 0,(this.transactionStatusField.value===c.x8.Chargeback||this.transactionStatusField.value===c.x8.Refund)&&(this.paymentOrderChanges.reversalProcessed=this.form.controls.reversalProcessed.value?(0,ae.ZC)(this.form.controls.reversalProcessed.value??"","-"):null,this.paymentOrderChanges.recallRegistered=this.form.controls.recallRegistered.value&&this.form.controls.recallNumber.value?(0,ae.ZC)(this.form.controls.recallRegistered.value??"","-"):null),{destination:this.form.controls.address.value,currencyToSpend:this.form.controls.currencyToSpend.value,currencyToReceive:this.form.controls.currencyToReceive.value,amountToSpend:this.form.controls.amountToSpend.value??0,rate:this.form.controls.rate.value,feeFiat:this.form.controls.fees.value??0,status:this.form.controls.transactionStatus.value,widgetId:this.form.controls.widgetId.value,kycStatus:this.form.controls.kycStatus.value,accountStatus:this.form.controls.accountStatus.value,transferOrderChanges:{orderId:this.data?.transferOrderId,hash:this.form.controls.transferOrderHash.value??""},benchmarkTransferOrderChanges:{orderId:this.data?.benchmarkTransferOrderId,hash:this.form.controls.benchmarkTransferOrderHash.value??""},refundTransferOrderChanges:{address:this.form.controls.refundOrderAddress.value,amount:this.form.controls.refundOrderAmount.value},type:this.form.controls.transactionType.value??void 0,widgetUserParamsChanges:t,comment:this.form.controls.comment.value??"",flag:this.flag,feePercent:this.feePercentField?.value??void 0,merchantFeePercent:this.merchantFeePercentField?.value??void 0}}flagText(){return this.flag?"Unflag":"Flag"}flagValue(){this.flagInProgress=!0,this.saveInProgress=!0,this.flag=!0!==this.flag,this.adminService.updateTransactionFlag(this.flag,this.transactionId).pipe((0,T.Q)(this.unsubscribe$)).subscribe({next:()=>{this.saveInProgress=!1,this.flagInProgress=!1,this.save.emit()},error:t=>{this.saveInProgress=!1,this.flagInProgress=!1,this.errorMessage=t&&""!==t?t:this.errorHandler.getCurrentError(),""===this.auth.token&&this.router.navigateByUrl("/")}})}updateRate(){this.currentRate&&this.form.controls.rate.setValue(this.currentRate)}updateTransaction(){this.saveInProgress=!0,this.transactionToUpdate=this.getTransactionToUpdate(),this.transactionToUpdate.paymentOrderChanges=this.paymentOrderChanges,this.adminService.updateTransaction(this.transactionId,this.transactionToUpdate,this.restartTransaction,this.recalculateAmounts).pipe((0,T.Q)(this.unsubscribe$)).subscribe({next:()=>{this.saveInProgress=!1,this.flagInProgress=!1,this.save.emit()},error:t=>{this.saveInProgress=!1,this.flagInProgress=!1,this.errorMessage=t&&""!==t?t:this.errorHandler.getCurrentError(),""===this.auth.token&&this.router.navigateByUrl("/")}})}onSubmit(){this.submitted=!0,this.transactionToUpdate=this.getTransactionToUpdate();const t=(0,ae.TE)(this.transactionToUpdate.status,this.transactionToUpdate.kycStatus??c.Wr.KycWaiting,this.transactionToUpdate.accountStatus??c.u1.Closed),i=(0,ae.nP)(this.transactionToUpdate.rate??this.pDefaultRate,this.transactionToUpdate.amountToSpend??0,this.transactionToUpdate.feePercent??0,this.transactionToUpdate.merchantFeePercent??0);this.statusChanged=this.pStatusHash!==t,this.amountChanged=this.pAmountHash!==i,this.onUpdateDialogOpen()}onUpdateDialogOpen(){this.updateDialog=this.modalService.open(this.updateConfirmContent,{backdrop:"static",windowClass:"modalCusSty"})}deleteTransaction(){this.cancelInProgress=!0,this.adminService.deleteTransaction(this.transactionId).pipe((0,T.Q)(this.unsubscribe$)).subscribe({next:()=>{this.cancelInProgress=!1,this.save.emit()},error:t=>{this.errorMessage=t,this.cancelInProgress=!1,""===this.auth.token&&this.router.navigateByUrl("/")}})}getTransactionStatusName(t,i){const n=t.find(m=>m.key===i.id),o=n?.value.adminStatus,s=i.name;let l="Unknown";return o&&(l=F.U0.find(m=>m.id===o)?.name??"Unknown"),`${l} (${s})`}onDelete(){this.deleteDialog=this.modalService.open(this.deleteConfirmContent,{backdrop:"static",windowClass:"modalCusSty"})}onPaid(){this.isFastPaid=!0,this.data.paymentOrder&&!this.isTransactionCompleted?this.paymentStatusChangeDialog=this.modalService.open(this.paymentStatusConfirmContent,{backdrop:"static",windowClass:"modalCusSty"}):this.onOriginalOrderModal()}onExchange(){this.fastStatusChange(c.x8.Exchanging)}onDeclined(){this.fastStatusChange(c.x8.PaymentDeclined)}fastStatusChange(t){this.form.controls.transactionStatus.patchValue(t),this.amountChanged=!1,this.statusChanged=!0,this.isFastPaid&&this.onChangePaymentClose(),this.onUpdateDialogOpen()}onClose(){this.close.emit()}onConfirmDelete(){this.deleteDialog&&(this.deleteDialog.close(""),this.deleteTransaction())}onConfirmUpdate(){this.updateDialog&&(this.updateDialog.close(""),this.statusChanged?this.statusDialog=this.modalService.open(this.statusConfirmContent,{backdrop:"static",windowClass:"modalCusSty"}):this.amountChanged?this.amountDialog=this.modalService.open(this.amountConfirmContent,{backdrop:"static",windowClass:"modalCusSty"}):this.updateTransaction())}onChangeTransactionStatusConfirm(t){this.restartTransaction=1===t;const i=this.form.controls?.transactionStatus?.value;this.statusDialog&&this.statusDialog.close(""),this.amountChanged&&(this.amountDialog=this.modalService.open(this.amountConfirmContent,{backdrop:"static",windowClass:"modalCusSty"})),this.transactionType===c.D_.Sell&&i===c.x8.Refund?this.dialog.open(qk,{width:"500px",data:{sourceWallet:this.data?.sourceWallet,amountToSpend:this.form?.controls.amountToSpend.value}}).afterClosed().pipe((0,T.Q)(this.unsubscribe$)).subscribe(o=>{this.form.controls.refundOrderAddress.patchValue(o.sourceWallet),this.form.controls.refundOrderAmount.patchValue(o.amountToSell),this.updateTransaction()}):this.updateTransaction()}onChangeTransactionAmountConfirm(t){this.recalculateAmounts=1===t,this.amountDialog&&this.amountDialog.close(""),this.updateTransaction()}navigateToKrakenTrades(t){window.open(`https://www.kraken.com/u/trade/trades#txid=${t}`,"_blank")}navigateToRecallNumber(){const t=this.form.controls.recallNumber.value;this.data.paymentOrderRecallNumberLink&&t&&window.open(`${this.data.paymentOrderRecallNumberLink}/${t}`,"_blank")}getInstrumentDetails(t){const i=[];try{const n=JSON.parse(t);if(n){const o="string"==typeof n.accountType?JSON.parse(n.accountType):n.accountType;if(o){const s=JSON.parse(o.data);if(s){"AU"===o.id?i.push("Australian bank"):"UK"===o.id?i.push("United Kingdom bank"):"EU"===o.id&&i.push("European bank");const l=(m,...u)=>{const g=u.find(C=>null!=C);g&&i.push(`${m}: ${g}`)};l("Account name",s.bankAccountName,s.accountName),l("Account number",s.bankAccountNumber,s.accountNumber),l("Bank name",s.bankName),l("Bank address",s.bankAddress),l("Beneficiary name",s.beneficiaryName),l("Beneficiary address",s.beneficiaryAddress),l("Holder",s.bankAccountHolderName),l("BSB",s.bsb),l("Sort code",s.sortCode),l("IBAN",s.iban),l("SWIFT / BIC",s.swiftBic),l("Routing Number",s.routingNumber),l("Reference",s.reference),l("Credit to",s.creditTo)}}}}catch{}return i}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(d.ok),e.rXU(w.Ix),e.rXU(I.u),e.rXU(_.Bq),e.rXU(Je.bZ),e.rXU(wt.I),e.rXU(Fn.J),e.rXU(Ie.UG),e.rXU(E))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-transaction-details"]],viewQuery:function(i,n){if(1&i&&(e.GBs(Yv,5),e.GBs(qv,5),e.GBs(Wv,5),e.GBs(Xv,5),e.GBs(zv,5),e.GBs(Hv,5)),2&i){let o;e.mGM(o=e.lsd())&&(n.originalOrderIdDialogContent=o.first),e.mGM(o=e.lsd())&&(n.paymentStatusConfirmContent=o.first),e.mGM(o=e.lsd())&&(n.updateConfirmContent=o.first),e.mGM(o=e.lsd())&&(n.statusConfirmContent=o.first),e.mGM(o=e.lsd())&&(n.amountConfirmContent=o.first),e.mGM(o=e.lsd())&&(n.deleteConfirmContent=o.first)}},inputs:{permission:"permission",isScreeningInfo:"isScreeningInfo",transaction:"transaction",userStatuses:"userStatuses",currencies:"currencies"},outputs:{save:"save",close:"close"},features:[e.Jv_([{provide:_.dn,useClass:St},{provide:_.tN,useClass:Dt}])],decls:18,vars:4,consts:[["delete_confirm_content",""],["update_confirm_content",""],["originalorderid_confirm_content",""],["status_confirm_content",""],["payment_status_confirm_content",""],["amount_confirm_content",""],["reversal_picker","ngbDatepicker"],["recall_registered_picker","ngbDatepicker"],["mat-stretch-tabs","false",3,"selectedIndex"],["label","Transaction info"],["matTabContent",""],["label","Transaction screening info",4,"ngIf"],["label","Widget Params",4,"ngIf"],["label","Transaction Docs",4,"ngIf"],[3,"formGroup"],[1,"d-flex","padding-y-actions"],["class","btn btn-primary pd-x-30 mg-t-5","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-secondary","pd-x-30","mg-l-10","mg-t-5",3,"click"],[1,"row"],[1,"col-lg-5","col-md-12"],[1,"card","card-body","pd-20","pd-md-40","border","shadow-none"],[1,"card-title","mg-b-20"],[1,"col-lg-4","col-md-12"],["label","ID",3,"value"],["label","Transaction Type",3,"value"],["label","Initiated from",3,"value"],["label","Created At",3,"value"],["label","Completed At",3,"value"],["label","Last Update At",3,"value"],["label","From",3,"value"],["label","To",3,"value"],[1,"col-lg-3","col-md-3","col-sm-3","col-xs-6"],["label","First Name",3,"value"],["label","Last Name",3,"value"],[1,"col-lg-6","col-md-6","col-sm-6","col-xs-6"],["label","Email",3,"value"],["class","col-lg-9 col-md-12",4,"ngIf"],[1,"col-lg-3","col-md-12","mt-3"],["label","Wallet type",3,"value"],["label","Country",3,"value"],["label","IP Address",3,"value"],["label","Customer ID",3,"value"],["label","Company",3,"value"],[1,"col-lg-2","col-md-12"],[1,"col-lg-6","col-md-12"],["label","Account ID",3,"value","linkUrl","smartLink"],["label","Verification Level",3,"value"],["class","form-group pe-none",4,"ngIf"],["class","form-group",4,"ngIf"],["label","Account Status",3,"value",4,"ngIf"],[1,"card-title","mg-b-20","d-flex","justify-content-between"],[1,"transaction-status-dot",3,"ngClass"],["label","Transaction status",3,"value",4,"ngIf"],["class","row",4,"ngIf"],["label","Transaction SubStatus",3,"value"],[1,"form-group","pe-none"],[1,"main-content-label","tx-11","tx-medium","tx-gray-600"],["type","text","formControlName","screeningAnswer",1,"form-control",3,"ngClass"],["type","number","formControlName","screeningRiskscore",1,"form-control"],["type","text","formControlName","screeningStatus",1,"form-control"],["label","Risk Level",3,"value"],[1,"col-lg-10","col-md-12"],["label","Risk Codes",3,"value"],["class","payment-details-status","title","Transaction Paid",4,"ngIf"],[1,"col-lg-8","col-md-12"],["label","Original Payment Order Id",3,"value"],["label","Payment Details",3,"value"],[1,"form-group"],[1,"col-sm-12"],[1,"main-content-label","tx-11","tx-medium","tx-danger"],[1,"col-sm-7"],["class","pd-t-10",4,"ngIf"],["class","form-control","type","number","formControlName","amountToSpend","required","",3,"ngClass",4,"ngIf"],["class","tx-danger",4,"ngIf"],[1,"col-sm-5","mg-t-10","mg-sm-t-0"],["bindLabel","display","bindValue","symbol","formControlName","currencyToSpend","required","",3,"items","clearable","clearOnBackspace"],[1,"pd-t-10"],["bindLabel","display","bindValue","symbol","formControlName","currencyToReceive","required","",3,"items","clearable","clearOnBackspace"],["class","col-lg-6 col-md-12",4,"ngIf"],["label","Blockchain fee",3,"value"],[1,"col-lg-3","col-md-12"],["label","Payment status",3,"value"],[1,"col-lg-9","col-md-12"],["label","Payment status reason",3,"value"],["label","Interim wallet",3,"value",4,"ngIf"],["label","Source wallet",3,"value",4,"ngIf"],["label","Instrument details",3,"value"],["class","col-lg-3 col-md-12",4,"ngIf"],["class","card card-body pd-20 pd-md-40 border shadow-none",4,"ngIf"],["placeholder","Comment","rows","3","formControlName","comment",1,"form-control","textarea-resize-none"],["class","d-flex justify-content-between",4,"ngIf"],["class","card card-body card-danger pd-20 pd-md-40 border shadow-none",4,"ngIf"],[4,"ngIf"],["type","button",1,"btn","btn-primary","pd-x-30","mg-t-5",3,"click"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"screening-status-wrapper"],["label","End User Address",3,"value",4,"ngIf"],["label","End User Address",3,"value"],["type","text","formControlName","address","required","",1,"form-control",3,"ngClass"],[1,"tx-danger"],[1,"main-content-label","tx-11","tx-medium","tx-gray-600","d-flex","justify-content-between","align-items-center"],["type","text",1,"form-control",3,"value"],["bindLabel","name","bindValue","id","formControlName","kycStatus","required","",3,"items","clearable","clearOnBackspace"],["label","Account Status",3,"value"],["bindLabel","name","bindValue","id","formControlName","accountStatus","required","",3,"items","clearable","clearOnBackspace"],["label","Transaction status",3,"value"],["bindLabel","name","bindValue","id","formControlName","transactionStatus","required","",3,"items","clearable","clearOnBackspace"],["placeholder","dd/mm/yyyy","name","reversal_picker","ngbDatepicker","","formControlName","reversalProcessed",1,"form-control",3,"click"],["placeholder","dd/mm/yyyy","name","recall_registered_picker","ngbDatepicker","","formControlName","recallRegistered",1,"form-control",3,"click"],[1,"d-flex","align-items-center"],["type","text","formControlName","recallNumber",1,"form-control","mg-r-5",3,"ngClass"],["type","button","mat-icon-button","",3,"click","disabled"],["title","Transaction Paid",1,"payment-details-status"],["src","assets/icons/paid-icon.svg","alt","Paid"],["bindLabel","title","bindValue","id","formControlName","widgetId","required","",3,"items","searchFn","clearable","clearOnBackspace"],["ng-option-tmp",""],["label","Payment Method",3,"value"],["label","Payment Provider",3,"value"],["type","number","formControlName","amountToSpend","required","",1,"form-control",3,"ngClass"],[1,"tx-12-f","mg-l-10",3,"click","routerLink"],["type","number","formControlName","rate","required","",1,"form-control",3,"ngClass"],[3,"label","value"],[1,"col-sm-7","mg-t-10","mg-sm-t-0"],["type","number","formControlName","feePercent",1,"form-control"],[1,"col-sm-5"],[1,"pd-t-10","float-end"],["type","number","formControlName","merchantFeePercent",1,"form-control"],["label","Interim wallet",3,"value"],["label","Source wallet",3,"value"],["label","Original Exchange order ID",3,"value"],["label","Exchanged At",3,"value"],["label","Exchange state",3,"value"],["label","Exchange status",3,"value"],["label","Exchange status reason",3,"value"],["class","widget-chip",3,"click",4,"ngFor","ngForOf"],[1,"widget-chip",3,"click"],[1,"tx-13"],["label","Original benchmark transfer ID",3,"value"],["label","Benchmark transfer blockchain Link",3,"value","linkUrl"],["label","Benchmark transfer status",3,"value"],["label","Benchmark transfer sub-status",3,"value"],["type","text","formControlName","benchmarkTransferOrderHash",1,"form-control"],["label","Original End-user transfer ID",3,"value"],["label","End-user transfer blockchain Link",3,"value","linkUrl"],["label","End-user transfer status",3,"value"],["label","End-user transfer sub-status",3,"value"],["type","text","formControlName","transferOrderHash",1,"form-control"],["label","Original merchant fee transfer ID",3,"value"],["label","Merchant fee transfer hash",3,"value"],["label","Merchant fee blockchain Link",3,"value","linkUrl"],["label","Merchant fee transfer status",3,"value"],["label","Merchant fee transfer sub-status",3,"value"],[1,"d-flex","justify-content-between"],[1,"d-flex"],["type","button","class","btn btn-danger pd-x-30 me-2 mg-t-5",3,"click",4,"ngIf"],["class","btn btn-success pd-x-30 me-2 mg-t-5","type","button",3,"click",4,"ngIf"],["class","btn btn-info pd-x-30 me-2 mg-t-5","type","button",3,"click",4,"ngIf"],["class","btn btn-dark pd-x-30 me-2 mg-t-5","type","button",3,"click",4,"ngIf"],["class","d-flex justify-content-end",4,"ngIf"],["type","button",1,"btn","btn-danger","pd-x-30","me-2","mg-t-5",3,"click"],["type","button",1,"btn","btn-success","pd-x-30","me-2","mg-t-5",3,"click"],["type","button",1,"btn","btn-info","pd-x-30","me-2","mg-t-5",3,"click"],["type","button",1,"btn","btn-dark","pd-x-30","me-2","mg-t-5",3,"click"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","btn-primary","pd-x-30","me-2","mg-t-5",3,"click","disabled"],["type","button",1,"btn","btn-outline-primary","pd-x-30","mg-t-5",3,"click"],[1,"card","card-body","card-danger","pd-20","pd-md-40","border","shadow-none"],[1,"card-title2","mg-b-20","color_brown"],["label","Transaction screening info"],[3,"data"],["label","Widget Params"],["label","Transaction Docs"],[3,"userId"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"text-center"],[1,"d-flex","justify-content-center","align-items-center"],["type","button",1,"btn","btn-outline-secondary","pd-x-30","me-2","mg-t-5",3,"click"],["type","button",1,"btn","btn-danger","pd-x-30","mg-t-5",3,"click"],["type","text","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-primary","pd-x-30","mg-t-5",3,"click","disabled"]],template:function(i,n){1&i&&(e.j41(0,"mat-tab-group",8)(1,"mat-tab",9),e.DNE(2,Ky,162,71,"ng-template",10),e.k0s(),e.DNE(3,Zy,2,0,"mat-tab",11)(4,tC,2,0,"mat-tab",12)(5,nC,2,0,"mat-tab",13),e.k0s(),e.DNE(6,iC,14,0,"ng-template",null,0,e.C5r)(8,rC,14,0,"ng-template",null,1,e.C5r)(10,oC,15,2,"ng-template",null,2,e.C5r)(12,sC,14,0,"ng-template",null,3,e.C5r)(14,lC,17,0,"ng-template",null,4,e.C5r)(16,dC,14,0,"ng-template",null,5,e.C5r)),2&i&&(e.Y8G("selectedIndex",n.selectedTabIndex),e.R7$(3),e.Y8G("ngIf",(null==n.data?null:n.data.screeningAnswer)&&(null==n.data||null==n.data.screeningData||null==n.data.screeningData.paymentChecks?null:n.data.screeningData.paymentChecks.length)>0),e.R7$(),e.Y8G("ngIf",null==n.data?null:n.data.widgetUserParams),e.R7$(),e.Y8G("ngIf",!1))},dependencies:[h.YU,h.Sq,h.bT,d.qT,d.me,d.Q0,d.BC,d.cb,d.YS,d.vS,d.j4,d.JD,w.Wk,te,at,_.cw,De.Jl,De.uI,ve.$L,ve.mq,ve.T8,Le.t,It,K.iY,Nt.An,he,Lv,h.Jj],styles:[".mat-mdc-tab.mdc-tab{padding:0 10px!important}  .mat-mdc-tab.mdc-tab .mdc-tab__text-label{font-size:14px!important}  .__info-tab-container{display:flex;flex-direction:row;margin:0 0 16px;justify-content:center;align-items:center}  .__info-type-tab{padding:0 8px;cursor:pointer;font-style:normal;font-weight:400;font-size:14px;line-height:28px;text-align:center}  .__info-tab-selected{cursor:default;border:2px solid #0070c0;color:#0070c0;border-style:none none solid none}  .__info-type-tab-left{margin:0 16px 0 0}  .__info-type-tab-right{margin:0 0 0 16px}  .dark-theme .mat-mdc-button,   .dark-theme .mat-mdc-icon-button,   .dark-theme .mat-mdc-outlined-button{color:#b7c0d6!important}  .dark-theme .mat-form-field-label{color:#eee}  .dark-theme .mat-datepicker-content{background-color:#373d51;color:#ffffffde}  .dark-theme .mat-calendar-table-header,   .dark-theme .mat-calendar-body-label{color:#fff}@media (hover: hover){  .dark-theme .mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#2a2e3f}}  .dark-theme .mat-calendar-body-cell-content,   .dark-theme .mat-date-range-input-separator{color:#e1e1ef}  .dark-theme .ngb-dp-header{background-color:#343545}  .dark-theme .ngb-dp-weekdays{background-color:#343545}  .rtl .color-picker{left:initial!important}  .transparent-theme .card .box{background:#2da28f}  .transparent-theme .hex-text,   .transparent-theme .rgba-text{background:#2da28f}  .transparent-theme .mat-datepicker-content{background-color:#2da28f;color:#ffffffde}  .transparent-theme .mat-datepicker-toggle,   .transparent-theme .mat-datepicker-content .mat-calendar-next-button,   .transparent-theme .mat-datepicker-content .mat-calendar-previous-button{color:#ffffff81}  .transparent-theme .mat-calendar-body-cell-content,   .transparent-theme .mat-date-range-input-separator{color:#ffffffd3}  .transparent-theme .mat-calendar-table-header,   .transparent-theme .mat-calendar-body-label{color:#fff9}  .transparent-theme .ngb-dp-header{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekdays{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekday{color:#000}  .transparent-theme .ng-select .ng-arrow-wrapper .ng-arrow{border-top-color:#fff!important}  .transparent-theme .ng-select.ng-select-opened .ng-arrow-wrapper .ng-arrow{border-bottom-color:#fff!important}  .form-controls{display:block;color:#fff;border:transparent;outline:none;width:100%;height:40px;padding:.375rem .75rem;font-size:.875rem;font-weight:400;line-height:2;background-clip:padding-box;border-radius:5px;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}  button[type=button]{z-index:0!important}.screening-status-wrapper[_ngcontent-%COMP%]{position:relative}.screening-status-wrapper[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{position:absolute;top:-7px;right:0;margin:0;background:#fff;font-size:14px;border:none;border-bottom:1px solid;border-radius:0;padding-bottom:0}.screening-status-wrapper[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]{color:#28a745}.screening-status-wrapper[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{color:#dc3545}.input-success[_ngcontent-%COMP%]{background-color:#0b9c3133;color:#0b9c31cc}.input-warning[_ngcontent-%COMP%]{background-color:#ffffa9;color:#00000080}.input-error[_ngcontent-%COMP%]{background-color:#f003;color:#ff000080}.transaction-status-dot[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%}.transaction-status-dot--white[_ngcontent-%COMP%]{background-color:#fff}.transaction-status-dot--grey[_ngcontent-%COMP%]{background-color:#ebebeb}.transaction-status-dot--blue[_ngcontent-%COMP%]{background-color:#d4f1fa}.transaction-status-dot--orange[_ngcontent-%COMP%]{background-color:#ffe5ce}.transaction-status-dot--red[_ngcontent-%COMP%]{background-color:#fdd6dd}.transaction-status-dot--purple[_ngcontent-%COMP%]{background-color:#fdd8fd}.transaction-status-dot--green[_ngcontent-%COMP%]{background-color:#cff8cf}.transaction-status-dot--yellow[_ngcontent-%COMP%]{background-color:#fdfde6}.textarea-resize-none[_ngcontent-%COMP%]{resize:none}.payment-details-status[_ngcontent-%COMP%]{width:30px}.payment-details-status[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:-5px}.padding-y-actions[_ngcontent-%COMP%]{padding:1rem 0}",".has-error[_ngcontent-%COMP%]{border:1px solid #f16d75}.tx-danger[_ngcontent-%COMP%]{color:red!important}"]})}return a})();var Pn=f(1499);const mC=()=>["Home"];function pC(a,r){1&a&&e.nrm(0,"mat-progress-bar",28)}function uC(a,r){1&a&&(e.j41(0,"th",29),e.EFF(1,"Created"),e.k0s())}function hC(a,r){if(1&a&&(e.j41(0,"td",30),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.created," ")}}function fC(a,r){1&a&&(e.j41(0,"th",31),e.EFF(1,"Transaction Code"),e.k0s())}function gC(a,r){if(1&a&&(e.j41(0,"td",30),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.transaction.code," ")}}function _C(a,r){1&a&&(e.j41(0,"th",31),e.EFF(1,"User Email"),e.k0s())}function bC(a,r){if(1&a&&(e.j41(0,"td",30),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.transaction.email," ")}}function vC(a,r){1&a&&(e.j41(0,"th",31),e.EFF(1,"Changed By"),e.k0s())}function yC(a,r){if(1&a&&(e.j41(0,"td",30),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.user_email," ")}}function CC(a,r){1&a&&(e.j41(0,"th",31),e.EFF(1,"Old Status"),e.k0s())}function kC(a,r){if(1&a&&(e.j41(0,"td",30),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.oldStatus," ")}}function FC(a,r){1&a&&(e.j41(0,"th",31),e.EFF(1,"New Status"),e.k0s())}function TC(a,r){if(1&a&&(e.j41(0,"td",30),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.newStatus," ")}}function xC(a,r){1&a&&(e.j41(0,"th",29),e.EFF(1,"Status Reason"),e.k0s())}function wC(a,r){if(1&a&&(e.j41(0,"td",30),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.newStatusReason," ")}}function SC(a,r){1&a&&(e.j41(0,"th",31),e.EFF(1,"Transaction Id"),e.k0s())}function DC(a,r){if(1&a&&(e.j41(0,"td",30),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.transactionId," ")}}function IC(a,r){1&a&&e.nrm(0,"tr",32)}function EC(a,r){1&a&&e.nrm(0,"tr",33)}function PC(a,r){1&a&&(e.j41(0,"div",40)(1,"i",41),e.EFF(2,"first_page"),e.k0s()())}function AC(a,r){1&a&&(e.j41(0,"div",40)(1,"i",41),e.EFF(2,"keyboard_arrow_left"),e.k0s()())}function RC(a,r){1&a&&(e.j41(0,"div",40)(1,"i",41),e.EFF(2,"keyboard_arrow_right"),e.k0s()())}function OC(a,r){1&a&&(e.j41(0,"div",40)(1,"i",41),e.EFF(2,"last_page"),e.k0s()())}function jC(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",34)(1,"ngb-pagination",35),e.bIt("pageChange",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.handlePage(n))}),e.DNE(2,PC,3,0,"ng-template",36)(3,AC,3,0,"ng-template",37)(4,RC,3,0,"ng-template",38)(5,OC,3,0,"ng-template",39),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("collectionSize",t.transactionCount)("pageSize",t.pageSize)("boundaryLinks",!0)("maxSize",10)}}function $C(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",42)(1,"h5",43),e.EFF(2,"Export"),e.k0s(),e.j41(3,"button",44),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",45),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",46)(7,"h4",47),e.EFF(8," Exported list of transactions has been sent to your email. "),e.k0s(),e.j41(9,"div",48)(10,"button",49),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("OK"))}),e.EFF(11," OK "),e.k0s()()()}}function MC(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",42)(1,"h5",43),e.EFF(2,"Settle transaction(s)"),e.k0s(),e.j41(3,"button",44),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",45),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",46)(7,"h4",47),e.EFF(8," You are going to update transaction data. Confirm operation. "),e.k0s(),e.j41(9,"div",48)(10,"button",50),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Reject"))}),e.EFF(11," Reject "),e.k0s(),e.j41(12,"button",51),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.close("Confirm"))}),e.EFF(13," Confirm "),e.k0s()()()}}let An=(()=>{class a{constructor(t,i,n,o,s,l,m){this.modalService=t,this.auth=i,this.commonDataService=n,this.adminService=o,this.profileService=s,this.activeRoute=l,this.router=m,this.filterFields=["createdDate","transactionIds","transactionStatus","users"],this.displayedColumns=["transactionCode","created","userEmail","changedBy","oldStatus","newStatus","newStatusReason","transactionId"],this.inProgress=!1,this.permission=0,this.selectedForUnbenchmark=!1,this.transactionCount=0,this.adminAdditionalSettings={},this.transactionStatusHistory=[],this.userStatuses=[],this.currencyOptions=[],this.pageSize=50,this.pageIndex=0,this.sortedField="created",this.sortedDesc=!0,this.filter=new G({}),this.subscriptions=new R.yU,this.detailsDialog=void 0;const u=l.snapshot.params.userid;u&&(this.filter.users=[u]),this.permission=this.auth.isPermittedObjectCode(c.G4.Transactions)}ngOnInit(){this.loadCommonSettings(),this.loadList()}ngOnDestroy(){this.subscriptions.unsubscribe()}ngAfterViewInit(){this.subscriptions.add(this.sort.sortChange.subscribe(()=>{this.sortedDesc="desc"===this.sort.direction,this.sortedField=this.sort.active,this.loadList()}))}onTransactionSelected(t){t.selected=!t.selected}selectAll(){this.transactionStatusHistory.forEach(t=>t.selected=!0),this.selectedForUnbenchmark=this.transactionStatusHistory.length>0}onSaveTransaction(){this.selectedTransaction=void 0,this.detailsDialog&&(this.detailsDialog.close(),this.loadList())}onCloseDetails(){this.detailsDialog&&this.detailsDialog.dismiss()}handleFilterApplied(t){this.filter=t,this.loadList()}handlePage(t){this.pageIndex=t-1,this.loadList()}toggleDetails(t){this.selectedTransaction=this.isSelectedTransaction(t.id)?void 0:t}showDetails(t,i){this.selectedTransaction=t,this.detailsDialog=this.modalService.open(i,{backdrop:"static",windowClass:"modalCusSty"})}isSelectedTransaction(t){return!!this.selectedTransaction&&this.selectedTransaction.id===t}loadCommonSettings(){const t=this.auth.getLocalSettingsCommon();t&&(this.adminAdditionalSettings="string"==typeof t.adminAdditionalSettings?JSON.parse(t.adminAdditionalSettings):t.adminAdditionalSettings,this.adminAdditionalSettings?.tabs?.transactionStatusHistory?.filterFields&&(this.filterFields=this.adminAdditionalSettings.tabs.transactionStatusHistory.filterFields))}loadList(){0===this.userStatuses.length?this.loadTransactionStatuses():this.loadTransactions()}loadTransactions(){this.inProgress=!0;const t=this.adminService.getTransactionStatusHistory(this.pageIndex,this.pageSize,this.sortedField,this.sortedDesc,this.filter).pipe((0,P.s)(1));this.selectedForUnbenchmark=!1,this.subscriptions.add(t.subscribe(({list:i,count:n})=>{this.transactionStatusHistory=i,this.transactionCount=n,this.inProgress=!1},()=>{this.inProgress=!1,""===this.auth.token&&this.router.navigateByUrl("/")}))}loadTransactionStatuses(){this.inProgress=!0,this.userStatuses=[];const t=this.profileService.getTransactionStatuses();this.subscriptions.add(t.valueChanges.subscribe(({data:i})=>{this.userStatuses=i.getTransactionStatuses,this.loadCurrencies()},()=>{this.inProgress=!1,""===this.auth.token&&this.router.navigateByUrl("/")}))}loadCurrencies(){this.inProgress=!0,this.currencyOptions=[],this.subscriptions.add(this.commonDataService.getSettingsCurrency()?.valueChanges.pipe((0,P.s)(1)).subscribe(({data:t})=>{const i=t.getSettingsCurrency;this.currencyOptions=i.settingsCurrency&&i.settingsCurrency.count?i.settingsCurrency.list?.map(n=>new F.xD(n)):[],this.loadTransactions()},()=>{this.inProgress=!1,""===this.auth.token&&this.router.navigateByUrl("/")}))}refresh(){this.loadList()}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(_.Bq),e.rXU(I.u),e.rXU(xe.X),e.rXU(E),e.rXU(Pn.V),e.rXU(w.nX),e.rXU(w.Ix))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-transaction-status-history"]],viewQuery:function(i,n){if(1&i&&e.GBs($.B4,5),2&i){let o;e.mGM(o=e.lsd())&&(n.sort=o.first)}},decls:44,vars:14,consts:[["export_content",""],["settle_content",""],[3,"title","items","active_item"],[1,"row","row-sm"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],[1,"table-button-container"],["type","button",1,"btn","btn-primary","me-2",3,"click"],[3,"filter","filterType","fields","filterData"],["color","accent","mode","indeterminate",4,"ngIf"],[1,"data-table"],["matSort","","matSortDirection","desc","matSortDisableClear","",3,"matSortActive","dataSource"],["matColumnDef","created"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","transactionCode"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","userEmail"],["matColumnDef","changedBy"],["matColumnDef","oldStatus"],["matColumnDef","newStatus"],["matColumnDef","newStatusReason"],["matColumnDef","transactionId"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","card card-body border shadow-none",4,"ngIf"],["color","accent","mode","indeterminate"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-header-row",""],["mat-row",""],[1,"card","card-body","border","shadow-none"],["aria-label","Table pagination",1,"d-flex","justify-content-center",3,"pageChange","collectionSize","pageSize","boundaryLinks","maxSize"],["ngbPaginationFirst",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationLast",""],[1,"ng-pagination-nav-icons"],[1,"material-icons"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[2,"text-align","center"],[2,"display","flex","flex-direction","row","justify-content","center","align-items","center"],[1,"btn","btn-primary","pd-x-50","mg-t-5",3,"click"],["type","button",1,"btn","btn-outline-secondary","pd-x-30","me-2","mg-t-5",3,"click"],[1,"btn","btn-primary","pd-x-30","mg-t-5",3,"click"]],template:function(i,n){if(1&i){const o=e.RV6();e.nrm(0,"app-admin-page-header",2),e.j41(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"div",8)(7,"button",9),e.bIt("click",function(){return e.eBV(o),e.Njj(n.refresh())}),e.EFF(8," Refresh "),e.k0s()(),e.j41(9,"app-admin-filter",10),e.bIt("filter",function(l){return e.eBV(o),e.Njj(n.handleFilterApplied(l))}),e.k0s(),e.DNE(10,pC,1,0,"mat-progress-bar",11),e.j41(11,"div",12)(12,"mat-table",13),e.qex(13,14),e.DNE(14,uC,2,0,"th",15)(15,hC,2,1,"td",16),e.bVm(),e.qex(16,17),e.DNE(17,fC,2,0,"th",18)(18,gC,2,1,"td",16),e.bVm(),e.qex(19,19),e.DNE(20,_C,2,0,"th",18)(21,bC,2,1,"td",16),e.bVm(),e.qex(22,20),e.DNE(23,vC,2,0,"th",18)(24,yC,2,1,"td",16),e.bVm(),e.qex(25,21),e.DNE(26,CC,2,0,"th",18)(27,kC,2,1,"td",16),e.bVm(),e.qex(28,22),e.DNE(29,FC,2,0,"th",18)(30,TC,2,1,"td",16),e.bVm(),e.qex(31,23),e.DNE(32,xC,2,0,"th",15)(33,wC,2,1,"td",16),e.bVm(),e.qex(34,24),e.DNE(35,SC,2,0,"th",18)(36,DC,2,1,"td",16),e.bVm(),e.DNE(37,IC,1,0,"tr",25)(38,EC,1,0,"tr",26),e.k0s()(),e.DNE(39,jC,6,4,"div",27)(40,$C,12,0,"ng-template",null,0,e.C5r)(42,MC,14,0,"ng-template",null,1,e.C5r),e.k0s()()()()()}2&i&&(e.Y8G("title","Transactions History")("items",e.lJ4(13,mC))("active_item","Transactions"),e.R7$(9),e.Y8G("filterType","transactionsHistory")("fields",n.filterFields)("filterData",n.filter),e.R7$(),e.Y8G("ngIf",n.inProgress),e.R7$(2),e.Y8G("matSortActive",n.sortedField)("dataSource",n.transactionStatusHistory),e.R7$(25),e.Y8G("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),e.R7$(),e.Y8G("matRowDefColumns",n.displayedColumns),e.R7$(),e.Y8G("ngIf",n.transactionCount>n.pageSize))},dependencies:[h.bT,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,$.B4,$.aE,_.s5,_.gA,_.ug,_.PB,_.hO,z.HM,X,Te],styles:[".datatable-body{height:600px!important;overflow:scroll;width:100%}  .dataTable-bottom{position:absolute;left:0;right:0;bottom:0;background:#fff!important}  table th,   table td,   .ngx-datatable.material .datatable-header .datatable-header-cell,   .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{font-size:.876rem!important}@media (max-width: 567.9px){  .ngx-datatable .datatable-footer .datatable-footer-inner{flex-wrap:wrap;height:auto!important}  .ngx-datatable .datatable-footer .datatable-pager{text-align:center!important}}  .dataTable-wrapper.no-footer .dataTable-container{border-bottom:none!important}  .dataTable-selector{border-radius:.25rem}  app-data-table input{border-radius:25px;border:1px solid rgba(0,0,0,.1)}  app-data-table .custom-select{border:1px solid rgba(0,0,0,.24)!important;border-radius:.25rem}.table-responsive[_ngcontent-%COMP%]{overflow:visible}  .dark-theme input::placeholder{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material{background-color:#2a2e3f!important}  .dark-theme app-data-tables .dataTable-bottom{background-color:#2a2e3f!important}  .dark-theme app-data-tables .dataTable-selector{background-color:#2a2e3f;border-color:#272c49;color:#fff;outline:none}  .dark-theme app-data-tables input{color:#eee!important;background-color:#2a2e3f!important;border-color:#262b48;border-radius:25px;height:27px}  .dark-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .dark-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#2a2e3f;color:#fff}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid rgb(39,43,74)!important;color:#fff!important;background:#2a2e3f!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #32394e!important}  .dark-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .dark-theme app-data-tables .dataTable-pagination li:hover a,   .dark-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .dark-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .dark-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .dark-theme app-data-tables .mat-mdc-table{background:#2a2e3f!important}  .dark-theme app-data-tables .mat-mdc-header-cell{color:#fff!important}  .dark-theme app-data-tables .mat-mdc-cell,   .dark-theme app-data-tables .mat-mdc-footer-cell{color:#eee!important}  .dark-theme app-data-tables mat-row,   .dark-theme app-data-tables mat-header-row,   .dark-theme app-data-tables mat-footer-row,   .dark-theme app-data-tables th.mat-mdc-header-cell,   .dark-theme app-data-tables td.mat-mdc-cell,   .dark-theme app-data-tables td.mat-mdc-footer-cell{border-bottom-color:#ffffff1f!important}  .dark-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .dark-theme app-data-tables .mat-mdc-paginator,   .dark-theme app-data-tables .mat-mdc-paginator-page-size .mat-mdc-select-trigger{color:#ffffff8a!important}  .dark-theme app-data-tables .mat-mdc-paginator{background:#2a2e3f}  .dark-theme app-data-tables .mat-mdc-select-value{color:#fff7f7de}  .dark-theme app-data-tables .mat-mdc-select-arrow{color:#ffffffba}  .dark-theme .mat-mdc-select-panel{background:#30304d}  .dark-theme .mat-mdc-option{color:#ccc}  .dark-theme .mat-primary .mat-mdc-option.mat-selected:not(.mat-option-disabled){color:#fff}  .dark-theme .mat-mdc-option:hover:not(.mat-option-disabled),   .dark-theme .mat-option:focus:not(.mat-option-disabled){background:#2a2a44}  .dark-theme .mat-mdc-select-panel .mat-mdc-option.mat-selected:not(.mat-mdc-option-multiple){background:#0000001f}  .dark-theme .table-hover>tbody>tr:hover>*{color:#fff}  .dark-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme input::placeholder{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material{background-color:#2da28f!important}  .transparent-theme app-data-tables .dataTable-bottom{background-color:#2da28f!important}  .transparent-theme app-data-tables .dataTable-selector{background-color:#2da28f;border-color:#4cb0a0;color:#fff;outline:none}  .transparent-theme app-data-tables input{color:#eee!important;background-color:#2da28f!important;border-color:#4cb0a0;border-radius:25px;height:27px}  .transparent-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .transparent-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#2da28f;color:#fff}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid #4cb0a0!important;color:#fff!important;background:#2da28f!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #4cb0a0!important}  .transparent-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .transparent-theme app-data-tables .dataTable-pagination li:hover a,   .transparent-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .transparent-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .transparent-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .transparent-theme app-data-tables .mat-mdc-table{background:#2da28f!important}  .transparent-theme app-data-tables .mat-mdc-header-cell{color:#fff!important}  .transparent-theme app-data-tables .mat-mdc-cell,   .transparent-theme app-data-tables .mat-mdc-footer-cell{color:#eee!important}  .transparent-theme app-data-tables mat-row,   .transparent-theme app-data-tables mat-header-row,   .transparent-theme app-data-tables mat-footer-row,   .transparent-theme app-data-tables th.mat-mdc-header-cell,   .transparent-theme app-data-tables td.mat-mdc-cell,   .transparent-theme app-data-tables td.mat-mdc-footer-cell{border-bottom-color:#ffffff1f!important}  .transparent-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .transparent-theme app-data-tables .mat-mdc-paginator,   .transparent-theme app-data-tables .mat-mdc-paginator-page-size .mat-mdc-select-trigger{color:#ffffff8a!important}  .transparent-theme app-data-tables .mat-mdc-paginator{background:#2da28f}  .transparent-theme app-data-tables .mat-mdc-select-value{color:#fff7f7de}  .transparent-theme app-data-tables .mat-mdc-select-arrow{color:#ffffffba}  .transparent-theme .mat-mdc-select-panel{background:#30304d}  .transparent-theme .mat-mdc-option{color:#ccc}  .transparent-theme .mat-primary .mat-mdc-option.mat-selected:not(.mat-option-disabled){color:#fff}  .transparent-theme .mat-mdc-option:hover:not(.mat-option-disabled),   .transparent-theme .mat-option:focus:not(.mat-option-disabled){background:#2a2a44}  .transparent-theme .mat-mdc-select-panel .mat-mdc-option.mat-selected:not(.mat-mdc-option-multiple){background:#0000001f}  .transparent-theme .table-hover>tbody>tr:hover>*{color:#fff}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{background-color:#248272!important}.data-table[_ngcontent-%COMP%]{flex:1 1 0;overflow:auto;margin-top:5px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]{display:table;min-width:100%}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:32px;line-height:32px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   tr.mat-mdc-header-row[_ngcontent-%COMP%]{height:40px;line-height:40px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]{padding:0 4px;white-space:nowrap;font-size:16px;font-weight:400;color:#0000008a;font-family:Roboto,sans-serif}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell.action[_ngcontent-%COMP%]{width:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]{padding:1px 4px 0;line-height:29px;white-space:nowrap}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%]{width:16px;height:16px;font-size:16px;vertical-align:middle;position:relative;top:-1px}.data-table[_ngcontent-%COMP%]   .row-button[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0;position:relative;top:5px;padding:1px}.data-table[_ngcontent-%COMP%]   .row-button[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:16px;height:16px;width:16px;line-height:16px}.data-table[_ngcontent-%COMP%]   .row-icon[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0;position:relative;top:5px}mat-mdc-paginator[_ngcontent-%COMP%]{flex:0 0 auto}table[_ngcontent-%COMP%]{width:100%}.table-button-container[_ngcontent-%COMP%]{padding-bottom:16px}.transaction-list-selector-column[_ngcontent-%COMP%]{margin:0;padding:0 8px}.transaction-list-data-column[_ngcontent-%COMP%]{margin:0;padding:0}.transaction-list-column-white[_ngcontent-%COMP%]{background-color:#fff}.transaction-list-column-grey[_ngcontent-%COMP%]{background-color:#ebebeb}.transaction-list-column-blue[_ngcontent-%COMP%]{background-color:#d4f1fa}.transaction-list-column-orange[_ngcontent-%COMP%]{background-color:#ffe5ce}.transaction-list-column-red[_ngcontent-%COMP%]{background-color:#fdd6dd}.transaction-list-column-purple[_ngcontent-%COMP%]{background-color:#fdd8fd}.transaction-list-column-green[_ngcontent-%COMP%]{background-color:#cff8cf}.transaction-list-column-yellow[_ngcontent-%COMP%]{background-color:#fdfde6}.ng-pagination-nav-icons[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:12px}"]})}return a})();var NC=f(7768),mt=f(6013);const VC=["updatingStepper"],GC=()=>["Home","Transactions"];function BC(a,r){1&a&&(e.j41(0,"mat-card")(1,"mat-card-content")(2,"h3"),e.EFF(3,"No Data"),e.k0s()()())}function UC(a,r){if(1&a&&(e.j41(0,"span",25),e.EFF(1),e.k0s()),2&a){const t=e.XpG().$implicit;e.Y8G("ngClass","FAILURE"===(null==t?null:t.transactionStatusResult)?"cancel":"SUCCESS"===(null==t?null:t.transactionStatusResult)?"success":"number"),e.R7$(),e.SpI(" ",t.lifelineStatusDescriptor.statusName||t.transactionStatus," ")}}function LC(a,r){if(1&a&&(e.j41(0,"div",21)(1,"div",22)(2,"h4",27),e.EFF(3,"Preauth Operation"),e.k0s(),e.j41(4,"p"),e.EFF(5," Original Order Id: "),e.j41(6,"span"),e.EFF(7),e.k0s()(),e.j41(8,"p"),e.EFF(9," Created: "),e.j41(10,"span"),e.EFF(11),e.nI1(12,"date"),e.k0s()(),e.j41(13,"p"),e.EFF(14," Status: "),e.j41(15,"span"),e.EFF(16),e.k0s()(),e.j41(17,"p"),e.EFF(18," Errors: "),e.j41(19,"span"),e.EFF(20),e.k0s()()()()),2&a){const t=e.XpG().ngIf;e.R7$(7),e.JRh(null==t.preauthOperation?null:t.preauthOperation.originalOrderId),e.R7$(4),e.JRh(e.i5U(12,4,null==t.preauthOperation?null:t.preauthOperation.created,"yyyy-MM-dd hh:mm:ss")),e.R7$(5),e.JRh((null==t.preauthOperation?null:t.preauthOperation.status)+(null==t.preauthOperation?null:t.preauthOperation.statusReason)),e.R7$(4),e.JRh(null==t.preauthOperation?null:t.preauthOperation.errorMessage)}}function YC(a,r){if(1&a&&(e.j41(0,"div",21)(1,"div",22)(2,"h4",27),e.EFF(3,"Capture Operation"),e.k0s(),e.j41(4,"p"),e.EFF(5," Errors: "),e.j41(6,"span"),e.EFF(7),e.k0s()(),e.j41(8,"p"),e.EFF(9," Original Order Id: "),e.j41(10,"span"),e.EFF(11),e.k0s()(),e.j41(12,"p"),e.EFF(13," Created: "),e.j41(14,"span"),e.EFF(15),e.nI1(16,"date"),e.k0s()(),e.j41(17,"p"),e.EFF(18," Status: "),e.j41(19,"span"),e.EFF(20),e.k0s()()()()),2&a){const t=e.XpG().ngIf;e.R7$(7),e.JRh(null==t.captureOperationSn?null:t.captureOperationSn.errorMessage),e.R7$(4),e.JRh(null==t.captureOperationSn?null:t.captureOperationSn.originalOrderId),e.R7$(4),e.JRh(e.i5U(16,4,null==t.captureOperationSn?null:t.captureOperationSn.created,"yyyy-MM-dd hh:mm:ss")),e.R7$(5),e.JRh((null==t.captureOperationSn?null:t.captureOperationSn.status)||(null==t.captureOperationSn?null:t.captureOperationSn.statusReason))}}function qC(a,r){if(1&a&&(e.j41(0,"div",21)(1,"div",22)(2,"h4",27),e.EFF(3,"Refund Operation"),e.k0s(),e.j41(4,"p"),e.EFF(5," Errors: "),e.j41(6,"span"),e.EFF(7),e.k0s()(),e.j41(8,"p"),e.EFF(9," Original Order Id: "),e.j41(10,"span"),e.EFF(11),e.k0s()(),e.j41(12,"p"),e.EFF(13," Created: "),e.j41(14,"span"),e.EFF(15),e.nI1(16,"date"),e.k0s()(),e.j41(17,"p"),e.EFF(18," Status: "),e.j41(19,"span"),e.EFF(20),e.k0s()()()()),2&a){const t=e.XpG().ngIf;e.R7$(7),e.JRh(null==t.refundOperationSn?null:t.refundOperationSn.errorMessage),e.R7$(4),e.JRh(null==t.refundOperationSn?null:t.refundOperationSn.originalOrderId),e.R7$(4),e.JRh(e.i5U(16,4,null==t.refundOperationSn?null:t.refundOperationSn.created,"yyyy-MM-dd hh:mm:ss")),e.R7$(5),e.JRh((null==t.refundOperationSn?null:t.refundOperationSn.status)||(null==t.refundOperationSn?null:t.refundOperationSn.statusReason))}}function WC(a,r){if(1&a&&(e.qex(0),e.j41(1,"mat-tab",26)(2,"div",20)(3,"div",21)(4,"div",22)(5,"h4",27),e.EFF(6,"Order Details"),e.k0s(),e.j41(7,"p"),e.EFF(8," Provider: "),e.j41(9,"span"),e.EFF(10),e.k0s()(),e.j41(11,"p"),e.EFF(12," Original Order Id: "),e.j41(13,"span"),e.EFF(14),e.k0s()(),e.j41(15,"p"),e.EFF(16," Created: "),e.j41(17,"span"),e.EFF(18),e.nI1(19,"date"),e.k0s()(),e.j41(20,"p"),e.EFF(21," Status: "),e.j41(22,"span"),e.EFF(23),e.k0s()()()(),e.j41(24,"div",21)(25,"div",22)(26,"h4",27),e.EFF(27,"Payment Details"),e.k0s(),e.j41(28,"p"),e.EFF(29," Bank Name: "),e.j41(30,"span"),e.EFF(31),e.k0s()(),e.j41(32,"p"),e.EFF(33," Card Holder Name: "),e.j41(34,"span"),e.EFF(35),e.k0s()(),e.j41(36,"p"),e.EFF(37," Card Type: "),e.j41(38,"span"),e.EFF(39),e.k0s()(),e.j41(40,"p"),e.EFF(41," Processor Name: "),e.j41(42,"span"),e.EFF(43),e.k0s()(),e.j41(44,"p"),e.EFF(45," Bin: "),e.j41(46,"span"),e.EFF(47),e.k0s()()()(),e.DNE(48,LC,21,7,"div",28)(49,YC,21,7,"div",28)(50,qC,21,7,"div",28),e.k0s()(),e.bVm()),2&a){const t=r.ngIf;e.R7$(10),e.JRh(t.provider),e.R7$(4),e.JRh(t.originalOrderId),e.R7$(4),e.JRh(e.i5U(19,12,t.created,"yyyy-MM-dd hh:mm:ss")),e.R7$(5),e.JRh(t.status),e.R7$(8),e.JRh(t.paymentBankName||"N/A"),e.R7$(4),e.JRh(t.paymentCardHolderName||"N/A"),e.R7$(4),e.JRh(t.paymentCardType||"N/A"),e.R7$(4),e.JRh(t.paymentProcessorName||"N/A"),e.R7$(4),e.JRh(t.paymentBin||"N/A"),e.R7$(),e.Y8G("ngIf",t.preauthOperationSn),e.R7$(),e.Y8G("ngIf",t.captureOperationSn),e.R7$(),e.Y8G("ngIf",t.refundOperationSn)}}function XC(a,r){if(1&a&&(e.qex(0),e.j41(1,"mat-tab",29)(2,"div",20)(3,"div",21)(4,"div",22)(5,"h4",27),e.EFF(6,"Order Details"),e.k0s(),e.j41(7,"p"),e.EFF(8," Provider: "),e.j41(9,"span"),e.EFF(10),e.k0s()(),e.j41(11,"p"),e.EFF(12," Original Order Id: "),e.j41(13,"span"),e.EFF(14),e.k0s()(),e.j41(15,"p"),e.EFF(16," Created: "),e.j41(17,"span"),e.EFF(18),e.nI1(19,"date"),e.k0s()(),e.j41(20,"p"),e.EFF(21," Published: "),e.j41(22,"span"),e.EFF(23),e.nI1(24,"date"),e.k0s()(),e.j41(25,"p"),e.EFF(26," Executed: "),e.j41(27,"span"),e.EFF(28),e.nI1(29,"date"),e.k0s()(),e.j41(30,"p"),e.EFF(31," Status: "),e.j41(32,"span"),e.EFF(33),e.k0s()(),e.j41(34,"p"),e.EFF(35," State: "),e.j41(36,"span"),e.EFF(37),e.k0s()(),e.j41(38,"p"),e.EFF(39," Symbol: "),e.j41(40,"span"),e.EFF(41),e.k0s()(),e.j41(42,"p"),e.EFF(43," Side: "),e.j41(44,"span"),e.EFF(45),e.k0s()(),e.j41(46,"p"),e.EFF(47," Type: "),e.j41(48,"span"),e.EFF(49),e.k0s()(),e.j41(50,"p"),e.EFF(51," Price: "),e.j41(52,"span"),e.EFF(53),e.k0s()()()()()(),e.bVm()),2&a){const t=r.ngIf;e.R7$(10),e.JRh(t.provider),e.R7$(4),e.JRh(t.originalOrderId),e.R7$(4),e.JRh(e.i5U(19,11,t.created,"yyyy-MM-dd hh:mm:ss")),e.R7$(5),e.JRh(e.i5U(24,14,t.published,"yyyy-MM-dd hh:mm:ss")),e.R7$(5),e.JRh(e.i5U(29,17,t.executed,"yyyy-MM-dd hh:mm:ss")),e.R7$(5),e.JRh(t.status),e.R7$(4),e.JRh(t.state),e.R7$(4),e.JRh(t.symbol),e.R7$(4),e.JRh(t.side),e.R7$(4),e.JRh(t.type),e.R7$(4),e.JRh(t.price)}}function zC(a,r){if(1&a&&(e.qex(0),e.j41(1,"mat-tab",30)(2,"div",20)(3,"div",21)(4,"div",22)(5,"h4",27),e.EFF(6,"Order Details"),e.k0s(),e.j41(7,"p"),e.EFF(8," Provider: "),e.j41(9,"span"),e.EFF(10),e.k0s()(),e.j41(11,"p"),e.EFF(12," Original Order ID: "),e.j41(13,"span"),e.EFF(14),e.k0s()(),e.j41(15,"p"),e.EFF(16," Created: "),e.j41(17,"span"),e.EFF(18),e.nI1(19,"date"),e.k0s()(),e.j41(20,"p"),e.EFF(21," Published: "),e.j41(22,"span"),e.EFF(23),e.nI1(24,"date"),e.k0s()(),e.j41(25,"p"),e.EFF(26," Executed: "),e.j41(27,"span"),e.EFF(28),e.nI1(29,"date"),e.k0s()(),e.j41(30,"p"),e.EFF(31," Type: "),e.j41(32,"span"),e.EFF(33),e.k0s()(),e.j41(34,"p"),e.EFF(35," Status: "),e.j41(36,"span"),e.EFF(37),e.k0s()(),e.j41(38,"p"),e.EFF(39," Sub-Status: "),e.j41(40,"span"),e.EFF(41),e.k0s()(),e.j41(42,"p"),e.EFF(43," Destination: "),e.j41(44,"span"),e.EFF(45),e.k0s()(),e.j41(46,"p"),e.EFF(47," Source Vault ID: "),e.j41(48,"span"),e.EFF(49),e.k0s()(),e.j41(50,"p"),e.EFF(51," Transfer Hash: "),e.j41(52,"span"),e.EFF(53),e.k0s()(),e.j41(54,"p"),e.EFF(55," Fee Currency: "),e.j41(56,"span"),e.EFF(57),e.k0s()(),e.j41(58,"p"),e.EFF(59," Crypto Invoice Name: "),e.j41(60,"span"),e.EFF(61),e.k0s()(),e.j41(62,"p"),e.EFF(63," Screening Answer: "),e.j41(64,"span"),e.EFF(65),e.k0s()(),e.j41(66,"p"),e.EFF(67," Screening Risk Score: "),e.j41(68,"span"),e.EFF(69),e.k0s()(),e.j41(70,"p"),e.EFF(71," Screening Status: "),e.j41(72,"span"),e.EFF(73),e.k0s()(),e.j41(74,"p"),e.EFF(75," Final Benchmark Amount: "),e.j41(76,"span"),e.EFF(77),e.k0s()(),e.j41(78,"p"),e.EFF(79," Benchmark Amount: "),e.j41(80,"span"),e.EFF(81),e.k0s()(),e.j41(82,"p"),e.EFF(83," Benchmark Amount to Remain: "),e.j41(84,"span"),e.EFF(85),e.k0s()(),e.j41(86,"p"),e.EFF(87," Liquidity Provider Balance: "),e.j41(88,"span"),e.EFF(89),e.k0s()()()()()(),e.bVm()),2&a){const t=r.ngIf;e.R7$(10),e.JRh(t.provider),e.R7$(4),e.JRh(t.originalOrderId),e.R7$(4),e.JRh(e.i5U(19,20,t.created,"yyyy-MM-dd hh:mm:ss")),e.R7$(5),e.JRh(e.i5U(24,23,t.published,"yyyy-MM-dd hh:mm:ss")),e.R7$(5),e.JRh(e.i5U(29,26,t.executed,"yyyy-MM-dd hh:mm:ss")),e.R7$(5),e.JRh(t.type),e.R7$(4),e.JRh(t.status),e.R7$(4),e.JRh(t.subStatus),e.R7$(4),e.JRh(t.destination),e.R7$(4),e.JRh(t.sourceVaultId),e.R7$(4),e.JRh(t.transferHash),e.R7$(4),e.JRh(t.feeCurrency||"N/A"),e.R7$(4),e.JRh(t.cryptoInvoiceName),e.R7$(4),e.JRh(t.screeningAnswer),e.R7$(4),e.JRh(t.screeningRiskscore),e.R7$(4),e.JRh(t.screeningStatus),e.R7$(4),e.JRh(t.finalBenchmarkAmount),e.R7$(4),e.JRh(t.benchmarkAmount),e.R7$(4),e.JRh(t.benchmarkAmountToRemain),e.R7$(4),e.JRh(t.liquidityProviderBalance)}}function HC(a,r){if(1&a&&(e.qex(0),e.j41(1,"mat-tab",31)(2,"div",20)(3,"div",21)(4,"div",22)(5,"h4",27),e.EFF(6,"Order Details"),e.k0s(),e.j41(7,"p"),e.EFF(8," Provider: "),e.j41(9,"span"),e.EFF(10),e.k0s()(),e.j41(11,"p"),e.EFF(12," Original Order ID: "),e.j41(13,"span"),e.EFF(14),e.k0s()(),e.j41(15,"p"),e.EFF(16," Created: "),e.j41(17,"span"),e.EFF(18),e.nI1(19,"date"),e.k0s()(),e.j41(20,"p"),e.EFF(21," Published: "),e.j41(22,"span"),e.EFF(23),e.nI1(24,"date"),e.k0s()(),e.j41(25,"p"),e.EFF(26," Executed: "),e.j41(27,"span"),e.EFF(28),e.nI1(29,"date"),e.k0s()(),e.j41(30,"p"),e.EFF(31," Type: "),e.j41(32,"span"),e.EFF(33),e.k0s()(),e.j41(34,"p"),e.EFF(35," Status: "),e.j41(36,"span"),e.EFF(37),e.k0s()(),e.j41(38,"p"),e.EFF(39," Sub-Status: "),e.j41(40,"span"),e.EFF(41),e.k0s()(),e.j41(42,"p"),e.EFF(43," Destination: "),e.j41(44,"span"),e.EFF(45),e.k0s()(),e.j41(46,"p"),e.EFF(47," Source Vault ID: "),e.j41(48,"span"),e.EFF(49),e.k0s()(),e.j41(50,"p"),e.EFF(51," Transfer Hash: "),e.j41(52,"span"),e.EFF(53),e.k0s()(),e.j41(54,"p"),e.EFF(55," Fee Currency: "),e.j41(56,"span"),e.EFF(57),e.k0s()(),e.j41(58,"p"),e.EFF(59," Crypto Invoice Name: "),e.j41(60,"span"),e.EFF(61),e.k0s()(),e.j41(62,"p"),e.EFF(63," Screening Answer: "),e.j41(64,"span"),e.EFF(65),e.k0s()(),e.j41(66,"p"),e.EFF(67," Screening Risk Score: "),e.j41(68,"span"),e.EFF(69),e.k0s()(),e.j41(70,"p"),e.EFF(71," Screening Status: "),e.j41(72,"span"),e.EFF(73),e.k0s()()()()()(),e.bVm()),2&a){const t=r.ngIf;e.R7$(10),e.JRh(t.provider),e.R7$(4),e.JRh(t.originalOrderId),e.R7$(4),e.JRh(e.i5U(19,16,t.created,"yyyy-MM-dd hh:mm:ss")),e.R7$(5),e.JRh(e.i5U(24,19,t.published,"yyyy-MM-dd hh:mm:ss")),e.R7$(5),e.JRh(e.i5U(29,22,t.executed,"yyyy-MM-dd hh:mm:ss")),e.R7$(5),e.JRh(t.type),e.R7$(4),e.JRh(t.status),e.R7$(4),e.JRh(t.subStatus),e.R7$(4),e.JRh(t.destination),e.R7$(4),e.JRh(t.sourceVaultId),e.R7$(4),e.JRh(t.transferHash),e.R7$(4),e.JRh(t.feeCurrency||"N/A"),e.R7$(4),e.JRh(t.cryptoInvoiceName),e.R7$(4),e.JRh(t.screeningAnswer),e.R7$(4),e.JRh(t.screeningRiskscore),e.R7$(4),e.JRh(t.screeningStatus)}}function KC(a,r){if(1&a){const t=e.RV6();e.j41(0,"mat-step",16),e.DNE(1,UC,2,2,"ng-template",17),e.j41(2,"mat-tab-group",18)(3,"mat-tab",19)(4,"div",20)(5,"div",21)(6,"div",22)(7,"p"),e.EFF(8," ID: "),e.j41(9,"span"),e.EFF(10),e.j41(11,"mat-icon",23),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG(3);return e.Njj(o.copyParameter(n.transactionLifelineStatusId))}),e.EFF(12,"file_copy"),e.k0s()()(),e.j41(13,"p"),e.EFF(14," Created: "),e.j41(15,"span"),e.EFF(16),e.nI1(17,"date"),e.k0s()(),e.j41(18,"p"),e.EFF(19," Status Result: "),e.j41(20,"span"),e.EFF(21),e.j41(22,"button",24),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG(3);return e.Njj(o.onOpenJsonParameter(n))}),e.EFF(23," View Raw JSON "),e.k0s()()()()()()(),e.DNE(24,WC,51,15,"ng-container",6)(25,XC,54,20,"ng-container",6)(26,zC,90,29,"ng-container",6)(27,HC,74,25,"ng-container",6),e.k0s()()}if(2&a){const t=r.$implicit;e.Y8G("editable",t.transactionLifelineStatusId)("aria-labelledby",t.transactionLifelineStatusId?null:"disabled_af")("state","FAILURE"===(null==t?null:t.transactionStatusResult)?"cancel":"SUCCESS"===(null==t?null:t.transactionStatusResult)?"success":"UNKNOWN"===(null==t?null:t.transactionStatusResult)&&t.transactionLifelineStatusId?"update":"number")("completed",!1),e.R7$(10),e.SpI(" ",t.transactionLifelineStatusId," "),e.R7$(6),e.JRh(e.i5U(17,11,t.created,"yyyy-MM-dd hh:mm:ss ")),e.R7$(5),e.SpI(" ",t.transactionStatusResult," "),e.R7$(3),e.Y8G("ngIf",null==t||null==t.transactionStatusResultParsed||null==t.transactionStatusResultParsed.details?null:t.transactionStatusResultParsed.details.paymentOrder),e.R7$(),e.Y8G("ngIf",null==t||null==t.transactionStatusResultParsed||null==t.transactionStatusResultParsed.details?null:t.transactionStatusResultParsed.details.liquidityOrder),e.R7$(),e.Y8G("ngIf",null==t||null==t.transactionStatusResultParsed||null==t.transactionStatusResultParsed.details?null:t.transactionStatusResultParsed.details.benchmarkTransferOrder),e.R7$(),e.Y8G("ngIf",null==t||null==t.transactionStatusResultParsed||null==t.transactionStatusResultParsed.details?null:t.transactionStatusResultParsed.details.transferOrder)}}function JC(a,r){1&a&&(e.j41(0,"mat-icon",32),e.EFF(1,"search"),e.k0s())}function QC(a,r){1&a&&(e.j41(0,"mat-icon",33),e.EFF(1,"cancel"),e.k0s())}function ZC(a,r){1&a&&(e.j41(0,"mat-icon",34),e.EFF(1,"update"),e.k0s())}function ek(a,r){1&a&&(e.j41(0,"mat-icon",35),e.EFF(1,"check_circle"),e.k0s())}function tk(a,r){if(1&a&&(e.j41(0,"mat-card",8)(1,"mat-card-content"),e.EFF(2," Creating: "),e.j41(3,"span",9),e.EFF(4),e.nI1(5,"date"),e.k0s(),e.j41(6,"mat-stepper",10,1),e.DNE(8,KC,28,14,"mat-step",11)(9,JC,2,0,"ng-template",12)(10,QC,2,0,"ng-template",13)(11,ZC,2,0,"ng-template",14)(12,ek,2,0,"ng-template",15),e.k0s()()()),2&a){const t=e.XpG().ngIf;e.R7$(4),e.JRh(e.i5U(5,3,null==t[0]?null:t[0].newCreated,"yyyy-MM-dd hh:mm:ss")),e.R7$(2),e.Y8G("linear",!1),e.R7$(2),e.Y8G("ngForOf",t[0].lifelineStatus)}}function ak(a,r){if(1&a&&(e.j41(0,"span",9),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&a){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",e.i5U(2,1,null==t?null:t.newCreated,"yyyy-MM-dd hh:mm:ss")," ")}}function nk(a,r){if(1&a&&(e.j41(0,"span",25),e.EFF(1),e.k0s()),2&a){const t=e.XpG().$implicit;e.Y8G("ngClass","FAILURE"===(null==t?null:t.transactionStatusResult)?"cancel":"SUCCESS"===(null==t?null:t.transactionStatusResult)?"success":"number"),e.R7$(),e.SpI(" ",t.lifelineStatusDescriptor.statusName||t.transactionStatus," ")}}function ik(a,r){if(1&a&&(e.j41(0,"div",21)(1,"div",22)(2,"h4",27),e.EFF(3,"Preauth Operation"),e.k0s(),e.j41(4,"p"),e.EFF(5," Original Order Id: "),e.j41(6,"span"),e.EFF(7),e.k0s()(),e.j41(8,"p"),e.EFF(9," Created: "),e.j41(10,"span"),e.EFF(11),e.nI1(12,"date"),e.k0s()(),e.j41(13,"p"),e.EFF(14," Status: "),e.j41(15,"span"),e.EFF(16),e.k0s()(),e.j41(17,"p"),e.EFF(18," Errors: "),e.j41(19,"span"),e.EFF(20),e.k0s()()()()),2&a){const t=e.XpG().ngIf;e.R7$(7),e.JRh(null==t.preauthOperation?null:t.preauthOperation.originalOrderId),e.R7$(4),e.JRh(e.i5U(12,4,null==t.preauthOperation?null:t.preauthOperation.created,"yyyy-MM-dd hh:mm:ss")),e.R7$(5),e.JRh((null==t.preauthOperation?null:t.preauthOperation.status)+(null==t.preauthOperation?null:t.preauthOperation.statusReason)),e.R7$(4),e.JRh(null==t.preauthOperation?null:t.preauthOperation.errorMessage)}}function rk(a,r){if(1&a&&(e.j41(0,"div",21)(1,"div",22)(2,"h4",27),e.EFF(3,"Capture Operation"),e.k0s(),e.j41(4,"p"),e.EFF(5," Errors: "),e.j41(6,"span"),e.EFF(7),e.k0s()(),e.j41(8,"p"),e.EFF(9," Original Order Id: "),e.j41(10,"span"),e.EFF(11),e.k0s()(),e.j41(12,"p"),e.EFF(13," Created: "),e.j41(14,"span"),e.EFF(15),e.nI1(16,"date"),e.k0s()(),e.j41(17,"p"),e.EFF(18," Status: "),e.j41(19,"span"),e.EFF(20),e.k0s()()()()),2&a){const t=e.XpG().ngIf;e.R7$(7),e.JRh(null==t.captureOperationSn?null:t.captureOperationSn.errorMessage),e.R7$(4),e.JRh(null==t.captureOperationSn?null:t.captureOperationSn.originalOrderId),e.R7$(4),e.JRh(e.i5U(16,4,null==t.captureOperationSn?null:t.captureOperationSn.created,"yyyy-MM-dd hh:mm:ss")),e.R7$(5),e.JRh((null==t.captureOperationSn?null:t.captureOperationSn.status)||(null==t.captureOperationSn?null:t.captureOperationSn.statusReason))}}function ok(a,r){if(1&a&&(e.j41(0,"div",21)(1,"div",22)(2,"h4",27),e.EFF(3,"Refund Operation"),e.k0s(),e.j41(4,"p"),e.EFF(5," Errors: "),e.j41(6,"span"),e.EFF(7),e.k0s()(),e.j41(8,"p"),e.EFF(9," Original Order Id: "),e.j41(10,"span"),e.EFF(11),e.k0s()(),e.j41(12,"p"),e.EFF(13," Created: "),e.j41(14,"span"),e.EFF(15),e.nI1(16,"date"),e.k0s()(),e.j41(17,"p"),e.EFF(18," Status: "),e.j41(19,"span"),e.EFF(20),e.k0s()()()()),2&a){const t=e.XpG().ngIf;e.R7$(7),e.JRh(null==t.refundOperationSn?null:t.refundOperationSn.errorMessage),e.R7$(4),e.JRh(null==t.refundOperationSn?null:t.refundOperationSn.originalOrderId),e.R7$(4),e.JRh(e.i5U(16,4,null==t.refundOperationSn?null:t.refundOperationSn.created,"yyyy-MM-dd hh:mm:ss")),e.R7$(5),e.JRh((null==t.refundOperationSn?null:t.refundOperationSn.status)||(null==t.refundOperationSn?null:t.refundOperationSn.statusReason))}}function sk(a,r){if(1&a&&(e.qex(0),e.j41(1,"mat-tab",26)(2,"div",20)(3,"div",21)(4,"div",22)(5,"h4",27),e.EFF(6,"Order Details"),e.k0s(),e.j41(7,"p"),e.EFF(8," Provider: "),e.j41(9,"span"),e.EFF(10),e.k0s()(),e.j41(11,"p"),e.EFF(12," Original Order Id: "),e.j41(13,"span"),e.EFF(14),e.k0s()(),e.j41(15,"p"),e.EFF(16," Created: "),e.j41(17,"span"),e.EFF(18),e.nI1(19,"date"),e.k0s()(),e.j41(20,"p"),e.EFF(21," Status: "),e.j41(22,"span"),e.EFF(23),e.k0s()()()(),e.j41(24,"div",21)(25,"div",22)(26,"h4",27),e.EFF(27,"Payment Details"),e.k0s(),e.j41(28,"p"),e.EFF(29," Bank Name: "),e.j41(30,"span"),e.EFF(31),e.k0s()(),e.j41(32,"p"),e.EFF(33," Card Holder Name: "),e.j41(34,"span"),e.EFF(35),e.k0s()(),e.j41(36,"p"),e.EFF(37," Card Type: "),e.j41(38,"span"),e.EFF(39),e.k0s()(),e.j41(40,"p"),e.EFF(41," Processor Name: "),e.j41(42,"span"),e.EFF(43),e.k0s()(),e.j41(44,"p"),e.EFF(45," Bin: "),e.j41(46,"span"),e.EFF(47),e.k0s()()()(),e.DNE(48,ik,21,7,"div",28)(49,rk,21,7,"div",28)(50,ok,21,7,"div",28),e.k0s()(),e.bVm()),2&a){const t=r.ngIf;e.R7$(10),e.JRh(t.provider),e.R7$(4),e.JRh(t.originalOrderId),e.R7$(4),e.JRh(e.i5U(19,12,t.created,"yyyy-MM-dd hh:mm:ss")),e.R7$(5),e.JRh(t.status),e.R7$(8),e.JRh(t.paymentBankName||"N/A"),e.R7$(4),e.JRh(t.paymentCardHolderName||"N/A"),e.R7$(4),e.JRh(t.paymentCardType||"N/A"),e.R7$(4),e.JRh(t.paymentProcessorName||"N/A"),e.R7$(4),e.JRh(t.paymentBin||"N/A"),e.R7$(),e.Y8G("ngIf",t.preauthOperationSn),e.R7$(),e.Y8G("ngIf",t.captureOperationSn),e.R7$(),e.Y8G("ngIf",t.refundOperationSn)}}function lk(a,r){if(1&a&&(e.qex(0),e.j41(1,"mat-tab",29)(2,"div",20)(3,"div",21)(4,"div",22)(5,"h4",27),e.EFF(6,"Order Details"),e.k0s(),e.j41(7,"p"),e.EFF(8," Provider: "),e.j41(9,"span"),e.EFF(10),e.k0s()(),e.j41(11,"p"),e.EFF(12," Original Order Id: "),e.j41(13,"span"),e.EFF(14),e.k0s()(),e.j41(15,"p"),e.EFF(16," Created: "),e.j41(17,"span"),e.EFF(18),e.nI1(19,"date"),e.k0s()(),e.j41(20,"p"),e.EFF(21," Published: "),e.j41(22,"span"),e.EFF(23),e.nI1(24,"date"),e.k0s()(),e.j41(25,"p"),e.EFF(26," Executed: "),e.j41(27,"span"),e.EFF(28),e.nI1(29,"date"),e.k0s()(),e.j41(30,"p"),e.EFF(31," Status: "),e.j41(32,"span"),e.EFF(33),e.k0s()(),e.j41(34,"p"),e.EFF(35," State: "),e.j41(36,"span"),e.EFF(37),e.k0s()(),e.j41(38,"p"),e.EFF(39," Symbol: "),e.j41(40,"span"),e.EFF(41),e.k0s()(),e.j41(42,"p"),e.EFF(43," Side: "),e.j41(44,"span"),e.EFF(45),e.k0s()(),e.j41(46,"p"),e.EFF(47," Type: "),e.j41(48,"span"),e.EFF(49),e.k0s()(),e.j41(50,"p"),e.EFF(51," Price: "),e.j41(52,"span"),e.EFF(53),e.k0s()()()()()(),e.bVm()),2&a){const t=r.ngIf;e.R7$(10),e.JRh(t.provider),e.R7$(4),e.JRh(t.originalOrderId),e.R7$(4),e.JRh(e.i5U(19,11,t.created,"yyyy-MM-dd hh:mm:ss")),e.R7$(5),e.JRh(e.i5U(24,14,t.published,"yyyy-MM-dd hh:mm:ss")),e.R7$(5),e.JRh(e.i5U(29,17,t.executed,"yyyy-MM-dd hh:mm:ss")),e.R7$(5),e.JRh(t.status),e.R7$(4),e.JRh(t.state),e.R7$(4),e.JRh(t.symbol),e.R7$(4),e.JRh(t.side),e.R7$(4),e.JRh(t.type),e.R7$(4),e.JRh(t.price)}}function dk(a,r){if(1&a&&(e.qex(0),e.j41(1,"mat-tab",30)(2,"div",20)(3,"div",21)(4,"div",22)(5,"h4",27),e.EFF(6,"Order Details"),e.k0s(),e.j41(7,"p"),e.EFF(8," Provider: "),e.j41(9,"span"),e.EFF(10),e.k0s()(),e.j41(11,"p"),e.EFF(12," Original Order ID: "),e.j41(13,"span"),e.EFF(14),e.k0s()(),e.j41(15,"p"),e.EFF(16," Created: "),e.j41(17,"span"),e.EFF(18),e.nI1(19,"date"),e.k0s()(),e.j41(20,"p"),e.EFF(21," Published: "),e.j41(22,"span"),e.EFF(23),e.nI1(24,"date"),e.k0s()(),e.j41(25,"p"),e.EFF(26," Executed: "),e.j41(27,"span"),e.EFF(28),e.nI1(29,"date"),e.k0s()(),e.j41(30,"p"),e.EFF(31," Type: "),e.j41(32,"span"),e.EFF(33),e.k0s()(),e.j41(34,"p"),e.EFF(35," Status: "),e.j41(36,"span"),e.EFF(37),e.k0s()(),e.j41(38,"p"),e.EFF(39," Sub-Status: "),e.j41(40,"span"),e.EFF(41),e.k0s()(),e.j41(42,"p"),e.EFF(43," Destination: "),e.j41(44,"span"),e.EFF(45),e.k0s()(),e.j41(46,"p"),e.EFF(47," Source Vault ID: "),e.j41(48,"span"),e.EFF(49),e.k0s()(),e.j41(50,"p"),e.EFF(51," Transfer Hash: "),e.j41(52,"span"),e.EFF(53),e.k0s()(),e.j41(54,"p"),e.EFF(55," Fee Currency: "),e.j41(56,"span"),e.EFF(57),e.k0s()(),e.j41(58,"p"),e.EFF(59," Crypto Invoice Name: "),e.j41(60,"span"),e.EFF(61),e.k0s()(),e.j41(62,"p"),e.EFF(63," Screening Answer: "),e.j41(64,"span"),e.EFF(65),e.k0s()(),e.j41(66,"p"),e.EFF(67," Screening Risk Score: "),e.j41(68,"span"),e.EFF(69),e.k0s()(),e.j41(70,"p"),e.EFF(71," Screening Status: "),e.j41(72,"span"),e.EFF(73),e.k0s()(),e.j41(74,"p"),e.EFF(75," Final Benchmark Amount: "),e.j41(76,"span"),e.EFF(77),e.k0s()(),e.j41(78,"p"),e.EFF(79," Benchmark Amount: "),e.j41(80,"span"),e.EFF(81),e.k0s()(),e.j41(82,"p"),e.EFF(83," Benchmark Amount to Remain: "),e.j41(84,"span"),e.EFF(85),e.k0s()(),e.j41(86,"p"),e.EFF(87," Liquidity Provider Balance: "),e.j41(88,"span"),e.EFF(89),e.k0s()()()()()(),e.bVm()),2&a){const t=r.ngIf;e.R7$(10),e.JRh(t.provider),e.R7$(4),e.JRh(t.originalOrderId),e.R7$(4),e.JRh(e.i5U(19,20,t.created,"yyyy-MM-dd hh:mm:ss")),e.R7$(5),e.JRh(e.i5U(24,23,t.published,"yyyy-MM-dd hh:mm:ss")),e.R7$(5),e.JRh(e.i5U(29,26,t.executed,"yyyy-MM-dd hh:mm:ss")),e.R7$(5),e.JRh(t.type),e.R7$(4),e.JRh(t.status),e.R7$(4),e.JRh(t.subStatus),e.R7$(4),e.JRh(t.destination),e.R7$(4),e.JRh(t.sourceVaultId),e.R7$(4),e.JRh(t.transferHash),e.R7$(4),e.JRh(t.feeCurrency||"N/A"),e.R7$(4),e.JRh(t.cryptoInvoiceName),e.R7$(4),e.JRh(t.screeningAnswer),e.R7$(4),e.JRh(t.screeningRiskscore),e.R7$(4),e.JRh(t.screeningStatus),e.R7$(4),e.JRh(t.finalBenchmarkAmount),e.R7$(4),e.JRh(t.benchmarkAmount),e.R7$(4),e.JRh(t.benchmarkAmountToRemain),e.R7$(4),e.JRh(t.liquidityProviderBalance)}}function ck(a,r){if(1&a&&(e.qex(0),e.j41(1,"mat-tab",31)(2,"div",20)(3,"div",21)(4,"div",22)(5,"h4",27),e.EFF(6,"Order Details"),e.k0s(),e.j41(7,"p"),e.EFF(8," Provider: "),e.j41(9,"span"),e.EFF(10),e.k0s()(),e.j41(11,"p"),e.EFF(12," Original Order ID: "),e.j41(13,"span"),e.EFF(14),e.k0s()(),e.j41(15,"p"),e.EFF(16," Created: "),e.j41(17,"span"),e.EFF(18),e.nI1(19,"date"),e.k0s()(),e.j41(20,"p"),e.EFF(21," Published: "),e.j41(22,"span"),e.EFF(23),e.nI1(24,"date"),e.k0s()(),e.j41(25,"p"),e.EFF(26," Executed: "),e.j41(27,"span"),e.EFF(28),e.nI1(29,"date"),e.k0s()(),e.j41(30,"p"),e.EFF(31," Type: "),e.j41(32,"span"),e.EFF(33),e.k0s()(),e.j41(34,"p"),e.EFF(35," Status: "),e.j41(36,"span"),e.EFF(37),e.k0s()(),e.j41(38,"p"),e.EFF(39," Sub-Status: "),e.j41(40,"span"),e.EFF(41),e.k0s()(),e.j41(42,"p"),e.EFF(43," Destination: "),e.j41(44,"span"),e.EFF(45),e.k0s()(),e.j41(46,"p"),e.EFF(47," Source Vault ID: "),e.j41(48,"span"),e.EFF(49),e.k0s()(),e.j41(50,"p"),e.EFF(51," Transfer Hash: "),e.j41(52,"span"),e.EFF(53),e.k0s()(),e.j41(54,"p"),e.EFF(55," Fee Currency: "),e.j41(56,"span"),e.EFF(57),e.k0s()(),e.j41(58,"p"),e.EFF(59," Crypto Invoice Name: "),e.j41(60,"span"),e.EFF(61),e.k0s()(),e.j41(62,"p"),e.EFF(63," Screening Answer: "),e.j41(64,"span"),e.EFF(65),e.k0s()(),e.j41(66,"p"),e.EFF(67," Screening Risk Score: "),e.j41(68,"span"),e.EFF(69),e.k0s()(),e.j41(70,"p"),e.EFF(71," Screening Status: "),e.j41(72,"span"),e.EFF(73),e.k0s()()()()()(),e.bVm()),2&a){const t=r.ngIf;e.R7$(10),e.JRh(t.provider),e.R7$(4),e.JRh(t.originalOrderId),e.R7$(4),e.JRh(e.i5U(19,16,t.created,"yyyy-MM-dd hh:mm:ss")),e.R7$(5),e.JRh(e.i5U(24,19,t.published,"yyyy-MM-dd hh:mm:ss")),e.R7$(5),e.JRh(e.i5U(29,22,t.executed,"yyyy-MM-dd hh:mm:ss")),e.R7$(5),e.JRh(t.type),e.R7$(4),e.JRh(t.status),e.R7$(4),e.JRh(t.subStatus),e.R7$(4),e.JRh(t.destination),e.R7$(4),e.JRh(t.sourceVaultId),e.R7$(4),e.JRh(t.transferHash),e.R7$(4),e.JRh(t.feeCurrency||"N/A"),e.R7$(4),e.JRh(t.cryptoInvoiceName),e.R7$(4),e.JRh(t.screeningAnswer),e.R7$(4),e.JRh(t.screeningRiskscore),e.R7$(4),e.JRh(t.screeningStatus)}}function mk(a,r){if(1&a){const t=e.RV6();e.j41(0,"mat-step",16),e.DNE(1,nk,2,2,"ng-template",17),e.j41(2,"mat-tab-group",18)(3,"mat-tab",19)(4,"div",20)(5,"div",21)(6,"div",22)(7,"p"),e.EFF(8," ID: "),e.j41(9,"span"),e.EFF(10),e.j41(11,"mat-icon",23),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG(4);return e.Njj(o.copyParameter(n.transactionLifelineStatusId))}),e.EFF(12,"file_copy"),e.k0s()()(),e.j41(13,"p"),e.EFF(14," Created: "),e.j41(15,"span"),e.EFF(16),e.nI1(17,"date"),e.k0s()(),e.j41(18,"p"),e.EFF(19," Status Result: "),e.j41(20,"span"),e.EFF(21),e.j41(22,"button",24),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG(4);return e.Njj(o.onOpenJsonParameter(n))}),e.EFF(23," View Raw JSON "),e.k0s()()()()()()(),e.DNE(24,sk,51,15,"ng-container",6)(25,lk,54,20,"ng-container",6)(26,dk,90,29,"ng-container",6)(27,ck,74,25,"ng-container",6),e.k0s()()}if(2&a){const t=r.$implicit;e.Y8G("editable",t.transactionLifelineStatusId)("aria-labelledby",t.transactionLifelineStatusId?null:"disabled_af")("state","FAILURE"===(null==t?null:t.transactionStatusResult)?"cancel":"SUCCESS"===(null==t?null:t.transactionStatusResult)?"success":"UNKNOWN"===(null==t?null:t.transactionStatusResult)&&t.transactionLifelineStatusId?"update":"number")("completed",!1),e.R7$(10),e.SpI(" ",t.transactionLifelineStatusId," "),e.R7$(6),e.JRh(e.i5U(17,11,t.created,"yyyy-MM-dd hh:mm:ss ")),e.R7$(5),e.SpI(" ",t.transactionStatusResult," "),e.R7$(3),e.Y8G("ngIf",null==t||null==t.transactionStatusResultParsed||null==t.transactionStatusResultParsed.details?null:t.transactionStatusResultParsed.details.paymentOrder),e.R7$(),e.Y8G("ngIf",null==t||null==t.transactionStatusResultParsed||null==t.transactionStatusResultParsed.details?null:t.transactionStatusResultParsed.details.liquidityOrder),e.R7$(),e.Y8G("ngIf",null==t||null==t.transactionStatusResultParsed||null==t.transactionStatusResultParsed.details?null:t.transactionStatusResultParsed.details.benchmarkTransferOrder),e.R7$(),e.Y8G("ngIf",null==t||null==t.transactionStatusResultParsed||null==t.transactionStatusResultParsed.details?null:t.transactionStatusResultParsed.details.transferOrder)}}function pk(a,r){1&a&&(e.j41(0,"mat-icon",32),e.EFF(1,"search"),e.k0s())}function uk(a,r){1&a&&(e.j41(0,"mat-icon",33),e.EFF(1,"cancel"),e.k0s())}function hk(a,r){1&a&&(e.j41(0,"mat-icon",34),e.EFF(1,"update"),e.k0s())}function fk(a,r){1&a&&(e.j41(0,"mat-icon",35),e.EFF(1,"check_circle"),e.k0s())}function gk(a,r){if(1&a&&(e.j41(0,"mat-step",38),e.DNE(1,ak,3,4,"ng-template",17),e.j41(2,"mat-stepper",39,2),e.DNE(4,mk,28,14,"mat-step",11)(5,pk,2,0,"ng-template",12)(6,uk,2,0,"ng-template",13)(7,hk,2,0,"ng-template",14)(8,fk,2,0,"ng-template",15),e.k0s()()),2&a){const t=r.$implicit;e.Y8G("completed",!1),e.R7$(2),e.Y8G("linear",!1),e.R7$(2),e.Y8G("ngForOf",t.lifelineStatus)}}function _k(a,r){if(1&a&&(e.j41(0,"mat-card")(1,"mat-card-content"),e.EFF(2," Updating "),e.j41(3,"mat-vertical-stepper",36),e.DNE(4,gk,9,3,"mat-step",37),e.k0s()()()),2&a){const t=e.XpG().ngIf;e.R7$(3),e.Y8G("linear",!1),e.R7$(),e.Y8G("ngForOf",t.slice(1))}}function bk(a,r){if(1&a&&(e.qex(0),e.DNE(1,BC,4,0,"mat-card",6)(2,tk,13,6,"mat-card",7)(3,_k,5,2,"mat-card",6),e.bVm()),2&a){const t=r.ngIf;e.R7$(),e.Y8G("ngIf",!t.length),e.R7$(),e.Y8G("ngIf",t.length),e.R7$(),e.Y8G("ngIf",t.length>1)}}function vk(a,r){1&a&&e.nrm(0,"app-spinner")}function yk(a,r){if(1&a){const t=e.RV6();e.j41(0,"app-raw-json",40),e.bIt("close",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onCloseJsonParameter())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("isModal",!0)("data",t.currentResultStatus)}}const Ck={SUCCESS:"resultSuccessParams",FAILURE:"resultFailureParams",UNKNOWN:"resultStatusParams"};let kk=(()=>{class a{constructor(t,i,n,o){this.route=t,this.adminService=i,this._snackBar=n,this.clipboard=o,this.isModalOpen=!1,this.currentResultStatus={},this.selectedStepIndex=0,this.route.queryParams.subscribe(s=>{s.transactionId&&(this.transactionId=s.transactionId,this.transactionLifelineStatusItems$=this.adminService.getTransactionLifeline(s.transactionId).pipe((0,P.s)(1),(0,b.T)(l=>l.map(m=>{const u=m.lifelineStatus.find(C=>C.created)?.created,g=m.lifelineStatus.map(C=>{const x=Ck[C.transactionStatusResult];if(x&&C[x])try{const j=JSON.parse(C[x]);return{...C,transactionStatusResultParsed:j}}catch{return console.error("Failed to parse JSON:",C[x]),C}return C});return{...m,lifelineStatus:g,newCreated:u}})),(0,D.M)(l=>{l.slice(1).forEach((m,u)=>{const g=m.lifelineStatus.findIndex(C=>C.transactionLifelineStatusId);setTimeout(()=>{this.steppers.toArray()[u].selectedIndex=g,this.steppers.toArray()[u].steps.forEach(C=>C.reset())},500)})})))})}copyParameter(t){this.clipboard.copy(t),this._snackBar.open("ID copied.",null,{duration:2e3})}onOpenJsonParameter(t){t.transactionStatusResultParsed?(this.currentResultStatus=t.transactionStatusResultParsed,this.isModalOpen=!0):this._snackBar.open("JSON object is unavailable",null,{duration:2e3})}onCloseJsonParameter(){this.isModalOpen=!1,this.currentResultStatus={}}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(w.nX),e.rXU(E),e.rXU(Ie.UG),e.rXU(Pt.B0))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-transaction-lifeline"]],viewQuery:function(i,n){if(1&i&&e.GBs(VC,5),2&i){let o;e.mGM(o=e.lsd())&&(n.steppers=o)}},features:[e.Jv_([{provide:NC.x8,useValue:{displayDefaultIndicatorType:!1}}])],decls:6,vars:9,consts:[["loading",""],["stepper",""],["updatingStepper",""],[3,"title","items","active_item"],[4,"ngIf","ngIfElse"],[3,"isModal","data","close",4,"ngIf"],[4,"ngIf"],["class","mb-3",4,"ngIf"],[1,"mb-3"],[1,"lifeLine-label"],["labelPosition","bottom",3,"linear"],[3,"editable","aria-labelledby","state","completed",4,"ngFor","ngForOf"],["matStepperIcon","edit"],["matStepperIcon","cancel"],["matStepperIcon","update"],["matStepperIcon","success"],[3,"editable","aria-labelledby","state","completed"],["matStepLabel",""],["animationDuration","300ms","mat-stretch-tabs","false"],["label","General Details"],[1,"overview__wrapper"],[1,"overview__data"],[1,"overview__container"],[1,"mat-icon-copy",3,"click"],["type","button",1,"view-json",3,"click"],[3,"ngClass"],["label","Payment Order"],[1,"overview__title"],["class","overview__data",4,"ngIf"],["label","Liquidity Order"],["label","Benchmark Transfer Order"],["label","Transfer Order"],[1,"tx-gray-500","tx-xs-bold"],[1,"tx-danger","tx-xs-bold"],[1,"tx-gray-800","tx-xs-bold"],[1,"tx-success","tx-xs-bold"],[3,"linear"],[3,"completed",4,"ngFor","ngForOf"],[3,"completed"],["labelPosition","bottom","animationDuration","300",3,"linear"],[3,"close","isModal","data"]],template:function(i,n){if(1&i&&(e.nrm(0,"app-admin-page-header",3),e.DNE(1,bk,4,3,"ng-container",4),e.nI1(2,"async"),e.DNE(3,vk,1,0,"ng-template",null,0,e.C5r)(5,yk,1,2,"app-raw-json",5)),2&i){const o=e.sdS(4);e.Y8G("title","Transaction Lifeline")("items",e.lJ4(8,GC))("active_item","Transaction: "+n.transactionId),e.R7$(),e.Y8G("ngIf",e.bMT(2,6,n.transactionLifelineStatusItems$))("ngIfElse",o),e.R7$(4),e.Y8G("ngIf",n.isModalOpen)}},dependencies:[h.YU,h.Sq,h.bT,Q.RN,Q.m2,ve.mq,ve.T8,Le.t,It,Nt.An,mt.V5,mt.Ti,mt.M6,mt.xJ,X,h.Jj,h.vh],styles:["[_nghost-%COMP%]     .mat-step-header[aria-labelledby=disabled_af]{pointer-events:none!important;cursor:not-allowed;opacity:.6}[_nghost-%COMP%]     .mat-horizontal-content-container{background-color:#e8edf2}[_nghost-%COMP%]     .mat-step-label-selected{font-weight:500}[_nghost-%COMP%]     .mat-step-label-selected .success{color:var(--color_green_800)!important}[_nghost-%COMP%]     .mat-step-label-selected .cancel{color:brown!important}[_nghost-%COMP%]     .mat-step-icon-state-selected, [_nghost-%COMP%]     .mat-step-icon-state-done, [_nghost-%COMP%]     .mat-step-icon-state-edit, [_nghost-%COMP%]     .mat-step-icon-state-update, [_nghost-%COMP%]     .mat-step-icon-state-success{background:transparent!important}[_nghost-%COMP%]     .mat-step-icon-state-selected .mat-icon, [_nghost-%COMP%]     .mat-step-icon-state-done .mat-icon, [_nghost-%COMP%]     .mat-step-icon-state-edit .mat-icon, [_nghost-%COMP%]     .mat-step-icon-state-update .mat-icon, [_nghost-%COMP%]     .mat-step-icon-state-success .mat-icon{font-size:24px!important;height:24px!important;width:24px!important}[_nghost-%COMP%]     .mat-step-icon-state-update .mat-icon{font-weight:300}[_nghost-%COMP%]     .mat-step-icon-state-edit .mat-icon{font-size:30px!important}.mat-icon-copy[_ngcontent-%COMP%]{position:relative;top:10px;color:#0000008a;margin-left:5px;font-size:16px;cursor:pointer}.view-json[_ngcontent-%COMP%]{min-width:60px;min-height:26px;padding:0 10px;font-weight:500;color:#0000008a;background:transparent;border-color:transparent;text-decoration:underline}.view-json[_ngcontent-%COMP%]:disabled{opacity:.5}.lifeLine-label[_ngcontent-%COMP%]{color:#0000008a;font-weight:400;font-size:13px}.overview__wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto auto auto auto 1fr;grid-gap:15px;padding:15px 0}.overview__data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:3px;font-size:14px}.overview__data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}.overview__container[_ngcontent-%COMP%]{height:100%;padding:15px;background:#f6f7f9;border-radius:5px}.overview__container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{letter-spacing:normal}.overview__title[_ngcontent-%COMP%]{font-size:16px;color:#001f38;font-weight:500;margin-bottom:5px}@media all and (max-width: 991px){.overview__wrapper[_ngcontent-%COMP%]{grid-template-columns:1fr;grid-gap:0}.overview__data[_ngcontent-%COMP%]{display:flex}}"],changeDetection:0})}return a})();var Fk=f(7932),Tk=f(1997);function xk(a,r){if(1&a&&(e.j41(0,"mat-option",25),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI(" ",t.name," ")}}function wk(a,r){if(1&a&&(e.j41(0,"mat-option",25),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI(" ",t.name," ")}}function Sk(a,r){if(1&a&&(e.j41(0,"mat-option",25),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI(" ",t.title," ")}}function Dk(a,r){if(1&a&&(e.j41(0,"mat-form-field",9)(1,"mat-label"),e.EFF(2,"Widget ID"),e.k0s(),e.j41(3,"mat-select",26),e.DNE(4,Sk,2,2,"mat-option",5),e.nI1(5,"async"),e.k0s()()),2&a){const t=e.XpG();e.R7$(4),e.Y8G("ngForOf",e.bMT(5,1,t.widgetOptions$))}}function Ik(a,r){if(1&a&&(e.j41(0,"mat-option",25),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("value",t),e.R7$(),e.SpI(" ",t.title," ")}}function Ek(a,r){if(1&a&&(e.j41(0,"mat-error",27),e.EFF(1),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.JRh(t.getAmountToSpendMessage())}}function Pk(a,r){if(1&a&&(e.j41(0,"mat-option",25),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("value",t.symbol),e.R7$(),e.SpI(" ",t.display," ")}}function Ak(a,r){if(1&a&&(e.j41(0,"mat-error",27),e.EFF(1),e.k0s()),2&a){const t=e.XpG(2);e.R7$(),e.JRh(t.getAmountToRecievedMessage())}}function Rk(a,r){if(1&a&&(e.j41(0,"mat-option",25),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("value",t.symbol),e.R7$(),e.SpI(" ",t.display," ")}}function Ok(a,r){if(1&a&&(e.j41(0,"div",12)(1,"mat-form-field",3)(2,"mat-label"),e.EFF(3,"Amount To Receive"),e.k0s(),e.nrm(4,"input",28),e.DNE(5,Ak,2,1,"mat-error",14),e.k0s(),e.j41(6,"mat-form-field",6)(7,"mat-select",29),e.DNE(8,Rk,2,2,"mat-option",5),e.k0s()()()),2&a){const t=e.XpG();e.R7$(5),e.Y8G("ngIf",t.amountToReceiveField.invalid),e.R7$(3),e.Y8G("ngForOf",t.currenciesToReceive)}}function jk(a,r){if(1&a&&(e.j41(0,"mat-error",27),e.EFF(1),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.JRh(t.getRateMessage())}}function $k(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.updateRate())}),e.EFF(1,"Set current "),e.k0s()}}function Mk(a,r){if(1&a&&(e.j41(0,"mat-option",25),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI(" ",t.name," ")}}function Nk(a,r){if(1&a&&(e.j41(0,"mat-option",25),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI(" ",t.name," ")}}function Vk(a,r){if(1&a&&(e.j41(0,"mat-form-field",9)(1,"mat-label"),e.EFF(2,"Used Cost Scheme"),e.k0s(),e.nrm(3,"input",32),e.k0s()),2&a){const t=e.XpG().ngIf;e.R7$(3),e.Y8G("value",t.costSchema.name)}}function Gk(a,r){if(1&a&&(e.j41(0,"mat-form-field",9)(1,"mat-label"),e.EFF(2,"Used Fee Scheme"),e.k0s(),e.nrm(3,"input",32),e.k0s()),2&a){const t=e.XpG().ngIf;e.R7$(3),e.Y8G("value",t.feeSchema.name)}}function Bk(a,r){if(1&a&&(e.qex(0),e.j41(1,"mat-card-header",1)(2,"mat-card-title"),e.EFF(3,"Results"),e.k0s()(),e.DNE(4,Vk,4,1,"mat-form-field",8)(5,Gk,4,1,"mat-form-field",8),e.nrm(6,"mat-divider",31),e.bVm()),2&a){const t=r.ngIf;e.R7$(4),e.Y8G("ngIf",null==t||null==t.costSchema?null:t.costSchema.name),e.R7$(),e.Y8G("ngIf",null==t||null==t.feeSchema?null:t.feeSchema.name)}}function Uk(a,r){1&a&&(e.qex(0),e.nrm(1,"app-spinner",33),e.bVm()),2&a&&(e.R7$(),e.Y8G("isTransparent",!0))}const Lk=[c.D_.Buy,c.D_.Sell];let Yk=(()=>{class a{get transactionTypeField(){return this.form.controls.type}get rateField(){return this.form.controls.rate}get amountToSpendField(){return this.form.controls.amountToSpend}get amountToReceiveField(){return this.form.controls.amountToReceive}get instrumentTypeField(){return this.form.controls.instrument}getAmountToSpendMessage(){return this.amountToSpendField.hasError("required")?`${this.amountToSpendTitle} is required`:this.amountToSpendField.hasError("pattern")?" Incorrect number value":""}getAmountToRecievedMessage(){return this.amountToReceiveField.hasError("required")?"Field is required":this.amountToReceiveField.hasError("pattern")?" Incorrect number value":""}getRateMessage(){return this.rateField.hasError("required")?"Rate is required":this.rateField.hasError("pattern")?" Incorrect number value":""}constructor(t,i,n,o,s){this.fb=t,this.cdr=i,this.paymentDataService=n,this.commonService=o,this.adminService=s,this.subscriptions=new R.yU,this.transactionTypes=F.ln.filter(l=>Lk.includes(l.id)),this.instrumentTypes=F.m0,this.isProgress=!1,this.transactionSources=F.QY,this.transactionType=c.D_.System,this.currenciesToSpend=[],this.currenciesToReceive=[],this.currentRate=0,this.amountToSpendTitle=`Amount To ${c.D_.Buy}`,this.currencyOptions=[],this.usersOptions$=(0,S.of)([]),this.usersSearchInput$=new y.B,this.isUsersLoading=!1,this.minUsersLengthTerm=1,this.pSpendAutoUpdated=!1,this.pReceiveAutoUpdated=!1,this.pAmountToSpend=0,this.pAmountToReceive=0,this.filteredProviders=[],this.providers=[],this.form=this.fb.group({type:this.fb.control(c.D_.Buy,d.k0.required),source:this.fb.control(c.km.Wallet,d.k0.required),currencyToSpend:this.fb.control(void 0,d.k0.required),currencyToReceive:this.fb.control(void 0,d.k0.required),amountToSpend:this.fb.control(void 0,[d.k0.required,d.k0.pattern(de.n)]),amountToReceive:this.fb.control(void 0,[d.k0.required,d.k0.pattern(de.n)]),rate:this.fb.control(void 0,[d.k0.required,d.k0.pattern(de.n)]),users:this.fb.control(void 0,d.k0.required),instrument:this.fb.control(c.iw.FiatVault,d.k0.required),paymentProvider:this.fb.control(void 0),widgetUserParamsId:this.fb.control(void 0)}),this.widgetOptions$=this.adminService.getWidgets(0,200,"name",!1,{}).pipe((0,b.T)(l=>l.list.map(m=>({id:m.id,title:m.name})))),this.showSetCurrentRate=pe.Li.create_transaction_update_rate}ngOnInit(){this.loadCurrencies(),this.usersSearch(),this.getPaymentProviders(),this.subscriptions.add(this.form.controls.source.valueChanges.subscribe(t=>{const i=this.form.controls.widgetUserParamsId;t===c.km.QuickCheckout||t===c.km.Widget?i.setValidators(d.k0.required):(i.clearValidators(),i.patchValue(null)),i.updateValueAndValidity()})),this.subscriptions.add(this.transactionTypeField?.valueChanges.pipe((0,Y.F)((t,i)=>t===i)).subscribe(t=>this.onTransactionTypeUpdate(t))),this.subscriptions.add(this.amountToSpendField?.valueChanges.pipe((0,Y.F)((t,i)=>t===i)).subscribe(t=>this.onAmountToSpendUpdate(t))),this.subscriptions.add(this.rateField?.valueChanges.pipe((0,Y.F)((t,i)=>t===i)).subscribe(t=>this.onAmountToSpendUpdate(t))),this.subscriptions.add(this.amountToReceiveField?.valueChanges.pipe((0,Y.F)((t,i)=>t===i)).subscribe(t=>this.onAmountToReceiveUpdate(t))),this.subscriptions.add(this.instrumentTypeField?.valueChanges.pipe((0,Y.F)((t,i)=>t===i)).subscribe(t=>this.onFilterPaymentProviders(t)))}ngOnDestroy(){this.subscriptions.unsubscribe()}getPaymentProviders(){this.subscriptions.add(this.adminService.getProviders()?.valueChanges.subscribe(({data:t})=>{const i=t.getPaymentProviders;this.providers=i?.map(n=>new F.LP(n)),this.onFilterPaymentProviders(this.instrumentTypeField.value)}))}loadCurrencies(){this.subscriptions.add(this.commonService.getSettingsCurrency()?.valueChanges.pipe((0,P.s)(1)).subscribe({next:({data:t})=>{const i=t.getSettingsCurrency;this.currencyOptions=i.settingsCurrency?.list?.map(n=>new F.xD(n))||[],this.transactionTypeField.patchValue(c.D_.Buy)}}))}onFilterPaymentProviders(t){t?.length>0?(this.filteredProviders=(0,ae.M)([t],this.providers),this.form.controls.paymentProvider.patchValue(this.filteredProviders.length>0?this.filteredProviders[0].id:null)):(this.instrumentTypeField.patchValue(void 0),this.form.controls.paymentProvider.patchValue(void 0))}onTransactionTypeUpdate(t){this.transactionType=t,t===c.D_.Buy||t===c.D_.Sell?(this.onCurrenciesUpdate(t),this.setAmountToSpend(this.pAmountToSpend)):(this.filteredProviders=this.filteredProviders.filter(i=>"FiatVault"===i.id),this.currenciesToSpend=this.currencyOptions.filter(i=>!0===i.fiat)),this.amountToSpendTitle=`Amount To ${t}`}onCurrenciesUpdate(t){t===c.D_.Buy?(this.currenciesToReceive=this.currencyOptions.filter(i=>!i.fiat),this.currenciesToSpend=this.currencyOptions.filter(i=>i.fiat)):t===c.D_.Sell&&(this.currenciesToReceive=this.currencyOptions.filter(i=>i.fiat),this.currenciesToSpend=this.currencyOptions.filter(i=>!i.fiat)),this.form.controls.currencyToSpend.patchValue(this.currenciesToSpend[0]?.symbol),this.form.controls.currencyToReceive.patchValue(this.currenciesToReceive[0]?.symbol)}setAmountToSpend(t){let i=0;const n=this.rateField?.value,o=this.amountToSpendField?.value;n&&o&&(this.transactionTypeField?.value===c.D_.Buy?i=o/n:this.transactionTypeField?.value===c.D_.Sell&&(i=o*n)),this.pReceiveAutoUpdated=!0,this.pAmountToSpend=t,this.amountToReceiveField?.patchValue(i)}onAmountToSpendUpdate(t){!this.pSpendAutoUpdated&&this.pAmountToSpend!==t&&this.setAmountToSpend(t),this.pSpendAutoUpdated=!1}onAmountToReceiveUpdate(t){if(!this.pReceiveAutoUpdated&&this.pAmountToReceive!==t){let i=0;const n=this.rateField?.value,o=this.amountToReceiveField?.value;n&&o&&(this.transactionTypeField?.value===c.D_.Buy?i=o*n:this.transactionTypeField?.value===c.D_.Sell&&(i=o/n)),this.pSpendAutoUpdated=!0,this.pAmountToReceive=t,this.amountToSpendField?.patchValue(i)}this.pReceiveAutoUpdated=!1}usersSearch(){this.usersOptions$=this.form.controls.users.valueChanges.pipe((0,Y.F)(),(0,W.p)(t=>("string"==typeof t?t:t?.title).length>=this.minUsersLengthTerm),(0,q.B)(300),(0,J.n)(t=>"string"!=typeof t?Za.w:(this.isUsersLoading=!1,this.adminService.getUsers([],0,100,"email",!1,new G({search:t})).pipe((0,b.T)(i=>i.list.map(n=>({id:n.id,title:n.fullName?`${n.fullName} (${n.email})`:n.email}))),(0,V.j)(()=>this.isUsersLoading=!1)))))}displayUserTitleFn(t){return t?.title}getTransactionToCreate(){const t=this.form.value,i=parseFloat(t.amountToSpend.toString());return isNaN(i)&&(t.amountToSpend=0),{...t,amountToSpend:isNaN(i)?0:i}}updateRate(){let t,i;this.transactionTypeField.value===c.D_.Buy&&(t=this.form.controls.currencyToReceive.value,i=this.form.controls.currencyToSpend.value),this.isProgress=!0,this.paymentDataService.getRates([t],i).valueChanges.subscribe({next:({data:n})=>{const o=n.getRates;o.length>0&&(this.currentRate=o[0].depositRate,this.currentRate&&this.rateField.patchValue(this.currentRate)),this.isProgress=!1,this.cdr.markForCheck()},error:()=>{this.isProgress=!1,this.cdr.markForCheck()}})}onSubmit(){this.isProgress=!0,this.transactionSimulation$=this.adminService.simulateTransaction(this.getTransactionToCreate(),this.form.controls.users.value.id,parseFloat(this.rateField?.value),this.form.controls.widgetUserParamsId.value).pipe((0,V.j)(()=>{this.isProgress=!1,this.cdr.markForCheck()}))}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(d.ok),e.rXU(e.gRc),e.rXU(Fk.m),e.rXU(xe.X),e.rXU(E))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-transaction-simulation"]],decls:61,vars:23,consts:[["auto","matAutocomplete"],[1,"pd-15-f"],[3,"formGroup"],["appearance","outline",1,"size-wider"],["formControlName","type"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline",1,"size-smaller"],["formControlName","source"],["appearance","outline",4,"ngIf"],["appearance","outline"],["matInput","","formControlName","users","placeholder","Start typing to search users",3,"matAutocomplete"],[3,"displayWith"],[1,"mt-2"],["matInput","","type","text","formControlName","amountToSpend","required",""],["class","field-error",4,"ngIf"],["formControlName","currencyToSpend"],["class","mt-2",4,"ngIf"],["appearance","outline",1,"size-two-third"],["matInput","","type","text","formControlName","rate"],["class","fs-5","type","button","mat-flat-button","",3,"click",4,"ngIf"],["formControlName","instrument"],["formControlName","paymentProvider"],[4,"ngIf"],["align","end"],["type","button",1,"btn","btn-primary","me-sm-4","mb-sm-4",3,"click","disabled"],[3,"value"],["formControlName","widgetUserParamsId"],[1,"field-error"],["matInput","","type","text","formControlName","amountToReceive","required",""],["formControlName","currencyToReceive"],["type","button","mat-flat-button","",1,"fs-5",3,"click"],[1,"mb-2"],["matInput","","type","text","readonly","",3,"value"],[3,"isTransparent"]],template:function(i,n){if(1&i){const o=e.RV6();e.j41(0,"mat-card")(1,"mat-card-header",1)(2,"mat-card-title"),e.EFF(3,"Transaction Details"),e.k0s()(),e.j41(4,"mat-card-content")(5,"form",2)(6,"mat-form-field",3)(7,"mat-label"),e.EFF(8,"Transaction type"),e.k0s(),e.j41(9,"mat-select",4),e.DNE(10,xk,2,2,"mat-option",5),e.k0s()(),e.j41(11,"mat-form-field",6)(12,"mat-label"),e.EFF(13,"Source"),e.k0s(),e.j41(14,"mat-select",7),e.DNE(15,wk,2,2,"mat-option",5),e.k0s()(),e.DNE(16,Dk,6,3,"mat-form-field",8),e.j41(17,"mat-form-field",9)(18,"mat-label"),e.EFF(19,"Customer search "),e.k0s(),e.nrm(20,"input",10),e.j41(21,"mat-autocomplete",11,0),e.DNE(23,Ik,2,2,"mat-option",5),e.nI1(24,"async"),e.k0s()(),e.j41(25,"div",12)(26,"mat-form-field",3)(27,"mat-label"),e.EFF(28),e.k0s(),e.nrm(29,"input",13),e.DNE(30,Ek,2,1,"mat-error",14),e.k0s(),e.j41(31,"mat-form-field",6)(32,"mat-label"),e.EFF(33),e.k0s(),e.j41(34,"mat-select",15),e.DNE(35,Pk,2,2,"mat-option",5),e.k0s()()(),e.DNE(36,Ok,9,2,"div",16),e.j41(37,"div")(38,"mat-form-field",17)(39,"mat-label"),e.EFF(40,"Exchange rate"),e.k0s(),e.nrm(41,"input",18),e.DNE(42,jk,2,1,"mat-error",14),e.k0s(),e.DNE(43,$k,2,0,"button",19),e.k0s(),e.j41(44,"div",12)(45,"mat-form-field",3)(46,"mat-label"),e.EFF(47,"Payment Methods"),e.k0s(),e.j41(48,"mat-select",20),e.DNE(49,Mk,2,2,"mat-option",5),e.k0s()(),e.j41(50,"mat-form-field",6)(51,"mat-label"),e.EFF(52,"Payment providers"),e.k0s(),e.j41(53,"mat-select",21),e.DNE(54,Nk,2,2,"mat-option",5),e.k0s()()()(),e.DNE(55,Bk,7,2,"ng-container",22),e.nI1(56,"async"),e.k0s(),e.j41(57,"mat-card-actions",23)(58,"button",24),e.bIt("click",function(){return e.eBV(o),e.Njj(n.onSubmit())}),e.EFF(59," Simulate "),e.k0s()(),e.DNE(60,Uk,2,1,"ng-container",22),e.k0s()}if(2&i){const o=e.sdS(22);e.R7$(5),e.Y8G("formGroup",n.form),e.R7$(5),e.Y8G("ngForOf",n.transactionTypes),e.R7$(5),e.Y8G("ngForOf",n.transactionSources),e.R7$(),e.Y8G("ngIf","Wallet"!==n.form.controls.source.value),e.R7$(4),e.Y8G("matAutocomplete",o),e.R7$(),e.Y8G("displayWith",n.displayUserTitleFn),e.R7$(2),e.Y8G("ngForOf",e.bMT(24,19,n.usersOptions$)),e.R7$(5),e.JRh(n.amountToSpendTitle),e.R7$(2),e.Y8G("ngIf",n.amountToSpendField.invalid),e.R7$(3),e.JRh(n.amountToSpendTitle),e.R7$(2),e.Y8G("ngForOf",n.currenciesToSpend),e.R7$(),e.Y8G("ngIf","Deposit"!==n.transactionType&&"Withdrawal"!==n.transactionType),e.R7$(6),e.Y8G("ngIf",n.rateField.invalid),e.R7$(),e.Y8G("ngIf",n.showSetCurrentRate),e.R7$(6),e.Y8G("ngForOf",n.instrumentTypes),e.R7$(5),e.Y8G("ngForOf",n.filteredProviders),e.R7$(),e.Y8G("ngIf",e.bMT(56,21,n.transactionSimulation$)),e.R7$(3),e.Y8G("disabled",!n.form.valid),e.R7$(2),e.Y8G("ngIf",n.isProgress)}},dependencies:[h.Sq,h.bT,d.qT,d.me,d.BC,d.cb,d.YS,d.j4,d.JD,Q.RN,Q.YY,Q.m2,Q.MM,Q.dh,Tk.q,Le.t,K.$z,ue.rl,ue.nJ,ue.TL,We.fg,gt.VO,ze.wT,Mt.$3,Mt.pN,h.Jj],styles:["mat-form-field[_ngcontent-%COMP%]{margin:0 16px;width:calc(100% - 40px)!important}mat-form-field.size-third[_ngcontent-%COMP%]{width:calc(33.33% - 22px)!important}mat-form-field.size-two-third[_ngcontent-%COMP%]{width:calc(66.66% - 22px)!important}mat-form-field.size-smaller[_ngcontent-%COMP%]{width:calc(44% - 22px)!important}mat-form-field.size-wider[_ngcontent-%COMP%]{width:calc(50% - 22px)!important}.field-error[_ngcontent-%COMP%]{font-size:12px;margin:0 -15px}.border-none[_ngcontent-%COMP%]{border:none!important}.fs-5[_ngcontent-%COMP%]{font-size:5px}"],changeDetection:0})}return a})(),qk=(()=>{class a{constructor(t){this._dialogRef=(0,e.WQX)(Je.CP),this._fb=(0,e.WQX)(d.ok),this.form=this._fb.group({amountToSell:this._fb.control(void 0,[d.k0.required,d.k0.pattern(de.n)]),sourceWallet:this._fb.control(void 0,d.k0.required)}),this.form.controls.amountToSell.patchValue(t.amountToSpend),this.form.controls.sourceWallet.patchValue(t.sourceWallet)}onSubmit(){this._dialogRef.close(this.form.value)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(Je.Vh))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-transaction-refund-modal"]],decls:17,vars:2,consts:[[1,"pd-15-f"],[3,"formGroup"],["appearance","outline"],["matInput","","type","text","formControlName","amountToSell"],["matInput","","type","text","formControlName","sourceWallet"],["align","end"],["type","button",1,"btn","btn-primary","me-sm-4","mb-sm-4",3,"click","disabled"]],template:function(i,n){1&i&&(e.j41(0,"mat-card")(1,"mat-card-header",0)(2,"mat-card-title"),e.EFF(3,"Transaction Refund"),e.k0s()(),e.j41(4,"mat-card-content")(5,"form",1)(6,"mat-form-field",2)(7,"mat-label"),e.EFF(8,"Amount to sell"),e.k0s(),e.nrm(9,"input",3),e.k0s(),e.j41(10,"mat-form-field",2)(11,"mat-label"),e.EFF(12,"Source Wallet"),e.k0s(),e.nrm(13,"input",4),e.k0s()()(),e.j41(14,"mat-card-actions",5)(15,"button",6),e.bIt("click",function(){return n.onSubmit()}),e.EFF(16," Proceed "),e.k0s()()()),2&i&&(e.R7$(5),e.Y8G("formGroup",n.form),e.R7$(10),e.Y8G("disabled",!n.form.valid))},dependencies:[d.qT,d.me,d.BC,d.cb,d.j4,d.JD,Q.RN,Q.YY,Q.m2,Q.MM,Q.dh,ue.rl,ue.nJ,We.fg],changeDetection:0})}return a})();var Rn=f(2771),Wk=f(9350);function Xk(a,r){const t="object"==typeof r;return new Promise((i,n)=>{let s,o=!1;a.subscribe({next:l=>{s=l,o=!0},error:n,complete:()=>{o?i(s):t?i(r.defaultValue):n(new Wk.G)}})})}let On=(()=>{class a{get data(){return this.dataSubject.asObservable()}constructor(t){this.adminDataService=t,this.sizePerLoad=5,this.dataSubject=new Rn.m,this.loading=!1,this.subscriptions=new R.yU}ngOnDestroy(){this.subscriptions.unsubscribe()}load(t,i,n,o,s){var l=this;return(0,sn.A)(function*(){l.loading=!0;let m=t*i/l.sizePerLoad;for(;i>0;){const u=l.sizePerLoad<=i?l.sizePerLoad:l.sizePerLoad-i,g=l.adminDataService.getTransactions(m,u,n,o,s),C=yield Xk(g);l.dataSubject.next(C),C.count<i?i=-1:(m++,i-=u)}})()}static#e=this.\u0275fac=function(i){return new(i||a)(e.KVO(E))};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();const zk=()=>["Home"],Hk=a=>({transactionId:a});function Kk(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",51),e.bIt("click",function(){e.eBV(t);const n=e.XpG(),o=e.sdS(96);return e.Njj(n.createUserTransactionShow(o))}),e.EFF(1," Create transaction "),e.k0s()}}function Jk(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",51),e.bIt("click",function(){e.eBV(t);const n=e.XpG(),o=e.sdS(98);return e.Njj(n.export(o))}),e.EFF(1," Export "),e.k0s()}}function Qk(a,r){1&a&&e.nrm(0,"mat-progress-bar",52)}function Zk(a,r){1&a&&e.nrm(0,"th",53)}function e2(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",62),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(),s=e.sdS(94);return e.Njj(o.showDetails(n,s,!0))}),e.j41(1,"i",63),e.EFF(2,"fact_check"),e.k0s()()}if(2&a){let t;const i=e.XpG().$implicit,n=e.XpG();e.BMQ("aria-label","Transaction screening details")("aria-pressed",!!n.selectedTransaction),e.R7$(),e.Y8G("ngClass",null!==(t=null==i?null:i.screeningAnswerColor)&&void 0!==t?t:"")}}function t2(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",64),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG();return e.Njj(o.showWallets(n.id))}),e.j41(1,"i",57),e.EFF(2," account_balance_wallet "),e.k0s()()}2&a&&(e.Y8G("matTooltip","Transaction wallet"),e.BMQ("aria-label","Transaction wallet"))}function a2(a,r){1&a&&(e.j41(0,"button",65)(1,"i",57),e.EFF(2," update "),e.k0s()()),2&a&&(e.Y8G("matTooltip","PreAuth"),e.BMQ("aria-label","PreAuth"))}function n2(a,r){1&a&&(e.j41(0,"button",65)(1,"i",66),e.EFF(2," flag "),e.k0s()()),2&a&&(e.Y8G("matTooltip","Flaged Transaction"),e.BMQ("aria-label","Flaged Transaction"))}function r2(a,r){if(1&a){const t=e.RV6();e.j41(0,"td",54)(1,"input",55),e.bIt("change",function(){const n=e.eBV(t).$implicit,o=e.XpG();return e.Njj(o.onTransactionSelected(n))}),e.k0s(),e.j41(2,"button",56),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG(),s=e.sdS(94);return e.Njj(o.showDetails(n,s))}),e.j41(3,"i",57),e.EFF(4,"wysiwyg"),e.k0s()(),e.j41(5,"button",58)(6,"i",57),e.EFF(7,"timeline"),e.k0s()(),e.DNE(8,e2,3,3,"button",59)(9,t2,3,2,"button",60)(10,a2,3,2,"button",61)(11,n2,3,2,"button",61),e.k0s()}if(2&a){const t=r.$implicit,i=e.XpG();e.Y8G("ngClass",t.transactionListSelectorColumnStyle),e.R7$(),e.Y8G("checked",t.selected),e.R7$(),e.BMQ("aria-label","Transaction details")("aria-pressed",!!i.selectedTransaction),e.R7$(3),e.Y8G("routerLink","/admin/transaction-lifeline")("queryParams",e.eq3(10,Hk,t.id)),e.R7$(3),e.Y8G("ngIf",(null==t?null:t.screeningAnswer)&&(null==t||null==t.screeningData||null==t.screeningData.paymentChecks?null:t.screeningData.paymentChecks.length)>0),e.R7$(),e.Y8G("ngIf",t.vaultIds.length>0),e.R7$(),e.Y8G("ngIf",t.paymentOrderPreauth),e.R7$(),e.Y8G("ngIf",t.flag)}}function o2(a,r){1&a&&(e.j41(0,"th",53),e.EFF(1,"Transaction ID"),e.k0s())}function s2(a,r){if(1&a&&(e.j41(0,"td",54),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.transactionListDataColumnStyle),e.R7$(),e.SpI(" ",t.code," ")}}function l2(a,r){1&a&&(e.j41(0,"th",67),e.EFF(1,"Created"),e.k0s())}function d2(a,r){if(1&a&&(e.j41(0,"td",54),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.transactionListDataColumnStyle),e.R7$(),e.SpI(" ",t.created," ")}}function c2(a,r){1&a&&(e.j41(0,"th",53),e.EFF(1,"Customer Name"),e.k0s())}function m2(a,r){if(1&a&&(e.j41(0,"td",54),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.transactionListDataColumnStyle),e.R7$(),e.SpI(" ",t.accountName," ")}}function p2(a,r){1&a&&(e.j41(0,"th",53),e.EFF(1,"Email"),e.k0s())}function u2(a,r){if(1&a&&(e.j41(0,"td",54),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.transactionListDataColumnStyle),e.R7$(),e.SpI(" ",null==t.user?null:t.user.email," ")}}function h2(a,r){1&a&&(e.j41(0,"th",53),e.EFF(1,"Account Status"),e.k0s())}function f2(a,r){if(1&a&&(e.j41(0,"td",54),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.transactionListDataColumnStyle),e.R7$(),e.SpI(" ",t.accountStatus," ")}}function g2(a,r){1&a&&(e.j41(0,"th",67),e.EFF(1,"Transaction Type"),e.k0s())}function _2(a,r){if(1&a&&(e.j41(0,"td",54),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.transactionListDataColumnStyle),e.R7$(),e.SpI(" ",t.transactionTypeName," ")}}function b2(a,r){1&a&&(e.j41(0,"th",53),e.EFF(1,"Widget Name"),e.k0s())}function v2(a,r){if(1&a&&(e.j41(0,"td",54),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.transactionListDataColumnStyle),e.R7$(),e.SpI(" ",t.widgetName," ")}}function y2(a,r){1&a&&(e.j41(0,"th",53),e.EFF(1,"From"),e.k0s())}function C2(a,r){if(1&a&&(e.j41(0,"td",54),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.transactionListDataColumnStyle),e.R7$(),e.SpI(" ",t.sender," ")}}function k2(a,r){1&a&&(e.j41(0,"th",53),e.EFF(1,"To"),e.k0s())}function F2(a,r){if(1&a&&(e.j41(0,"td",54),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.transactionListDataColumnStyle),e.R7$(),e.SpI(" ",t.recipient," ")}}function T2(a,r){1&a&&(e.j41(0,"th",53),e.EFF(1,"Base Coin"),e.k0s())}function x2(a,r){if(1&a&&(e.j41(0,"td",54),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.transactionListDataColumnStyle),e.R7$(),e.SpI(" ",t.currencyToSpend," ")}}function w2(a,r){1&a&&(e.j41(0,"th",53),e.EFF(1,"Base Amount"),e.k0s())}function S2(a,r){if(1&a&&(e.j41(0,"td",54),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.transactionListDataColumnStyle),e.R7$(),e.SpI(" ",t.amountToSpend," ")}}function D2(a,r){1&a&&(e.j41(0,"th",53),e.EFF(1,"Buy Coin"),e.k0s())}function I2(a,r){if(1&a&&(e.j41(0,"td",54),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.transactionListDataColumnStyle),e.R7$(),e.SpI(" ",t.currencyToReceive," ")}}function E2(a,r){1&a&&(e.j41(0,"th",53),e.EFF(1,"Buy Amount"),e.k0s())}function P2(a,r){if(1&a&&(e.j41(0,"td",54),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.transactionListDataColumnStyle),e.R7$(),e.SpI(" ",t.amountToReceive," ")}}function A2(a,r){1&a&&(e.j41(0,"th",53),e.EFF(1,"Wallet"),e.k0s())}function R2(a,r){if(1&a&&(e.j41(0,"td",54),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.transactionListDataColumnStyle),e.R7$(),e.SpI(" ",t.address," ")}}function O2(a,r){1&a&&(e.j41(0,"th",67),e.EFF(1,"Payment Method"),e.k0s())}function j2(a,r){if(1&a&&(e.j41(0,"td",54),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.transactionListDataColumnStyle),e.R7$(),e.SpI(" ",t.instrumentName," ")}}function $2(a,r){1&a&&(e.j41(0,"th",53),e.EFF(1,"Payment provider"),e.k0s())}function M2(a,r){if(1&a&&(e.j41(0,"td",54),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.transactionListDataColumnStyle),e.R7$(),e.SpI(" ",t.paymentProvider," ")}}function N2(a,r){1&a&&(e.j41(0,"th",53),e.EFF(1,"Transaction Status"),e.k0s())}function V2(a,r){if(1&a&&(e.j41(0,"td",54),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.transactionListDataColumnStyle),e.R7$(),e.SpI(" ",t.transactionStatusName," ")}}function G2(a,r){1&a&&(e.j41(0,"th",53),e.EFF(1,"User Type"),e.k0s())}function B2(a,r){if(1&a&&(e.j41(0,"td",54),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.transactionListDataColumnStyle),e.R7$(),e.SpI(" ",t.userTypeName," ")}}function U2(a,r){1&a&&(e.j41(0,"th",53),e.EFF(1,"Initiate from"),e.k0s())}function L2(a,r){if(1&a&&(e.j41(0,"td",54),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.transactionListDataColumnStyle),e.R7$(),e.SpI(" ",t.transactionSourceName," ")}}function Y2(a,r){1&a&&(e.j41(0,"th",67),e.EFF(1,"DocsCheck"),e.k0s())}function q2(a,r){if(1&a&&(e.j41(0,"td",54),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.transactionListDataColumnStyle),e.R7$(),e.SpI(" ",t.kycStatus," ")}}function W2(a,r){1&a&&(e.j41(0,"th",53),e.EFF(1,"ID"),e.k0s())}function X2(a,r){if(1&a&&(e.j41(0,"td",54),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.transactionListDataColumnStyle),e.R7$(),e.SpI(" ",t.id," ")}}function z2(a,r){1&a&&e.nrm(0,"tr",68)}function H2(a,r){1&a&&e.nrm(0,"tr",69)}function K2(a,r){1&a&&(e.j41(0,"div",76)(1,"i",77),e.EFF(2,"first_page"),e.k0s()())}function J2(a,r){1&a&&(e.j41(0,"div",76)(1,"i",77),e.EFF(2,"keyboard_arrow_left"),e.k0s()())}function Q2(a,r){1&a&&(e.j41(0,"div",76)(1,"i",77),e.EFF(2,"keyboard_arrow_right"),e.k0s()())}function Z2(a,r){1&a&&(e.j41(0,"div",76)(1,"i",77),e.EFF(2,"last_page"),e.k0s()())}function e4(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",70)(1,"ngb-pagination",71),e.bIt("pageChange",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.handlePage(n))}),e.DNE(2,K2,3,0,"ng-template",72)(3,J2,3,0,"ng-template",73)(4,Q2,3,0,"ng-template",74)(5,Z2,3,0,"ng-template",75),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("collectionSize",t.transactionCount)("pageSize",t.pageSize)("boundaryLinks",!0)("maxSize",10)}}function t4(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",78)(1,"app-admin-transaction-details",79),e.bIt("save",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSaveTransaction())})("close",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onCloseDetails())}),e.k0s(),e.j41(2,"button",80),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(3,"span",81),e.EFF(4,"\xd7"),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("permission",t.permission)("transaction",t.selectedTransaction)("currencies",t.currencyOptions)("isScreeningInfo",t.isScreeningInfo)("userStatuses",t.userStatuses)}}function a4(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",82)(1,"h5",83),e.EFF(2,"Create transaction"),e.k0s(),e.j41(3,"button",80),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",81),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",84)(7,"app-admin-transaction-create",85),e.bIt("close",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onCloseDetails())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(7),e.Y8G("permission",t.permission)}}function n4(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",82)(1,"h5",83),e.EFF(2,"Export"),e.k0s(),e.j41(3,"button",80),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",81),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",84)(7,"h4",86),e.EFF(8," Exported list of transactions has been sent to your email. "),e.k0s(),e.j41(9,"div",19)(10,"button",87),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("OK"))}),e.EFF(11,"OK"),e.k0s()()()}}function r4(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",82)(1,"h5",83),e.EFF(2,"Settle transaction(s)"),e.k0s(),e.j41(3,"button",80),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",81),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",84)(7,"h4",86),e.EFF(8," You are going to update transaction data. Confirm operation. "),e.k0s(),e.j41(9,"div",19)(10,"button",88),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Reject"))}),e.EFF(11," Reject "),e.k0s(),e.j41(12,"button",89),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.close("Confirm"))}),e.EFF(13," Confirm "),e.k0s()()()}}let va=(()=>{class a{constructor(t,i,n,o,s,l,m,u,g){this.transactionService=t,this.modalService=i,this.auth=n,this.cdr=o,this.commonDataService=s,this.adminService=l,this.profileService=m,this.activeRoute=u,this.router=g,this.filterFields=["accountType","accountMode","country","tier","transactionKycStatus","users","widgetName","search","from","source","createdDate","completedDate","paymentInstrument","transactionIds","transactionType","transactionStatus","walletAddress","fiatCurrency","verifyWhenPaid","transactionFlag","preauthFlag","updatedDate","reversalProcessed","recallRegistered","hasRecallNumber","recallNumber"],this.displayedColumns=["details","code","created","accountName","email","accountStatus","type","widgetName","from","to","currencyToSpend","amountToSpend","currencyToReceive","amountToReceive","address","instrument","paymentProvider","status","userType","source","kycStatus","id"],this.isScreeningInfo=!1,this.inProgress=!1,this.permission=0,this.selectedForUnbenchmark=!1,this.transactionCount=0,this.transactions=[],this.userStatuses=[],this.currencyOptions=[],this.pageSize=50,this.pageIndex=0,this.sortedField="created",this.sortedDesc=!0,this.filter=new G({}),this.adminAdditionalSettings={},this.fiatCurrencies=[],this.subscriptions=new R.yU,this.detailsDialog=void 0;const C=u.snapshot.params.userid;C&&(this.filter.users=[C]),this.permission=this.auth.isPermittedObjectCode(c.G4.Transactions)}ngOnInit(){this.loadCommonSettings(),this.loadList()}ngOnDestroy(){this.subscriptions.unsubscribe()}ngAfterViewInit(){this.subscriptions.add(this.sort.sortChange.pipe((0,V.j)(()=>{this.cdr.markForCheck()})).subscribe(()=>{this.sortedDesc="desc"===this.sort.direction,this.sortedField=this.sort.active,this.loadList()}))}onTransactionSelected(t){t.selected=!t.selected,this.selectedForUnbenchmark=this.transactions.some(i=>!0===i.selected&&i.type!==c.D_.Receive)}onSaveTransaction(){this.selectedTransaction=void 0,this.detailsDialog&&(this.detailsDialog.close(),this.loadList())}onCloseDetails(){this.detailsDialog&&this.detailsDialog.dismiss()}handleFilterApplied(t){this.filter=t,this.pageIndex=0,this.loadList()}handlePage(t){this.pageIndex=t-1,this.loadList()}toggleDetails(t){this.selectedTransaction=this.isSelectedTransaction(t.id)?void 0:t}showDetails(t,i,n=!1){this.selectedTransaction=t,this.isScreeningInfo=n,this.detailsDialog=this.modalService.open(i,{backdrop:"static",windowClass:"modalCusSty-transacion"})}createUserTransactionShow(t){this.detailsDialog=this.modalService.open(t,{backdrop:"static",windowClass:"modalCusSty"})}selectAll(){this.transactions.forEach(t=>t.selected=!0),this.selectedForUnbenchmark=this.transactions.length>0}loadCommonSettings(){const t=this.auth.getLocalSettingsCommon();t&&(this.adminAdditionalSettings="string"==typeof t.adminAdditionalSettings?JSON.parse(t.adminAdditionalSettings):t.adminAdditionalSettings,this.adminAdditionalSettings?.tabs?.transactions?.filterFields&&(this.filterFields=this.adminAdditionalSettings.tabs.transactions.filterFields))}isSelectedTransaction(t){return!!this.selectedTransaction&&this.selectedTransaction.id===t}loadList(){0===this.userStatuses.length?this.loadTransactionStatuses():this.loadTransactions()}loadTransactions(){this.inProgress=!0,this.selectedForUnbenchmark=!1,this.subscriptions.add(this.adminService.getTransactions(this.pageIndex,this.pageSize,this.sortedField,this.sortedDesc,this.filter).pipe((0,V.j)(()=>{this.inProgress=!1,this.cdr.markForCheck()}),(0,P.s)(1)).subscribe({next:({list:t,count:i})=>{this.transactions=t,this.transactionCount=i,this.transactions.forEach(n=>n.statusInfo=this.userStatuses.find(o=>o.key===n.status)),this.cdr.markForCheck()},error:()=>{""===this.auth.token&&this.router.navigateByUrl("/")},complete:()=>this.inProgress=!1}))}loadTransactionStatuses(){this.inProgress=!0,this.userStatuses=[],this.subscriptions.add(this.profileService.getTransactionStatuses().valueChanges.pipe((0,V.j)(()=>{this.inProgress=!1,this.cdr.markForCheck()})).subscribe({next:({data:t})=>{this.userStatuses=t.getTransactionStatuses,this.loadCurrencies()},error:()=>{""===this.auth.token&&this.router.navigateByUrl("/")},complete:()=>this.inProgress=!1}))}loadCurrencies(){this.inProgress=!0,this.currencyOptions=[],this.subscriptions.add(this.commonDataService.getSettingsCurrency()?.valueChanges.pipe((0,P.s)(1),(0,V.j)(()=>{this.inProgress=!1,this.cdr.markForCheck()})).subscribe(({data:t})=>{const i=t.getSettingsCurrency;i.settingsCurrency&&i.settingsCurrency.count?(this.currencyOptions=i.settingsCurrency.list?.map(n=>new F.xD(n)),this.fiatCurrencies=this.currencyOptions.filter(n=>!0===n.fiat)):this.currencyOptions=[],this.loadTransactions()},()=>{this.inProgress=!1,""===this.auth.token&&this.router.navigateByUrl("/")}))}showWallets(t){const i=this.transactions.find(n=>n.id===t);(i?.type===c.D_.Deposit||i?.type===c.D_.Withdrawal)&&this.router.navigateByUrl(`/admin/fiat-wallets/vaults/${i?.vaultIds.join("#")??""}`)}refresh(){this.loadList()}export(t){this.subscriptions.add(this.adminService.exportTransactionsToCsv(this.transactions.filter(i=>!0===i.selected).map(i=>i.id),this.sortedField,this.sortedDesc,this.filter).pipe((0,V.j)(()=>{this.inProgress=!1,this.cdr.markForCheck()})).subscribe(()=>{this.modalService.open(t,{backdrop:"static",windowClass:"modalCusSty"})},()=>{""===this.auth.token&&this.router.navigateByUrl("/")}))}unbenchmark(t){this.unbenchmarkDialog=this.modalService.open(t,{backdrop:"static",windowClass:"modalCusSty"}),this.subscriptions.add(this.unbenchmarkDialog.closed.subscribe(i=>{"Confirm"===i&&this.executeUnbenchmark()}))}executeUnbenchmark(){this.subscriptions.add(this.adminService.unbenchmarkTransaction(this.transactions.filter(t=>!0===t.selected&&t.type!==c.D_.Receive).map(t=>t.id)).pipe((0,V.j)(()=>{this.inProgress=!1,this.cdr.markForCheck()})).subscribe(()=>{this.transactions.forEach(t=>t.selected=!1)},()=>{""===this.auth.token&&this.router.navigateByUrl("/")}))}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(On),e.rXU(_.Bq),e.rXU(I.u),e.rXU(e.gRc),e.rXU(xe.X),e.rXU(E),e.rXU(Pn.V),e.rXU(w.nX),e.rXU(w.Ix))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-transactions"]],viewQuery:function(i,n){if(1&i&&e.GBs($.B4,5),2&i){let o;e.mGM(o=e.lsd())&&(n.sort=o.first)}},features:[e.Jv_([On])],decls:101,vars:18,consts:[["details_content",""],["create_content",""],["export_content",""],["settle_content",""],[3,"title","items","active_item"],[1,"row","row-sm"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],[1,"overflow-hidden"],[1,"table-button-container"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["type","button","class","btn btn-outline-secondary me-2",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","me-2",3,"click","disabled"],[3,"filter","filterType","fields","fiatCurrencies","filterData"],["color","accent","mode","indeterminate",4,"ngIf"],[1,"table-button-container","m-2"],["type","button",1,"btn","btn-secondary","btn-sm","mt-2",3,"click"],[1,"align-center"],[1,"material-icons","tx-20","me-2"],[1,"data-table"],["matSort","","matSortDirection","desc","matSortDisableClear","",3,"matSortActive","dataSource"],["matColumnDef","details","sticky",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"ngClass",4,"matCellDef"],["matColumnDef","code"],["matColumnDef","created"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","accountName"],["matColumnDef","email"],["matColumnDef","accountStatus"],["matColumnDef","type"],["matColumnDef","widgetName"],["matColumnDef","from"],["matColumnDef","to"],["matColumnDef","currencyToSpend"],["matColumnDef","amountToSpend"],["matColumnDef","currencyToReceive"],["matColumnDef","amountToReceive"],["matColumnDef","address"],["matColumnDef","instrument"],["matColumnDef","paymentProvider"],["matColumnDef","status"],["matColumnDef","userType"],["matColumnDef","source"],["matColumnDef","kycStatus"],["matColumnDef","id"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","card card-body border shadow-none",4,"ngIf"],["type","button",1,"btn","btn-outline-secondary","me-2",3,"click"],["color","accent","mode","indeterminate"],["mat-header-cell",""],["mat-cell","",3,"ngClass"],["type","checkbox",1,"me-2",3,"change","checked"],["type","button","mat-icon-button","","matTooltip","Transaction details","matTooltipClass","info-tooltip",1,"row-button",3,"click"],[1,"material-icons","tx-20"],["type","button","mat-icon-button","","matTooltip","Transaction lifeline","matTooltipClass","info-tooltip",1,"row-button",3,"routerLink","queryParams"],["type","button","mat-icon-button","","class","row-button","matTooltip","Transaction screening details","matTooltipClass","info-tooltip",3,"click",4,"ngIf"],["type","button","mat-icon-button","","class","row-button","matTooltipClass","info-tooltip",3,"matTooltip","click",4,"ngIf"],["type","button","mat-icon-button","","class","row-button","matTooltipClass","info-tooltip",3,"matTooltip",4,"ngIf"],["type","button","mat-icon-button","","matTooltip","Transaction screening details","matTooltipClass","info-tooltip",1,"row-button",3,"click"],[1,"material-icons","tx-20",3,"ngClass"],["type","button","mat-icon-button","","matTooltipClass","info-tooltip",1,"row-button",3,"click","matTooltip"],["type","button","mat-icon-button","","matTooltipClass","info-tooltip",1,"row-button",3,"matTooltip"],[1,"material-icons","tx-20","color_brown"],["mat-header-cell","","mat-sort-header",""],["mat-header-row",""],["mat-row",""],[1,"card","card-body","border","shadow-none"],["aria-label","Table pagination",1,"d-flex","justify-content-center",3,"pageChange","collectionSize","pageSize","boundaryLinks","maxSize"],["ngbPaginationFirst",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationLast",""],[1,"ng-pagination-nav-icons"],[1,"material-icons"],[1,"modal-body","tabs"],[3,"save","close","permission","transaction","currencies","isScreeningInfo","userStatuses"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[3,"close","permission"],[1,"text-center"],["type","button",1,"btn","btn-primary","pd-x-50","mg-t-5",3,"click"],["type","button",1,"btn","btn-outline-secondary","pd-x-30","me-2","mg-t-5",3,"click"],["type","button",1,"btn","btn-primary","pd-x-30","mg-t-5",3,"click"]],template:function(i,n){if(1&i){const o=e.RV6();e.nrm(0,"app-admin-page-header",4),e.j41(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"div",9)(6,"div",10)(7,"div",11)(8,"button",12),e.bIt("click",function(){return e.eBV(o),e.Njj(n.refresh())}),e.EFF(9," Refresh "),e.k0s(),e.DNE(10,Kk,2,0,"button",13)(11,Jk,2,0,"button",13),e.j41(12,"button",14),e.bIt("click",function(){e.eBV(o);const l=e.sdS(100);return e.Njj(n.unbenchmark(l))}),e.EFF(13," Settle "),e.k0s()()(),e.j41(14,"app-admin-filter",15),e.bIt("filter",function(l){return e.eBV(o),e.Njj(n.handleFilterApplied(l))}),e.k0s(),e.DNE(15,Qk,1,0,"mat-progress-bar",16),e.j41(16,"div",17)(17,"button",18),e.bIt("click",function(){return e.eBV(o),e.Njj(n.selectAll())}),e.j41(18,"div",19)(19,"i",20),e.EFF(20," library_add_check "),e.k0s(),e.EFF(21," Select all on the page "),e.k0s()()(),e.j41(22,"div",21)(23,"mat-table",22),e.qex(24,23),e.DNE(25,Zk,1,0,"th",24)(26,r2,12,12,"td",25),e.bVm(),e.qex(27,26),e.DNE(28,o2,2,0,"th",24)(29,s2,2,2,"td",25),e.bVm(),e.qex(30,27),e.DNE(31,l2,2,0,"th",28)(32,d2,2,2,"td",25),e.bVm(),e.qex(33,29),e.DNE(34,c2,2,0,"th",24)(35,m2,2,2,"td",25),e.bVm(),e.qex(36,30),e.DNE(37,p2,2,0,"th",24)(38,u2,2,2,"td",25),e.bVm(),e.qex(39,31),e.DNE(40,h2,2,0,"th",24)(41,f2,2,2,"td",25),e.bVm(),e.qex(42,32),e.DNE(43,g2,2,0,"th",28)(44,_2,2,2,"td",25),e.bVm(),e.qex(45,33),e.DNE(46,b2,2,0,"th",24)(47,v2,2,2,"td",25),e.bVm(),e.qex(48,34),e.DNE(49,y2,2,0,"th",24)(50,C2,2,2,"td",25),e.bVm(),e.qex(51,35),e.DNE(52,k2,2,0,"th",24)(53,F2,2,2,"td",25),e.bVm(),e.qex(54,36),e.DNE(55,T2,2,0,"th",24)(56,x2,2,2,"td",25),e.bVm(),e.qex(57,37),e.DNE(58,w2,2,0,"th",24)(59,S2,2,2,"td",25),e.bVm(),e.qex(60,38),e.DNE(61,D2,2,0,"th",24)(62,I2,2,2,"td",25),e.bVm(),e.qex(63,39),e.DNE(64,E2,2,0,"th",24)(65,P2,2,2,"td",25),e.bVm(),e.qex(66,40),e.DNE(67,A2,2,0,"th",24)(68,R2,2,2,"td",25),e.bVm(),e.qex(69,41),e.DNE(70,O2,2,0,"th",28)(71,j2,2,2,"td",25),e.bVm(),e.qex(72,42),e.DNE(73,$2,2,0,"th",24)(74,M2,2,2,"td",25),e.bVm(),e.qex(75,43),e.DNE(76,N2,2,0,"th",24)(77,V2,2,2,"td",25),e.bVm(),e.qex(78,44),e.DNE(79,G2,2,0,"th",24)(80,B2,2,2,"td",25),e.bVm(),e.qex(81,45),e.DNE(82,U2,2,0,"th",24)(83,L2,2,2,"td",25),e.bVm(),e.qex(84,46),e.DNE(85,Y2,2,0,"th",28)(86,q2,2,2,"td",25),e.bVm(),e.qex(87,47),e.DNE(88,W2,2,0,"th",24)(89,X2,2,2,"td",25),e.bVm(),e.DNE(90,z2,1,0,"tr",48)(91,H2,1,0,"tr",49),e.k0s()(),e.DNE(92,e4,6,4,"div",50)(93,t4,5,5,"ng-template",null,0,e.C5r)(95,a4,8,1,"ng-template",null,1,e.C5r)(97,n4,12,0,"ng-template",null,2,e.C5r)(99,r4,14,0,"ng-template",null,3,e.C5r),e.k0s()()()()()}2&i&&(e.Y8G("title","Transactions")("items",e.lJ4(17,zk))("active_item","Transactions"),e.R7$(10),e.Y8G("ngIf",!0===(null==n.adminAdditionalSettings||null==n.adminAdditionalSettings.tabs||null==n.adminAdditionalSettings.tabs.transactions?null:n.adminAdditionalSettings.tabs.transactions.createTransaction)),e.R7$(),e.Y8G("ngIf",n.permission>1),e.R7$(),e.Y8G("disabled",!n.selectedForUnbenchmark),e.R7$(2),e.Y8G("filterType","transactions")("fields",n.filterFields)("fiatCurrencies",n.fiatCurrencies)("filterData",n.filter),e.R7$(),e.Y8G("ngIf",n.inProgress),e.R7$(8),e.Y8G("matSortActive",n.sortedField)("dataSource",n.transactions),e.R7$(67),e.Y8G("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),e.R7$(),e.Y8G("matRowDefColumns",n.displayedColumns),e.R7$(),e.Y8G("ngIf",n.transactionCount>n.pageSize))},styles:[".datatable-body{height:600px!important;overflow:scroll;width:100%}  .dataTable-bottom{position:absolute;left:0;right:0;bottom:0;background:#fff!important}  table th,   table td,   .ngx-datatable.material .datatable-header .datatable-header-cell,   .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{font-size:.876rem!important}@media (max-width: 567.9px){  .ngx-datatable .datatable-footer .datatable-footer-inner{flex-wrap:wrap;height:auto!important}  .ngx-datatable .datatable-footer .datatable-pager{text-align:center!important}}  .dataTable-wrapper.no-footer .dataTable-container{border-bottom:none!important}  .dataTable-selector{border-radius:.25rem}  app-data-table input{border-radius:25px;border:1px solid rgba(0,0,0,.1)}  app-data-table .custom-select{border:1px solid rgba(0,0,0,.24)!important;border-radius:.25rem}.table-responsive[_ngcontent-%COMP%]{overflow:visible}  .dark-theme input::placeholder{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material{background-color:#2a2e3f!important}  .dark-theme app-data-tables .dataTable-bottom{background-color:#2a2e3f!important}  .dark-theme app-data-tables .dataTable-selector{background-color:#2a2e3f;border-color:#272c49;color:#fff;outline:none}  .dark-theme app-data-tables input{color:#eee!important;background-color:#2a2e3f!important;border-color:#262b48;border-radius:25px;height:27px}  .dark-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .dark-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#2a2e3f;color:#fff}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid rgb(39,43,74)!important;color:#fff!important;background:#2a2e3f!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #32394e!important}  .dark-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .dark-theme app-data-tables .dataTable-pagination li:hover a,   .dark-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .dark-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .dark-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .dark-theme app-data-tables .mat-mdc-table{background:#2a2e3f!important}  .dark-theme app-data-tables .mat-mdc-header-cell{color:#fff!important}  .dark-theme app-data-tables .mat-mdc-cell,   .dark-theme app-data-tables .mat-mdc-footer-cell{color:#eee!important}  .dark-theme app-data-tables mat-row,   .dark-theme app-data-tables mat-header-row,   .dark-theme app-data-tables mat-footer-row,   .dark-theme app-data-tables th.mat-mdc-header-cell,   .dark-theme app-data-tables td.mat-mdc-cell,   .dark-theme app-data-tables td.mat-mdc-footer-cell{border-bottom-color:#ffffff1f!important}  .dark-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .dark-theme app-data-tables .mat-mdc-paginator,   .dark-theme app-data-tables .mat-mdc-paginator-page-size .mat-mdc-select-trigger{color:#ffffff8a!important}  .dark-theme app-data-tables .mat-mdc-paginator{background:#2a2e3f}  .dark-theme app-data-tables .mat-mdc-select-value{color:#fff7f7de}  .dark-theme app-data-tables .mat-mdc-select-arrow{color:#ffffffba}  .dark-theme .mat-mdc-select-panel{background:#30304d}  .dark-theme .mat-mdc-option{color:#ccc}  .dark-theme .mat-primary .mat-mdc-option.mat-selected:not(.mat-option-disabled){color:#fff}  .dark-theme .mat-mdc-option:hover:not(.mat-option-disabled),   .dark-theme .mat-option:focus:not(.mat-option-disabled){background:#2a2a44}  .dark-theme .mat-mdc-select-panel .mat-mdc-option.mat-selected:not(.mat-mdc-option-multiple){background:#0000001f}  .dark-theme .table-hover>tbody>tr:hover>*{color:#fff}  .dark-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme input::placeholder{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material{background-color:#2da28f!important}  .transparent-theme app-data-tables .dataTable-bottom{background-color:#2da28f!important}  .transparent-theme app-data-tables .dataTable-selector{background-color:#2da28f;border-color:#4cb0a0;color:#fff;outline:none}  .transparent-theme app-data-tables input{color:#eee!important;background-color:#2da28f!important;border-color:#4cb0a0;border-radius:25px;height:27px}  .transparent-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .transparent-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#2da28f;color:#fff}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid #4cb0a0!important;color:#fff!important;background:#2da28f!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #4cb0a0!important}  .transparent-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .transparent-theme app-data-tables .dataTable-pagination li:hover a,   .transparent-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .transparent-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .transparent-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .transparent-theme app-data-tables .mat-mdc-table{background:#2da28f!important}  .transparent-theme app-data-tables .mat-mdc-header-cell{color:#fff!important}  .transparent-theme app-data-tables .mat-mdc-cell,   .transparent-theme app-data-tables .mat-mdc-footer-cell{color:#eee!important}  .transparent-theme app-data-tables mat-row,   .transparent-theme app-data-tables mat-header-row,   .transparent-theme app-data-tables mat-footer-row,   .transparent-theme app-data-tables th.mat-mdc-header-cell,   .transparent-theme app-data-tables td.mat-mdc-cell,   .transparent-theme app-data-tables td.mat-mdc-footer-cell{border-bottom-color:#ffffff1f!important}  .transparent-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .transparent-theme app-data-tables .mat-mdc-paginator,   .transparent-theme app-data-tables .mat-mdc-paginator-page-size .mat-mdc-select-trigger{color:#ffffff8a!important}  .transparent-theme app-data-tables .mat-mdc-paginator{background:#2da28f}  .transparent-theme app-data-tables .mat-mdc-select-value{color:#fff7f7de}  .transparent-theme app-data-tables .mat-mdc-select-arrow{color:#ffffffba}  .transparent-theme .mat-mdc-select-panel{background:#30304d}  .transparent-theme .mat-mdc-option{color:#ccc}  .transparent-theme .mat-primary .mat-mdc-option.mat-selected:not(.mat-option-disabled){color:#fff}  .transparent-theme .mat-mdc-option:hover:not(.mat-option-disabled),   .transparent-theme .mat-option:focus:not(.mat-option-disabled){background:#2a2a44}  .transparent-theme .mat-mdc-select-panel .mat-mdc-option.mat-selected:not(.mat-mdc-option-multiple){background:#0000001f}  .transparent-theme .table-hover>tbody>tr:hover>*{color:#fff}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{background-color:#248272!important}.data-table[_ngcontent-%COMP%]{flex:1 1 0;overflow:auto;margin-top:5px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]{display:table;min-width:100%}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:32px;line-height:32px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   tr.mat-mdc-header-row[_ngcontent-%COMP%]{height:40px;line-height:40px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]{padding:0 4px;white-space:nowrap;font-size:16px;font-weight:400;color:#0000008a;font-family:Roboto,sans-serif}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell.action[_ngcontent-%COMP%]{width:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]{padding:1px 4px 0;line-height:29px;white-space:nowrap}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%]{width:16px;height:16px;font-size:16px;vertical-align:middle;position:relative;top:-1px}.data-table[_ngcontent-%COMP%]   .row-button[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0;position:relative;top:5px;padding:1px}.data-table[_ngcontent-%COMP%]   .row-button[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:16px;height:16px;width:16px;line-height:16px}.data-table[_ngcontent-%COMP%]   .row-icon[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0;position:relative;top:5px}mat-mdc-paginator[_ngcontent-%COMP%]{flex:0 0 auto}table[_ngcontent-%COMP%]{width:100%}.table-button-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;overflow-x:scroll;padding-bottom:16px}.transaction-list-selector-column[_ngcontent-%COMP%]{margin:0;padding:0 8px}.transaction-list-data-column[_ngcontent-%COMP%]{margin:0;padding:0}.transaction-list-column-white[_ngcontent-%COMP%]{background-color:#fff}.transaction-list-column-grey[_ngcontent-%COMP%]{background-color:#ebebeb}.transaction-list-column-blue[_ngcontent-%COMP%]{background-color:#d4f1fa}.transaction-list-column-orange[_ngcontent-%COMP%]{background-color:#ffe5ce}.transaction-list-column-red[_ngcontent-%COMP%]{background-color:#fdd6dd}.transaction-list-column-purple[_ngcontent-%COMP%]{background-color:#fdd8fd}.transaction-list-column-green[_ngcontent-%COMP%]{background-color:#cff8cf}.transaction-list-column-yellow[_ngcontent-%COMP%]{background-color:#fdfde6}.ng-pagination-nav-icons[_ngcontent-%COMP%], .align-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.ng-pagination-nav-icons[_ngcontent-%COMP%]{margin-top:12px}.input-success[_ngcontent-%COMP%]{background-color:#0b9c3133;color:#0b9c31cc}.input-warning[_ngcontent-%COMP%]{background-color:#ffffa9;color:#00000080}.input-error[_ngcontent-%COMP%]{background-color:#f003;color:#ff000080}.tabs[_ngcontent-%COMP%]{padding:.5rem 1.2rem 0}.close[_ngcontent-%COMP%]{position:absolute;top:10px;right:15px}"],changeDetection:0})}return a})();var o4=f(1986);let Ot=(()=>{class a{get isLoaded(){return this.isLoadedSubject.asObservable()}get data(){return this.dataSubject.asObservable()}constructor(t,i){this.adminDataService=t,this._snackBar=i,this.isLoadedSubject=new Me.t(!1),this.dataSubject=new Rn.m,this.loading=!1,this.filter=new G({userIdOnly:[],widgetIdOnly:[],sourcesOnly:[],countriesOnly:[],accountTypesOnly:[]}),this._destroy$=new y.B}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}setFilter(t){this.filter=t,this.load()}dashboardMerchantData(t,i){return this.filter.completedDateInterval={from:t,to:i},this.adminDataService.getDashboardMerchantStats(this.filter).pipe((0,o4.c)(1e3),(0,P.s)(1),(0,Ee.W)(()=>(this._snackBar.open("There was an error getting dashboard data. Please contact R&D",null,{duration:5e3}),(0,S.of)({transactionsAmount:0,transactionsTotal:0,usersTotal:0}))))}load(){this.loading=!0,this.isLoadedSubject.next(!1),this.adminDataService.getDashboardStats(this.filter).pipe((0,T.Q)(this._destroy$),(0,P.s)(1),(0,V.j)(()=>this.loading=!1),(0,Ee.W)(()=>(this._snackBar.open("There was an error getting dashboard data. Please contact R&D",null,{duration:5e3}),(0,S.of)(null)))).subscribe({complete:()=>this.loading=!1,next:t=>{if(this.loading=!1,this.isLoadedSubject.value||this.isLoadedSubject.next(!0),null===t)return void this.dataSubject.next(null);const i=this.filterCardData(t),n={columns:[{key:"type",label:"Transaction Type",type:"text"},{key:"approved",label:"Approved",type:"count-volume"},{key:"declined",label:"Declined",type:"count-volume"},{key:"abandoned",label:"Abandoned",type:"count-volume"},{key:"failed",label:"Failed",type:"count-volume"},{key:"chargedBack",label:"Charged back",type:"count-volume"},{key:"ratio",label:"Success Rate, %",type:"percent"}],rows:[{type:"Deposit",approvedCount:i.deposits?.approved?.count??null,approvedVolume:i.deposits?.approved?.volume??null,declinedCount:i.deposits?.declined?.count??null,declinedVolume:i.deposits?.declined?.volume??null,abandonedCount:i.deposits?.abandoned?.count??null,abandonedVolume:i.deposits?.abandoned?.volume??null,failedCount:i.deposits?.failed?.count??null,failedVolume:i.deposits?.failed?.volume??null,chargedBackCount:i.deposits?.chargedBack?.count??null,chargedBackVolume:i.deposits?.chargedBack?.volume??null,ratio:i.deposits?.ratio??null},{type:"Withdrawal",approvedCount:i.withdrawals?.approved?.count??null,approvedVolume:i.withdrawals?.approved?.volume??null,declinedCount:i.withdrawals?.declined?.count??null,declinedVolume:i.withdrawals?.declined?.volume??null,abandonedCount:i.withdrawals?.abandoned?.count??null,abandonedVolume:i.withdrawals?.abandoned?.volume??null,failedCount:i.withdrawals?.failed?.count??null,failedVolume:i.withdrawals?.failed?.volume??null,chargedBackCount:i.withdrawals?.chargedBack?.count??null,chargedBackVolume:i.withdrawals?.chargedBack?.volume??null,ratio:i.withdrawals?.ratio??null},{type:"Buy",approvedCount:i.buys?.approved?.count??null,approvedVolume:i.buys?.approved?.volume??null,declinedCount:i.buys?.declined?.count??null,declinedVolume:i.buys?.declined?.volume??null,abandonedCount:i.buys?.abandoned?.count??null,abandonedVolume:i.buys?.abandoned?.volume??null,failedCount:i.buys?.failed?.count??null,failedVolume:i.buys?.failed?.volume??null,chargedBackCount:i.buys?.chargedBack?.count??null,chargedBackVolume:i.buys?.chargedBack?.volume??null,ratio:i.buys?.ratio??null},{type:"Sell",approvedCount:i.sells?.approved?.count??null,approvedVolume:i.sells?.approved?.volume??null,declinedCount:i.sells?.declined?.count??null,declinedVolume:i.sells?.declined?.volume??null,abandonedCount:i.sells?.abandoned?.count??null,abandonedVolume:i.sells?.abandoned?.volume??null,failedCount:i.sells?.failed?.count??null,failedVolume:i.sells?.failed?.volume??null,chargedBackCount:i.sells?.chargedBack?.count??null,chargedBackVolume:i.sells?.chargedBack?.volume??null,ratio:i.sells?.ratio??null},{type:"Send",approvedCount:i.transfers?.approved?.count??null,approvedVolume:i.transfers?.approved?.volume??null,declinedCount:i.transfers?.declined?.count??null,declinedVolume:i.transfers?.declined?.volume??null,abandonedCount:i.transfers?.abandoned?.count??null,abandonedVolume:i.transfers?.abandoned?.volume??null,failedCount:i.transfers?.failed?.count??null,failedVolume:i.transfers?.failed?.volume??null,chargedBackCount:i.transfers?.chargedBack?.count??null,chargedBackVolume:i.transfers?.chargedBack?.volume??null,ratio:i.transfers?.ratio??null},{type:"Receive",approvedCount:i.receives?.approved?.count??null,approvedVolume:i.receives?.approved?.volume??null,declinedCount:i.receives?.declined?.count??null,declinedVolume:i.receives?.declined?.volume??null,abandonedCount:i.receives?.abandoned?.count??null,abandonedVolume:i.receives?.abandoned?.volume??null,failedCount:i.receives?.failed?.count??null,failedVolume:i.receives?.failed?.volume??null,chargedBackCount:i.receives?.chargedBack?.count??null,chargedBackVolume:i.receives?.chargedBack?.volume??null,ratio:i.receives?.ratio??null}]};pe.Li.deposit_withdrawal||(n.rows.splice(n.rows.findIndex(k=>"Deposit"===k.type),1),n.rows.splice(n.rows.findIndex(k=>"Withdrawal"===k.type),1));const o={columns:[{key:"instrument",label:"Payment Method",type:"text"},{key:"approved",label:"Approved",type:"count-volume"},{key:"declined",label:"Declined",type:"count-volume"},{key:"abandoned",label:"Abandoned",type:"count-volume"},{key:"failed",label:"Failed",type:"count-volume"},{key:"chargedBack",label:"Charged back",type:"count-volume"},{key:"ratio",label:"Success Rate, %",type:"percent"}],rows:i.buys?.byInstruments?i.buys.byInstruments.map(k=>({instrument:F.m0.find(_e=>_e.id===k.instrument)?.name??"?",approvedCount:k.approved?.count??null,approvedVolume:k.approved?.volume??null,declinedCount:k.declined?.count??null,declinedVolume:k.declined?.volume??null,abandonedCount:k.abandoned?.count??null,abandonedVolume:k.abandoned?.volume??null,failedCount:k.failed?.count??null,failedVolume:k.failed?.volume??null,chargedBackCount:k.chargedBack?.count??null,chargedBackVolume:k.chargedBack?.volume??null,ratio:k.ratio??null})):[]},s={columns:[{key:"type",label:"Transaction type",type:"text"},{key:"count",label:"Count",type:"number"},{key:"volume",label:"Total",type:"count-volume"}],rows:[{type:"Buy",volumeVolume:i.paids?.buys?.volume,count:i.paids?.buys?.count},{type:"Sell",volumeVolume:i.paids?.sells?.volume,count:i.paids?.sells?.count}]},l={columns:[{key:"instrument",label:"Payment Method",type:"text"},{key:"approved",label:"Approved",type:"count-volume"},{key:"declined",label:"Declined",type:"count-volume"},{key:"abandoned",label:"Abandoned",type:"count-volume"},{key:"failed",label:"Failed",type:"count-volume"},{key:"chargedBack",label:"Charged back",type:"count-volume"},{key:"ratio",label:"Success Rate, %",type:"percent"}],rows:i.deposits?.byInstruments?i.deposits.byInstruments.map(k=>({instrument:F.m0.find(_e=>_e.id===k.instrument)?.name??"?",approvedCount:k.approved?.count??null,approvedVolume:k.approved?.volume??null,declinedCount:k.declined?.count??null,declinedVolume:k.declined?.volume??null,abandonedCount:k.abandoned?.count??null,abandonedVolume:k.abandoned?.volume??null,failedCount:k.failed?.count??null,failedVolume:k.failed?.volume??null,chargedBackCount:k.chargedBack?.count??null,chargedBackVolume:k.chargedBack?.volume??null,ratio:k.ratio??null})):[]},m={columns:[{key:"type",label:"Type",type:"text"},{key:"approved",label:"Approved",type:"count-volume"},{key:"declined",label:"Declined",type:"count-volume"},{key:"abandoned",label:"Abandoned",type:"count-volume"},{key:"failed",label:"Failed",type:"count-volume"},{key:"chargedBack",label:"Charged back",type:"count-volume"},{key:"ratio",label:"Success Rate, %",type:"percent"}],rows:[{type:"To merchants",approvedCount:i.transfers?.toMerchant?.approved?.count??null,approvedVolume:i.transfers?.toMerchant?.approved?.volume??null,declinedCount:i.transfers?.toMerchant?.declined?.count??null,declinedVolume:i.transfers?.toMerchant?.declined?.volume??null,abandonedCount:i.transfers?.toMerchant?.abandoned?.count??null,abandonedVolume:i.transfers?.toMerchant?.abandoned?.volume??null,failedCount:i.transfers?.toMerchant?.failed?.count??null,failedVolume:i.transfers?.toMerchant?.failed?.volume??null,chargedBackCount:i.transfers?.toMerchant?.chargedBack?.count??null,chargedBackVolume:i.transfers?.toMerchant?.chargedBack?.volume??null,ratio:i.transfers?.toMerchant?.ratio??null},{type:"To customers",approvedCount:i.transfers?.toCustomer?.approved?.count??null,approvedVolume:i.transfers?.toCustomer?.approved?.volume??null,declinedCount:i.transfers?.toCustomer?.declined?.count??null,declinedVolume:i.transfers?.toCustomer?.declined?.volume??null,abandonedCount:i.transfers?.toCustomer?.abandoned?.count??null,abandonedVolume:i.transfers?.toCustomer?.abandoned?.volume??null,failedCount:i.transfers?.toMerchant?.failed?.count??null,failedVolume:i.transfers?.toMerchant?.failed?.volume??null,chargedBackCount:i.transfers?.toMerchant?.chargedBack?.count??null,chargedBackVolume:i.transfers?.toMerchant?.chargedBack?.volume??null,ratio:i.transfers?.toCustomer?.ratio??null}]},u={columns:[{key:"type",label:"Type",type:"text"},{key:"approved",label:"Approved",type:"count-volume"},{key:"declined",label:"Declined",type:"count-volume"},{key:"abandoned",label:"Abandoned",type:"count-volume"},{key:"failed",label:"Failed",type:"count-volume"},{key:"chargedBack",label:"Charged back",type:"count-volume"},{key:"ratio",label:"Success Rate, %",type:"percent"}],rows:i.receives?[{type:"Wire transfer",approvedCount:i.receives?.approved?.count??null,approvedVolume:i.receives?.approved?.volume??null,declinedCount:i.receives?.declined?.count??null,declinedVolume:i.receives?.declined?.volume??null,abandonedCount:i.receives?.abandoned?.count??null,abandonedVolume:i.receives?.abandoned?.volume??null,failedCount:i.transfers?.failed?.count??null,failedVolume:i.transfers?.failed?.volume??null,chargedBackCount:i.transfers?.chargedBack?.count??null,chargedBackVolume:i.transfers?.chargedBack?.volume??null,ratio:i.receives?.ratio??null}]:[]},g={columns:[{key:"instrument",label:"Payment Method",type:"text"},{key:"approved",label:"Approved",type:"count-volume"},{key:"declined",label:"Declined",type:"count-volume"},{key:"abandoned",label:"Abandoned",type:"count-volume"},{key:"failed",label:"Failed",type:"count-volume"},{key:"chargedBack",label:"Charged back",type:"count-volume"},{key:"ratio",label:"Success Rate, %",type:"percent"}],rows:i.withdrawals?.byInstruments?i.withdrawals.byInstruments.map(k=>({instrument:F.m0.find(_e=>_e.id===k.instrument)?.name??"?",approvedCount:k.approved?.count??null,approvedVolume:k.approved?.volume??null,declinedCount:k.declined?.count??null,declinedVolume:k.declined?.volume??null,abandonedCount:k.abandoned?.count??null,abandonedVolume:k.abandoned?.volume??null,failedCount:k.failed?.count??null,failedVolume:k.failed?.volume??null,chargedBackCount:k.chargedBack?.count??null,chargedBackVolume:k.chargedBack?.volume??null,ratio:k.ratio??null})):[]},C={columns:[{key:"instrument",label:"Payment Method",type:"text"},{key:"approved",label:"Approved",type:"count-volume"},{key:"declined",label:"Declined",type:"count-volume"},{key:"abandoned",label:"Abandoned",type:"count-volume"},{key:"failed",label:"Failed",type:"count-volume"},{key:"chargedBack",label:"Charged back",type:"count-volume"},{key:"ratio",label:"Success Rate, %",type:"percent"}],rows:i.sells?.byInstruments?i.sells.byInstruments.map(k=>({instrument:F.m0.find(_e=>_e.id===k.instrument)?.name??"?",approvedCount:k.approved?.count??null,approvedVolume:k.approved?.volume??null,declinedCount:k.declined?.count??null,declinedVolume:k.declined?.volume??null,abandonedCount:k.abandoned?.count??null,abandonedVolume:k.abandoned?.volume??null,failedCount:k.failed?.count??null,failedVolume:k.failed?.volume??null,chargedBackCount:k.chargedBack?.count??null,chargedBackVolume:k.chargedBack?.volume??null,ratio:k.ratio??null})):[]},x={columns:[{key:"source",label:"From",type:"text"},{key:"volume",label:"Value",type:"number"},{key:"count",label:"Count",type:"number"}],rows:[{source:"Deposit",volume:this.getFeeValue(i.deposits?.fee?.volume??0),count:i.deposits?.fee?.count??0},{source:"Withdrawal",volume:this.getFeeValue(i.withdrawals?.fee?.volume??0),count:i.withdrawals?.fee?.count??0},{source:"Buy",volume:this.getFeeValue(i.buys?.fee?.volume??0),count:i.buys?.fee?.count??0},{source:"Sell",volume:this.getFeeValue(i.sells?.fee?.volume??0),count:i.sells?.fee?.count??0},{source:"Send",volume:this.getFeeValue(i.transfers?.fee?.volume??0),count:i.transfers?.fee?.count??0},{source:"Receive",volume:this.getFeeValue(i.receives?.fee?.volume??0),count:i.receives?.fee?.count??0}]};pe.Li.deposit_withdrawal||(x.rows.splice(x.rows.findIndex(k=>"Deposit"===k.source),1),x.rows.splice(x.rows.findIndex(k=>"Withdrawal"===k.source),1));const j={columns:[{key:"coin",label:"Base coin",type:"text"},{key:"value",label:"Value",type:"number"},{key:"count",label:"Wallets",type:"number"}],rows:i.balances?i.balances.map(k=>({coin:k.currency??null,value:k.volume?.volume??null,count:k.volume?.count??null})):[]},Z={columns:[{key:"coin",label:"Base coin",type:"text"},{key:"value",label:"Value",type:"number"}],rows:i.openpaydBalances?i.openpaydBalances.map(k=>({coin:k.currency??null,value:k.balance??null})):[]},ce={columns:[{key:"coin",label:"Base coin",type:"text"},{key:"value",label:"Value",type:"number"}],rows:i.monoovaBalances?i.monoovaBalances.map(k=>({coin:k.currency??null,value:k.balance??null})):[]},L={columns:[{key:"coin",label:"Currency",type:"text"},{key:"value",label:"Value",type:"number"}],rows:i.liquidityProviderBalances?i.liquidityProviderBalances.map(k=>({coin:k?.currency??null,value:k?.balance??null})):[]};this.dataSubject.next({total:n,buys:o,sells:C,deposits:l,transfers:m,receives:u,withdrawals:g,fees:x,balances:j,openpaydBalances:Z,monoovaBalances:ce,liquidityBalances:L,paids:s})},error:()=>{this.loading=!1,this.isLoadedSubject.value||this.isLoadedSubject.next(!0)}})}getFeeValue(t=0){return(0,ae.Pn)("EUR")+t}filterCardData(t){if(!t)return t;const i={...t};return!i.receives?.approved?.count&&!i.receives?.declined?.count&&!i.receives?.abandoned?.count&&!i.transfers?.failed?.count&&!i.transfers?.chargedBack?.count&&(i.receives=null),!i.transfers?.approved?.count&&!i.transfers?.declined?.count&&!i.transfers?.abandoned?.count&&!i.transfers?.failed?.count&&!i.transfers?.chargedBack?.count&&(i.transfers=null),i}static#e=this.\u0275fac=function(i){return new(i||a)(e.KVO(E),e.KVO(Ie.UG))};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();const s4=a=>({"__dashboard-card-column":!0,"align-right":a});function l4(a,r){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&a){const t=e.XpG(2).$implicit,i=e.XpG().$implicit;e.R7$(),e.SpI("(",t[i.key+"Count"],")")}}function d4(a,r){if(1&a&&(e.qex(0),e.DNE(1,l4,2,1,"span",8),e.j41(2,"span"),e.EFF(3,"\xa0\u20ac"),e.k0s(),e.j41(4,"span"),e.EFF(5),e.k0s(),e.bVm()),2&a){const t=e.XpG().$implicit,i=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf",t[i.key+"Count"]),e.R7$(4),e.JRh(t[i.key+"Volume"])}}function c4(a,r){if(1&a&&(e.qex(0),e.j41(1,"p"),e.EFF(2),e.k0s(),e.bVm()),2&a){const t=e.XpG().$implicit,i=e.XpG().$implicit;e.R7$(2),e.JRh(t[i.key])}}function m4(a,r){if(1&a&&(e.j41(0,"div"),e.DNE(1,d4,6,2,"ng-container",8)(2,c4,3,1,"ng-container",8),e.k0s()),2&a){const t=r.$implicit,i=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf","count-volume"===i.type&&t[i.key+"Volume"]),e.R7$(),e.Y8G("ngIf","count-volume"!==i.type)}}function p4(a,r){if(1&a&&(e.j41(0,"div",5)(1,"div",6),e.EFF(2),e.k0s(),e.DNE(3,m4,3,2,"div",7),e.k0s()),2&a){const t=r.$implicit,i=e.XpG(2);e.Y8G("ngClass",e.eq3(3,s4,"text"!==t.type)),e.R7$(2),e.JRh(t.label),e.R7$(),e.Y8G("ngForOf",i.data.rows)}}function u4(a,r){if(1&a&&(e.j41(0,"div",1)(1,"h5",2),e.EFF(2),e.k0s(),e.j41(3,"div",3),e.DNE(4,p4,4,5,"div",4),e.k0s()()),2&a){const t=e.XpG();e.R7$(2),e.SpI(" ",t.title," "),e.R7$(2),e.Y8G("ngForOf",t.data.columns)}}let h4=(()=>{class a{constructor(){this.title="",this.source=""}ngOnInit(){if(this.data=this.dashboardData[this.source],"fees"===this.source&&this.data?.rows)for(const t of this.data?.rows)t.volume=`\u20ac${parseFloat(t.volume?.split("\u20ac")[1]).toFixed(2)}`;if(this.data?.columns)for(const t of this.data?.columns)for(const i of this.data?.rows)"count-volume"===t.type&&i[t.key+"Volume"]&&(i[t.key+"Volume"]="string"==typeof i[t.key+"Volume"]?parseFloat(i[t.key+"Volume"]).toFixed(2):i[t.key+"Volume"].toFixed(2));(!this.data?.rows||0===this.data?.rows.length)&&(this.data=void 0)}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-dashboard-card"]],inputs:{title:"title",source:"source",dashboardData:"dashboardData"},decls:1,vars:1,consts:[["class","card card-body pd-20 pd-md-40 border shadow-none overflow-hidden",4,"ngIf"],[1,"card","card-body","pd-20","pd-md-40","border","shadow-none","overflow-hidden"],[1,"card-title","mg-b-20"],[1,"__dashboard-card-block"],["class","__dashboard-card-column",3,"ngClass",4,"ngFor","ngForOf"],[1,"__dashboard-card-column",3,"ngClass"],[1,"__dashboard-card-header"],[4,"ngFor","ngForOf"],[4,"ngIf"]],template:function(i,n){1&i&&e.DNE(0,u4,5,2,"div",0),2&i&&e.Y8G("ngIf",n.data)},dependencies:[h.YU,h.Sq,h.bT],styles:[".__dashboard-card-block[_ngcontent-%COMP%]{display:flex;flex-direction:row;overflow-x:scroll}.__dashboard-card-block[_ngcontent-%COMP%]   .__dashboard-card-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1 1 auto;min-width:-moz-fit-content;min-width:fit-content}.__dashboard-card-block[_ngcontent-%COMP%]   .__dashboard-card-column.align-right[_ngcontent-%COMP%]{text-align:right}.__dashboard-card-block[_ngcontent-%COMP%]   .__dashboard-card-column[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:28px;line-height:28px;padding:0 4px}.__dashboard-card-block[_ngcontent-%COMP%]   .__dashboard-card-column[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #bdc6e0}.__dashboard-card-block[_ngcontent-%COMP%]   .__dashboard-card-column[_ngcontent-%COMP%] > div.__dashboard-card-header[_ngcontent-%COMP%]{font-weight:500;height:56px}"],changeDetection:0})}return a})();function f4(a,r){1&a&&e.nrm(0,"mat-progress-bar",4)}function g4(a,r){if(1&a&&e.nrm(0,"app-admin-dashboard-card",20),2&a){const t=e.XpG().ngIf;e.Y8G("dashboardData",t)}}function _4(a,r){if(1&a&&e.nrm(0,"app-admin-dashboard-card",21),2&a){const t=e.XpG().ngIf;e.Y8G("dashboardData",t)}}function b4(a,r){if(1&a&&e.nrm(0,"app-admin-dashboard-card",22),2&a){const t=e.XpG().ngIf;e.Y8G("dashboardData",t)}}function v4(a,r){if(1&a&&e.nrm(0,"app-admin-dashboard-card",23),2&a){const t=e.XpG().ngIf;e.Y8G("dashboardData",t)}}function y4(a,r){if(1&a&&e.nrm(0,"app-admin-dashboard-card",24),2&a){const t=e.XpG().ngIf;e.Y8G("dashboardData",t)}}function C4(a,r){if(1&a&&e.nrm(0,"app-admin-dashboard-card",25),2&a){const t=e.XpG().ngIf;e.Y8G("dashboardData",t)}}function k4(a,r){if(1&a&&e.nrm(0,"app-admin-dashboard-card",26),2&a){const t=e.XpG().ngIf;e.Y8G("dashboardData",t)}}function F4(a,r){if(1&a&&e.nrm(0,"app-admin-dashboard-card",27),2&a){const t=e.XpG().ngIf;e.Y8G("dashboardData",t)}}function T4(a,r){if(1&a&&e.nrm(0,"app-admin-dashboard-card",28),2&a){const t=e.XpG().ngIf;e.Y8G("dashboardData",t)}}function x4(a,r){if(1&a&&e.nrm(0,"app-admin-dashboard-card",29),2&a){const t=e.XpG().ngIf;e.Y8G("dashboardData",t)}}function w4(a,r){if(1&a&&e.nrm(0,"app-admin-dashboard-card",30),2&a){const t=e.XpG().ngIf;e.Y8G("dashboardData",t)("title","Liquidity provider balances")}}function S4(a,r){if(1&a&&e.nrm(0,"app-admin-dashboard-card",31),2&a){const t=e.XpG().ngIf;e.Y8G("dashboardData",t)}}function D4(a,r){if(1&a&&(e.qex(0),e.j41(1,"div",7),e.DNE(2,g4,1,1,"app-admin-dashboard-card",8)(3,_4,1,1,"app-admin-dashboard-card",9)(4,b4,1,1,"app-admin-dashboard-card",10)(5,v4,1,1,"app-admin-dashboard-card",11)(6,y4,1,1,"app-admin-dashboard-card",12)(7,C4,1,1,"app-admin-dashboard-card",13),e.k0s(),e.j41(8,"div",7),e.DNE(9,k4,1,1,"app-admin-dashboard-card",14)(10,F4,1,1,"app-admin-dashboard-card",15)(11,T4,1,1,"app-admin-dashboard-card",16)(12,x4,1,1,"app-admin-dashboard-card",17)(13,w4,1,2,"app-admin-dashboard-card",18)(14,S4,1,1,"app-admin-dashboard-card",19),e.k0s(),e.bVm()),2&a){const t=e.XpG(2);e.R7$(2),e.Y8G("ngIf",!1!==(null==t.adminAdditionalSettings||null==t.adminAdditionalSettings.tabs||null==t.adminAdditionalSettings.tabs.dashboard?null:t.adminAdditionalSettings.tabs.dashboard.totalEur)),e.R7$(),e.Y8G("ngIf",t.showDeposits&&!1!==(null==t.adminAdditionalSettings||null==t.adminAdditionalSettings.tabs||null==t.adminAdditionalSettings.tabs.dashboard?null:t.adminAdditionalSettings.tabs.dashboard.Deposit)),e.R7$(),e.Y8G("ngIf",t.showWithdrawals&&!1!==(null==t.adminAdditionalSettings||null==t.adminAdditionalSettings.tabs||null==t.adminAdditionalSettings.tabs.dashboard?null:t.adminAdditionalSettings.tabs.dashboard.Withdrawal)),e.R7$(),e.Y8G("ngIf",!1!==(null==t.adminAdditionalSettings||null==t.adminAdditionalSettings.tabs||null==t.adminAdditionalSettings.tabs.dashboard?null:t.adminAdditionalSettings.tabs.dashboard.Buy)),e.R7$(),e.Y8G("ngIf",!1!==(null==t.adminAdditionalSettings||null==t.adminAdditionalSettings.tabs||null==t.adminAdditionalSettings.tabs.dashboard?null:t.adminAdditionalSettings.tabs.dashboard.Sell)),e.R7$(),e.Y8G("ngIf",!1!==(null==t.adminAdditionalSettings||null==t.adminAdditionalSettings.tabs||null==t.adminAdditionalSettings.tabs.dashboard?null:t.adminAdditionalSettings.tabs.dashboard.Receive)),e.R7$(2),e.Y8G("ngIf",!1!==(null==t.adminAdditionalSettings||null==t.adminAdditionalSettings.tabs||null==t.adminAdditionalSettings.tabs.dashboard?null:t.adminAdditionalSettings.tabs.dashboard.Fees)),e.R7$(),e.Y8G("ngIf",!1!==(null==t.adminAdditionalSettings||null==t.adminAdditionalSettings.tabs||null==t.adminAdditionalSettings.tabs.dashboard?null:t.adminAdditionalSettings.tabs.dashboard.BalanceAll)),e.R7$(),e.Y8G("ngIf",!1!==(null==t.adminAdditionalSettings||null==t.adminAdditionalSettings.tabs||null==t.adminAdditionalSettings.tabs.dashboard?null:t.adminAdditionalSettings.tabs.dashboard.Openpayd)),e.R7$(),e.Y8G("ngIf",!1!==(null==t.adminAdditionalSettings||null==t.adminAdditionalSettings.tabs||null==t.adminAdditionalSettings.tabs.dashboard?null:t.adminAdditionalSettings.tabs.dashboard.Monoova)),e.R7$(),e.Y8G("ngIf",!1!==(null==t.adminAdditionalSettings||null==t.adminAdditionalSettings.tabs||null==t.adminAdditionalSettings.tabs.dashboard?null:t.adminAdditionalSettings.tabs.dashboard.Liquidity)),e.R7$(),e.Y8G("ngIf",!1!==(null==t.adminAdditionalSettings||null==t.adminAdditionalSettings.tabs||null==t.adminAdditionalSettings.tabs.dashboard?null:t.adminAdditionalSettings.tabs.dashboard.PaidTransaction))}}function I4(a,r){if(1&a&&(e.j41(0,"div",5),e.DNE(1,D4,15,12,"ng-container",6),e.nI1(2,"async"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.Y8G("ngIf",e.bMT(2,1,t.dashboardService.data))}}let E4=(()=>{class a{constructor(t,i,n,o){this.commonDataService=t,this.router=i,this.dashboardService=n,this.auth=o,this.filterFields=["createdDate","completedDate","updatedDate","accountType","country","source","user","widgetName","fiatCurrency"],this.showDeposits=pe.Li.deposit_withdrawal,this.showWithdrawals=pe.Li.deposit_withdrawal,this.defaultFilter=void 0,this.adminAdditionalSettings={},this.fiatCurrencies=[],this._destroy$=new y.B;const s=new Date,l=new Date(Date.UTC(s.getFullYear(),s.getMonth(),1,0,0,0,0)),m=new Date(Date.UTC(s.getFullYear(),s.getMonth()+1,0,23,59,59,999));this.defaultFilter={updatedDateInterval:{from:l,to:m}}}ngOnInit(){this.loadCurrencies(),this.loadCommonSettings(),this.auth.getLocalSettingsCommon(),this.auth.user?.filters?.dashboard?.includes("updatedDate")||!this.auth.user?.filters?this.dashboardService.setFilter(this.defaultFilter):this.dashboardService.load()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}loadCommonSettings(){const t=this.auth.getLocalSettingsCommon();t&&(this.adminAdditionalSettings="string"==typeof t.adminAdditionalSettings?JSON.parse(t.adminAdditionalSettings):t.adminAdditionalSettings,this.adminAdditionalSettings?.tabs?.dashboard?.filterFields&&(this.filterFields=this.adminAdditionalSettings.tabs.dashboard.filterFields))}loadCurrencies(){this.commonDataService.getSettingsCurrency()?.valueChanges.pipe((0,P.s)(1),(0,T.Q)(this._destroy$)).subscribe({next:({data:t})=>{const i=t.getSettingsCurrency;i.settingsCurrency&&i.settingsCurrency.count?(this.fiatCurrencies=i.settingsCurrency.list?.map(n=>new F.xD(n)),this.fiatCurrencies=this.fiatCurrencies.filter(n=>n.fiat)):this.fiatCurrencies=[]},error:()=>{""===this.auth.token&&this.router.navigateByUrl("/")}})}handleFilterApplied(t){this.dashboardService.setFilter(t)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(xe.X),e.rXU(w.Ix),e.rXU(Ot),e.rXU(I.u))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-dashboard-admin"]],features:[e.Jv_([Ot])],decls:5,vars:8,consts:[[1,"table-responsive"],[3,"filter","filterType","fields","fiatCurrencies","filterData"],["color","accent","mode","indeterminate",4,"ngIf"],["class","__dashboard-panel-container",4,"ngIf"],["color","accent","mode","indeterminate"],[1,"__dashboard-panel-container"],[4,"ngIf"],[1,"__dashboard-panel-column"],["title","Total volume in EUR","source","total",3,"dashboardData",4,"ngIf"],["title","Deposit","source","deposits",3,"dashboardData",4,"ngIf"],["title","Withdrawal","source","withdrawals",3,"dashboardData",4,"ngIf"],["title","Buy","source","buys",3,"dashboardData",4,"ngIf"],["title","Sell","source","sells",3,"dashboardData",4,"ngIf"],["title","Receive","source","receives",3,"dashboardData",4,"ngIf"],["title","Fees collected","source","fees",3,"dashboardData",4,"ngIf"],["title","Balances in all wallets","source","balances",3,"dashboardData",4,"ngIf"],["title","Balances in all OpenPayd wallets","source","openpaydBalances",3,"dashboardData",4,"ngIf"],["title","Balances in Monoova Wallet","source","monoovaBalances",3,"dashboardData",4,"ngIf"],["source","liquidityBalances",3,"dashboardData","title",4,"ngIf"],["title","Paid transactions","source","paids",3,"dashboardData",4,"ngIf"],["title","Total volume in EUR","source","total",3,"dashboardData"],["title","Deposit","source","deposits",3,"dashboardData"],["title","Withdrawal","source","withdrawals",3,"dashboardData"],["title","Buy","source","buys",3,"dashboardData"],["title","Sell","source","sells",3,"dashboardData"],["title","Receive","source","receives",3,"dashboardData"],["title","Fees collected","source","fees",3,"dashboardData"],["title","Balances in all wallets","source","balances",3,"dashboardData"],["title","Balances in all OpenPayd wallets","source","openpaydBalances",3,"dashboardData"],["title","Balances in Monoova Wallet","source","monoovaBalances",3,"dashboardData"],["source","liquidityBalances",3,"dashboardData","title"],["title","Paid transactions","source","paids",3,"dashboardData"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"app-admin-filter",1),e.bIt("filter",function(s){return n.handleFilterApplied(s)}),e.k0s(),e.DNE(2,f4,1,0,"mat-progress-bar",2)(3,I4,3,3,"div",3),e.nI1(4,"async"),e.k0s()),2&i&&(e.R7$(),e.Y8G("filterType","dashboard")("fields",n.filterFields)("fiatCurrencies",n.fiatCurrencies)("filterData",n.defaultFilter),e.R7$(),e.Y8G("ngIf",n.dashboardService.loading),e.R7$(),e.Y8G("ngIf",e.bMT(4,6,n.dashboardService.isLoaded)))},dependencies:[h.bT,z.HM,h4,Te,h.Jj],styles:[".datatable-body{height:600px!important;overflow:scroll;width:100%}  .dataTable-bottom{position:absolute;left:0;right:0;bottom:0;background:#fff!important}  table th,   table td,   .ngx-datatable.material .datatable-header .datatable-header-cell,   .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{font-size:.876rem!important}@media (max-width: 567.9px){  .ngx-datatable .datatable-footer .datatable-footer-inner{flex-wrap:wrap;height:auto!important}  .ngx-datatable .datatable-footer .datatable-pager{text-align:center!important}}  .dataTable-wrapper.no-footer .dataTable-container{border-bottom:none!important}  .dataTable-selector{border-radius:.25rem}  app-data-table input{border-radius:25px;border:1px solid rgba(0,0,0,.1)}  app-data-table .custom-select{border:1px solid rgba(0,0,0,.24)!important;border-radius:.25rem}.table-responsive[_ngcontent-%COMP%]{overflow:visible}  .dark-theme input::placeholder{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material{background-color:#2a2e3f!important}  .dark-theme app-data-tables .dataTable-bottom{background-color:#2a2e3f!important}  .dark-theme app-data-tables .dataTable-selector{background-color:#2a2e3f;border-color:#272c49;color:#fff;outline:none}  .dark-theme app-data-tables input{color:#eee!important;background-color:#2a2e3f!important;border-color:#262b48;border-radius:25px;height:27px}  .dark-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .dark-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#2a2e3f;color:#fff}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid rgb(39,43,74)!important;color:#fff!important;background:#2a2e3f!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #32394e!important}  .dark-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .dark-theme app-data-tables .dataTable-pagination li:hover a,   .dark-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .dark-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .dark-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .dark-theme app-data-tables .mat-mdc-table{background:#2a2e3f!important}  .dark-theme app-data-tables .mat-mdc-header-cell{color:#fff!important}  .dark-theme app-data-tables .mat-mdc-cell,   .dark-theme app-data-tables .mat-mdc-footer-cell{color:#eee!important}  .dark-theme app-data-tables mat-row,   .dark-theme app-data-tables mat-header-row,   .dark-theme app-data-tables mat-footer-row,   .dark-theme app-data-tables th.mat-mdc-header-cell,   .dark-theme app-data-tables td.mat-mdc-cell,   .dark-theme app-data-tables td.mat-mdc-footer-cell{border-bottom-color:#ffffff1f!important}  .dark-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .dark-theme app-data-tables .mat-mdc-paginator,   .dark-theme app-data-tables .mat-mdc-paginator-page-size .mat-mdc-select-trigger{color:#ffffff8a!important}  .dark-theme app-data-tables .mat-mdc-paginator{background:#2a2e3f}  .dark-theme app-data-tables .mat-mdc-select-value{color:#fff7f7de}  .dark-theme app-data-tables .mat-mdc-select-arrow{color:#ffffffba}  .dark-theme .mat-mdc-select-panel{background:#30304d}  .dark-theme .mat-mdc-option{color:#ccc}  .dark-theme .mat-primary .mat-mdc-option.mat-selected:not(.mat-option-disabled){color:#fff}  .dark-theme .mat-mdc-option:hover:not(.mat-option-disabled),   .dark-theme .mat-option:focus:not(.mat-option-disabled){background:#2a2a44}  .dark-theme .mat-mdc-select-panel .mat-mdc-option.mat-selected:not(.mat-mdc-option-multiple){background:#0000001f}  .dark-theme .table-hover>tbody>tr:hover>*{color:#fff}  .dark-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme input::placeholder{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material{background-color:#2da28f!important}  .transparent-theme app-data-tables .dataTable-bottom{background-color:#2da28f!important}  .transparent-theme app-data-tables .dataTable-selector{background-color:#2da28f;border-color:#4cb0a0;color:#fff;outline:none}  .transparent-theme app-data-tables input{color:#eee!important;background-color:#2da28f!important;border-color:#4cb0a0;border-radius:25px;height:27px}  .transparent-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .transparent-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#2da28f;color:#fff}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid #4cb0a0!important;color:#fff!important;background:#2da28f!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #4cb0a0!important}  .transparent-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .transparent-theme app-data-tables .dataTable-pagination li:hover a,   .transparent-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .transparent-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .transparent-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .transparent-theme app-data-tables .mat-mdc-table{background:#2da28f!important}  .transparent-theme app-data-tables .mat-mdc-header-cell{color:#fff!important}  .transparent-theme app-data-tables .mat-mdc-cell,   .transparent-theme app-data-tables .mat-mdc-footer-cell{color:#eee!important}  .transparent-theme app-data-tables mat-row,   .transparent-theme app-data-tables mat-header-row,   .transparent-theme app-data-tables mat-footer-row,   .transparent-theme app-data-tables th.mat-mdc-header-cell,   .transparent-theme app-data-tables td.mat-mdc-cell,   .transparent-theme app-data-tables td.mat-mdc-footer-cell{border-bottom-color:#ffffff1f!important}  .transparent-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .transparent-theme app-data-tables .mat-mdc-paginator,   .transparent-theme app-data-tables .mat-mdc-paginator-page-size .mat-mdc-select-trigger{color:#ffffff8a!important}  .transparent-theme app-data-tables .mat-mdc-paginator{background:#2da28f}  .transparent-theme app-data-tables .mat-mdc-select-value{color:#fff7f7de}  .transparent-theme app-data-tables .mat-mdc-select-arrow{color:#ffffffba}  .transparent-theme .mat-mdc-select-panel{background:#30304d}  .transparent-theme .mat-mdc-option{color:#ccc}  .transparent-theme .mat-primary .mat-mdc-option.mat-selected:not(.mat-option-disabled){color:#fff}  .transparent-theme .mat-mdc-option:hover:not(.mat-option-disabled),   .transparent-theme .mat-option:focus:not(.mat-option-disabled){background:#2a2a44}  .transparent-theme .mat-mdc-select-panel .mat-mdc-option.mat-selected:not(.mat-mdc-option-multiple){background:#0000001f}  .transparent-theme .table-hover>tbody>tr:hover>*{color:#fff}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{background-color:#248272!important}.__dashboard-panel-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin:-8px;padding:24px 16px}.__dashboard-panel-container[_ngcontent-%COMP%]   .__dashboard-panel-column[_ngcontent-%COMP%]{display:flex;flex-direction:column}.__dashboard-panel-container[_ngcontent-%COMP%]   .__dashboard-panel-column[_ngcontent-%COMP%]:nth-child(1){flex:1 1 60%}.__dashboard-panel-container[_ngcontent-%COMP%]   .__dashboard-panel-column[_ngcontent-%COMP%]:nth-child(2){flex:1 1 40%}.__dashboard-panel-container[_ngcontent-%COMP%]   .__dashboard-panel-column[_ngcontent-%COMP%]   app-admin-dashboard-card[_ngcontent-%COMP%]{margin:8px}@media (max-width: 1550px){.__dashboard-panel-container[_ngcontent-%COMP%]{flex-direction:column}}.full-dashboard-style[_ngcontent-%COMP%]{margin:0 auto}"]})}return a})();var Ve=f(5084);function P4(a,r){if(1&a&&(e.qex(0),e.j41(1,"div",14)(2,"mat-card",15)(3,"mat-card-header")(4,"mat-card-title"),e.EFF(5,"Total Clients"),e.k0s(),e.j41(6,"mat-card-subtitle"),e.EFF(7," How many clients do we have? "),e.k0s()(),e.j41(8,"mat-card-content",16)(9,"b"),e.EFF(10),e.k0s()(),e.j41(11,"mat-card-actions",17)(12,"div",18)(13,"div",19),e.EFF(14),e.k0s(),e.j41(15,"div",20)(16,"span",21),e.nrm(17,"i",22),e.k0s()()()()()(),e.j41(18,"div",14)(19,"mat-card",15)(20,"mat-card-header")(21,"mat-card-title"),e.EFF(22,"Total Transactions"),e.k0s(),e.j41(23,"mat-card-subtitle"),e.EFF(24," How many transactions do we have? "),e.k0s()(),e.j41(25,"mat-card-content",16)(26,"b"),e.EFF(27),e.nI1(28,"number"),e.k0s()(),e.j41(29,"mat-card-actions",17)(30,"div",18)(31,"a",23),e.EFF(32," View transactions "),e.k0s(),e.j41(33,"div",20)(34,"span",24),e.nrm(35,"i",25),e.k0s()()()()()(),e.j41(36,"div",14)(37,"mat-card",15)(38,"mat-card-header")(39,"mat-card-title"),e.EFF(40,"Transactions amount"),e.k0s(),e.j41(41,"mat-card-subtitle"),e.EFF(42," How many clients do we have? "),e.k0s()(),e.j41(43,"mat-card-content",16)(44,"b"),e.EFF(45),e.nI1(46,"number"),e.k0s()(),e.j41(47,"mat-card-actions",17)(48,"div",26)(49,"div",19),e.EFF(50," View net earnings "),e.k0s()()()()(),e.bVm()),2&a){const t=r.ngIf;e.R7$(10),e.JRh(t.usersTotal),e.R7$(4),e.SpI(" ",t.usersKycWaitingTotal," KYC pending "),e.R7$(13),e.JRh(e.i5U(28,5,t.transactionsTotal,"2.")),e.R7$(18),e.Lme("",e.i5U(46,8,t.transactionsAmount,".2")," ",t.currency,"")}}function A4(a,r){1&a&&e.nrm(0,"app-spinner")}let R4=(()=>{class a{constructor(t,i){this.dashboardService=t,this.auth=i,this.currentDate=new Date,this.dateRangeForm=new d.gE({from:new d.MJ(this.getFirstDateOfCurrentMonth()),to:new d.MJ(this.getLastDateOfCurrentMonth())}),this.subscriptions=new R.yU,this.dateRangeSubject=new Me.t({from:this.dateRangeForm.controls.from.value,to:this.dateRangeForm.controls.to.value}),this.dashboardData$=this.dateRangeSubject.pipe((0,J.n)(n=>this.dashboardService.dashboardMerchantData(this.getISOString(n.from),this.getISOString(n.to))))}ngOnInit(){this.auth.getLocalSettingsCommon()}ngOnDestroy(){this.subscriptions.unsubscribe()}onRangeApply(){this.dateRangeSubject.next({from:this.dateRangeForm.controls.from.value,to:this.dateRangeForm.controls.to.value})}getISOString(t){return t?.toISOString()}getFirstDateOfCurrentMonth(){const t=this.currentDate.getFullYear(),i=this.currentDate.getMonth();return new Date(Date.UTC(t,i,1,0,0,0,0))}getLastDateOfCurrentMonth(){const t=this.currentDate.getFullYear(),i=this.currentDate.getMonth();return new Date(Date.UTC(t,i+1,0,23,59,59,999))}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(Ot),e.rXU(I.u))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-dashboard-merchant"]],features:[e.Jv_([Ot])],decls:25,vars:7,consts:[["picker",""],["loading",""],[1,"row"],[1,"col-12"],[1,"mat-card-clear"],[1,"mt-2","pb-0"],["appearance","outline"],[3,"formGroup","rangePicker"],["matStartDate","","formControlName","from","placeholder","Start date"],["matEndDate","","formControlName","to","placeholder","End date"],["matIconSuffix","",3,"for"],["type","button","matDateRangePickerCancel","",1,"btn","btn-outline-primary","wd-85","mg-r-5"],["type","button","matDateRangePickerApply","",1,"btn","btn-primary","wd-85",3,"click"],[4,"ngIf","ngIfElse"],[1,"col-xl-3","col-md-6","mt-4"],[1,"example-card"],[1,"mt-4","tx-25"],[1,"mt-3","ml-2"],[1,"d-sm-flex","align-items-sm-center","justify-content-md-between","w-100"],[1,"d-sm-flex","align-items-sm-center"],[1,"avatar-sm","flex-shrink-0"],[1,"avatar-title","bg-warning-subtle","rounded","fs-3"],[1,"bx","bx-user-circle","text-warning"],["href","/admin/transactions",1,"d-sm-flex","align-items-sm-center"],[1,"avatar-title","bg-success-subtle","rounded","fs-3"],[1,"bx","bx-dollar-circle","text-success"],[1,"d-sm-flex","align-items-sm-center","w-100"]],template:function(i,n){if(1&i){const o=e.RV6();e.j41(0,"div",2)(1,"div",3)(2,"mat-card",4)(3,"mat-card-header")(4,"mat-card-title"),e.EFF(5,"Wellcome back!"),e.k0s()(),e.j41(6,"mat-card-content",5)(7,"mat-form-field",6)(8,"mat-label"),e.EFF(9,"Enter a date range"),e.k0s(),e.j41(10,"mat-date-range-input",7),e.nrm(11,"input",8)(12,"input",9),e.k0s(),e.nrm(13,"mat-datepicker-toggle",10),e.j41(14,"mat-date-range-picker",null,0)(16,"mat-date-range-picker-actions")(17,"button",11),e.EFF(18,"Cancel"),e.k0s(),e.j41(19,"button",12),e.bIt("click",function(){return e.eBV(o),e.Njj(n.onRangeApply())}),e.EFF(20,"Apply"),e.k0s()()()()()()(),e.DNE(21,P4,51,11,"ng-container",13),e.nI1(22,"async"),e.DNE(23,A4,1,0,"ng-template",null,1,e.C5r),e.k0s()}if(2&i){const o=e.sdS(15),s=e.sdS(24);e.R7$(10),e.Y8G("formGroup",n.dateRangeForm)("rangePicker",o),e.R7$(3),e.Y8G("for",o),e.R7$(8),e.Y8G("ngIf",e.bMT(22,5,n.dashboardData$))("ngIfElse",s)}},dependencies:[h.bT,d.me,d.BC,d.cb,d.j4,d.JD,Q.RN,Q.YY,Q.m2,Q.MM,Q.Lc,Q.dh,Le.t,ue.rl,ue.nJ,ue.yw,Ve.bU,Ve.el,Ve.xR,Ve.IG,Ve.SG,Ve.Cz,Ve.jj,Ve.T7,h.Jj,h.QX],styles:[".avatar-xxs[_ngcontent-%COMP%]{height:1.5rem;width:1.5rem}.avatar-xs[_ngcontent-%COMP%]{height:2rem;width:2rem}.avatar-sm[_ngcontent-%COMP%]{height:3rem;width:3rem}.avatar-md[_ngcontent-%COMP%]{height:4.5rem;width:4.5rem}.avatar-lg[_ngcontent-%COMP%]{height:6rem;width:6rem}.avatar-xl[_ngcontent-%COMP%]{height:7.5rem;width:7.5rem}.avatar-title[_ngcontent-%COMP%]{align-items:center;background-color:#405189;color:#fff;display:flex;font-weight:500;height:100%;justify-content:center;width:100%}.bg-success-subtle[_ngcontent-%COMP%]{background-color:#daf4f0}.bg-warning-subtle[_ngcontent-%COMP%]{background-color:#fef4e4}.tx-25[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:25px!important;font-weight:500}.mat-card-clear[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{width:300px!important}"],changeDetection:0})}return a})();const O4=()=>["Home"];function j4(a,r){1&a&&e.nrm(0,"app-dashboard-admin")}function $4(a,r){1&a&&e.nrm(0,"app-dashboard-merchant")}let M4=(()=>{class a{constructor(t){this.auth=t,this.isMerchantDashboard=!1}ngOnInit(){this.isMerchantDashboard=this.auth.user.type===c.ut.Merchant||!!this.auth.user.affiliateId}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(I.u))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],decls:7,vars:6,consts:[[3,"title","items","active_item"],[1,"row","row-sm","full-dashboard-style"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[4,"ngIf"]],template:function(i,n){1&i&&(e.nrm(0,"app-admin-page-header",0),e.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e.DNE(5,j4,1,0,"app-dashboard-admin",5)(6,$4,1,0,"app-dashboard-merchant",5),e.k0s()()()()),2&i&&(e.Y8G("title","Dashboard")("items",e.lJ4(5,O4))("active_item","Dashboard"),e.R7$(5),e.Y8G("ngIf",!n.isMerchantDashboard),e.R7$(),e.Y8G("ngIf",n.isMerchantDashboard))},dependencies:[h.bT,X,E4,R4],changeDetection:0})}return a})();function N4(a,r){1&a&&(e.j41(0,"div",13)(1,"small"),e.EFF(2," Please specify a user "),e.k0s()())}function V4(a,r){if(1&a&&(e.j41(0,"div",14)(1,"h4",15),e.EFF(2),e.k0s()()),2&a){const t=e.XpG();e.R7$(2),e.SpI(" ",t.errorMessage," ")}}function G4(a,r){1&a&&e.nrm(0,"span",18)}function B4(a,r){if(1&a&&(e.j41(0,"button",16),e.DNE(1,G4,1,0,"span",17),e.EFF(2," Save "),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.saveInProgress)}}let U4=(()=>{class a{constructor(t,i,n,o){this.formBuilder=t,this.router=i,this.auth=n,this.adminService=o,this.permission=0,this.save=new e.bkB,this.close=new e.bkB,this.subscriptions=new R.yU,this.submitted=!1,this.saveInProgress=!1,this.errorMessage="",this.isUsersLoading=!1,this.usersSearchInput$=new y.B,this.usersOptions$=(0,S.of)([]),this.minUsersLengthTerm=1,this.form=this.formBuilder.group({user:[null,{validators:[d.k0.required],updateOn:"change"}]})}ngOnInit(){this.initUserSearch()}ngOnDestroy(){this.subscriptions.unsubscribe()}initUserSearch(){this.usersOptions$=(0,ke.x)((0,S.of)([]),this.usersSearchInput$.pipe((0,W.p)(t=>null!==t&&t.length>=this.minUsersLengthTerm),(0,q.B)(300),(0,Y.F)(),(0,D.M)(()=>{this.isUsersLoading=!0}),(0,J.n)(t=>(this.isUsersLoading=!1,this.adminService.findUsers(new G({search:t,accountTypes:[c.ut.Merchant]})).pipe((0,b.T)(i=>i.list))))))}getApiKeyItem(){const t=new mn.N({userId:"",created:new Date,apiKeyId:""});return t.user=this.form.value.user.id,t}onSubmit(){this.submitted=!0,this.form.valid&&this.onSave()}onSave(){this.saveInProgress=!0;const t=this.getApiKeyItem(),i=this.adminService.createApiKey(t.user);this.subscriptions.add(i.subscribe(({data:n})=>{this.saveInProgress=!1;const o=n.createUserApiKey;this.save.emit(`${o.apiKeyId}|${o.secret}`)},n=>{this.saveInProgress=!1,this.errorMessage=n,""===this.auth.token&&this.router.navigateByUrl("/")}))}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(d.ze),e.rXU(w.Ix),e.rXU(I.u),e.rXU(E))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-apikey-details"]],inputs:{permission:"permission"},outputs:{save:"save",close:"close"},decls:17,vars:11,consts:[[1,"row"],[1,"col-md-12","col-lg-12","col-xl-12","mx-auto","d-block"],["novalidate","",3,"ngSubmit","formGroup"],[1,"card","card-body","pd-20","pd-md-40","border","shadow-none"],[1,"form-group"],[1,"main-content-label","tx-11","tx-medium","tx-gray-600"],[1,"main-content-label","tx-11","tx-medium","tx-danger"],["bindLabel","extendedName","notFoundText","No users found","formControlName","user","typeToSearchText","Type email or user name","placeholder","Start typing to search a user","required","",3,"items","minTermLength","loading","multiple","typeahead"],["class","tx-danger",4,"ngIf"],["class","card card-body card-danger pd-20 pd-md-40 border shadow-none",4,"ngIf"],[2,"display","flex","justify-content","flex-end"],["class","btn btn-primary pd-x-30 me-2 mg-t-5",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","pd-x-30","mg-t-5",3,"click"],[1,"tx-danger"],[1,"card","card-body","card-danger","pd-20","pd-md-40","border","shadow-none"],[1,"card-title2","mg-b-20","color_brown"],[1,"btn","btn-primary","pd-x-30","me-2","mg-t-5"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"form",2),e.bIt("ngSubmit",function(){return n.onSubmit()}),e.j41(3,"div",3)(4,"div",4)(5,"label",5),e.EFF(6," User "),e.j41(7,"span",6),e.EFF(8,"*"),e.k0s()(),e.nrm(9,"ng-select",7),e.nI1(10,"async"),e.DNE(11,N4,3,0,"div",8),e.k0s()(),e.DNE(12,V4,3,1,"div",9),e.j41(13,"div",10),e.DNE(14,B4,3,1,"button",11),e.j41(15,"button",12),e.bIt("click",function(){return n.close.emit()}),e.EFF(16," Close "),e.k0s()()()()()),2&i&&(e.R7$(2),e.Y8G("formGroup",n.form),e.R7$(7),e.Y8G("items",e.bMT(10,9,n.usersOptions$))("minTermLength",n.minUsersLengthTerm)("loading",n.isUsersLoading)("multiple",!1)("typeahead",n.usersSearchInput$),e.R7$(2),e.Y8G("ngIf",(n.form.controls.user.touched||n.submitted)&&(null==n.form.controls.user.errors?null:n.form.controls.user.errors.required)),e.R7$(),e.Y8G("ngIf",""!==n.errorMessage),e.R7$(2),e.Y8G("ngIf",n.permission>1))},dependencies:[h.bT,d.qT,d.BC,d.cb,d.YS,d.j4,d.JD,te,h.Jj],styles:[".dark-theme .mat-mdc-button,   .dark-theme .mat-mdc-icon-button,   .dark-theme .mat-mdc-outlined-button{color:#b7c0d6!important}  .dark-theme .mat-form-field-label{color:#eee}  .dark-theme .mat-datepicker-content{background-color:#373d51;color:#ffffffde}  .dark-theme .mat-calendar-table-header,   .dark-theme .mat-calendar-body-label{color:#fff}@media (hover: hover){  .dark-theme .mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#2a2e3f}}  .dark-theme .mat-calendar-body-cell-content,   .dark-theme .mat-date-range-input-separator{color:#e1e1ef}  .dark-theme .ngb-dp-header{background-color:#343545}  .dark-theme .ngb-dp-weekdays{background-color:#343545}  .rtl .color-picker{left:initial!important}  .transparent-theme .card .box{background:#2da28f}  .transparent-theme .hex-text,   .transparent-theme .rgba-text{background:#2da28f}  .transparent-theme .mat-datepicker-content{background-color:#2da28f;color:#ffffffde}  .transparent-theme .mat-datepicker-toggle,   .transparent-theme .mat-datepicker-content .mat-calendar-next-button,   .transparent-theme .mat-datepicker-content .mat-calendar-previous-button{color:#ffffff81}  .transparent-theme .mat-calendar-body-cell-content,   .transparent-theme .mat-date-range-input-separator{color:#ffffffd3}  .transparent-theme .mat-calendar-table-header,   .transparent-theme .mat-calendar-body-label{color:#fff9}  .transparent-theme .ngb-dp-header{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekdays{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekday{color:#000}  .transparent-theme .ng-select .ng-arrow-wrapper .ng-arrow{border-top-color:#fff!important}  .transparent-theme .ng-select.ng-select-opened .ng-arrow-wrapper .ng-arrow{border-bottom-color:#fff!important}  .form-controls{display:block;color:#fff;border:transparent;outline:none;width:100%;height:40px;padding:.375rem .75rem;font-size:.875rem;font-weight:400;line-height:2;background-clip:padding-box;border-radius:5px;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}  button[type=button]{z-index:0!important}",".has-error[_ngcontent-%COMP%]{border:1px solid #f16d75}.tx-danger[_ngcontent-%COMP%]{color:red!important}"]})}return a})();const L4=()=>["Home","Settings"];function Y4(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",28),e.bIt("click",function(){e.eBV(t);const n=e.XpG(),o=e.sdS(30);return e.Njj(n.addKey(o))}),e.EFF(1," Add key "),e.k0s()}}function q4(a,r){1&a&&e.nrm(0,"mat-progress-bar",29)}function W4(a,r){1&a&&e.nrm(0,"th",30)}function X4(a,r){1&a&&(e.j41(0,"i",33),e.EFF(1," lock "),e.k0s())}function z4(a,r){if(1&a&&(e.j41(0,"td",31),e.DNE(1,X4,2,0,"i",32),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.Y8G("ngIf",t.disabled)}}function H4(a,r){1&a&&(e.j41(0,"th",34),e.EFF(1," API Key "),e.k0s())}function K4(a,r){if(1&a&&(e.j41(0,"td",31),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.title," ")}}function J4(a,r){1&a&&(e.j41(0,"th",35),e.EFF(1," User "),e.k0s())}function Q4(a,r){if(1&a&&(e.j41(0,"td",31),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.user," ")}}function Z4(a,r){1&a&&(e.j41(0,"th",36),e.EFF(1," Created "),e.k0s())}function eF(a,r){if(1&a&&(e.j41(0,"td",31),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.created," ")}}function tF(a,r){1&a&&e.nrm(0,"th",37)}function aF(a,r){if(1&a){const t=e.RV6();e.j41(0,"td",31)(1,"button",38),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG(),s=e.sdS(32);return e.Njj(o.deleteKey(n,s))}),e.j41(2,"i",33),e.EFF(3," delete "),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(),e.BMQ("aria-label","Delete API Key")("aria-pressed",!!t.selectedKey)}}function nF(a,r){1&a&&e.nrm(0,"tr",39)}function iF(a,r){1&a&&e.nrm(0,"tr",40)}function rF(a,r){1&a&&(e.j41(0,"div",47)(1,"i",48),e.EFF(2,"first_page"),e.k0s()())}function oF(a,r){1&a&&(e.j41(0,"div",47)(1,"i",48),e.EFF(2,"keyboard_arrow_left"),e.k0s()())}function sF(a,r){1&a&&(e.j41(0,"div",47)(1,"i",48),e.EFF(2,"keyboard_arrow_right"),e.k0s()())}function lF(a,r){1&a&&(e.j41(0,"div",47)(1,"i",48),e.EFF(2,"last_page"),e.k0s()())}function dF(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",41)(1,"ngb-pagination",42),e.bIt("pageChange",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.handlePage(n))}),e.DNE(2,rF,3,0,"ng-template",43)(3,oF,3,0,"ng-template",44)(4,sF,3,0,"ng-template",45)(5,lF,3,0,"ng-template",46),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("collectionSize",t.keyCount)("pageSize",t.pageSize)("boundaryLinks",!0)("maxSize",10)}}function cF(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",49)(1,"h5",50),e.EFF(2," Add a new API key "),e.k0s(),e.j41(3,"button",51),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",52),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",53)(7,"app-admin-apikey-details",54),e.bIt("save",function(n){e.eBV(t);const o=e.XpG(),s=e.sdS(34);return e.Njj(o.onSaveKey(n,s))})("close",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Close"))}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(7),e.Y8G("permission",t.permission)}}function mF(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",49)(1,"h5",50),e.EFF(2,"Delete API key"),e.k0s(),e.j41(3,"button",51),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",52),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",53)(7,"h4",55),e.EFF(8," You are going to remove the API key. Confirm operation. "),e.k0s(),e.j41(9,"div",56)(10,"button",57),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Reject"))}),e.EFF(11," Reject "),e.k0s(),e.j41(12,"button",58),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.close("Confirm"))}),e.EFF(13," Confirm "),e.k0s()()()}}function pF(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",49)(1,"h5",50),e.EFF(2,"API key created"),e.k0s(),e.j41(3,"button",51),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",52),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",53)(7,"div",59)(8,"h4",55),e.EFF(9," New key has been created "),e.k0s(),e.j41(10,"p",60),e.EFF(11," New API key and secret were generated. "),e.k0s(),e.j41(12,"p",60),e.EFF(13," Copy the secret and store it in a safe place. "),e.k0s(),e.j41(14,"p",61),e.EFF(15," It will be unable to show the secret anymore. "),e.k0s(),e.j41(16,"div",62)(17,"span",63),e.EFF(18," API Key "),e.k0s()(),e.j41(19,"div",64)(20,"span",65),e.EFF(21),e.k0s(),e.j41(22,"button",66),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.copySecret(n.apiKey))}),e.j41(23,"i",67),e.EFF(24," content_copy "),e.k0s()()(),e.j41(25,"div",68)(26,"span",63),e.EFF(27," Secret "),e.k0s()(),e.j41(28,"div",64)(29,"span",65),e.EFF(30),e.k0s(),e.j41(31,"button",66),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.copySecret(n.secret))}),e.j41(32,"i",67),e.EFF(33," content_copy "),e.k0s()()()(),e.j41(34,"div",56)(35,"button",69),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("OK"))}),e.EFF(36," OK "),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(21),e.SpI(" ",t.apiKey," "),e.R7$(9),e.SpI(" ",t.secret," ")}}let uF=(()=>{class a{constructor(t,i,n,o,s){this.modalService=t,this.auth=i,this.adminService=n,this.clipboard=o,this.router=s,this.displayedColumns=["lock","title","user","created","delete"],this.inProgress=!1,this.errorMessage="",this.permission=0,this.apiKeys=[],this.selectedKey=void 0,this.apiKey="",this.secret="",this.keyCount=0,this.pageSize=50,this.pageIndex=0,this.sortedField="created",this.sortedDesc=!0,this.subscriptions=new R.yU,this.detailsDialog=void 0,this.createDialog=void 0,this.permission=this.auth.isPermittedObjectCode(c.G4.Settings)}ngOnInit(){this.loadKeys()}ngOnDestroy(){this.subscriptions.unsubscribe()}ngAfterViewInit(){this.subscriptions.add(this.sort.sortChange.subscribe(()=>{this.sortedDesc="desc"===this.sort.direction,this.sortedField=this.sort.active,this.loadKeys()}))}handlePage(t){this.pageIndex=t-1,this.loadKeys()}addKey(t){this.detailsDialog=this.modalService.open(t,{backdrop:"static",windowClass:"modalCusSty"})}deleteKey(t,i){this.selectedKey=t,this.createDialog=this.modalService.open(i,{backdrop:"static",windowClass:"modalCusSty"}),this.subscriptions.add(this.createDialog.closed.subscribe(()=>{this.removeApiKeyConfirmed(t.title)}))}removeApiKeyConfirmed(t){this.errorMessage="";const i=this.adminService.deleteApiKey(t);this.subscriptions.add(i.subscribe(()=>{this.loadKeys()},n=>{this.errorMessage=n}))}loadKeys(){let t=this.sortedField;""===t?t="created":"title"===t&&(t="apiKeyId"),this.apiKeys=[],this.inProgress=!0;const i=this.adminService.getApiKeys(this.pageIndex,this.pageSize,t,this.sortedDesc).pipe((0,P.s)(1));this.subscriptions.add(i.subscribe(({list:n,count:o})=>{this.apiKeys=n,this.keyCount=o,this.inProgress=!1},()=>{this.inProgress=!1,""===this.auth.token&&this.router.navigateByUrl("/")}))}onSaveKey(t,i){const n=t.split("|");this.apiKey=n[0],this.secret=n[1],this.detailsDialog&&(this.detailsDialog.close(),this.modalService.open(i,{backdrop:"static",windowClass:"modalCusSty"}),this.loadKeys())}copySecret(t){this.clipboard.copy(t)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(_.Bq),e.rXU(I.u),e.rXU(E),e.rXU(Pt.B0),e.rXU(w.Ix))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-apikeys"]],viewQuery:function(i,n){if(1&i&&e.GBs($.B4,5),2&i){let o;e.mGM(o=e.lsd())&&(n.sort=o.first)}},decls:35,vars:12,consts:[["create_content",""],["delete_content",""],["new_key_content",""],[3,"title","items","active_item"],[1,"row","row-sm"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],[1,"table-button-container"],["type","button","class","btn btn-primary me-2",3,"click",4,"ngIf"],["color","accent","mode","indeterminate",4,"ngIf"],[1,"data-table"],["matSort","","matSortDirection","desc","matSortDisableClear","",3,"matSortActive","dataSource"],["matColumnDef","lock","sticky",""],["mat-header-cell","","class","mat-column-apikey-table mat-column-apikey-table-lock",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["mat-header-cell","","mat-sort-header","","class","mat-column-apikey-table mat-column-apikey-table-title",4,"matHeaderCellDef"],["matColumnDef","user"],["mat-header-cell","","class","mat-column-apikey-table mat-column-apikey-table-user",4,"matHeaderCellDef"],["matColumnDef","created"],["mat-header-cell","","mat-sort-header","","class","mat-column-apikey-table mat-column-apikey-table-created",4,"matHeaderCellDef"],["matColumnDef","delete","sticky",""],["mat-header-cell","","class","mat-column-apikey-table mat-column-apikey-table-delete",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","card card-body border shadow-none",4,"ngIf"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["color","accent","mode","indeterminate"],["mat-header-cell","",1,"mat-column-apikey-table","mat-column-apikey-table-lock"],["mat-cell",""],["class","material-icons","style","font-size: 20px;",4,"ngIf"],[1,"material-icons",2,"font-size","20px"],["mat-header-cell","","mat-sort-header","",1,"mat-column-apikey-table","mat-column-apikey-table-title"],["mat-header-cell","",1,"mat-column-apikey-table","mat-column-apikey-table-user"],["mat-header-cell","","mat-sort-header","",1,"mat-column-apikey-table","mat-column-apikey-table-created"],["mat-header-cell","",1,"mat-column-apikey-table","mat-column-apikey-table-delete"],["mat-icon-button","","matTooltip","Delete API Key","matTooltipClass","info-tooltip",1,"row-button",3,"click"],["mat-header-row",""],["mat-row",""],[1,"card","card-body","border","shadow-none"],["aria-label","Table pagination",1,"d-flex","justify-content-center",3,"pageChange","collectionSize","pageSize","boundaryLinks","maxSize"],["ngbPaginationFirst",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationLast",""],[1,"ng-pagination-nav-icons"],[1,"material-icons"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"save","close","permission"],[2,"text-align","center"],[2,"display","flex","flex-direction","row","justify-content","center","align-items","center"],["type","button",1,"btn","btn-outline-secondary","pd-x-30","me-2","mg-t-5",3,"click"],[1,"btn","btn-primary","pd-x-30","mg-t-5",3,"click"],[1,"card","card-body","pd-20","pd-md-40","border","shadow-none"],[1,"tx-14","tx-center","tx-light"],[1,"tx-16","tx-center","tx-medium","tx-info"],[2,"width","100%","display","flex","flex-direction","row","justify-content","flex-start","align-items","flex-start","margin-top","24px"],[1,"tx-12","tx-light"],[2,"width","100%","display","flex","flex-direction","row","justify-content","space-between","align-items","center"],[1,"tx-16","tx-center","tx-light"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"material-icons",2,"font-size","18px","margin-top","4px"],[2,"width","100%","display","flex","flex-direction","row","justify-content","flex-start","align-items","flex-start","margin-top","16px"],[1,"btn","btn-primary","pd-x-50","mg-t-5",3,"click"]],template:function(i,n){1&i&&(e.nrm(0,"app-admin-page-header",3),e.j41(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"div",9),e.DNE(7,Y4,2,0,"button",10),e.k0s(),e.DNE(8,q4,1,0,"mat-progress-bar",11),e.j41(9,"div",12)(10,"mat-table",13),e.qex(11,14),e.DNE(12,W4,1,0,"th",15)(13,z4,2,1,"td",16),e.bVm(),e.qex(14,17),e.DNE(15,H4,2,0,"th",18)(16,K4,2,1,"td",16),e.bVm(),e.qex(17,19),e.DNE(18,J4,2,0,"th",20)(19,Q4,2,1,"td",16),e.bVm(),e.qex(20,21),e.DNE(21,Z4,2,0,"th",22)(22,eF,2,1,"td",16),e.bVm(),e.qex(23,23),e.DNE(24,tF,1,0,"th",24)(25,aF,4,2,"td",16),e.bVm(),e.DNE(26,nF,1,0,"tr",25)(27,iF,1,0,"tr",26),e.k0s()(),e.DNE(28,dF,6,4,"div",27)(29,cF,8,1,"ng-template",null,0,e.C5r)(31,mF,14,0,"ng-template",null,1,e.C5r)(33,pF,37,2,"ng-template",null,2,e.C5r),e.k0s()()()()()),2&i&&(e.Y8G("title","API Keys")("items",e.lJ4(11,L4))("active_item","API Keys"),e.R7$(7),e.Y8G("ngIf",n.permission>1),e.R7$(),e.Y8G("ngIf",n.inProgress),e.R7$(2),e.Y8G("matSortActive",n.sortedField)("dataSource",n.apiKeys),e.R7$(16),e.Y8G("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),e.R7$(),e.Y8G("matRowDefColumns",n.displayedColumns),e.R7$(),e.Y8G("ngIf",n.keyCount>n.pageSize))},dependencies:[h.bT,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,$.B4,$.aE,_.s5,_.gA,_.ug,_.PB,_.hO,ie.oV,K.iY,z.HM,X,U4],styles:[".datatable-body{height:600px!important;overflow:scroll;width:100%}  .dataTable-bottom{position:absolute;left:0;right:0;bottom:0;background:#fff!important}  table th,   table td,   .ngx-datatable.material .datatable-header .datatable-header-cell,   .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{font-size:.876rem!important}@media (max-width: 567.9px){  .ngx-datatable .datatable-footer .datatable-footer-inner{flex-wrap:wrap;height:auto!important}  .ngx-datatable .datatable-footer .datatable-pager{text-align:center!important}}  .dataTable-wrapper.no-footer .dataTable-container{border-bottom:none!important}  .dataTable-selector{border-radius:.25rem}  app-data-table input{border-radius:25px;border:1px solid rgba(0,0,0,.1)}  app-data-table .custom-select{border:1px solid rgba(0,0,0,.24)!important;border-radius:.25rem}.table-responsive[_ngcontent-%COMP%]{overflow:visible}  .dark-theme input::placeholder{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material{background-color:#2a2e3f!important}  .dark-theme app-data-tables .dataTable-bottom{background-color:#2a2e3f!important}  .dark-theme app-data-tables .dataTable-selector{background-color:#2a2e3f;border-color:#272c49;color:#fff;outline:none}  .dark-theme app-data-tables input{color:#eee!important;background-color:#2a2e3f!important;border-color:#262b48;border-radius:25px;height:27px}  .dark-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .dark-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#2a2e3f;color:#fff}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid rgb(39,43,74)!important;color:#fff!important;background:#2a2e3f!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #32394e!important}  .dark-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .dark-theme app-data-tables .dataTable-pagination li:hover a,   .dark-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .dark-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .dark-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .dark-theme app-data-tables .mat-mdc-table{background:#2a2e3f!important}  .dark-theme app-data-tables .mat-mdc-header-cell{color:#fff!important}  .dark-theme app-data-tables .mat-mdc-cell,   .dark-theme app-data-tables .mat-mdc-footer-cell{color:#eee!important}  .dark-theme app-data-tables mat-row,   .dark-theme app-data-tables mat-header-row,   .dark-theme app-data-tables mat-footer-row,   .dark-theme app-data-tables th.mat-mdc-header-cell,   .dark-theme app-data-tables td.mat-mdc-cell,   .dark-theme app-data-tables td.mat-mdc-footer-cell{border-bottom-color:#ffffff1f!important}  .dark-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .dark-theme app-data-tables .mat-mdc-paginator,   .dark-theme app-data-tables .mat-mdc-paginator-page-size .mat-mdc-select-trigger{color:#ffffff8a!important}  .dark-theme app-data-tables .mat-mdc-paginator{background:#2a2e3f}  .dark-theme app-data-tables .mat-mdc-select-value{color:#fff7f7de}  .dark-theme app-data-tables .mat-mdc-select-arrow{color:#ffffffba}  .dark-theme .mat-mdc-select-panel{background:#30304d}  .dark-theme .mat-mdc-option{color:#ccc}  .dark-theme .mat-primary .mat-mdc-option.mat-selected:not(.mat-option-disabled){color:#fff}  .dark-theme .mat-mdc-option:hover:not(.mat-option-disabled),   .dark-theme .mat-option:focus:not(.mat-option-disabled){background:#2a2a44}  .dark-theme .mat-mdc-select-panel .mat-mdc-option.mat-selected:not(.mat-mdc-option-multiple){background:#0000001f}  .dark-theme .table-hover>tbody>tr:hover>*{color:#fff}  .dark-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme input::placeholder{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material{background-color:#2da28f!important}  .transparent-theme app-data-tables .dataTable-bottom{background-color:#2da28f!important}  .transparent-theme app-data-tables .dataTable-selector{background-color:#2da28f;border-color:#4cb0a0;color:#fff;outline:none}  .transparent-theme app-data-tables input{color:#eee!important;background-color:#2da28f!important;border-color:#4cb0a0;border-radius:25px;height:27px}  .transparent-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .transparent-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#2da28f;color:#fff}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid #4cb0a0!important;color:#fff!important;background:#2da28f!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #4cb0a0!important}  .transparent-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .transparent-theme app-data-tables .dataTable-pagination li:hover a,   .transparent-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .transparent-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .transparent-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .transparent-theme app-data-tables .mat-mdc-table{background:#2da28f!important}  .transparent-theme app-data-tables .mat-mdc-header-cell{color:#fff!important}  .transparent-theme app-data-tables .mat-mdc-cell,   .transparent-theme app-data-tables .mat-mdc-footer-cell{color:#eee!important}  .transparent-theme app-data-tables mat-row,   .transparent-theme app-data-tables mat-header-row,   .transparent-theme app-data-tables mat-footer-row,   .transparent-theme app-data-tables th.mat-mdc-header-cell,   .transparent-theme app-data-tables td.mat-mdc-cell,   .transparent-theme app-data-tables td.mat-mdc-footer-cell{border-bottom-color:#ffffff1f!important}  .transparent-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .transparent-theme app-data-tables .mat-mdc-paginator,   .transparent-theme app-data-tables .mat-mdc-paginator-page-size .mat-mdc-select-trigger{color:#ffffff8a!important}  .transparent-theme app-data-tables .mat-mdc-paginator{background:#2da28f}  .transparent-theme app-data-tables .mat-mdc-select-value{color:#fff7f7de}  .transparent-theme app-data-tables .mat-mdc-select-arrow{color:#ffffffba}  .transparent-theme .mat-mdc-select-panel{background:#30304d}  .transparent-theme .mat-mdc-option{color:#ccc}  .transparent-theme .mat-primary .mat-mdc-option.mat-selected:not(.mat-option-disabled){color:#fff}  .transparent-theme .mat-mdc-option:hover:not(.mat-option-disabled),   .transparent-theme .mat-option:focus:not(.mat-option-disabled){background:#2a2a44}  .transparent-theme .mat-mdc-select-panel .mat-mdc-option.mat-selected:not(.mat-mdc-option-multiple){background:#0000001f}  .transparent-theme .table-hover>tbody>tr:hover>*{color:#fff}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{background-color:#248272!important}.data-table[_ngcontent-%COMP%]{flex:1 1 0;overflow:auto;margin-top:5px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]{display:table;min-width:100%}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:32px;line-height:32px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   tr.mat-mdc-header-row[_ngcontent-%COMP%]{height:40px;line-height:40px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]{padding:0 4px;white-space:nowrap;font-size:16px;font-weight:400;color:#0000008a;font-family:Roboto,sans-serif}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell.action[_ngcontent-%COMP%]{width:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]{padding:1px 4px 0;line-height:29px;white-space:nowrap}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%]{width:16px;height:16px;font-size:16px;vertical-align:middle;position:relative;top:-1px}.data-table[_ngcontent-%COMP%]   .row-button[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0;position:relative;top:5px;padding:1px}.data-table[_ngcontent-%COMP%]   .row-button[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:16px;height:16px;width:16px;line-height:16px}.data-table[_ngcontent-%COMP%]   .row-icon[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0;position:relative;top:5px}mat-mdc-paginator[_ngcontent-%COMP%]{flex:0 0 auto}table[_ngcontent-%COMP%]{width:100%}.table-button-container[_ngcontent-%COMP%]{padding-bottom:16px}.mat-column-apikey-table[_ngcontent-%COMP%]{word-wrap:break-word;white-space:unset;overflow-wrap:break-word;word-break:break-word;-webkit-hyphens:auto;hyphens:auto}.mat-column-apikey-table-title[_ngcontent-%COMP%]{flex:0 0 40%;width:40%;min-width:4em}.mat-column-apikey-table-user[_ngcontent-%COMP%]{flex:0 0 30%;width:30%;min-width:3em}.mat-column-apikey-table-created[_ngcontent-%COMP%]{flex:0 0 20%;width:20%;min-width:2em}.mat-column-apikey-table-delete[_ngcontent-%COMP%], .mat-column-apikey-table-lock[_ngcontent-%COMP%]{flex:0 0 5%;width:5%;min-width:1em}.ng-pagination-nav-icons[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:12px}"]})}return a})();var pt=function(a){return a.Always="ALWAYS",a.PerWidget="PER_WIDGET",a.Never="NEVER",a}(pt||{});const hF=[{id:pt.Always,name:"Always"},{id:pt.PerWidget,name:"Per widget"},{id:pt.Never,name:"Never"}];function fF(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",6),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addAddress())}),e.j41(1,"i",7),e.EFF(2,"add"),e.k0s()()}}function gF(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",8),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.cancelAddress())}),e.j41(1,"i",7),e.EFF(2,"undo"),e.k0s()()}}function _F(a,r){if(1&a){const t=e.RV6();e.j41(0,"div")(1,"div",9)(2,"div",10),e.EFF(3),e.k0s(),e.nrm(4,"input",11),e.j41(5,"button",12),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG();return e.Njj(o.remove(n.key))}),e.j41(6,"i",13),e.EFF(7,"delete"),e.k0s()()()()}if(2&a){const t=r.$implicit;e.R7$(3),e.SpI(" ",t.key," "),e.R7$(),e.Y8G("value",t.value)}}function bF(a,r){if(1&a){const t=e.RV6();e.j41(0,"form",14),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSubmit())}),e.j41(1,"div",9),e.nrm(2,"ng-select",15)(3,"input",16),e.j41(4,"button",17)(5,"i",13),e.EFF(6,"done"),e.k0s()()()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.form),e.R7$(2),e.Y8G("items",t.currencies)("clearable",!1)("clearOnBackspace",!1),e.R7$(2),e.Y8G("disabled",!t.form.valid)}}let vF=(()=>{class a{set values(t){this.addresses=t,this.updateCryptoList()}set cryptoList(t){this.cryptoListData=t,this.updateCryptoList()}constructor(t){this.formBuilder=t,this.save=new e.bkB,this.delete=new e.bkB,this.addingMode=!1,this.addresses={},this.currencies=[],this.form=this.formBuilder.group({id:[void 0,{validators:[d.k0.required],updateOn:"change"}],address:[void 0,{validators:[d.k0.required],updateOn:"change"}]}),this.cryptoListData=[]}updateCryptoList(){this.currencies=this.cryptoListData.filter(t=>void 0===this.addresses[t.symbol])}addAddress(){this.addingMode=!0}cancelAddress(){this.addingMode=!1,this.form.reset()}remove(t){this.delete.emit(t),this.updateCryptoList()}onSubmit(){this.save.emit({key:this.form.controls.id?.value,value:this.form.controls.address?.value}),this.addingMode=!1,this.form.reset(),this.updateCryptoList()}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(d.ze))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-withdrawal-address"]],inputs:{values:"values",cryptoList:"cryptoList"},outputs:{save:"save",delete:"delete"},decls:7,vars:6,consts:[[1,"ms-3","mb-1"],[1,"row"],["type","button","class","btn btn-success btn-sm mb-1","style","padding: 0px 4px;",3,"click",4,"ngIf"],["type","button","class","btn btn-danger btn-sm mb-1","style","padding: 0px 4px;",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["novalidate","",3,"formGroup","ngSubmit",4,"ngIf"],["type","button",1,"btn","btn-success","btn-sm","mb-1",2,"padding","0px 4px",3,"click"],[1,"material-icons",2,"font-size","16px"],["type","button",1,"btn","btn-danger","btn-sm","mb-1",2,"padding","0px 4px",3,"click"],[1,"__common-settings-key-value-item"],[1,"__common-settings-key-value-key"],["type","text","maxlength","200","required","",1,"form-control",3,"value"],["type","button",1,"btn","btn-warning","btn-sm",2,"padding","0px",3,"click"],[1,"material-icons",2,"font-size","18px"],["novalidate","",3,"ngSubmit","formGroup"],["bindLabel","display","bindValue","symbol","formControlName","id",3,"items","clearable","clearOnBackspace"],["type","text","formControlName","address","maxlength","200","required","",1,"form-control"],[1,"btn","btn-danger","btn-sm",2,"padding","0px",3,"disabled"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div",1),e.DNE(2,fF,3,0,"button",2)(3,gF,3,0,"button",3),e.k0s()(),e.DNE(4,_F,8,2,"div",4),e.nI1(5,"keyvalue"),e.DNE(6,bF,7,5,"form",5)),2&i&&(e.R7$(2),e.Y8G("ngIf",!n.addingMode&&n.currencies.length>0),e.R7$(),e.Y8G("ngIf",n.addingMode),e.R7$(),e.Y8G("ngForOf",e.bMT(5,4,n.addresses)),e.R7$(2),e.Y8G("ngIf",n.addingMode))},dependencies:[h.Sq,h.bT,d.qT,d.me,d.BC,d.cb,d.YS,d.tU,d.j4,d.JD,te,h.lG],styles:[".__common-settings-key-value-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:120px auto 32px;grid-template-rows:auto;gap:8px;margin-bottom:8px}.__common-settings-key-value-key[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center}"]})}return a})();const yF=()=>["Home","Settings"],B=a=>({"has-error":a});function CF(a,r){1&a&&e.nrm(0,"mat-progress-bar",28)}function kF(a,r){if(1&a&&(e.j41(0,"b"),e.EFF(1,"Add address"),e.k0s(),e.EFF(2)),2&a){const t=r.searchTerm;e.R7$(2),e.SpI(": ",t," ")}}function FF(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Please specify length value "),e.k0s()())}function TF(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Invalid number value "),e.k0s()())}function xF(a,r){if(1&a&&(e.j41(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"i",29),e.EFF(4,"person"),e.k0s(),e.EFF(5," Authentication settings "),e.k0s()(),e.j41(6,"div",11)(7,"label",12),e.EFF(8," Email conformation code maximal length "),e.j41(9,"span",30),e.EFF(10,"*"),e.k0s()(),e.nrm(11,"input",31),e.DNE(12,FF,3,0,"div",32)(13,TF,3,0,"div",32),e.k0s()()),2&a){const t=e.XpG();e.R7$(11),e.Y8G("ngClass",e.eq3(3,B,!t.form.controls.emailCodeNumberLength.valid)),e.R7$(),e.Y8G("ngIf",(t.form.controls.emailCodeNumberLength.touched||t.submitted)&&(null==t.form.controls.emailCodeNumberLength.errors?null:t.form.controls.emailCodeNumberLength.errors.required)),e.R7$(),e.Y8G("ngIf",(t.form.controls.emailCodeNumberLength.touched||t.submitted)&&(null==t.form.controls.emailCodeNumberLength.errors?null:t.form.controls.emailCodeNumberLength.errors.pattern))}}function wF(a,r){1&a&&(e.j41(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"i",29),e.EFF(4,"admin_panel_settings"),e.k0s(),e.EFF(5," Administration settings "),e.k0s()(),e.j41(6,"div",11)(7,"label",18),e.nrm(8,"input",34),e.j41(9,"span"),e.EFF(10," Editable transaction destination "),e.k0s()()()())}function SF(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Please specify time out value "),e.k0s()())}function DF(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Invalid number value "),e.k0s()())}function IF(a,r){if(1&a&&(e.j41(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"i",29),e.EFF(4,"widgets"),e.k0s(),e.EFF(5," Crypto widget "),e.k0s()(),e.j41(6,"div",11)(7,"label",12),e.EFF(8," Payment time out, sec "),e.j41(9,"span",30),e.EFF(10,"*"),e.k0s()(),e.nrm(11,"input",35),e.DNE(12,SF,3,0,"div",32)(13,DF,3,0,"div",32),e.k0s()()),2&a){const t=e.XpG();e.R7$(11),e.Y8G("ngClass",e.eq3(3,B,!t.form.controls.cryptoWidgetPaymentTimeout.valid)),e.R7$(),e.Y8G("ngIf",(t.form.controls.cryptoWidgetPaymentTimeout.touched||t.submitted)&&(null==t.form.controls.cryptoWidgetPaymentTimeout.errors?null:t.form.controls.cryptoWidgetPaymentTimeout.errors.required)),e.R7$(),e.Y8G("ngIf",(t.form.controls.cryptoWidgetPaymentTimeout.touched||t.submitted)&&(null==t.form.controls.cryptoWidgetPaymentTimeout.errors?null:t.form.controls.cryptoWidgetPaymentTimeout.errors.pattern))}}function EF(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Please specify time value "),e.k0s()())}function PF(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Invalid number value "),e.k0s()())}function AF(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Please specify lifetime value "),e.k0s()())}function RF(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Invalid number value "),e.k0s()())}function OF(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Please specify lifetime value "),e.k0s()())}function jF(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Invalid number value "),e.k0s()())}function $F(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Please specify lifetime value "),e.k0s()())}function MF(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Invalid number value "),e.k0s()())}function NF(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Please specify lifetime value "),e.k0s()())}function VF(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Invalid number value "),e.k0s()())}function GF(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Please specify speed value "),e.k0s()())}function BF(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Please specify lifetime value "),e.k0s()())}function UF(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Invalid number value "),e.k0s()())}function LF(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Please specify lifetime value "),e.k0s()())}function YF(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Invalid number value "),e.k0s()())}function qF(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Please specify lifetime value "),e.k0s()())}function WF(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Invalid number value "),e.k0s()())}function XF(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Please specify lifetime value "),e.k0s()())}function zF(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Invalid number value "),e.k0s()())}function HF(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Please specify speed value "),e.k0s()())}function KF(a,r){if(1&a){const t=e.RV6();e.j41(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"i",29),e.EFF(4,"settings"),e.k0s(),e.EFF(5," Custody Providers "),e.k0s()(),e.j41(6,"div",11)(7,"label",12),e.EFF(8," Transfer Orders Tracking Time Delta, in days "),e.j41(9,"span",30),e.EFF(10,"*"),e.k0s()(),e.nrm(11,"input",36),e.DNE(12,EF,3,0,"div",32)(13,PF,3,0,"div",32),e.k0s(),e.j41(14,"div",37)(15,"h5",38),e.EFF(16," Fireblocks "),e.k0s(),e.j41(17,"div",11)(18,"label",12),e.EFF(19," Cached Deposit Address Lifetime, in ms "),e.j41(20,"span",30),e.EFF(21,"*"),e.k0s()(),e.nrm(22,"input",39),e.DNE(23,AF,3,0,"div",32)(24,RF,3,0,"div",32),e.k0s(),e.j41(25,"div",11)(26,"label",12),e.EFF(27," Cached External Wallet Lifetime, in ms "),e.j41(28,"span",30),e.EFF(29,"*"),e.k0s()(),e.nrm(30,"input",40),e.DNE(31,OF,3,0,"div",32)(32,jF,3,0,"div",32),e.k0s(),e.j41(33,"div",11)(34,"label",12),e.EFF(35," Cached Internal Wallet Lifetime, in ms "),e.j41(36,"span",30),e.EFF(37,"*"),e.k0s()(),e.nrm(38,"input",41),e.DNE(39,$F,3,0,"div",32)(40,MF,3,0,"div",32),e.k0s(),e.j41(41,"div",11)(42,"label",12),e.EFF(43," Cached Vault Account Lifetime, in ms "),e.j41(44,"span",30),e.EFF(45,"*"),e.k0s()(),e.nrm(46,"input",42),e.DNE(47,NF,3,0,"div",32)(48,VF,3,0,"div",32),e.k0s(),e.j41(49,"div",11)(50,"label",12),e.EFF(51," Default User Vault Name "),e.k0s(),e.nrm(52,"input",43),e.k0s(),e.j41(53,"div",11)(54,"label",12),e.EFF(55," Withdrawal From Custody Provider Destination Address "),e.k0s(),e.j41(56,"app-admin-withdrawal-address",44),e.bIt("save",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.addFireblocksCustodyProviderDestinationAddress(n))})("delete",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.removeFireblocksCustodyProviderDestinationAddress(n))}),e.k0s()(),e.j41(57,"div",11)(58,"label",12),e.EFF(59," Withdrawal From Liquidity Provider Destination Address "),e.k0s(),e.j41(60,"app-admin-withdrawal-address",44),e.bIt("save",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.addFireblocksLiquidityProviderDestinationAddress(n))})("delete",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.removeFireblocksLiquidityProviderDestinationAddress(n))}),e.k0s()(),e.j41(61,"div",11)(62,"label",12),e.EFF(63," Withdrawal To End User Source Vault Account Id "),e.k0s(),e.nrm(64,"input",45),e.k0s(),e.j41(65,"div",11)(66,"label",12),e.EFF(67," Withdrawal To End User Speed "),e.j41(68,"span",30),e.EFF(69,"*"),e.k0s()(),e.nrm(70,"input",46),e.DNE(71,GF,3,0,"div",32),e.k0s(),e.j41(72,"div",11)(73,"label",18),e.nrm(74,"input",47),e.j41(75,"span"),e.EFF(76," Track Withdrawals "),e.k0s()()(),e.j41(77,"div",11)(78,"label",18),e.nrm(79,"input",48),e.j41(80,"span"),e.EFF(81," Track Withdrawals One By One "),e.k0s()()()(),e.j41(82,"div",37)(83,"h5",38),e.EFF(84," Trustology "),e.k0s(),e.j41(85,"div",11)(86,"label",12),e.EFF(87," Cached Deposit Address Lifetime, in ms "),e.j41(88,"span",30),e.EFF(89,"*"),e.k0s()(),e.nrm(90,"input",49),e.DNE(91,BF,3,0,"div",32)(92,UF,3,0,"div",32),e.k0s(),e.j41(93,"div",11)(94,"label",12),e.EFF(95," Cached External Wallet Lifetime, in ms "),e.j41(96,"span",30),e.EFF(97,"*"),e.k0s()(),e.nrm(98,"input",50),e.DNE(99,LF,3,0,"div",32)(100,YF,3,0,"div",32),e.k0s(),e.j41(101,"div",11)(102,"label",12),e.EFF(103," Cached Internal Wallet Lifetime, in ms "),e.j41(104,"span",30),e.EFF(105,"*"),e.k0s()(),e.nrm(106,"input",51),e.DNE(107,qF,3,0,"div",32)(108,WF,3,0,"div",32),e.k0s(),e.j41(109,"div",11)(110,"label",12),e.EFF(111," Cached Vault Account Lifetime, in ms "),e.j41(112,"span",30),e.EFF(113,"*"),e.k0s()(),e.nrm(114,"input",52),e.DNE(115,XF,3,0,"div",32)(116,zF,3,0,"div",32),e.k0s(),e.j41(117,"div",11)(118,"label",12),e.EFF(119," Default User Vault Name "),e.k0s(),e.nrm(120,"input",53),e.k0s(),e.j41(121,"div",11)(122,"label",12),e.EFF(123," Default Host Wallet Id "),e.k0s(),e.nrm(124,"input",54),e.k0s(),e.j41(125,"div",11)(126,"label",12),e.EFF(127," Network Fee Estimation Vault Account Id "),e.k0s(),e.nrm(128,"input",55),e.k0s(),e.j41(129,"div",11)(130,"label",12),e.EFF(131," Network Fee Estimation Vault Account Subwallet "),e.k0s(),e.nrm(132,"input",56),e.k0s(),e.j41(133,"div",11)(134,"label",12),e.EFF(135," Withdrawal From Custody Provider Destination Address "),e.k0s(),e.nrm(136,"input",57),e.k0s(),e.j41(137,"div",11)(138,"label",12),e.EFF(139," Withdrawal From Liquidity Provider Destination Address "),e.k0s(),e.nrm(140,"input",58),e.k0s(),e.j41(141,"div",11)(142,"label",12),e.EFF(143," Withdrawal To End User Source Vault Account Id "),e.k0s(),e.nrm(144,"input",59),e.k0s(),e.j41(145,"div",11)(146,"label",12),e.EFF(147," Withdrawal To End User Source Vault Account Subwallet "),e.k0s(),e.nrm(148,"input",60),e.k0s(),e.j41(149,"div",11)(150,"label",12),e.EFF(151," Withdrawal To End User Speed "),e.j41(152,"span",30),e.EFF(153,"*"),e.k0s()(),e.nrm(154,"input",61),e.DNE(155,HF,3,0,"div",32),e.k0s(),e.j41(156,"div",11)(157,"label",18),e.nrm(158,"input",62),e.j41(159,"span"),e.EFF(160," Track Withdrawals "),e.k0s()()(),e.j41(161,"div",11)(162,"label",18),e.nrm(163,"input",63),e.j41(164,"span"),e.EFF(165," Track Withdrawals One By One "),e.k0s()()()()()}if(2&a){const t=e.XpG();e.R7$(11),e.Y8G("ngClass",e.eq3(35,B,!t.form.controls.transferOrdersTrackingTimedeltaDays.valid)),e.R7$(),e.Y8G("ngIf",(t.form.controls.transferOrdersTrackingTimedeltaDays.touched||t.submitted)&&(null==t.form.controls.transferOrdersTrackingTimedeltaDays.errors?null:t.form.controls.transferOrdersTrackingTimedeltaDays.errors.required)),e.R7$(),e.Y8G("ngIf",(t.form.controls.transferOrdersTrackingTimedeltaDays.touched||t.submitted)&&(null==t.form.controls.transferOrdersTrackingTimedeltaDays.errors?null:t.form.controls.transferOrdersTrackingTimedeltaDays.errors.pattern)),e.R7$(9),e.Y8G("ngClass",e.eq3(37,B,!t.form.controls.fireblocksCachedDepositAddressLifetime.valid)),e.R7$(),e.Y8G("ngIf",(t.form.controls.fireblocksCachedDepositAddressLifetime.touched||t.submitted)&&(null==t.form.controls.fireblocksCachedDepositAddressLifetime.errors?null:t.form.controls.fireblocksCachedDepositAddressLifetime.errors.required)),e.R7$(),e.Y8G("ngIf",(t.form.controls.fireblocksCachedDepositAddressLifetime.touched||t.submitted)&&(null==t.form.controls.fireblocksCachedDepositAddressLifetime.errors?null:t.form.controls.fireblocksCachedDepositAddressLifetime.errors.pattern)),e.R7$(6),e.Y8G("ngClass",e.eq3(39,B,!t.form.controls.fireblocksCachedExternalWalletLifetime.valid)),e.R7$(),e.Y8G("ngIf",(t.form.controls.fireblocksCachedExternalWalletLifetime.touched||t.submitted)&&(null==t.form.controls.fireblocksCachedExternalWalletLifetime.errors?null:t.form.controls.fireblocksCachedExternalWalletLifetime.errors.required)),e.R7$(),e.Y8G("ngIf",(t.form.controls.fireblocksCachedExternalWalletLifetime.touched||t.submitted)&&(null==t.form.controls.fireblocksCachedExternalWalletLifetime.errors?null:t.form.controls.fireblocksCachedExternalWalletLifetime.errors.pattern)),e.R7$(6),e.Y8G("ngClass",e.eq3(41,B,!t.form.controls.fireblocksCachedInternalWalletLifetime.valid)),e.R7$(),e.Y8G("ngIf",(t.form.controls.fireblocksCachedInternalWalletLifetime.touched||t.submitted)&&(null==t.form.controls.fireblocksCachedInternalWalletLifetime.errors?null:t.form.controls.fireblocksCachedInternalWalletLifetime.errors.required)),e.R7$(),e.Y8G("ngIf",(t.form.controls.fireblocksCachedInternalWalletLifetime.touched||t.submitted)&&(null==t.form.controls.fireblocksCachedInternalWalletLifetime.errors?null:t.form.controls.fireblocksCachedInternalWalletLifetime.errors.pattern)),e.R7$(6),e.Y8G("ngClass",e.eq3(43,B,!t.form.controls.fireblocksCachedVaultAccountLifetime.valid)),e.R7$(),e.Y8G("ngIf",(t.form.controls.fireblocksCachedVaultAccountLifetime.touched||t.submitted)&&(null==t.form.controls.fireblocksCachedVaultAccountLifetime.errors?null:t.form.controls.fireblocksCachedVaultAccountLifetime.errors.required)),e.R7$(),e.Y8G("ngIf",(t.form.controls.fireblocksCachedVaultAccountLifetime.touched||t.submitted)&&(null==t.form.controls.fireblocksCachedVaultAccountLifetime.errors?null:t.form.controls.fireblocksCachedVaultAccountLifetime.errors.pattern)),e.R7$(8),e.Y8G("cryptoList",t.cryptoList)("values",null==t.form.controls.fireblocksWithdrawalFromCustodyProviderDestinationAddress?null:t.form.controls.fireblocksWithdrawalFromCustodyProviderDestinationAddress.value),e.R7$(4),e.Y8G("cryptoList",t.cryptoList)("values",null==t.form.controls.fireblocksWithdrawalFromLiquidityProviderDestinationAddress?null:t.form.controls.fireblocksWithdrawalFromLiquidityProviderDestinationAddress.value),e.R7$(10),e.Y8G("ngClass",e.eq3(45,B,!t.form.controls.fireblocksWithdrawalToEndUserSpeed.valid)),e.R7$(),e.Y8G("ngIf",(t.form.controls.fireblocksWithdrawalToEndUserSpeed.touched||t.submitted)&&(null==t.form.controls.fireblocksWithdrawalToEndUserSpeed.errors?null:t.form.controls.fireblocksWithdrawalToEndUserSpeed.errors.required)),e.R7$(19),e.Y8G("ngClass",e.eq3(47,B,!t.form.controls.trustologyCachedDepositAddressLifetime.valid)),e.R7$(),e.Y8G("ngIf",(t.form.controls.trustologyCachedDepositAddressLifetime.touched||t.submitted)&&(null==t.form.controls.trustologyCachedDepositAddressLifetime.errors?null:t.form.controls.trustologyCachedDepositAddressLifetime.errors.required)),e.R7$(),e.Y8G("ngIf",(t.form.controls.trustologyCachedDepositAddressLifetime.touched||t.submitted)&&(null==t.form.controls.trustologyCachedDepositAddressLifetime.errors?null:t.form.controls.trustologyCachedDepositAddressLifetime.errors.pattern)),e.R7$(6),e.Y8G("ngClass",e.eq3(49,B,!t.form.controls.trustologyCachedExternalWalletLifetime.valid)),e.R7$(),e.Y8G("ngIf",(t.form.controls.trustologyCachedExternalWalletLifetime.touched||t.submitted)&&(null==t.form.controls.trustologyCachedExternalWalletLifetime.errors?null:t.form.controls.trustologyCachedExternalWalletLifetime.errors.required)),e.R7$(),e.Y8G("ngIf",(t.form.controls.trustologyCachedExternalWalletLifetime.touched||t.submitted)&&(null==t.form.controls.trustologyCachedExternalWalletLifetime.errors?null:t.form.controls.trustologyCachedExternalWalletLifetime.errors.pattern)),e.R7$(6),e.Y8G("ngClass",e.eq3(51,B,!t.form.controls.trustologyCachedInternalWalletLifetime.valid)),e.R7$(),e.Y8G("ngIf",(t.form.controls.trustologyCachedInternalWalletLifetime.touched||t.submitted)&&(null==t.form.controls.trustologyCachedInternalWalletLifetime.errors?null:t.form.controls.trustologyCachedInternalWalletLifetime.errors.required)),e.R7$(),e.Y8G("ngIf",(t.form.controls.trustologyCachedInternalWalletLifetime.touched||t.submitted)&&(null==t.form.controls.trustologyCachedInternalWalletLifetime.errors?null:t.form.controls.trustologyCachedInternalWalletLifetime.errors.pattern)),e.R7$(6),e.Y8G("ngClass",e.eq3(53,B,!t.form.controls.trustologyCachedVaultAccountLifetime.valid)),e.R7$(),e.Y8G("ngIf",(t.form.controls.trustologyCachedVaultAccountLifetime.touched||t.submitted)&&(null==t.form.controls.trustologyCachedVaultAccountLifetime.errors?null:t.form.controls.trustologyCachedVaultAccountLifetime.errors.required)),e.R7$(),e.Y8G("ngIf",(t.form.controls.trustologyCachedVaultAccountLifetime.touched||t.submitted)&&(null==t.form.controls.trustologyCachedVaultAccountLifetime.errors?null:t.form.controls.trustologyCachedVaultAccountLifetime.errors.pattern)),e.R7$(38),e.Y8G("ngClass",e.eq3(55,B,!t.form.controls.trustologyWithdrawalToEndUserSpeed.valid)),e.R7$(),e.Y8G("ngIf",(t.form.controls.trustologyWithdrawalToEndUserSpeed.touched||t.submitted)&&(null==t.form.controls.trustologyWithdrawalToEndUserSpeed.errors?null:t.form.controls.trustologyWithdrawalToEndUserSpeed.errors.required))}}function JF(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Please specify time value "),e.k0s()())}function QF(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Invalid number value "),e.k0s()())}function ZF(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Please specify lifetime value "),e.k0s()())}function eT(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Invalid number value "),e.k0s()())}function tT(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Please specify lifetime value "),e.k0s()())}function aT(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Invalid number value "),e.k0s()())}function nT(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Please specify time value "),e.k0s()())}function iT(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Invalid number value "),e.k0s()())}function rT(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Please specify interval value "),e.k0s()())}function oT(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Invalid number value "),e.k0s()())}function sT(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Please specify lifetime value "),e.k0s()())}function lT(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Invalid number value "),e.k0s()())}function dT(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Please specify time value "),e.k0s()())}function cT(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Invalid number value "),e.k0s()())}function mT(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Please specify time-out value "),e.k0s()())}function pT(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Invalid number value "),e.k0s()())}function uT(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Please specify benchmark value "),e.k0s()())}function hT(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Invalid number value "),e.k0s()())}function fT(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Please specify benchmark value "),e.k0s()())}function gT(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Invalid number value "),e.k0s()())}function _T(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Please specify benchmark value "),e.k0s()())}function bT(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Invalid number value "),e.k0s()())}function vT(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Please specify benchmark value "),e.k0s()())}function yT(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Invalid number value "),e.k0s()())}function CT(a,r){if(1&a&&(e.j41(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"i",29),e.EFF(4,"settings"),e.k0s(),e.EFF(5," Liquidity Providers "),e.k0s()(),e.j41(6,"div",11)(7,"label",12),e.EFF(8," Benchmark Tracking Interval, ms "),e.j41(9,"span",30),e.EFF(10,"*"),e.k0s()(),e.nrm(11,"input",64),e.DNE(12,JF,3,0,"div",32)(13,QF,3,0,"div",32),e.k0s(),e.j41(14,"div",11)(15,"label",12),e.EFF(16," Crypto Rate Lifetime, ms "),e.j41(17,"span",30),e.EFF(18,"*"),e.k0s()(),e.nrm(19,"input",65),e.DNE(20,ZF,3,0,"div",32)(21,eT,3,0,"div",32),e.k0s(),e.j41(22,"div",11)(23,"label",12),e.EFF(24," Exchange Info Lifetime, ms "),e.j41(25,"span",30),e.EFF(26,"*"),e.k0s()(),e.nrm(27,"input",66),e.DNE(28,tT,3,0,"div",32)(29,aT,3,0,"div",32),e.k0s(),e.j41(30,"div",11)(31,"label",12),e.EFF(32," Exchange Orders Tracking Time Delta, in days "),e.j41(33,"span",30),e.EFF(34,"*"),e.k0s()(),e.nrm(35,"input",67),e.DNE(36,nT,3,0,"div",32)(37,iT,3,0,"div",32),e.k0s(),e.j41(38,"div",11)(39,"label",12),e.EFF(40," Exchange Tracking Interval, ms "),e.j41(41,"span",30),e.EFF(42,"*"),e.k0s()(),e.nrm(43,"input",68),e.DNE(44,rT,3,0,"div",32)(45,oT,3,0,"div",32),e.k0s(),e.j41(46,"div",11)(47,"label",12),e.EFF(48," Settings Currency Lifetime, ms "),e.j41(49,"span",30),e.EFF(50,"*"),e.k0s()(),e.nrm(51,"input",69),e.DNE(52,sT,3,0,"div",32)(53,lT,3,0,"div",32),e.k0s(),e.j41(54,"div",11)(55,"label",12),e.EFF(56," Transfer Orders Tracking Time Delta, in days "),e.j41(57,"span",30),e.EFF(58,"*"),e.k0s()(),e.nrm(59,"input",70),e.DNE(60,dT,3,0,"div",32)(61,cT,3,0,"div",32),e.k0s(),e.j41(62,"div",37)(63,"h5",38),e.EFF(64," Bitstamp "),e.k0s(),e.j41(65,"div",11)(66,"label",12),e.EFF(67," Time-out, ms "),e.j41(68,"span",30),e.EFF(69,"*"),e.k0s()(),e.nrm(70,"input",71),e.DNE(71,mT,3,0,"div",32)(72,pT,3,0,"div",32),e.k0s(),e.j41(73,"div",11)(74,"label",12),e.EFF(75," Withdrawal Benchmark "),e.j41(76,"span",30),e.EFF(77,"*"),e.k0s()(),e.nrm(78,"input",72),e.DNE(79,uT,3,0,"div",32)(80,hT,3,0,"div",32),e.k0s(),e.j41(81,"div",11)(82,"label",12),e.EFF(83," Withdrawal Benchmark Amount To Remain "),e.j41(84,"span",30),e.EFF(85,"*"),e.k0s()(),e.nrm(86,"input",73),e.DNE(87,fT,3,0,"div",32)(88,gT,3,0,"div",32),e.k0s(),e.j41(89,"div",11)(90,"label",18),e.nrm(91,"input",74),e.j41(92,"span"),e.EFF(93," Rate Limit "),e.k0s()()(),e.j41(94,"div",11)(95,"label",18),e.nrm(96,"input",75),e.j41(97,"span"),e.EFF(98," Track Orders "),e.k0s()()(),e.j41(99,"div",11)(100,"label",18),e.nrm(101,"input",76),e.j41(102,"span"),e.EFF(103," Track Withdrawals "),e.k0s()()()(),e.j41(104,"div",37)(105,"h5",38),e.EFF(106," Kraken "),e.k0s(),e.j41(107,"div",11)(108,"label",12),e.EFF(109," Withdrawal Benchmark "),e.j41(110,"span",30),e.EFF(111,"*"),e.k0s()(),e.nrm(112,"input",77),e.DNE(113,_T,3,0,"div",32)(114,bT,3,0,"div",32),e.k0s(),e.j41(115,"div",11)(116,"label",12),e.EFF(117," Withdrawal Benchmark Amount To Remain "),e.j41(118,"span",30),e.EFF(119,"*"),e.k0s()(),e.nrm(120,"input",78),e.DNE(121,vT,3,0,"div",32)(122,yT,3,0,"div",32),e.k0s(),e.j41(123,"div",11)(124,"label",18),e.nrm(125,"input",79),e.j41(126,"span"),e.EFF(127," Track Orders "),e.k0s()()(),e.j41(128,"div",11)(129,"label",18),e.nrm(130,"input",80),e.j41(131,"span"),e.EFF(132," Track Withdrawals "),e.k0s()()()()()),2&a){const t=e.XpG();e.R7$(11),e.Y8G("ngClass",e.eq3(36,B,!t.form.controls.liquidityBenchmarkTrackingInterval.valid)),e.R7$(),e.Y8G("ngIf",(t.form.controls.liquidityBenchmarkTrackingInterval.touched||t.submitted)&&(null==t.form.controls.liquidityBenchmarkTrackingInterval.errors?null:t.form.controls.liquidityBenchmarkTrackingInterval.errors.required)),e.R7$(),e.Y8G("ngIf",(t.form.controls.liquidityBenchmarkTrackingInterval.touched||t.submitted)&&(null==t.form.controls.liquidityBenchmarkTrackingInterval.errors?null:t.form.controls.liquidityBenchmarkTrackingInterval.errors.pattern)),e.R7$(6),e.Y8G("ngClass",e.eq3(38,B,!t.form.controls.liquidityCryptoRateLifetime.valid)),e.R7$(),e.Y8G("ngIf",(t.form.controls.liquidityCryptoRateLifetime.touched||t.submitted)&&(null==t.form.controls.liquidityCryptoRateLifetime.errors?null:t.form.controls.liquidityCryptoRateLifetime.errors.required)),e.R7$(),e.Y8G("ngIf",(t.form.controls.liquidityCryptoRateLifetime.touched||t.submitted)&&(null==t.form.controls.liquidityCryptoRateLifetime.errors?null:t.form.controls.liquidityCryptoRateLifetime.errors.pattern)),e.R7$(6),e.Y8G("ngClass",e.eq3(40,B,!t.form.controls.liquidityExchangeInfoLifetime.valid)),e.R7$(),e.Y8G("ngIf",(t.form.controls.liquidityExchangeInfoLifetime.touched||t.submitted)&&(null==t.form.controls.liquidityExchangeInfoLifetime.errors?null:t.form.controls.liquidityExchangeInfoLifetime.errors.required)),e.R7$(),e.Y8G("ngIf",(t.form.controls.liquidityExchangeInfoLifetime.touched||t.submitted)&&(null==t.form.controls.liquidityExchangeInfoLifetime.errors?null:t.form.controls.liquidityExchangeInfoLifetime.errors.pattern)),e.R7$(6),e.Y8G("ngClass",e.eq3(42,B,!t.form.controls.liquidityExchangeOrdersTrackingTimedeltaDays.valid)),e.R7$(),e.Y8G("ngIf",(t.form.controls.liquidityExchangeOrdersTrackingTimedeltaDays.touched||t.submitted)&&(null==t.form.controls.liquidityExchangeOrdersTrackingTimedeltaDays.errors?null:t.form.controls.liquidityExchangeOrdersTrackingTimedeltaDays.errors.required)),e.R7$(),e.Y8G("ngIf",(t.form.controls.liquidityExchangeOrdersTrackingTimedeltaDays.touched||t.submitted)&&(null==t.form.controls.liquidityExchangeOrdersTrackingTimedeltaDays.errors?null:t.form.controls.liquidityExchangeOrdersTrackingTimedeltaDays.errors.pattern)),e.R7$(6),e.Y8G("ngClass",e.eq3(44,B,!t.form.controls.liquidityExchangeTrackingInterval.valid)),e.R7$(),e.Y8G("ngIf",(t.form.controls.liquidityExchangeTrackingInterval.touched||t.submitted)&&(null==t.form.controls.liquidityExchangeTrackingInterval.errors?null:t.form.controls.liquidityExchangeTrackingInterval.errors.required)),e.R7$(),e.Y8G("ngIf",(t.form.controls.liquidityExchangeTrackingInterval.touched||t.submitted)&&(null==t.form.controls.liquidityExchangeTrackingInterval.errors?null:t.form.controls.liquidityExchangeTrackingInterval.errors.pattern)),e.R7$(6),e.Y8G("ngClass",e.eq3(46,B,!t.form.controls.liquiditySettingsCurrencyLifetime.valid)),e.R7$(),e.Y8G("ngIf",(t.form.controls.liquiditySettingsCurrencyLifetime.touched||t.submitted)&&(null==t.form.controls.liquiditySettingsCurrencyLifetime.errors?null:t.form.controls.liquiditySettingsCurrencyLifetime.errors.required)),e.R7$(),e.Y8G("ngIf",(t.form.controls.liquiditySettingsCurrencyLifetime.touched||t.submitted)&&(null==t.form.controls.liquiditySettingsCurrencyLifetime.errors?null:t.form.controls.liquiditySettingsCurrencyLifetime.errors.pattern)),e.R7$(6),e.Y8G("ngClass",e.eq3(48,B,!t.form.controls.liquidityTransferOrdersTrackingTimedeltaDays.valid)),e.R7$(),e.Y8G("ngIf",(t.form.controls.liquidityTransferOrdersTrackingTimedeltaDays.touched||t.submitted)&&(null==t.form.controls.liquidityTransferOrdersTrackingTimedeltaDays.errors?null:t.form.controls.liquidityTransferOrdersTrackingTimedeltaDays.errors.required)),e.R7$(),e.Y8G("ngIf",(t.form.controls.liquidityTransferOrdersTrackingTimedeltaDays.touched||t.submitted)&&(null==t.form.controls.liquidityTransferOrdersTrackingTimedeltaDays.errors?null:t.form.controls.liquidityTransferOrdersTrackingTimedeltaDays.errors.pattern)),e.R7$(9),e.Y8G("ngClass",e.eq3(50,B,!t.form.controls.bitstampTimeout.valid)),e.R7$(),e.Y8G("ngIf",(t.form.controls.bitstampTimeout.touched||t.submitted)&&(null==t.form.controls.bitstampTimeout.errors?null:t.form.controls.bitstampTimeout.errors.required)),e.R7$(),e.Y8G("ngIf",(t.form.controls.bitstampTimeout.touched||t.submitted)&&(null==t.form.controls.bitstampTimeout.errors?null:t.form.controls.bitstampTimeout.errors.pattern)),e.R7$(6),e.Y8G("ngClass",e.eq3(52,B,!t.form.controls.bitstampWithdrawalBenchmark.valid)),e.R7$(),e.Y8G("ngIf",(t.form.controls.bitstampWithdrawalBenchmark.touched||t.submitted)&&(null==t.form.controls.bitstampWithdrawalBenchmark.errors?null:t.form.controls.bitstampWithdrawalBenchmark.errors.required)),e.R7$(),e.Y8G("ngIf",(t.form.controls.bitstampWithdrawalBenchmark.touched||t.submitted)&&(null==t.form.controls.bitstampWithdrawalBenchmark.errors?null:t.form.controls.bitstampWithdrawalBenchmark.errors.pattern)),e.R7$(6),e.Y8G("ngClass",e.eq3(54,B,!t.form.controls.bitstampWithdrawalBenchmarkAmountToRemain.valid)),e.R7$(),e.Y8G("ngIf",(t.form.controls.bitstampWithdrawalBenchmarkAmountToRemain.touched||t.submitted)&&(null==t.form.controls.bitstampWithdrawalBenchmarkAmountToRemain.errors?null:t.form.controls.bitstampWithdrawalBenchmarkAmountToRemain.errors.required)),e.R7$(),e.Y8G("ngIf",(t.form.controls.bitstampWithdrawalBenchmarkAmountToRemain.touched||t.submitted)&&(null==t.form.controls.bitstampWithdrawalBenchmarkAmountToRemain.errors?null:t.form.controls.bitstampWithdrawalBenchmarkAmountToRemain.errors.pattern)),e.R7$(24),e.Y8G("ngClass",e.eq3(56,B,!t.form.controls.krakenWithdrawalBenchmark.valid)),e.R7$(),e.Y8G("ngIf",(t.form.controls.krakenWithdrawalBenchmark.touched||t.submitted)&&(null==t.form.controls.krakenWithdrawalBenchmark.errors?null:t.form.controls.krakenWithdrawalBenchmark.errors.required)),e.R7$(),e.Y8G("ngIf",(t.form.controls.krakenWithdrawalBenchmark.touched||t.submitted)&&(null==t.form.controls.krakenWithdrawalBenchmark.errors?null:t.form.controls.krakenWithdrawalBenchmark.errors.pattern)),e.R7$(6),e.Y8G("ngClass",e.eq3(58,B,!t.form.controls.krakenWithdrawalBenchmarkAmountToRemain.valid)),e.R7$(),e.Y8G("ngIf",(t.form.controls.krakenWithdrawalBenchmarkAmountToRemain.touched||t.submitted)&&(null==t.form.controls.krakenWithdrawalBenchmarkAmountToRemain.errors?null:t.form.controls.krakenWithdrawalBenchmarkAmountToRemain.errors.required)),e.R7$(),e.Y8G("ngIf",(t.form.controls.krakenWithdrawalBenchmarkAmountToRemain.touched||t.submitted)&&(null==t.form.controls.krakenWithdrawalBenchmarkAmountToRemain.errors?null:t.form.controls.krakenWithdrawalBenchmarkAmountToRemain.errors.pattern))}}function kT(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Please specify benchmark value "),e.k0s()())}function FT(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Invalid number value "),e.k0s()())}function TT(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Please specify benchmark value "),e.k0s()())}function xT(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Invalid number value "),e.k0s()())}function wT(a,r){1&a&&e.nrm(0,"span",89)}function ST(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",87),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2),o=e.sdS(63);return e.Njj(n.paymentProviderPayout("Monoova",n.paymentProviderPayoutType.Benchmark,o))}),e.DNE(1,wT,1,0,"span",88),e.EFF(2," Benchmark payout "),e.k0s()}if(2&a){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",t.paymentProviderPayoutInProgress)}}function DT(a,r){1&a&&e.nrm(0,"span",89)}function IT(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",87),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2),o=e.sdS(63);return e.Njj(n.paymentProviderPayout("Monoova",n.paymentProviderPayoutType.All,o))}),e.DNE(1,DT,1,0,"span",88),e.EFF(2," All payout "),e.k0s()}if(2&a){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",t.paymentProviderPayoutInProgress)}}function ET(a,r){1&a&&e.nrm(0,"span",89)}function PT(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",90),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2),o=e.sdS(63);return e.Njj(n.onPaymentProviderRefund("Monoova",o))}),e.DNE(1,ET,1,0,"span",88),e.EFF(2," Refund "),e.k0s()}if(2&a){const t=e.XpG(2);e.Y8G("disabled",t.paymentProviderRefundInProgress),e.R7$(),e.Y8G("ngIf",t.paymentProviderRefundInProgress)}}function AT(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Please specify benchmark value "),e.k0s()())}function RT(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Invalid number value "),e.k0s()())}function OT(a,r){if(1&a&&(e.j41(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"i",29),e.EFF(4,"settings"),e.k0s(),e.EFF(5," Payment Providers "),e.k0s()(),e.j41(6,"div",37)(7,"h5",38),e.EFF(8," Openpayd "),e.k0s(),e.j41(9,"div",11)(10,"label",12),e.EFF(11," Withdrawal Benchmark "),e.j41(12,"span",30),e.EFF(13,"*"),e.k0s()(),e.nrm(14,"input",81),e.DNE(15,kT,3,0,"div",32)(16,FT,3,0,"div",32),e.k0s()(),e.j41(17,"div",37)(18,"h5",38),e.EFF(19," Monoova "),e.k0s(),e.j41(20,"div",11)(21,"label",12),e.EFF(22," Withdrawal Benchmark "),e.j41(23,"span",30),e.EFF(24,"*"),e.k0s()(),e.nrm(25,"input",82),e.DNE(26,TT,3,0,"div",32)(27,xT,3,0,"div",32),e.k0s(),e.j41(28,"div",11),e.DNE(29,ST,3,1,"button",27)(30,IT,3,1,"button",27),e.k0s(),e.j41(31,"div",11)(32,"label",12),e.EFF(33," Refund amount "),e.j41(34,"span",30),e.EFF(35,"*"),e.k0s()(),e.nrm(36,"input",83),e.j41(37,"label",12),e.EFF(38," Refund transactionId "),e.j41(39,"span",30),e.EFF(40,"*"),e.k0s()(),e.nrm(41,"input",84),e.DNE(42,PT,3,2,"button",85),e.k0s()(),e.j41(43,"div",37)(44,"h5",38),e.EFF(45," FlashFx "),e.k0s(),e.j41(46,"div",11)(47,"label",12),e.EFF(48," Withdrawal Benchmark "),e.j41(49,"span",30),e.EFF(50,"*"),e.k0s()(),e.nrm(51,"input",86),e.DNE(52,AT,3,0,"div",32)(53,RT,3,0,"div",32),e.k0s()()()),2&a){const t=e.XpG();e.R7$(14),e.Y8G("ngClass",e.eq3(12,B,!t.form.controls.openpaydWithdrawalBenchmark.valid)),e.R7$(),e.Y8G("ngIf",(t.form.controls.openpaydWithdrawalBenchmark.touched||t.submitted)&&(null==t.form.controls.openpaydWithdrawalBenchmark.errors?null:t.form.controls.openpaydWithdrawalBenchmark.errors.required)),e.R7$(),e.Y8G("ngIf",(t.form.controls.openpaydWithdrawalBenchmark.touched||t.submitted)&&(null==t.form.controls.openpaydWithdrawalBenchmark.errors?null:t.form.controls.openpaydWithdrawalBenchmark.errors.pattern)),e.R7$(9),e.Y8G("ngClass",e.eq3(14,B,!t.form.controls.monoovaWithdrawalBenchmark.valid)),e.R7$(),e.Y8G("ngIf",(t.form.controls.monoovaWithdrawalBenchmark.touched||t.submitted)&&(null==t.form.controls.monoovaWithdrawalBenchmark.errors?null:t.form.controls.monoovaWithdrawalBenchmark.errors.required)),e.R7$(),e.Y8G("ngIf",(t.form.controls.monoovaWithdrawalBenchmark.touched||t.submitted)&&(null==t.form.controls.monoovaWithdrawalBenchmark.errors?null:t.form.controls.monoovaWithdrawalBenchmark.errors.pattern)),e.R7$(2),e.Y8G("ngIf",t.permission>1),e.R7$(),e.Y8G("ngIf",t.permission>1),e.R7$(12),e.Y8G("ngIf",t.permission>1),e.R7$(9),e.Y8G("ngClass",e.eq3(16,B,!t.form.controls.flashFxWithdrawalBenchmark.valid)),e.R7$(),e.Y8G("ngIf",(t.form.controls.flashFxWithdrawalBenchmark.touched||t.submitted)&&(null==t.form.controls.flashFxWithdrawalBenchmark.errors?null:t.form.controls.flashFxWithdrawalBenchmark.errors.required)),e.R7$(),e.Y8G("ngIf",(t.form.controls.flashFxWithdrawalBenchmark.touched||t.submitted)&&(null==t.form.controls.flashFxWithdrawalBenchmark.errors?null:t.form.controls.flashFxWithdrawalBenchmark.errors.pattern))}}function jT(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Please specify lifetime value "),e.k0s()())}function $T(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Invalid number value "),e.k0s()())}function MT(a,r){if(1&a&&(e.j41(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"i",29),e.EFF(4,"settings"),e.k0s(),e.EFF(5," KYC Providers "),e.k0s()(),e.j41(6,"div",37)(7,"h5",38),e.EFF(8," SumSub "),e.k0s(),e.j41(9,"div",11)(10,"label",12),e.EFF(11," WebApi Token Lifetime, in ms "),e.j41(12,"span",30),e.EFF(13,"*"),e.k0s()(),e.nrm(14,"input",91),e.DNE(15,jT,3,0,"div",32)(16,$T,3,0,"div",32),e.k0s()()()),2&a){const t=e.XpG();e.R7$(14),e.Y8G("ngClass",e.eq3(3,B,!t.form.controls.kycSumSubWebApiTokenLifetime.valid)),e.R7$(),e.Y8G("ngIf",(t.form.controls.kycSumSubWebApiTokenLifetime.touched||t.submitted)&&(null==t.form.controls.kycSumSubWebApiTokenLifetime.errors?null:t.form.controls.kycSumSubWebApiTokenLifetime.errors.required)),e.R7$(),e.Y8G("ngIf",(t.form.controls.kycSumSubWebApiTokenLifetime.touched||t.submitted)&&(null==t.form.controls.kycSumSubWebApiTokenLifetime.errors?null:t.form.controls.kycSumSubWebApiTokenLifetime.errors.pattern))}}function NT(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Please specify count value "),e.k0s()())}function VT(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Invalid number value "),e.k0s()())}function GT(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Please specify attempts count "),e.k0s()())}function BT(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Invalid number value "),e.k0s()())}function UT(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Please specify age value "),e.k0s()())}function LT(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Invalid number value "),e.k0s()())}function YT(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Please specify percentage value "),e.k0s()())}function qT(a,r){1&a&&(e.j41(0,"div",33)(1,"small"),e.EFF(2," Invalid number value "),e.k0s()())}function WT(a,r){if(1&a&&(e.j41(0,"div",37)(1,"div",11)(2,"label",12),e.EFF(3," Above "),e.k0s(),e.nrm(4,"input",97),e.k0s(),e.j41(5,"div",11)(6,"label",12),e.EFF(7," Time Frame Min "),e.k0s(),e.nrm(8,"input",97),e.k0s()()),2&a){const t=r.$implicit;e.R7$(4),e.Mz_("formControlName","frameX",t.X,""),e.R7$(4),e.Mz_("formControlName","frameY",t.Y,"")}}function XT(a,r){if(1&a&&(e.j41(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"i",29),e.EFF(4,"settings"),e.k0s(),e.EFF(5," Risk Center "),e.k0s()(),e.j41(6,"div",11)(7,"label",12),e.EFF(8," Login Count To Compare IP address "),e.j41(9,"span",30),e.EFF(10,"*"),e.k0s()(),e.nrm(11,"input",92),e.DNE(12,NT,3,0,"div",32)(13,VT,3,0,"div",32),e.k0s(),e.j41(14,"div",11)(15,"label",12),e.EFF(16," Max Failed Login Attempts "),e.j41(17,"span",30),e.EFF(18,"*"),e.k0s()(),e.nrm(19,"input",93),e.DNE(20,GT,3,0,"div",32)(21,BT,3,0,"div",32),e.k0s(),e.j41(22,"div",11)(23,"label",12),e.EFF(24," High Risk User Age, years "),e.j41(25,"span",30),e.EFF(26,"*"),e.k0s()(),e.nrm(27,"input",94),e.DNE(28,UT,3,0,"div",32)(29,LT,3,0,"div",32),e.k0s(),e.j41(30,"div",11)(31,"label",12),e.EFF(32," Deposit Percentage Up "),e.j41(33,"span",30),e.EFF(34,"*"),e.k0s()(),e.nrm(35,"input",95),e.DNE(36,YT,3,0,"div",32)(37,qT,3,0,"div",32),e.k0s(),e.j41(38,"div",37)(39,"h5",38),e.EFF(40," Deposit frames "),e.k0s(),e.DNE(41,WT,9,4,"div",96),e.k0s()()),2&a){const t=e.XpG();e.R7$(11),e.Y8G("ngClass",e.eq3(13,B,!t.form.controls.riskCenterLoginCountToCompareIpAddress.valid)),e.R7$(),e.Y8G("ngIf",(t.form.controls.riskCenterLoginCountToCompareIpAddress.touched||t.submitted)&&(null==t.form.controls.riskCenterLoginCountToCompareIpAddress.errors?null:t.form.controls.riskCenterLoginCountToCompareIpAddress.errors.required)),e.R7$(),e.Y8G("ngIf",(t.form.controls.riskCenterLoginCountToCompareIpAddress.touched||t.submitted)&&(null==t.form.controls.riskCenterLoginCountToCompareIpAddress.errors?null:t.form.controls.riskCenterLoginCountToCompareIpAddress.errors.pattern)),e.R7$(6),e.Y8G("ngClass",e.eq3(15,B,!t.form.controls.riskCenterMaxFailedLoginAttempts.valid)),e.R7$(),e.Y8G("ngIf",(t.form.controls.riskCenterMaxFailedLoginAttempts.touched||t.submitted)&&(null==t.form.controls.riskCenterMaxFailedLoginAttempts.errors?null:t.form.controls.riskCenterMaxFailedLoginAttempts.errors.required)),e.R7$(),e.Y8G("ngIf",(t.form.controls.riskCenterMaxFailedLoginAttempts.touched||t.submitted)&&(null==t.form.controls.riskCenterMaxFailedLoginAttempts.errors?null:t.form.controls.riskCenterMaxFailedLoginAttempts.errors.pattern)),e.R7$(6),e.Y8G("ngClass",e.eq3(17,B,!t.form.controls.riskCenterHighRiskUserYears.valid)),e.R7$(),e.Y8G("ngIf",(t.form.controls.riskCenterHighRiskUserYears.touched||t.submitted)&&(null==t.form.controls.riskCenterHighRiskUserYears.errors?null:t.form.controls.riskCenterHighRiskUserYears.errors.required)),e.R7$(),e.Y8G("ngIf",(t.form.controls.riskCenterHighRiskUserYears.touched||t.submitted)&&(null==t.form.controls.riskCenterHighRiskUserYears.errors?null:t.form.controls.riskCenterHighRiskUserYears.errors.pattern)),e.R7$(6),e.Y8G("ngClass",e.eq3(19,B,!t.form.controls.riskCenterDepositPercentUp.valid)),e.R7$(),e.Y8G("ngIf",(t.form.controls.riskCenterDepositPercentUp.touched||t.submitted)&&(null==t.form.controls.riskCenterDepositPercentUp.errors?null:t.form.controls.riskCenterDepositPercentUp.errors.required)),e.R7$(),e.Y8G("ngIf",(t.form.controls.riskCenterDepositPercentUp.touched||t.submitted)&&(null==t.form.controls.riskCenterDepositPercentUp.errors?null:t.form.controls.riskCenterDepositPercentUp.errors.pattern)),e.R7$(4),e.Y8G("ngForOf",t.riskFrames)}}function zT(a,r){if(1&a&&(e.j41(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"i",29),e.EFF(4,"settings"),e.k0s(),e.EFF(5," Transactions "),e.k0s()(),e.j41(6,"div",11)(7,"label",12),e.EFF(8," Transaction Confirmation Mode "),e.k0s(),e.nrm(9,"ng-select",98),e.k0s()()),2&a){const t=e.XpG();e.R7$(9),e.Y8G("items",t.transactionConfirmationModeOptions)("clearable",!0)("clearOnBackspace",!0)}}function HT(a,r){if(1&a&&(e.j41(0,"div",99)(1,"h4",100),e.EFF(2),e.k0s()()),2&a){const t=e.XpG();e.R7$(2),e.SpI(" ",t.errorMessage," ")}}function KT(a,r){1&a&&e.nrm(0,"span",89)}function JT(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",87),e.bIt("click",function(){e.eBV(t);const n=e.XpG(),o=e.sdS(65);return e.Njj(n.onSubmit(o))}),e.DNE(1,KT,1,0,"span",88),e.EFF(2," Save "),e.k0s()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.saveInProgress)}}function QT(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",101)(1,"h5",102),e.EFF(2,"Payout"),e.k0s(),e.j41(3,"button",103),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",104),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",105)(7,"h4",106),e.EFF(8," Payout have been completed successfully. "),e.k0s(),e.j41(9,"div",107)(10,"button",108),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("OK"))}),e.EFF(11," OK "),e.k0s()()()}}function ZT(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",101)(1,"h5",102),e.EFF(2,"Common settings saving"),e.k0s(),e.j41(3,"button",103),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",104),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",105)(7,"h4",106),e.EFF(8," Common settings have been saved successfully. "),e.k0s(),e.j41(9,"div",107)(10,"button",108),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("OK"))}),e.EFF(11," OK "),e.k0s()()()}}let ex=(()=>{class a{constructor(t,i,n,o,s,l,m,u){this.formBuilder=t,this.auth=i,this.adminService=n,this.commonService=o,this.errorHandler=s,this.modalService=l,this.dialog=m,this.router=u,this.inProgress=!1,this.submitted=!1,this.saveInProgress=!1,this.errorMessage="",this.permission=0,this.kycProviderOptions=F.dP,this.custodyProviderOptions=F.zd,this.liquidityProviderOptions=ct,this.transactionConfirmationModeOptions=hF,this.paymentProviderPayoutType=c.Cl,this.paymentProviderPayoutInProgress=!1,this.paymentProviderRefundInProgress=!1,this.emails=[],this.refundAmount=0,this.refundTransactionId="",this.emailLoading=!1,this.adminAdditionalSettings={},this.defaultCustodyWithdrawalKeys={},this.defaultLiquidityWithdrawalKeys={},this.additionalSettings={},this.cryptoList=[],this.riskFrames=[{X:1,Y:1},{X:2,Y:2},{X:3,Y:3},{X:4,Y:4},{X:5,Y:5}],this.form=this.formBuilder.group({id:[null],liquidityProvider:[void 0,{validators:[d.k0.required],updateOn:"change"}],custodyProvider:[void 0,{validators:[d.k0.required],updateOn:"change"}],kycProvider:[void 0,{validators:[d.k0.required],updateOn:"change"}],adminEmails:[[]],stoppedForServicing:[!1,{validators:[d.k0.required],updateOn:"change"}],emailCodeNumberLength:[0,{validators:[d.k0.required,d.k0.pattern("^[0-9.]+$")],updateOn:"change"}],editTransactionDestination:[!1,{validators:[d.k0.required],updateOn:"change"}],cryptoWidgetPaymentTimeout:[0,{validators:[d.k0.required,d.k0.pattern("^[0-9.]+$")],updateOn:"change"}],verifyWhenPaid:[!1],wireTransferWallet:[!1],wireTransferExchange:[!1],transferOrdersTrackingTimedeltaDays:[0,{validators:[d.k0.required,d.k0.pattern("^[0-9.]+$")],updateOn:"change"}],fireblocksCachedDepositAddressLifetime:[0,{validators:[d.k0.required,d.k0.pattern("^[0-9.]+$")],updateOn:"change"}],fireblocksCachedExternalWalletLifetime:[0,{validators:[d.k0.required,d.k0.pattern("^[0-9.]+$")],updateOn:"change"}],fireblocksCachedInternalWalletLifetime:[0,{validators:[d.k0.required,d.k0.pattern("^[0-9.]+$")],updateOn:"change"}],fireblocksCachedVaultAccountLifetime:[0,{validators:[d.k0.required,d.k0.pattern("^[0-9.]+$")],updateOn:"change"}],fireblocksDefaultUserVaultName:[""],fireblocksTrackWithdrawals:[!1],fireblocksTrackWithdrawalsOneByOne:[!1],fireblocksWithdrawalFromCustodyProviderDestinationAddress:[this.defaultCustodyWithdrawalKeys],fireblocksWithdrawalFromLiquidityProviderDestinationAddress:[this.defaultLiquidityWithdrawalKeys],fireblocksWithdrawalToEndUserSourceVaultAccountId:[""],fireblocksWithdrawalToEndUserSpeed:["",{validators:[d.k0.required],updateOn:"change"}],trustologyCachedDepositAddressLifetime:[0,{validators:[d.k0.required,d.k0.pattern("^[0-9.]+$")],updateOn:"change"}],trustologyCachedExternalWalletLifetime:[0,{validators:[d.k0.required,d.k0.pattern("^[0-9.]+$")],updateOn:"change"}],trustologyCachedInternalWalletLifetime:[0,{validators:[d.k0.required,d.k0.pattern("^[0-9.]+$")],updateOn:"change"}],trustologyCachedVaultAccountLifetime:[0,{validators:[d.k0.required,d.k0.pattern("^[0-9.]+$")],updateOn:"change"}],trustologyDefaultUserVaultName:[""],trustologyDefaultHostWalletId:[""],trustologyNetworkFeeEstimationVaultAccountId:[""],trustologyNetworkFeeEstimationVaultAccountIdSubwallet:[""],trustologyTrackWithdrawals:[!1],trustologyTrackWithdrawalsOneByOne:[!1],trustologyWithdrawalFromCustodyProviderDestinationAddress:[""],trustologyWithdrawalFromLiquidityProviderDestinationAddress:[""],trustologyWithdrawalToEndUserSourceVaultAccountId:[""],trustologyWithdrawalToEndUserSourceVaultAccountIdSubwallet:[""],trustologyWithdrawalToEndUserSpeed:["",{validators:[d.k0.required],updateOn:"change"}],kycSumSubWebApiTokenLifetime:[0,{validators:[d.k0.required,d.k0.pattern("^[0-9.]+$")],updateOn:"change"}],riskCenterLoginCountToCompareIpAddress:[0,{validators:[d.k0.required,d.k0.pattern("^[0-9.]+$")],updateOn:"change"}],riskCenterMaxFailedLoginAttempts:[0,{validators:[d.k0.required,d.k0.pattern("^[0-9.]+$")],updateOn:"change"}],riskCenterHighRiskUserYears:[0,{validators:[d.k0.required,d.k0.pattern("^[0-9.]+$")],updateOn:"change"}],riskCenterDepositPercentUp:[0,{validators:[d.k0.required,d.k0.pattern("^[0-9.]+$")],updateOn:"change"}],transactionsPaymentCodeNumberLength:[0,{validators:[d.k0.required,d.k0.pattern("^[0-9.]+$")],updateOn:"change"}],transactionsQuickCheckoutTransactionConfirmationLifetime:[72e6,{validators:[d.k0.required],updateOn:"change"}],transactionsTransactionCodeNumberLength:[0,{validators:[d.k0.required,d.k0.pattern("^[0-9.]+$")],updateOn:"change"}],transactionsTransactionConfirmationMode:[void 0,{validators:[d.k0.required],updateOn:"change"}],liquidityBenchmarkTrackingInterval:[0,{validators:[d.k0.required,d.k0.pattern("^[0-9.]+$")],updateOn:"change"}],liquidityCryptoRateLifetime:[0,{validators:[d.k0.required,d.k0.pattern("^[0-9.]+$")],updateOn:"change"}],liquidityExchangeInfoLifetime:[0,{validators:[d.k0.required,d.k0.pattern("^[0-9.]+$")],updateOn:"change"}],liquidityExchangeOrdersTrackingTimedeltaDays:[0,{validators:[d.k0.required,d.k0.pattern("^[0-9.]+$")],updateOn:"change"}],liquidityExchangeTrackingInterval:[0,{validators:[d.k0.required,d.k0.pattern("^[0-9.]+$")],updateOn:"change"}],liquiditySettingsCurrencyLifetime:[0,{validators:[d.k0.required,d.k0.pattern("^[0-9.]+$")],updateOn:"change"}],liquidityTransferOrdersTrackingTimedeltaDays:[0,{validators:[d.k0.required,d.k0.pattern("^[0-9.]+$")],updateOn:"change"}],bitstampRateLimit:[!1,{validators:[d.k0.required],updateOn:"change"}],bitstampTimeout:[0,{validators:[d.k0.required,d.k0.pattern("^[0-9.]+$")],updateOn:"change"}],bitstampTrackOrders:[!1,{validators:[d.k0.required],updateOn:"change"}],bitstampTrackWithdrawals:[!1,{validators:[d.k0.required],updateOn:"change"}],bitstampWithdrawalBenchmark:[0,{validators:[d.k0.required,d.k0.pattern("^[0-9.]+$")],updateOn:"change"}],bitstampWithdrawalBenchmarkAmountToRemain:[0,{validators:[d.k0.required,d.k0.pattern("^[0-9.]+$")],updateOn:"change"}],krakenTrackOrders:[!1,{validators:[d.k0.required],updateOn:"change"}],krakenTrackWithdrawals:[!1,{validators:[d.k0.required],updateOn:"change"}],krakenWithdrawalBenchmark:[0,{validators:[d.k0.required,d.k0.pattern("^[0-9.]+$")],updateOn:"change"}],krakenWithdrawalBenchmarkAmountToRemain:[0,{validators:[d.k0.required,d.k0.pattern("^[0-9.]+$")],updateOn:"change"}],openpaydWithdrawalBenchmark:[0,{validators:[d.k0.required,d.k0.pattern("^[0-9.]+$")],updateOn:"change"}],monoovaWithdrawalBenchmark:[0,{validators:[d.k0.required,d.k0.pattern("^[0-9.]+$")],updateOn:"change"}],refundAmount:[0,{}],refundTransactionId:["",{}],flashFxWithdrawalBenchmark:[0,{validators:[d.k0.required,d.k0.pattern("^[0-9.]+$")],updateOn:"change"}],frameX1:[void 0],frameY1:[void 0],frameX2:[void 0],frameY2:[void 0],frameX3:[void 0],frameY3:[void 0],frameX4:[void 0],frameY4:[void 0],frameX5:[void 0],frameY5:[void 0]}),this.subscriptions=new R.yU,this.permission=this.auth.isPermittedObjectCode(c.G4.Settings)}ngOnInit(){this.loadCommonSettings(),this.loadCurrencies()}ngOnDestroy(){this.subscriptions.unsubscribe()}loadCommonSettings(){const t=this.auth.getLocalSettingsCommon();t&&(this.adminAdditionalSettings="string"==typeof t.adminAdditionalSettings?JSON.parse(t.adminAdditionalSettings):t.adminAdditionalSettings,this.kycProviderOptions=this.kycProviderOptions.filter(i=>this.adminAdditionalSettings.kycProviders[i.id]),this.liquidityProviderOptions=this.liquidityProviderOptions.filter(i=>this.adminAdditionalSettings.liquidityProvider[i.id]),this.custodyProviderOptions=this.custodyProviderOptions.filter(i=>this.adminAdditionalSettings.custodyProvider[i.id]))}loadCurrencies(){this.inProgress=!0,this.errorMessage="";const t=this.commonService.getSettingsCurrency();this.subscriptions.add(t.valueChanges.subscribe(({data:i})=>{const n=i.getSettingsCurrency;this.cryptoList=n?.settingsCurrency&&n.settingsCurrency.count?n.settingsCurrency.list?.filter(o=>!1===o.fiat).map(o=>new F.xD(o)):[],this.loadData()},i=>{this.inProgress=!1,"Access denied"===i.message||"auth.token_invalid"===this.errorHandler.getCurrentError()?this.router.navigateByUrl("/"):this.errorMessage=this.errorHandler.getError(i.message,"Unable to load available list of currency types")}))}loadData(){this.inProgress=!0,this.errorMessage="",this.subscriptions.add(this.adminService.getSettingsCommon()?.valueChanges.subscribe(t=>{this.inProgress=!1;const i=t.data.getSettingsCommon;this.additionalSettings=i.additionalSettings?JSON.parse(i.additionalSettings):void 0,this.form.get("id")?.setValue(i.settingsCommonId),this.form.get("liquidityProvider")?.setValue(i.liquidityProvider),this.form.get("custodyProvider")?.setValue(i.custodyProvider),this.form.get("kycProvider")?.setValue(i.kycProvider),this.form.get("adminEmails")?.setValue(i.adminEmails),this.form.get("stoppedForServicing")?.setValue(i.stoppedForServicing);const{emailCodeNumberLength:n}=this.additionalSettings.auth;this.form.get("emailCodeNumberLength")?.setValue(n??5);const{editTransactionDestination:o}=this.additionalSettings.admin;this.form.get("editTransactionDestination")?.setValue(o??!1);const s=this.additionalSettings.cryptoWidget?.paymentTimeout??6e5;this.form.get("cryptoWidgetPaymentTimeout")?.setValue(s/1e3);const l=this.additionalSettings.core,{custodyProviders:{Fireblocks:m,Trustology:u},liquidityProviders:{Bitstamp:g,Kraken:C},paymentProviders:{Openpayd:x,Monoova:j,FlashFx:Z},kycProviders:{SumSub:ce}}=l;this.form.get("verifyWhenPaid")?.setValue(!0===(l.verifyWhenPaid??!0)),this.form.get("wireTransferWallet")?.setValue(!0===(l.wireTransferWallet??!1)),this.form.get("wireTransferExchange")?.setValue(!0===(l.wireTransferExchange??!1)),this.form.get("transferOrdersTrackingTimedeltaDays")?.setValue(l.custodyProviders.transferOrdersTrackingTimedeltaDays??7);let L=m.withdrawalFromCustodyProviderDestinationAddress,ge=m.withdrawalFromLiquidityProviderDestinationAddress;L?"string"==typeof L&&(L=this.defaultCustodyWithdrawalKeys):L=this.defaultCustodyWithdrawalKeys,ge?"string"==typeof ge&&(ge=this.defaultLiquidityWithdrawalKeys):ge=this.defaultLiquidityWithdrawalKeys,this.form.get("fireblocksCachedDepositAddressLifetime")?.setValue(m.cachedDepositAddressLifetime??6e4),this.form.get("fireblocksCachedExternalWalletLifetime")?.setValue(m.cachedExternalWalletLifetime??6e4),this.form.get("fireblocksCachedInternalWalletLifetime")?.setValue(m.cachedExternalWalletLifetime??6e4),this.form.get("fireblocksCachedVaultAccountLifetime")?.setValue(m.cachedVaultAccountLifetime??6e4),this.form.get("fireblocksDefaultUserVaultName")?.setValue(m.defaultUserVaultName??""),this.form.get("fireblocksTrackWithdrawals")?.setValue(m.trackWithdrawals??!1),this.form.get("fireblocksTrackWithdrawalsOneByOne")?.setValue(m.trackWithdrawalsOneByOne??!1),this.form.get("fireblocksWithdrawalFromCustodyProviderDestinationAddress")?.setValue(L),this.form.get("fireblocksWithdrawalFromLiquidityProviderDestinationAddress")?.setValue(ge),this.form.get("fireblocksWithdrawalToEndUserSourceVaultAccountId")?.setValue(m.withdrawalToEndUserSourceVaultAccountId.vaultId??"22"),this.form.get("fireblocksWithdrawalToEndUserSpeed")?.setValue(m.withdrawalToEndUserSpeed??"MEDIUM"),this.form.get("trustologyCachedDepositAddressLifetime")?.setValue(u.cachedDepositAddressLifetime??6e4),this.form.get("trustologyCachedExternalWalletLifetime")?.setValue(u.cachedExternalWalletLifetime??6e4),this.form.get("trustologyCachedInternalWalletLifetime")?.setValue(u.cachedInternalWalletLifetime??6e4),this.form.get("trustologyCachedVaultAccountLifetime")?.setValue(u.cachedVaultAccountLifetime??6e4),this.form.get("trustologyDefaultUserVaultName")?.setValue(u.defaultUserVaultName??""),this.form.get("trustologyDefaultHostWalletId")?.setValue(u.defaultHostWalletId??""),this.form.get("trustologyNetworkFeeEstimationVaultAccountId")?.setValue(u.networkFeeEstimationVaultAccountId.walletId??""),this.form.get("trustologyNetworkFeeEstimationVaultAccountIdSubwallet")?.setValue(u.networkFeeEstimationVaultAccountId.subWalletName??"Bitcoin"),this.form.get("trustologyTrackWithdrawals")?.setValue(u.trackWithdrawals??!1),this.form.get("trustologyTrackWithdrawalsOneByOne")?.setValue(u.trackWithdrawalsOneByOne??!1),this.form.get("trustologyWithdrawalFromCustodyProviderDestinationAddress")?.setValue(u.withdrawalFromCustodyProviderDestinationAddress??"test_withdrawal"),this.form.get("trustologyWithdrawalFromLiquidityProviderDestinationAddress")?.setValue(u.withdrawalFromLiquidityProviderDestinationAddress??"test_withdrawal"),this.form.get("trustologyWithdrawalToEndUserSourceVaultAccountId")?.setValue(u.withdrawalToEndUserSourceVaultAccountId.walletId??""),this.form.get("trustologyWithdrawalToEndUserSourceVaultAccountIdSubwallet")?.setValue(u.withdrawalToEndUserSourceVaultAccountId.subWalletName??"Bitcoin"),this.form.get("trustologyWithdrawalToEndUserSpeed")?.setValue(u.withdrawalToEndUserSpeed??"MEDIUM"),this.form.get("kycSumSubWebApiTokenLifetime")?.setValue(ce.webApiTokenLifetime??6e5),this.form.get("riskCenterLoginCountToCompareIpAddress")?.setValue(l.riskCenter.loginCountToCompareIpAddress??10),this.form.get("riskCenterMaxFailedLoginAttempts")?.setValue(l.riskCenter.maxFailedLoginAttempts??10),this.form.get("riskCenterHighRiskUserYears")?.setValue(l.riskCenter.highRiskUserYears??70),this.form.get("riskCenterDepositPercentUp")?.setValue(l.riskCenter.depositPercentUp??200);let Fe=0;l.riskCenter.depositAboveXinYtimeFrameMins.forEach(_e=>{Fe++,this.form.get(`frameX${Fe}`)?.setValue(_e.X),this.form.get(`frameY${Fe}`)?.setValue(_e.Y)}),this.form.get("transactionsPaymentCodeNumberLength")?.setValue(l.transactions.paymentCodeNumberLength??5),this.form.get("transactionsQuickCheckoutTransactionConfirmationLifetime")?.setValue(l.transactions.quickCheckoutTransactionConfirmationLifetime??72e6),this.form.get("transactionsTransactionCodeNumberLength")?.setValue(l.transactions.transactionCodeNumberLength??5),this.form.get("transactionsTransactionConfirmationMode")?.setValue(l.transactions.transactionConfirmationMode??c.bD.Never),this.form.get("liquidityBenchmarkTrackingInterval")?.setValue(l.liquidityProviders.benchmarkTrackingInterval??6e4),this.form.get("liquidityCryptoRateLifetime")?.setValue(l.liquidityProviders.cryptoRateLifetime??6e4),this.form.get("liquidityExchangeInfoLifetime")?.setValue(l.liquidityProviders.exchangeInfoLifetime??36e5),this.form.get("liquidityExchangeOrdersTrackingTimedeltaDays")?.setValue(l.liquidityProviders.exchangeOrdersTrackingTimedeltaDays??7),this.form.get("liquidityExchangeTrackingInterval")?.setValue(l.liquidityProviders.exchangeTrackingInterval??6e4),this.form.get("liquiditySettingsCurrencyLifetime")?.setValue(l.liquidityProviders.settingsCurrencyLifetime??6e5),this.form.get("liquidityTransferOrdersTrackingTimedeltaDays")?.setValue(l.liquidityProviders.transferOrdersTrackingTimedeltaDays??7),this.form.get("bitstampRateLimit")?.setValue(g.rateLimit??!1),this.form.get("bitstampTimeout")?.setValue(g.timeout??5e3),this.form.get("bitstampTrackOrders")?.setValue(g.trackOrders??!1),this.form.get("bitstampTrackWithdrawals")?.setValue(g.trackWithdrawals??!1),this.form.get("bitstampWithdrawalBenchmark")?.setValue(g.withdrawalBenchmark??1e4),this.form.get("bitstampWithdrawalBenchmarkAmountToRemain")?.setValue(g.withdrawalBenchmarkAmountToRemain??0),this.form.get("krakenTrackOrders")?.setValue(C.trackOrders??!1),this.form.get("krakenTrackWithdrawals")?.setValue(C.trackWithdrawals??!1),this.form.get("krakenWithdrawalBenchmark")?.setValue(C.withdrawalBenchmark??1e4),this.form.get("krakenWithdrawalBenchmarkAmountToRemain")?.setValue(C.withdrawalBenchmarkAmountToRemain??0),this.form.get("openpaydWithdrawalBenchmark")?.setValue(x?.benchmarkAmount??1e4),this.form.get("monoovaWithdrawalBenchmark")?.setValue(j?.benchmarkAmount??1e4),this.form.get("flashFxWithdrawalBenchmark")?.setValue(Z?.benchmarkAmount??1e4)},t=>{this.inProgress=!1,this.errorMessage=t,""===this.auth.token&&this.router.navigateByUrl("/")}))}getDataObject(){const t=this.form.get("adminEmails")?.value,i=[];for(let x=0;x<5;x++){const j=`frameX${x+1}`,Z=`frameY${x+1}`,ce=parseInt(this.form.get(j)?.value),L=parseInt(this.form.get(Z)?.value);ce&&L&&i.push({X:ce,Y:L})}const{custodyProviders:{Fireblocks:n,Trustology:o},liquidityProviders:{Bitstamp:s,Kraken:l},paymentProviders:{Openpayd:m,Monoova:u,FlashFx:g},kycProviders:{SumSub:C}}=this.additionalSettings.core;return this.additionalSettings.core.verifyWhenPaid=this.form.get("verifyWhenPaid")?.value??!1,this.additionalSettings.core.wireTransferWallet=this.form.get("wireTransferWallet")?.value??!1,this.additionalSettings.core.wireTransferExchange=this.form.get("wireTransferExchange")?.value??!1,this.additionalSettings.core.liquidityProviders.benchmarkTrackingInterval=parseInt(this.form.get("liquidityBenchmarkTrackingInterval")?.value??"60000"),this.additionalSettings.core.liquidityProviders.cryptoRateLifetime=parseInt(this.form.get("liquidityCryptoRateLifetime")?.value??"60000"),this.additionalSettings.core.liquidityProviders.exchangeInfoLifetime=parseInt(this.form.get("liquidityExchangeInfoLifetime")?.value??"3600000"),this.additionalSettings.core.liquidityProviders.exchangeOrdersTrackingTimedeltaDays=parseInt(this.form.get("liquidityExchangeOrdersTrackingTimedeltaDays")?.value??"7"),this.additionalSettings.core.liquidityProviders.exchangeTrackingInterval=parseInt(this.form.get("liquidityExchangeTrackingInterval")?.value??"60000"),this.additionalSettings.core.liquidityProviders.settingsCurrencyLifetime=parseInt(this.form.get("liquiditySettingsCurrencyLifetime")?.value??"600000"),this.additionalSettings.core.liquidityProviders.transferOrdersTrackingTimedeltaDays=parseInt(this.form.get("liquidityTransferOrdersTrackingTimedeltaDays")?.value??"7"),s.rateLimit=this.form.get("bitstampRateLimit")?.value??!1,s.timeout=parseInt(this.form.get("bitstampTimeout")?.value??"5000"),s.trackOrders=this.form.get("bitstampTrackOrders")?.value??!1,s.trackWithdrawals=this.form.get("bitstampTrackWithdrawals")?.value??!1,s.withdrawalBenchmarkAmountToRemain=parseInt(this.form.get("bitstampWithdrawalBenchmark")?.value??"10000"),l.trackOrders=this.form.get("krakenTrackOrders")?.value??!1,l.trackWithdrawals=this.form.get("krakenTrackWithdrawals")?.value??!1,l.withdrawalBenchmark=parseInt(this.form.get("krakenWithdrawalBenchmark")?.value??"10000"),l.withdrawalBenchmarkAmountToRemain=parseInt(this.form.get("krakenWithdrawalBenchmarkAmountToRemain")?.value??"0"),m.benchmarkAmount=parseInt(this.form.get("openpaydWithdrawalBenchmark")?.value??"10000"),u.benchmarkAmount=parseInt(this.form.get("monoovaWithdrawalBenchmark")?.value??"10000"),g.benchmarkAmount=parseInt(this.form.get("flashFxWithdrawalBenchmark")?.value??"10000"),this.additionalSettings.core.custodyProviders.transferOrdersTrackingTimedeltaDays=parseInt(this.form.get("transferOrdersTrackingTimedeltaDays")?.value??"7"),n.cachedDepositAddressLifetime=parseInt(this.form.get("fireblocksCachedDepositAddressLifetime")?.value??"60000"),n.cachedExternalWalletLifetime=parseInt(this.form.get("fireblocksCachedExternalWalletLifetime")?.value??"60000"),n.cachedInternalWalletLifetime=parseInt(this.form.get("fireblocksCachedExternalWalletLifetime")?.value??"60000"),n.cachedVaultAccountLifetime=parseInt(this.form.get("fireblocksCachedVaultAccountLifetime")?.value??"60000"),n.defaultUserVaultName=this.form.get("fireblocksDefaultUserVaultName")?.value??"",n.trackWithdrawals=this.form.get("fireblocksTrackWithdrawals")?.value??!1,n.trackWithdrawalsOneByOne=this.form.get("fireblocksTrackWithdrawalsOneByOne")?.value??!1,n.withdrawalFromCustodyProviderDestinationAddress=this.form.get("fireblocksWithdrawalFromCustodyProviderDestinationAddress")?.value??this.defaultCustodyWithdrawalKeys,n.withdrawalFromLiquidityProviderDestinationAddress=this.form.get("fireblocksWithdrawalFromLiquidityProviderDestinationAddress")?.value??this.defaultLiquidityWithdrawalKeys,n.withdrawalToEndUserSourceVaultAccountId.vaultId=this.form.get("fireblocksWithdrawalToEndUserSourceVaultAccountId")?.value??"2",n.withdrawalToEndUserSpeed=this.form.get("fireblocksWithdrawalToEndUserSpeed")?.value??"MEDIUM",o.cachedDepositAddressLifetime=parseInt(this.form.get("trustologyCachedDepositAddressLifetime")?.value??"60000"),o.cachedExternalWalletLifetime=parseInt(this.form.get("trustologyCachedExternalWalletLifetime")?.value??"60000"),o.cachedInternalWalletLifetime=parseInt(this.form.get("trustologyCachedInternalWalletLifetime")?.value??"60000"),o.cachedVaultAccountLifetime=parseInt(this.form.get("trustologyCachedVaultAccountLifetime")?.value??"60000"),o.defaultUserVaultName=this.form.get("trustologyDefaultUserVaultName")?.value??"",o.defaultHostWalletId=this.form.get("trustologyDefaultHostWalletId")?.value??"",o.networkFeeEstimationVaultAccountId.walletId=this.form.get("trustologyNetworkFeeEstimationVaultAccountId")?.value??"",o.networkFeeEstimationVaultAccountId.subWalletName=this.form.get("trustologyNetworkFeeEstimationVaultAccountIdSubwallet")?.value??"",o.trackWithdrawals=this.form.get("trustologyTrackWithdrawals")?.value??!1,o.trackWithdrawalsOneByOne=this.form.get("trustologyTrackWithdrawalsOneByOne")?.value??!1,o.withdrawalFromCustodyProviderDestinationAddress=this.form.get("trustologyWithdrawalFromCustodyProviderDestinationAddress")?.value??"",o.withdrawalFromLiquidityProviderDestinationAddress=this.form.get("trustologyWithdrawalFromLiquidityProviderDestinationAddress")?.value??"",o.withdrawalToEndUserSourceVaultAccountId.walletId=this.form.get("trustologyWithdrawalToEndUserSourceVaultAccountId")?.value??"",o.withdrawalToEndUserSourceVaultAccountId.subWalletName=this.form.get("trustologyWithdrawalToEndUserSourceVaultAccountIdSubwallet")?.value??"",o.withdrawalToEndUserSpeed=this.form.get("trustologyWithdrawalToEndUserSpeed")?.value??"",C.webApiTokenLifetime=parseInt(this.form.get("kycSumSubWebApiTokenLifetime")?.value??"600000"),this.additionalSettings.core.transactions.paymentCodeNumberLength=parseInt(this.form.get("transactionsPaymentCodeNumberLength")?.value??"5"),this.additionalSettings.core.transactions.quickCheckoutTransactionConfirmationLifetime=parseInt(this.form.get("transactionsQuickCheckoutTransactionConfirmationLifetime")?.value??"72000000"),this.additionalSettings.core.transactions.transactionCodeNumberLength=parseInt(this.form.get("transactionsTransactionCodeNumberLength")?.value??"5"),this.additionalSettings.core.transactions.transactionConfirmationMode=this.form.get("transactionsTransactionConfirmationMode")?.value??c.bD.Never,this.additionalSettings.core.riskCenter.loginCountToCompareIpAddress=parseInt(this.form.get("riskCenterLoginCountToCompareIpAddress")?.value??"600000"),this.additionalSettings.core.riskCenter.maxFailedLoginAttempts=parseInt(this.form.get("riskCenterMaxFailedLoginAttempts")?.value??"600000"),this.additionalSettings.core.riskCenter.highRiskUserYears=parseInt(this.form.get("riskCenterHighRiskUserYears")?.value??"70"),this.additionalSettings.core.riskCenter.depositPercentUp=parseInt(this.form.get("riskCenterDepositPercentUp")?.value??"200"),this.additionalSettings.core.riskCenter.depositAboveXinYtimeFrameMins=i,this.additionalSettings.auth.emailCodeNumberLength=parseInt(this.form.get("emailCodeNumberLength")?.value??"5"),this.additionalSettings.admin.editTransactionDestination=!0===this.form.get("editTransactionDestination")?.value,this.additionalSettings.cryptoWidget.paymentTimeout=1e3*parseInt(this.form.get("cryptoWidgetPaymentTimeout")?.value??"600000"),{settingsCommonId:this.form.get("id")?.value,liquidityProvider:this.form.get("liquidityProvider")?.value,custodyProvider:this.form.get("custodyProvider")?.value,kycProvider:this.form.get("kycProvider")?.value,adminEmails:t,additionalSettings:JSON.stringify(this.additionalSettings),stoppedForServicing:this.form.get("stoppedForServicing")?.value}}addTagPromise(t){return new Promise((i,n)=>{this.emailLoading=!0,this.emailLoading=!0,/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)?i(t):n("Incorrect email")})}addFireblocksCustodyProviderDestinationAddress(t){const i=this.form.controls.fireblocksWithdrawalFromCustodyProviderDestinationAddress?.value;i&&(i[t.key]=t.value)}addFireblocksLiquidityProviderDestinationAddress(t){const i=this.form.controls.fireblocksWithdrawalFromLiquidityProviderDestinationAddress?.value;i&&(i[t.key]=t.value)}removeFireblocksCustodyProviderDestinationAddress(t){const i=this.form.controls.fireblocksWithdrawalFromCustodyProviderDestinationAddress?.value;i&&delete i[t]}removeFireblocksLiquidityProviderDestinationAddress(t){const i=this.form.controls.fireblocksWithdrawalFromLiquidityProviderDestinationAddress?.value;i&&delete i[t]}paymentProviderPayout(t,i,n){this.paymentProviderPayoutInProgress=!0,this.subscriptions.add(this.adminService.createPaymentProviderPayout(t,i).subscribe(({data:o})=>{o.createPaymentProviderPayout&&this.modalService.open(n,{backdrop:"static",windowClass:"modalCusSty"}),this.paymentProviderPayoutInProgress=!1},o=>{this.paymentProviderPayoutInProgress=!1,this.errorMessage=o,""===this.auth.token&&this.router.navigateByUrl("/")}))}onPaymentProviderRefund(t,i){this.form.controls.refundAmount.value&&this.form.controls.refundTransactionId.value&&this.dialog.open(fa.f,{width:"400px",data:{title:"Refund Transaction",message:`You are about to refund ${this.form.controls.refundAmount.value} for ${this.form.controls.refundTransactionId.value} transaction. Please confirm`,button:"Confirm"}}).afterClosed().subscribe(l=>{l&&this.paymentProviderRefund(t,i)})}paymentProviderRefund(t,i){this.paymentProviderRefundInProgress=!0,this.subscriptions.add(this.adminService.createPaymentProviderRefund(t,this.form.get("refundAmount")?.value,this.form.get("refundTransactionId")?.value).subscribe(({data:n})=>{n.createPaymentProviderPayout&&this.modalService.open(i,{backdrop:"static",windowClass:"modalCusSty"}),this.paymentProviderRefundInProgress=!1},n=>{this.paymentProviderRefundInProgress=!1,this.errorMessage=n,""===this.auth.token&&this.router.navigateByUrl("/")}))}onSubmit(t){this.submitted=!0;const i=this.getDataObject();this.saveInProgress=!0,this.errorMessage="",this.subscriptions.add(this.adminService.updateSettingsCommon(i).subscribe(()=>{this.saveInProgress=!1,this.modalService.open(t,{backdrop:"static",windowClass:"modalCusSty"})},n=>{this.saveInProgress=!1,this.errorMessage=n,""===this.auth.token&&this.router.navigateByUrl("/")}))}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(d.ze),e.rXU(I.u),e.rXU(E),e.rXU(xe.X),e.rXU(wt.I),e.rXU(_.Bq),e.rXU(Je.bZ),e.rXU(w.Ix))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-common-settings"]],decls:66,vars:30,consts:[["payment_provider_payout",""],["save_content",""],[3,"title","items","active_item"],[1,"row","row-sm"],[1,"col-xl-12"],[1,"card"],["novalidate","",3,"formGroup"],[1,"card-body"],["color","accent","mode","indeterminate",4,"ngIf"],[1,"__common-settings-board"],[1,"card","__common-settings-pane"],[1,"form-group"],[1,"main-content-label","tx-11","tx-medium","tx-gray-600"],["bindLabel","name","bindValue","id","formControlName","liquidityProvider",3,"items","clearable","clearOnBackspace"],["bindLabel","name","bindValue","id","formControlName","custodyProvider",3,"items","clearable","clearOnBackspace"],["bindLabel","name","bindValue","id","formControlName","kycProvider",3,"items","clearable","clearOnBackspace"],["bindLabel","name","formControlName","adminEmails",3,"items","addTag","multiple","loading"],["ng-tag-tmp",""],[1,"ckbox"],["type","checkbox","formControlName","stoppedForServicing"],["type","checkbox","formControlName","verifyWhenPaid"],["type","checkbox","formControlName","wireTransferWallet"],["type","checkbox","formControlName","wireTransferExchange"],[1,"accordion-headers-align"],[4,"ngIf"],["class","card card-body card-danger pd-20 pd-md-40 border shadow-none",4,"ngIf"],[1,"flex"],["type","button","class","btn btn-primary pd-x-30 me-2 mg-t-5",3,"click",4,"ngIf"],["color","accent","mode","indeterminate"],[1,"material-icons","me-2"],[1,"main-content-label","tx-11","tx-medium","tx-danger"],["type","text","formControlName","emailCodeNumberLength","maxlength","7","placeholder","5","required","",1,"form-control",3,"ngClass"],["class","tx-danger",4,"ngIf"],[1,"tx-danger"],["type","checkbox","formControlName","editTransactionDestination"],["type","text","formControlName","cryptoWidgetPaymentTimeout","maxlength","7","placeholder","5","required","",1,"form-control",3,"ngClass"],["type","text","formControlName","transferOrdersTrackingTimedeltaDays","maxlength","7","required","",1,"form-control",3,"ngClass"],[1,"card","card-body","pd-20","pd-md-40","border","shadow-none"],[1,"card-title","mg-b-20"],["type","text","formControlName","fireblocksCachedDepositAddressLifetime","maxlength","7","required","",1,"form-control",3,"ngClass"],["type","text","formControlName","fireblocksCachedExternalWalletLifetime","maxlength","7","required","",1,"form-control",3,"ngClass"],["type","text","formControlName","fireblocksCachedInternalWalletLifetime","maxlength","7","required","",1,"form-control",3,"ngClass"],["type","text","formControlName","fireblocksCachedVaultAccountLifetime","maxlength","7","required","",1,"form-control",3,"ngClass"],["type","text","formControlName","fireblocksDefaultUserVaultName","maxlength","7",1,"form-control"],[3,"save","delete","cryptoList","values"],["type","text","formControlName","fireblocksWithdrawalToEndUserSourceVaultAccountId",1,"form-control"],["type","text","formControlName","fireblocksWithdrawalToEndUserSpeed","required","",1,"form-control",3,"ngClass"],["type","checkbox","formControlName","fireblocksTrackWithdrawals"],["type","checkbox","formControlName","fireblocksTrackWithdrawalsOneByOne"],["type","text","formControlName","trustologyCachedDepositAddressLifetime","maxlength","7","required","",1,"form-control",3,"ngClass"],["type","text","formControlName","trustologyCachedExternalWalletLifetime","maxlength","7","required","",1,"form-control",3,"ngClass"],["type","text","formControlName","trustologyCachedInternalWalletLifetime","maxlength","7","required","",1,"form-control",3,"ngClass"],["type","text","formControlName","trustologyCachedVaultAccountLifetime","maxlength","7","required","",1,"form-control",3,"ngClass"],["type","text","formControlName","trustologyDefaultUserVaultName","maxlength","7",1,"form-control"],["type","text","formControlName","trustologyDefaultHostWalletId","maxlength","7",1,"form-control"],["type","text","formControlName","trustologyNetworkFeeEstimationVaultAccountId","maxlength","7",1,"form-control"],["type","text","formControlName","trustologyNetworkFeeEstimationVaultAccountIdSubwallet","maxlength","7",1,"form-control"],["type","text","formControlName","trustologyWithdrawalFromCustodyProviderDestinationAddress","maxlength","7",1,"form-control"],["type","text","formControlName","trustologyWithdrawalFromLiquidityProviderDestinationAddress","maxlength","7",1,"form-control"],["type","text","formControlName","trustologyWithdrawalToEndUserSourceVaultAccountId","maxlength","7",1,"form-control"],["type","text","formControlName","trustologyWithdrawalToEndUserSourceVaultAccountIdSubwallet","maxlength","7",1,"form-control"],["type","text","formControlName","trustologyWithdrawalToEndUserSpeed","required","",1,"form-control",3,"ngClass"],["type","checkbox","formControlName","trustologyTrackWithdrawals"],["type","checkbox","formControlName","trustologyTrackWithdrawalsOneByOne"],["type","text","formControlName","liquidityBenchmarkTrackingInterval","maxlength","7","required","",1,"form-control",3,"ngClass"],["type","text","formControlName","liquidityCryptoRateLifetime","maxlength","7","required","",1,"form-control",3,"ngClass"],["type","text","formControlName","liquidityExchangeInfoLifetime","maxlength","7","required","",1,"form-control",3,"ngClass"],["type","text","formControlName","liquidityExchangeOrdersTrackingTimedeltaDays","maxlength","7","required","",1,"form-control",3,"ngClass"],["type","text","formControlName","liquidityExchangeTrackingInterval","maxlength","7","required","",1,"form-control",3,"ngClass"],["type","text","formControlName","liquiditySettingsCurrencyLifetime","maxlength","7","required","",1,"form-control",3,"ngClass"],["type","text","formControlName","liquidityTransferOrdersTrackingTimedeltaDays","maxlength","7","required","",1,"form-control",3,"ngClass"],["type","text","formControlName","bitstampTimeout","maxlength","7","required","",1,"form-control",3,"ngClass"],["type","text","formControlName","bitstampWithdrawalBenchmark","maxlength","7","required","",1,"form-control",3,"ngClass"],["type","text","formControlName","bitstampWithdrawalBenchmarkAmountToRemain","maxlength","7","required","",1,"form-control",3,"ngClass"],["type","checkbox","formControlName","bitstampRateLimit"],["type","checkbox","formControlName","bitstampTrackOrders"],["type","checkbox","formControlName","bitstampTrackWithdrawals"],["type","text","formControlName","krakenWithdrawalBenchmark","maxlength","7","required","",1,"form-control",3,"ngClass"],["type","text","formControlName","krakenWithdrawalBenchmarkAmountToRemain","maxlength","7","required","",1,"form-control",3,"ngClass"],["type","checkbox","formControlName","krakenTrackOrders"],["type","checkbox","formControlName","krakenTrackWithdrawals"],["type","text","formControlName","openpaydWithdrawalBenchmark","maxlength","7","required","",1,"form-control",3,"ngClass"],["type","text","formControlName","monoovaWithdrawalBenchmark","maxlength","7","required","",1,"form-control",3,"ngClass"],["type","number","formControlName","refundAmount","required","",1,"form-control"],["type","text","formControlName","refundTransactionId","required","",1,"form-control"],["type","button","class","btn btn-primary pd-x-30 me-2 mg-t-5",3,"disabled","click",4,"ngIf"],["type","text","formControlName","flashFxWithdrawalBenchmark","maxlength","7","required","",1,"form-control",3,"ngClass"],["type","button",1,"btn","btn-primary","pd-x-30","me-2","mg-t-5",3,"click"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["type","button",1,"btn","btn-primary","pd-x-30","me-2","mg-t-5",3,"click","disabled"],["type","text","formControlName","kycSumSubWebApiTokenLifetime","maxlength","7","required","",1,"form-control",3,"ngClass"],["type","text","formControlName","riskCenterLoginCountToCompareIpAddress","maxlength","7","required","",1,"form-control",3,"ngClass"],["type","text","formControlName","riskCenterMaxFailedLoginAttempts","maxlength","7","required","",1,"form-control",3,"ngClass"],["type","text","formControlName","riskCenterHighRiskUserYears","maxlength","7","required","",1,"form-control",3,"ngClass"],["type","text","formControlName","riskCenterDepositPercentUp","maxlength","7","required","",1,"form-control",3,"ngClass"],["class","card card-body pd-20 pd-md-40 border shadow-none",4,"ngFor","ngForOf"],["maxlength","7",1,"form-control",3,"formControlName"],["appendTo","body","bindLabel","name","bindValue","id","formControlName","transactionsTransactionConfirmationMode","required","",3,"items","clearable","clearOnBackspace"],[1,"card","card-body","card-danger","pd-20","pd-md-40","border","shadow-none"],[1,"card-title2","mg-b-20","color_brown"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"text-center"],[1,"flex__allign-center"],["type","button",1,"btn","btn-primary","pd-x-30",3,"click"]],template:function(i,n){1&i&&(e.nrm(0,"app-admin-page-header",2),e.j41(1,"div",3)(2,"div",4)(3,"div",5)(4,"form",6)(5,"div",7),e.DNE(6,CF,1,0,"mat-progress-bar",8),e.j41(7,"div",9)(8,"div",10)(9,"div",7)(10,"div",11)(11,"label",12),e.EFF(12," Liquidity provider "),e.k0s(),e.nrm(13,"ng-select",13),e.k0s(),e.j41(14,"div",11)(15,"label",12),e.EFF(16," Custody provider "),e.k0s(),e.nrm(17,"ng-select",14),e.k0s(),e.j41(18,"div",11)(19,"label",12),e.EFF(20," KYC provider "),e.k0s(),e.nrm(21,"ng-select",15),e.k0s(),e.j41(22,"div",11)(23,"label",12),e.EFF(24," Administrators email addresses "),e.k0s(),e.j41(25,"ng-select",16),e.DNE(26,kF,3,1,"ng-template",17),e.k0s()(),e.j41(27,"div",11)(28,"label",18),e.nrm(29,"input",19),e.j41(30,"span"),e.EFF(31," Stopped for servicing "),e.k0s()()(),e.j41(32,"div",11)(33,"label",18),e.nrm(34,"input",20),e.j41(35,"span"),e.EFF(36," Allow To Verify When Paid "),e.k0s()()(),e.j41(37,"div",11)(38,"label",18),e.nrm(39,"input",21),e.j41(40,"span"),e.EFF(41," Allow Wire Transfer in The Wallet "),e.k0s()()(),e.j41(42,"div",11)(43,"label",18),e.nrm(44,"input",22),e.j41(45,"span"),e.EFF(46," Allow Wire Transfer in Exchange Widget "),e.k0s()()()()(),e.j41(47,"div",10)(48,"div",7)(49,"mat-accordion",23),e.DNE(50,xF,14,5,"mat-expansion-panel",24)(51,wF,11,0,"mat-expansion-panel",24)(52,IF,14,5,"mat-expansion-panel",24)(53,KF,166,57,"mat-expansion-panel",24)(54,CT,133,60,"mat-expansion-panel",24)(55,OT,54,18,"mat-expansion-panel",24)(56,MT,17,5,"mat-expansion-panel",24)(57,XT,42,21,"mat-expansion-panel",24)(58,zT,10,3,"mat-expansion-panel",24),e.k0s()()()(),e.DNE(59,HT,3,1,"div",25),e.j41(60,"div",26),e.DNE(61,JT,3,1,"button",27),e.k0s()()()()()(),e.DNE(62,QT,12,0,"ng-template",null,0,e.C5r)(64,ZT,12,0,"ng-template",null,1,e.C5r)),2&i&&(e.Y8G("title","Common settings")("items",e.lJ4(29,yF))("active_item","Common"),e.R7$(4),e.Y8G("formGroup",n.form),e.R7$(2),e.Y8G("ngIf",n.inProgress),e.R7$(7),e.Y8G("items",n.liquidityProviderOptions)("clearable",!0)("clearOnBackspace",!0),e.R7$(4),e.Y8G("items",n.custodyProviderOptions)("clearable",!0)("clearOnBackspace",!0),e.R7$(4),e.Y8G("items",n.kycProviderOptions)("clearable",!0)("clearOnBackspace",!0),e.R7$(4),e.Y8G("items",n.emails)("addTag",n.addTagPromise)("multiple",!0)("loading",n.emailLoading),e.R7$(25),e.Y8G("ngIf",null==n.adminAdditionalSettings||null==n.adminAdditionalSettings.settingsCommon?null:n.adminAdditionalSettings.settingsCommon.auth),e.R7$(),e.Y8G("ngIf",null==n.adminAdditionalSettings||null==n.adminAdditionalSettings.settingsCommon?null:n.adminAdditionalSettings.settingsCommon.admin),e.R7$(),e.Y8G("ngIf",null==n.adminAdditionalSettings||null==n.adminAdditionalSettings.settingsCommon?null:n.adminAdditionalSettings.settingsCommon.cryptoWidget),e.R7$(),e.Y8G("ngIf",null==n.adminAdditionalSettings||null==n.adminAdditionalSettings.settingsCommon?null:n.adminAdditionalSettings.settingsCommon.custody),e.R7$(),e.Y8G("ngIf",null==n.adminAdditionalSettings||null==n.adminAdditionalSettings.settingsCommon?null:n.adminAdditionalSettings.settingsCommon.liquidity),e.R7$(),e.Y8G("ngIf",null==n.adminAdditionalSettings||null==n.adminAdditionalSettings.settingsCommon?null:n.adminAdditionalSettings.settingsCommon.payment),e.R7$(),e.Y8G("ngIf",null==n.adminAdditionalSettings||null==n.adminAdditionalSettings.settingsCommon?null:n.adminAdditionalSettings.settingsCommon.kyc),e.R7$(),e.Y8G("ngIf",null==n.adminAdditionalSettings||null==n.adminAdditionalSettings.settingsCommon?null:n.adminAdditionalSettings.settingsCommon.risk),e.R7$(),e.Y8G("ngIf",null==n.adminAdditionalSettings||null==n.adminAdditionalSettings.settingsCommon?null:n.adminAdditionalSettings.settingsCommon.transactions),e.R7$(),e.Y8G("ngIf",""!==n.errorMessage),e.R7$(2),e.Y8G("ngIf",n.permission>1))},dependencies:[h.YU,h.Sq,h.bT,d.qT,d.me,d.Q0,d.Zm,d.BC,d.cb,d.YS,d.tU,d.j4,d.JD,te,Ta,Jt,kt,Ft,Kt,z.HM,X,vF],styles:[".__common-settings-board[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto;grid-template-columns:35% 35% auto;gap:16px}@media (max-width: 950px){.__common-settings-board[_ngcontent-%COMP%]{display:flex;flex-direction:column}}@media (max-width: 1450px){.__common-settings-board[_ngcontent-%COMP%]{grid-template-columns:50% 40% auto}}.__common-settings-pane[_ngcontent-%COMP%]{min-width:15%;max-width:100%}.flex__allign-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.accordion-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:var(--color_main_blue_700);font-size:14px;font-weight:400}.accordion-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:20px}"]})}return a})();const tx=a=>({"has-error":a});function ax(a,r){1&a&&(e.j41(0,"div",18)(1,"small"),e.EFF(2," Please specify a user "),e.k0s()())}function nx(a,r){1&a&&(e.j41(0,"div",18)(1,"small"),e.EFF(2," Please specify a user "),e.k0s()())}function ix(a,r){1&a&&(e.j41(0,"div",18)(1,"small"),e.EFF(2," Liquidity provider name is required "),e.k0s()())}function rx(a,r){1&a&&(e.j41(0,"div",18)(1,"small"),e.EFF(2," Rate is required "),e.k0s()())}function ox(a,r){1&a&&(e.j41(0,"div",18)(1,"small"),e.EFF(2," Incorrect number value "),e.k0s()())}function sx(a,r){if(1&a&&(e.j41(0,"div",19)(1,"h4",20),e.EFF(2),e.k0s()()),2&a){const t=e.XpG();e.R7$(2),e.SpI(" ",t.errorMessage," ")}}function lx(a,r){1&a&&e.nrm(0,"span",23)}function dx(a,r){if(1&a&&(e.j41(0,"button",21),e.DNE(1,lx,1,0,"span",22),e.EFF(2," Save "),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.saveInProgress)}}let cx=(()=>{class a{constructor(t,i,n,o,s){this.formBuilder=t,this.router=i,this.auth=n,this.commonService=o,this.adminService=s,this.permission=0,this.pair=void 0,this.save=new e.bkB,this.close=new e.bkB,this.subscriptions=new R.yU,this.submitted=!1,this.saveInProgress=!1,this.errorMessage="",this.isUsersLoading=!1,this.usersSearchInput$=new y.B,this.currencyOptions=[],this.liquidityProviderOptions=ct,this.usersOptions$=(0,S.of)([]),this.minUsersLengthTerm=1,this.liquidityProviders=[],this.form=this.formBuilder.group({fromCurrency:[void 0,{validators:[d.k0.required],updateOn:"change"}],toCurrency:[void 0,{validators:[d.k0.required],updateOn:"change"}],liquidityProvider:[void 0,{validators:[d.k0.required],updateOn:"change"}],rate:[0,{validators:[d.k0.required,d.k0.pattern(de.n)],updateOn:"change"}]})}ngOnInit(){this.loadCurrencies(),this.loadData()}ngOnDestroy(){this.subscriptions.unsubscribe()}loadData(){this.pair&&(this.pair.fromCurrency&&this.form.get("fromCurrency")?.setValue(this.pair.fromCurrency),this.pair.toCurrency&&this.form.get("toCurrency")?.setValue(this.pair.toCurrency),this.pair.fixedRate&&this.form.get("rate")?.setValue(this.pair.fixedRate),this.pair.liquidityProviderName&&this.form.get("liquidityProvider")?.setValue(this.pair.liquidityProviderName.id))}loadCurrencies(){this.subscriptions.add(this.commonService.getSettingsCurrency()?.valueChanges.pipe((0,P.s)(1)).subscribe({next:({data:t})=>{const i=t.getSettingsCurrency;this.currencyOptions=i.settingsCurrency&&i.settingsCurrency.count?i.settingsCurrency.list?.map(n=>new F.xD(n)):[]},error:t=>{this.errorMessage=t}}))}onSubmit(){this.submitted=!0,this.form.valid&&this.getLuqidityProviders()}getLuqidityProviders(){this.saveInProgress=!0,this.subscriptions.add(this.adminService.getLiquidityProviders().pipe((0,P.s)(1)).subscribe(({list:t})=>{this.liquidityProviders=t,this.onSave()},()=>{""===this.auth.token&&this.router.navigateByUrl("/")}))}onSave(){const t=this.liquidityProviders.find(o=>o.name?.id===this.form.get("liquidityProvider")?.value),i=parseFloat(this.form.get("rate")?.value),n=this.adminService.createCurrencyPair(this.form.get("fromCurrency")?.value,this.form.get("toCurrency")?.value,t?.liquidityProviderId??"",i);this.subscriptions.add(n.subscribe(()=>{this.saveInProgress=!1,this.save.emit()},o=>{this.saveInProgress=!1,this.errorMessage=o,""===this.auth.token&&this.router.navigateByUrl("/")}))}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(d.ze),e.rXU(w.Ix),e.rXU(I.u),e.rXU(xe.X),e.rXU(E))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-currencypairs-details"]],inputs:{permission:"permission",pair:"pair"},outputs:{save:"save",close:"close"},decls:42,vars:20,consts:[[1,"row"],[1,"col-md-12","col-lg-12","col-xl-12","mx-auto","d-block"],["novalidate","",3,"ngSubmit","formGroup"],[1,"card","card-body","pd-20","pd-md-40","border","shadow-none"],[1,"form-group"],[1,"col-sm-12"],[1,"col-sm-6","mg-t-10","mg-sm-t-0"],[1,"main-content-label","tx-11","tx-medium","tx-gray-600"],[1,"main-content-label","tx-11","tx-medium","tx-danger"],["bindLabel","display","bindValue","symbol","formControlName","fromCurrency","required","",3,"items","clearable","clearOnBackspace"],["class","tx-danger",4,"ngIf"],["bindLabel","display","bindValue","symbol","formControlName","toCurrency","required","",3,"items","clearable","clearOnBackspace"],["bindLabel","name","bindValue","id","formControlName","liquidityProvider","required","",3,"items","clearable","clearOnBackspace"],["type","text","formControlName","rate","required","",1,"form-control",3,"ngClass"],["class","card card-body card-danger pd-20 pd-md-40 border shadow-none",4,"ngIf"],[2,"display","flex","justify-content","flex-end"],["class","btn btn-primary pd-x-30 me-2 mg-t-5",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","pd-x-30","mg-t-5",3,"click"],[1,"tx-danger"],[1,"card","card-body","card-danger","pd-20","pd-md-40","border","shadow-none"],[1,"card-title2","mg-b-20","color_brown"],[1,"btn","btn-primary","pd-x-30","me-2","mg-t-5"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"form",2),e.bIt("ngSubmit",function(){return n.onSubmit()}),e.j41(3,"div",3)(4,"div",4)(5,"div",0)(6,"div",5)(7,"div",0)(8,"div",6)(9,"label",7),e.EFF(10," Currency From "),e.j41(11,"span",8),e.EFF(12,"*"),e.k0s()(),e.nrm(13,"ng-select",9),e.DNE(14,ax,3,0,"div",10),e.k0s(),e.j41(15,"div",6)(16,"label",7),e.EFF(17," Currency To "),e.j41(18,"span",8),e.EFF(19,"*"),e.k0s()(),e.nrm(20,"ng-select",11),e.DNE(21,nx,3,0,"div",10),e.k0s()()()()(),e.j41(22,"div",4)(23,"label",7),e.EFF(24," Liquidity provider "),e.j41(25,"span",8),e.EFF(26,"*"),e.k0s()(),e.nrm(27,"ng-select",12),e.DNE(28,ix,3,0,"div",10),e.k0s(),e.j41(29,"div",4)(30,"label",7),e.EFF(31," Exchange rate "),e.j41(32,"span",8),e.EFF(33,"*"),e.k0s()(),e.nrm(34,"input",13),e.DNE(35,rx,3,0,"div",10)(36,ox,3,0,"div",10),e.k0s()(),e.DNE(37,sx,3,1,"div",14),e.j41(38,"div",15),e.DNE(39,dx,3,1,"button",16),e.j41(40,"button",17),e.bIt("click",function(){return n.close.emit()}),e.EFF(41," Close "),e.k0s()()()()()),2&i&&(e.R7$(2),e.Y8G("formGroup",n.form),e.R7$(11),e.Y8G("items",n.currencyOptions)("clearable",!1)("clearOnBackspace",!1),e.R7$(),e.Y8G("ngIf",(n.form.controls.fromCurrency.touched||n.submitted)&&(null==n.form.controls.fromCurrency.errors?null:n.form.controls.fromCurrency.errors.required)),e.R7$(6),e.Y8G("items",n.currencyOptions)("clearable",!1)("clearOnBackspace",!1),e.R7$(),e.Y8G("ngIf",(n.form.controls.toCurrency.touched||n.submitted)&&(null==n.form.controls.toCurrency.errors?null:n.form.controls.toCurrency.errors.required)),e.R7$(6),e.Y8G("items",n.liquidityProviderOptions)("clearable",!1)("clearOnBackspace",!1),e.R7$(),e.Y8G("ngIf",(n.form.controls.liquidityProvider.touched||n.submitted)&&(null==n.form.controls.liquidityProvider.errors?null:n.form.controls.liquidityProvider.errors.required)),e.R7$(6),e.Y8G("ngClass",e.eq3(18,tx,!n.form.controls.rate.valid)),e.R7$(),e.Y8G("ngIf",(n.form.controls.rate.touched||n.submitted)&&(null==n.form.controls.rate.errors?null:n.form.controls.rate.errors.required)),e.R7$(),e.Y8G("ngIf",null==n.form.controls.rate.errors?null:n.form.controls.rate.errors.pattern),e.R7$(),e.Y8G("ngIf",""!==n.errorMessage),e.R7$(2),e.Y8G("ngIf",n.permission>1))},dependencies:[h.YU,h.bT,d.qT,d.me,d.BC,d.cb,d.YS,d.j4,d.JD,te],styles:[".dark-theme .mat-mdc-button,   .dark-theme .mat-mdc-icon-button,   .dark-theme .mat-mdc-outlined-button{color:#b7c0d6!important}  .dark-theme .mat-form-field-label{color:#eee}  .dark-theme .mat-datepicker-content{background-color:#373d51;color:#ffffffde}  .dark-theme .mat-calendar-table-header,   .dark-theme .mat-calendar-body-label{color:#fff}@media (hover: hover){  .dark-theme .mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#2a2e3f}}  .dark-theme .mat-calendar-body-cell-content,   .dark-theme .mat-date-range-input-separator{color:#e1e1ef}  .dark-theme .ngb-dp-header{background-color:#343545}  .dark-theme .ngb-dp-weekdays{background-color:#343545}  .rtl .color-picker{left:initial!important}  .transparent-theme .card .box{background:#2da28f}  .transparent-theme .hex-text,   .transparent-theme .rgba-text{background:#2da28f}  .transparent-theme .mat-datepicker-content{background-color:#2da28f;color:#ffffffde}  .transparent-theme .mat-datepicker-toggle,   .transparent-theme .mat-datepicker-content .mat-calendar-next-button,   .transparent-theme .mat-datepicker-content .mat-calendar-previous-button{color:#ffffff81}  .transparent-theme .mat-calendar-body-cell-content,   .transparent-theme .mat-date-range-input-separator{color:#ffffffd3}  .transparent-theme .mat-calendar-table-header,   .transparent-theme .mat-calendar-body-label{color:#fff9}  .transparent-theme .ngb-dp-header{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekdays{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekday{color:#000}  .transparent-theme .ng-select .ng-arrow-wrapper .ng-arrow{border-top-color:#fff!important}  .transparent-theme .ng-select.ng-select-opened .ng-arrow-wrapper .ng-arrow{border-bottom-color:#fff!important}  .form-controls{display:block;color:#fff;border:transparent;outline:none;width:100%;height:40px;padding:.375rem .75rem;font-size:.875rem;font-weight:400;line-height:2;background-clip:padding-box;border-radius:5px;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}  button[type=button]{z-index:0!important}",".has-error[_ngcontent-%COMP%]{border:1px solid #f16d75}.tx-danger[_ngcontent-%COMP%]{color:red!important}"]})}return a})();const mx=()=>["Home","Settings"];function px(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG(),o=e.sdS(36);return e.Njj(n.addCurrencyPair(o))}),e.EFF(1," Currency Pair "),e.k0s()}}function ux(a,r){1&a&&e.nrm(0,"mat-progress-bar",30)}function hx(a,r){1&a&&e.nrm(0,"th",31)}function fx(a,r){1&a&&(e.j41(0,"i",34),e.EFF(1," lock "),e.k0s())}function gx(a,r){if(1&a&&(e.j41(0,"td",32),e.DNE(1,fx,2,0,"i",33),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.Y8G("ngIf",t.disabled)}}function _x(a,r){1&a&&(e.j41(0,"th",35),e.EFF(1," ID "),e.k0s())}function bx(a,r){if(1&a&&(e.j41(0,"td",32),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.currencyPairLiquidityProviderId," ")}}function vx(a,r){1&a&&(e.j41(0,"th",36),e.EFF(1," Currency From "),e.k0s())}function yx(a,r){if(1&a&&(e.j41(0,"td",32),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.fromCurrency," ")}}function Cx(a,r){1&a&&(e.j41(0,"th",37),e.EFF(1," Currency To "),e.k0s())}function kx(a,r){if(1&a&&(e.j41(0,"td",32),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.toCurrency," ")}}function Fx(a,r){1&a&&(e.j41(0,"th",37),e.EFF(1," Rate "),e.k0s())}function Tx(a,r){if(1&a&&(e.j41(0,"td",32),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.fixedRate," ")}}function xx(a,r){1&a&&(e.j41(0,"th",37),e.EFF(1," Provider Name "),e.k0s())}function wx(a,r){if(1&a&&(e.j41(0,"td",32),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.liquidityProviderName.name," ")}}function Sx(a,r){1&a&&e.nrm(0,"th",38)}function Dx(a,r){if(1&a){const t=e.RV6();e.j41(0,"td",32)(1,"button",39),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG(),s=e.sdS(38);return e.Njj(o.deleteCurrencyPair(n,s))}),e.j41(2,"i",34),e.EFF(3," delete "),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(),e.BMQ("aria-label","Delete API Key")("aria-pressed",!!t.selectedPair)}}function Ix(a,r){1&a&&e.nrm(0,"tr",40)}function Ex(a,r){1&a&&e.nrm(0,"tr",41)}function Px(a,r){1&a&&(e.j41(0,"div",48)(1,"i",49),e.EFF(2,"first_page"),e.k0s()())}function Ax(a,r){1&a&&(e.j41(0,"div",48)(1,"i",49),e.EFF(2,"keyboard_arrow_left"),e.k0s()())}function Rx(a,r){1&a&&(e.j41(0,"div",48)(1,"i",49),e.EFF(2,"keyboard_arrow_right"),e.k0s()())}function Ox(a,r){1&a&&(e.j41(0,"div",48)(1,"i",49),e.EFF(2,"last_page"),e.k0s()())}function jx(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",42)(1,"ngb-pagination",43),e.bIt("pageChange",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.handlePage(n))}),e.DNE(2,Px,3,0,"ng-template",44)(3,Ax,3,0,"ng-template",45)(4,Rx,3,0,"ng-template",46)(5,Ox,3,0,"ng-template",47),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("collectionSize",t.keyCount)("pageSize",t.pageSize)("boundaryLinks",!0)("maxSize",10)}}function $x(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",50)(1,"h5",51),e.EFF(2," Add a new Currency Pair "),e.k0s(),e.j41(3,"button",52),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onClose())}),e.j41(4,"span",53),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",54)(7,"app-admin-currencypairs-details",55),e.bIt("save",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSaveKey())})("close",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onClose())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(7),e.Y8G("permission",t.permission)("pair",t.selectedPair)}}function Mx(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",50)(1,"h5",51),e.EFF(2,"Delete API key"),e.k0s(),e.j41(3,"button",52),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",53),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",54)(7,"h4",56),e.EFF(8," You are going to remove the API key. Confirm operation. "),e.k0s(),e.j41(9,"div",57)(10,"button",58),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Reject"))}),e.EFF(11," Reject "),e.k0s(),e.j41(12,"button",59),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.close("Confirm"))}),e.EFF(13," Confirm "),e.k0s()()()}}let Nx=(()=>{class a{constructor(t,i,n,o,s){this.modalService=t,this.auth=i,this.adminService=n,this.clipboard=o,this.router=s,this.displayedColumns=["lock","id","currencyFrom","currencyTo","fixedRate","liquidityProviderName","delete"],this.inProgress=!1,this.errorMessage="",this.permission=0,this.currencyPairs=[],this.selectedPair=void 0,this.apiKey="",this.secret="",this.keyCount=0,this.pageSize=50,this.pageIndex=0,this.sortedField="currencyTo",this.sortedDesc=!0,this.subscriptions=new R.yU,this.detailsDialog=void 0,this.createDialog=void 0,this.permission=this.auth.isPermittedObjectCode(c.G4.Settings)}ngOnInit(){this.loadPairs()}ngOnDestroy(){this.subscriptions.unsubscribe()}ngAfterViewInit(){this.subscriptions.add(this.sort.sortChange.subscribe(()=>{this.sortedDesc="desc"===this.sort.direction,this.sortedField=this.sort.active,this.loadPairs()}))}handlePage(t){this.pageIndex=t-1,this.loadPairs()}addCurrencyPair(t,i){i&&(this.selectedPair=this.currencyPairs.find(n=>n.currencyPairLiquidityProviderId==i)),this.detailsDialog=this.modalService.open(t,{backdrop:"static",windowClass:"modalCusSty"})}deleteCurrencyPair(t,i){this.selectedPair=t,this.createDialog=this.modalService.open(i,{backdrop:"static",windowClass:"modalCusSty"}),this.subscriptions.add(this.createDialog.closed.subscribe(()=>{this.removeCurrencyPairConfirmed(t.currencyPairLiquidityProviderId)}))}removeCurrencyPairConfirmed(t){this.errorMessage="";const i=this.adminService.deleteCurrencyPair(t);this.subscriptions.add(i.subscribe(()=>this.loadPairs(),n=>this.errorMessage=n))}loadPairs(){let t=this.sortedField;""===t?t="created":"title"===t&&(t="apiKeyId"),this.currencyPairs=[],this.inProgress=!0;const i=this.adminService.getCurrencyPairLiquidityProviders().pipe((0,P.s)(1));this.subscriptions.add(i.subscribe(({list:n,count:o})=>{this.currencyPairs=n,this.keyCount=o,this.inProgress=!1},()=>{this.inProgress=!1,""===this.auth.token&&this.router.navigateByUrl("/")}))}onSaveKey(){this.detailsDialog&&(this.detailsDialog.close(),this.loadPairs(),this.selectedPair=void 0)}onClose(){this.detailsDialog&&(this.detailsDialog.dismiss("Close"),this.selectedPair=void 0)}copySecret(t){this.clipboard.copy(t)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(_.Bq),e.rXU(I.u),e.rXU(E),e.rXU(Pt.B0),e.rXU(w.Ix))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-currencypairs"]],viewQuery:function(i,n){if(1&i&&e.GBs($.B4,5),2&i){let o;e.mGM(o=e.lsd())&&(n.sort=o.first)}},decls:39,vars:12,consts:[["create_content",""],["delete_content",""],[3,"title","items","active_item"],[1,"row","row-sm"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],[1,"table-button-container"],["type","button","class","btn btn-primary me-2",3,"click",4,"ngIf"],["color","accent","mode","indeterminate",4,"ngIf"],[1,"data-table"],["matSort","","matSortDirection","desc","matSortDisableClear","",3,"matSortActive","dataSource"],["matColumnDef","lock","sticky",""],["mat-header-cell","","class","mat-column-apikey-table mat-column-apikey-table-lock",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","","class","mat-column-currencypairs-table mat-column-currencypairs-table-title",4,"matHeaderCellDef"],["matColumnDef","currencyFrom"],["mat-header-cell","","class","mat-column-currencypairs-table mat-column-currencypairs-table-user",4,"matHeaderCellDef"],["matColumnDef","currencyTo"],["mat-header-cell","","mat-sort-header","","class","mat-column-currencypairs-table mat-column-currencypairs-table-created",4,"matHeaderCellDef"],["matColumnDef","fixedRate"],["matColumnDef","liquidityProviderName"],["matColumnDef","delete","sticky",""],["mat-header-cell","","class","mat-column-currencypairs-table mat-column-currencypairs-table-delete",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","card card-body border shadow-none",4,"ngIf"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["color","accent","mode","indeterminate"],["mat-header-cell","",1,"mat-column-apikey-table","mat-column-apikey-table-lock"],["mat-cell",""],["class","material-icons tx-20",4,"ngIf"],[1,"material-icons","tx-20"],["mat-header-cell","","mat-sort-header","",1,"mat-column-currencypairs-table","mat-column-currencypairs-table-title"],["mat-header-cell","",1,"mat-column-currencypairs-table","mat-column-currencypairs-table-user"],["mat-header-cell","","mat-sort-header","",1,"mat-column-currencypairs-table","mat-column-currencypairs-table-created"],["mat-header-cell","",1,"mat-column-currencypairs-table","mat-column-currencypairs-table-delete"],["type","button","mat-icon-button","","matTooltip","Delete API Key","matTooltipClass","info-tooltip",1,"row-button",3,"click"],["mat-header-row",""],["mat-row",""],[1,"card","card-body","border","shadow-none"],["aria-label","Table pagination",1,"d-flex","justify-content-center",3,"pageChange","collectionSize","pageSize","boundaryLinks","maxSize"],["ngbPaginationFirst",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationLast",""],[1,"ng-pagination-nav-icons"],[1,"material-icons"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"save","close","permission","pair"],[1,"tx-center"],[2,"display","flex","flex-direction","row","justify-content","center","align-items","center"],["type","button",1,"btn","btn-outline-secondary","pd-x-30","me-2","mg-t-5",3,"click"],["type","button",1,"btn","btn-primary","pd-x-30","mg-t-5",3,"click"]],template:function(i,n){1&i&&(e.nrm(0,"app-admin-page-header",2),e.j41(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"div",8),e.DNE(7,px,2,0,"button",9),e.k0s(),e.DNE(8,ux,1,0,"mat-progress-bar",10),e.j41(9,"div",11)(10,"mat-table",12),e.qex(11,13),e.DNE(12,hx,1,0,"th",14)(13,gx,2,1,"td",15),e.bVm(),e.qex(14,16),e.DNE(15,_x,2,0,"th",17)(16,bx,2,1,"td",15),e.bVm(),e.qex(17,18),e.DNE(18,vx,2,0,"th",19)(19,yx,2,1,"td",15),e.bVm(),e.qex(20,20),e.DNE(21,Cx,2,0,"th",21)(22,kx,2,1,"td",15),e.bVm(),e.qex(23,22),e.DNE(24,Fx,2,0,"th",21)(25,Tx,2,1,"td",15),e.bVm(),e.qex(26,23),e.DNE(27,xx,2,0,"th",21)(28,wx,2,1,"td",15),e.bVm(),e.qex(29,24),e.DNE(30,Sx,1,0,"th",25)(31,Dx,4,2,"td",15),e.bVm(),e.DNE(32,Ix,1,0,"tr",26)(33,Ex,1,0,"tr",27),e.k0s()(),e.DNE(34,jx,6,4,"div",28)(35,$x,8,2,"ng-template",null,0,e.C5r)(37,Mx,14,0,"ng-template",null,1,e.C5r),e.k0s()()()()()),2&i&&(e.Y8G("title","Currency Pairs")("items",e.lJ4(11,mx))("active_item","Currency Pairs"),e.R7$(7),e.Y8G("ngIf",n.permission>1),e.R7$(),e.Y8G("ngIf",n.inProgress),e.R7$(2),e.Y8G("matSortActive",n.sortedField)("dataSource",n.currencyPairs),e.R7$(22),e.Y8G("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),e.R7$(),e.Y8G("matRowDefColumns",n.displayedColumns),e.R7$(),e.Y8G("ngIf",n.keyCount>n.pageSize))},dependencies:[h.bT,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,$.B4,$.aE,_.s5,_.gA,_.ug,_.PB,_.hO,ie.oV,K.iY,z.HM,X,cx],styles:[".datatable-body{height:600px!important;overflow:scroll;width:100%}  .dataTable-bottom{position:absolute;left:0;right:0;bottom:0;background:#fff!important}  table th,   table td,   .ngx-datatable.material .datatable-header .datatable-header-cell,   .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{font-size:.876rem!important}@media (max-width: 567.9px){  .ngx-datatable .datatable-footer .datatable-footer-inner{flex-wrap:wrap;height:auto!important}  .ngx-datatable .datatable-footer .datatable-pager{text-align:center!important}}  .dataTable-wrapper.no-footer .dataTable-container{border-bottom:none!important}  .dataTable-selector{border-radius:.25rem}  app-data-table input{border-radius:25px;border:1px solid rgba(0,0,0,.1)}  app-data-table .custom-select{border:1px solid rgba(0,0,0,.24)!important;border-radius:.25rem}.table-responsive[_ngcontent-%COMP%]{overflow:visible}  .dark-theme input::placeholder{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material{background-color:#2a2e3f!important}  .dark-theme app-data-tables .dataTable-bottom{background-color:#2a2e3f!important}  .dark-theme app-data-tables .dataTable-selector{background-color:#2a2e3f;border-color:#272c49;color:#fff;outline:none}  .dark-theme app-data-tables input{color:#eee!important;background-color:#2a2e3f!important;border-color:#262b48;border-radius:25px;height:27px}  .dark-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .dark-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#2a2e3f;color:#fff}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid rgb(39,43,74)!important;color:#fff!important;background:#2a2e3f!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #32394e!important}  .dark-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .dark-theme app-data-tables .dataTable-pagination li:hover a,   .dark-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .dark-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .dark-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .dark-theme app-data-tables .mat-mdc-table{background:#2a2e3f!important}  .dark-theme app-data-tables .mat-mdc-header-cell{color:#fff!important}  .dark-theme app-data-tables .mat-mdc-cell,   .dark-theme app-data-tables .mat-mdc-footer-cell{color:#eee!important}  .dark-theme app-data-tables mat-row,   .dark-theme app-data-tables mat-header-row,   .dark-theme app-data-tables mat-footer-row,   .dark-theme app-data-tables th.mat-mdc-header-cell,   .dark-theme app-data-tables td.mat-mdc-cell,   .dark-theme app-data-tables td.mat-mdc-footer-cell{border-bottom-color:#ffffff1f!important}  .dark-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .dark-theme app-data-tables .mat-mdc-paginator,   .dark-theme app-data-tables .mat-mdc-paginator-page-size .mat-mdc-select-trigger{color:#ffffff8a!important}  .dark-theme app-data-tables .mat-mdc-paginator{background:#2a2e3f}  .dark-theme app-data-tables .mat-mdc-select-value{color:#fff7f7de}  .dark-theme app-data-tables .mat-mdc-select-arrow{color:#ffffffba}  .dark-theme .mat-mdc-select-panel{background:#30304d}  .dark-theme .mat-mdc-option{color:#ccc}  .dark-theme .mat-primary .mat-mdc-option.mat-selected:not(.mat-option-disabled){color:#fff}  .dark-theme .mat-mdc-option:hover:not(.mat-option-disabled),   .dark-theme .mat-option:focus:not(.mat-option-disabled){background:#2a2a44}  .dark-theme .mat-mdc-select-panel .mat-mdc-option.mat-selected:not(.mat-mdc-option-multiple){background:#0000001f}  .dark-theme .table-hover>tbody>tr:hover>*{color:#fff}  .dark-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme input::placeholder{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material{background-color:#2da28f!important}  .transparent-theme app-data-tables .dataTable-bottom{background-color:#2da28f!important}  .transparent-theme app-data-tables .dataTable-selector{background-color:#2da28f;border-color:#4cb0a0;color:#fff;outline:none}  .transparent-theme app-data-tables input{color:#eee!important;background-color:#2da28f!important;border-color:#4cb0a0;border-radius:25px;height:27px}  .transparent-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .transparent-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#2da28f;color:#fff}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid #4cb0a0!important;color:#fff!important;background:#2da28f!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #4cb0a0!important}  .transparent-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .transparent-theme app-data-tables .dataTable-pagination li:hover a,   .transparent-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .transparent-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .transparent-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .transparent-theme app-data-tables .mat-mdc-table{background:#2da28f!important}  .transparent-theme app-data-tables .mat-mdc-header-cell{color:#fff!important}  .transparent-theme app-data-tables .mat-mdc-cell,   .transparent-theme app-data-tables .mat-mdc-footer-cell{color:#eee!important}  .transparent-theme app-data-tables mat-row,   .transparent-theme app-data-tables mat-header-row,   .transparent-theme app-data-tables mat-footer-row,   .transparent-theme app-data-tables th.mat-mdc-header-cell,   .transparent-theme app-data-tables td.mat-mdc-cell,   .transparent-theme app-data-tables td.mat-mdc-footer-cell{border-bottom-color:#ffffff1f!important}  .transparent-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .transparent-theme app-data-tables .mat-mdc-paginator,   .transparent-theme app-data-tables .mat-mdc-paginator-page-size .mat-mdc-select-trigger{color:#ffffff8a!important}  .transparent-theme app-data-tables .mat-mdc-paginator{background:#2da28f}  .transparent-theme app-data-tables .mat-mdc-select-value{color:#fff7f7de}  .transparent-theme app-data-tables .mat-mdc-select-arrow{color:#ffffffba}  .transparent-theme .mat-mdc-select-panel{background:#30304d}  .transparent-theme .mat-mdc-option{color:#ccc}  .transparent-theme .mat-primary .mat-mdc-option.mat-selected:not(.mat-option-disabled){color:#fff}  .transparent-theme .mat-mdc-option:hover:not(.mat-option-disabled),   .transparent-theme .mat-option:focus:not(.mat-option-disabled){background:#2a2a44}  .transparent-theme .mat-mdc-select-panel .mat-mdc-option.mat-selected:not(.mat-mdc-option-multiple){background:#0000001f}  .transparent-theme .table-hover>tbody>tr:hover>*{color:#fff}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{background-color:#248272!important}.data-table[_ngcontent-%COMP%]{flex:1 1 0;overflow:auto;margin-top:5px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]{display:table;min-width:100%}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:32px;line-height:32px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   tr.mat-mdc-header-row[_ngcontent-%COMP%]{height:40px;line-height:40px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]{padding:0 4px;white-space:nowrap;font-size:16px;font-weight:400;color:#0000008a;font-family:Roboto,sans-serif}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell.action[_ngcontent-%COMP%]{width:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]{padding:1px 4px 0;line-height:29px;white-space:nowrap}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%]{width:16px;height:16px;font-size:16px;vertical-align:middle;position:relative;top:-1px}.data-table[_ngcontent-%COMP%]   .row-button[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0;position:relative;top:5px;padding:1px}.data-table[_ngcontent-%COMP%]   .row-button[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:16px;height:16px;width:16px;line-height:16px}.data-table[_ngcontent-%COMP%]   .row-icon[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0;position:relative;top:5px}mat-mdc-paginator[_ngcontent-%COMP%]{flex:0 0 auto}table[_ngcontent-%COMP%]{width:100%}.table-button-container[_ngcontent-%COMP%]{padding-bottom:16px}.mat-column-currencypairs-table[_ngcontent-%COMP%]{word-wrap:break-word;white-space:unset;overflow-wrap:break-word;word-break:break-word;-webkit-hyphens:auto;hyphens:auto}.mat-column-currencypairs-table-title[_ngcontent-%COMP%]{flex:0 0 40%;width:40%;min-width:4em}.mat-column-currencypairs-table-user[_ngcontent-%COMP%]{flex:0 0 30%;width:30%;min-width:3em}.mat-column-currencypairs-table-created[_ngcontent-%COMP%]{flex:0 0 20%;width:20%;min-width:2em}.mat-column-currencypairs-table-delete[_ngcontent-%COMP%], .mat-column-currencypairs-table-lock[_ngcontent-%COMP%]{flex:0 0 5%;width:5%;min-width:1em}.ng-pagination-nav-icons[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:12px}"]})}return a})();const Vx=()=>["Home","Settings"];let Gx=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-faq-page"]],decls:6,vars:4,consts:[[3,"title","items","active_item"],[1,"row","row-sm"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],["src",e.wXG`https://www.notioniframe.com/notion/1ttsfo0ctk4`,1,"notion-wrapper"]],template:function(i,n){1&i&&(e.nrm(0,"app-admin-page-header",0),e.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e.nrm(5,"iframe",5),e.k0s()()()()),2&i&&e.Y8G("title","FAQ")("items",e.lJ4(3,Vx))("active_item","FAQ")},dependencies:[X],styles:[".notion-wrapper[_ngcontent-%COMP%]{width:100%;height:100vh;border:0;padding:0}"]})}return a})();const jt=a=>({"has-error":a});function Bx(a,r){1&a&&e.nrm(0,"span",65)}function Ux(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",63),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.flagValue())}),e.DNE(1,Bx,1,0,"span",64),e.EFF(2),e.k0s()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.flagInProgress),e.R7$(),e.SpI(" ",t.flagText()," ")}}function Lx(a,r){if(1&a&&(e.EFF(0),e.nrm(1,"br"),e.j41(2,"small"),e.EFF(3),e.k0s()),2&a){const t=r.item;e.SpI(" ",t.title," "),e.R7$(3),e.JRh(t.id)}}function Yx(a,r){if(1&a&&(e.j41(0,"div",12)(1,"label",13),e.EFF(2," Widget ID "),e.k0s(),e.j41(3,"ng-select",66),e.nI1(4,"async"),e.DNE(5,Lx,4,2,"ng-template",15),e.k0s()()),2&a){const t=e.XpG();e.R7$(3),e.Y8G("items",e.bMT(4,4,t.widgetOptions$))("searchFn",t.widgetSearchFn)("clearable",!1)("clearOnBackspace",!1)}}function qx(a,r){if(1&a){const t=e.RV6();e.j41(0,"app-admin-details-item",67),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onClose())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("value","Related widgets")("linkUrl","/admin/widgets/"+(null==t.userData?null:t.userData.id))}}function Wx(a,r){if(1&a&&(e.EFF(0),e.nrm(1,"br"),e.j41(2,"small"),e.EFF(3),e.k0s()),2&a){const t=r.item;e.SpI(" ",t.title," "),e.R7$(3),e.JRh(t.id)}}function Xx(a,r){1&a&&(e.j41(0,"div",68)(1,"small"),e.EFF(2," Please specify the account status "),e.k0s()())}function zx(a,r){1&a&&(e.j41(0,"div",68)(1,"small"),e.EFF(2," Please specify the risk level "),e.k0s()())}function Hx(a,r){1&a&&(e.j41(0,"div",68)(1,"small"),e.EFF(2," Please specify the user KYC provider "),e.k0s()())}function Kx(a,r){1&a&&(e.j41(0,"div",68)(1,"small"),e.EFF(2," Please specify the user verification level "),e.k0s()())}function Jx(a,r){if(1&a&&e.nrm(0,"app-admin-details-item",69),2&a){const t=e.XpG();e.Y8G("value",t.kycProviderLink)("linkUrl",t.kycProviderLink)}}function Qx(a,r){1&a&&e.nrm(0,"span",65)}function Zx(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",12)(1,"button",70),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onKycProviderLink())}),e.DNE(2,Qx,1,0,"span",64),e.EFF(3," KYC Verification "),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(2),e.Y8G("ngIf",t.kycProviderLinkInProgress)}}function e3(a,r){1&a&&(e.j41(0,"div",68)(1,"small"),e.EFF(2," Email is required "),e.k0s()())}function t3(a,r){1&a&&(e.j41(0,"div",68)(1,"small"),e.EFF(2," Please specify the company name "),e.k0s()())}function a3(a,r){if(1&a&&(e.j41(0,"div",12)(1,"label",13),e.EFF(2," Company "),e.j41(3,"span",17),e.EFF(4,"*"),e.k0s()(),e.nrm(5,"input",71),e.DNE(6,t3,3,0,"div",19),e.k0s()),2&a){const t=e.XpG();e.R7$(5),e.Y8G("ngClass",e.eq3(2,jt,(t.dataForm.controls.company.touched||t.submitted)&&!t.dataForm.controls.company.valid)),e.R7$(),e.Y8G("ngIf",(t.dataForm.controls.company.touched||t.submitted)&&(null==t.dataForm.controls.company.errors?null:t.dataForm.controls.company.errors.required))}}function n3(a,r){1&a&&(e.j41(0,"div",68)(1,"small"),e.EFF(2," Please specify the customer name "),e.k0s()())}function r3(a,r){if(1&a&&(e.j41(0,"div",12)(1,"label",13),e.EFF(2," First Name "),e.j41(3,"span",17),e.EFF(4,"*"),e.k0s()(),e.nrm(5,"input",72),e.DNE(6,n3,3,0,"div",19),e.k0s()),2&a){const t=e.XpG();e.R7$(5),e.Y8G("ngClass",e.eq3(2,jt,(t.dataForm.controls.firstName.touched||t.submitted)&&!t.dataForm.controls.firstName.valid)),e.R7$(),e.Y8G("ngIf",(t.dataForm.controls.firstName.touched||t.submitted)&&(null==t.dataForm.controls.firstName.errors?null:t.dataForm.controls.firstName.errors.required))}}function o3(a,r){1&a&&(e.j41(0,"div",68)(1,"small"),e.EFF(2," Please specify the customer name "),e.k0s()())}function s3(a,r){if(1&a&&(e.j41(0,"div",12)(1,"label",13),e.EFF(2," Last Name "),e.k0s(),e.nrm(3,"input",73),e.DNE(4,o3,3,0,"div",19),e.k0s()),2&a){const t=e.XpG();e.R7$(3),e.Y8G("ngClass",e.eq3(2,jt,(t.dataForm.controls.lastName.touched||t.submitted)&&!t.dataForm.controls.lastName.valid)),e.R7$(),e.Y8G("ngIf",(t.dataForm.controls.lastName.touched||t.submitted)&&(null==t.dataForm.controls.lastName.errors?null:t.dataForm.controls.lastName.errors.required))}}function l3(a,r){if(1&a&&(e.j41(0,"div",12)(1,"label",13),e.EFF(2," Gender "),e.k0s(),e.nrm(3,"ng-select",74),e.k0s()),2&a){const t=e.XpG();e.R7$(3),e.Y8G("items",t.genders)("clearable",!1)("clearOnBackspace",!1)}}function d3(a,r){1&a&&(e.j41(0,"div",68)(1,"small"),e.EFF(2," Please specify the birthday "),e.k0s()())}function c3(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",12)(1,"label",13),e.EFF(2," Birthday "),e.k0s(),e.j41(3,"input",75,2),e.bIt("click",function(){e.eBV(t);const n=e.sdS(4);return e.Njj(n.toggle())}),e.k0s(),e.DNE(5,d3,3,0,"div",19),e.k0s()}if(2&a){const t=e.XpG();e.R7$(3),e.Y8G("minDate",t.minBirthdayDate)("maxDate",t.maxBirthdayDate),e.R7$(2),e.Y8G("ngIf",(t.dataForm.controls.birthday.touched||t.submitted)&&(null==t.dataForm.controls.birthday.errors?null:t.dataForm.controls.birthday.errors.required))}}function m3(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",76),e.bIt("click",function(){e.eBV(t);const n=e.XpG(),o=e.sdS(167);return e.Njj(n.onResetPassword(o))}),e.EFF(1," Reset password "),e.k0s()}}function p3(a,r){1&a&&(e.j41(0,"div",68)(1,"small"),e.EFF(2," Please specify default fiat currency "),e.k0s()())}function u3(a,r){1&a&&(e.j41(0,"div",68)(1,"small"),e.EFF(2," Please specify default crypto currency "),e.k0s()())}function h3(a,r){if(1&a&&(e.j41(0,"ng-option",77),e.nrm(1,"app-dropdown-item",78),e.k0s()),2&a){const t=r.$implicit,i=e.XpG();e.Y8G("value",t.code3),e.R7$(),e.FS9("itemValue",t.name),e.Mz_("imageSource","assets/svg-country-flags/",i.getCountryFlag(t.code2),"")}}function f3(a,r){1&a&&(e.j41(0,"div",68)(1,"small"),e.EFF(2," Please specify the country "),e.k0s()())}function g3(a,r){if(1&a&&(e.j41(0,"div",79)(1,"h4",80),e.EFF(2),e.k0s()()),2&a){const t=e.XpG();e.R7$(2),e.SpI(" ",t.errorMessage," ")}}function _3(a,r){1&a&&e.nrm(0,"span",65)}function b3(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",81),e.bIt("click",function(){e.eBV(t);const n=e.XpG(),o=e.sdS(165);return e.Njj(n.onDeleteCustomer(o))}),e.DNE(1,_3,1,0,"span",64),e.EFF(2),e.k0s()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.disableInProgress),e.R7$(),e.SpI(" ",t.disableButtonTitle," ")}}function v3(a,r){1&a&&e.nrm(0,"span",65)}function y3(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",70),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSubmit())}),e.DNE(1,v3,1,0,"span",64),e.EFF(2," Save "),e.k0s()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.saveInProgress)}}function C3(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",82)(1,"h5",83),e.EFF(2),e.k0s(),e.j41(3,"button",84),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",85),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",86)(7,"h4",87),e.EFF(8),e.k0s(),e.j41(9,"div",88)(10,"button",89),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Reject"))}),e.EFF(11," Reject "),e.k0s(),e.j41(12,"button",90),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.close("OK"))}),e.EFF(13," Confirm "),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.SpI("",t.disableButtonTitle," customer"),e.R7$(6),e.SpI(" You are going to ",t.disableButtonTitle.toLowerCase()," selected customer. Confirm operation. ")}}function k3(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",82)(1,"h5",83),e.EFF(2," Password reset "),e.k0s(),e.j41(3,"button",84),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",85),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",86)(7,"h4",87),e.EFF(8," Password has been reset successfully "),e.k0s(),e.j41(9,"div",88)(10,"button",70),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("OK"))}),e.EFF(11," OK "),e.k0s()()()}}let F3=(()=>{class a{set customer(t){this.setFormData(t),this.setCurrencies(this.pCurrencies)}set currencies(t){this.pCurrencies=t,this.setCurrencies(t)}get isMerchant(){return this.userData?.userType.id===c.ut.Merchant}constructor(t,i,n,o,s,l){this.formBuilder=t,this.router=i,this.auth=n,this.errorHandler=o,this.modalService=s,this.adminService=l,this.permission=0,this.save=new e.bkB,this.close=new e.bkB,this.pCurrencies=[],this.subscriptions=new R.yU,this.submitted=!1,this.saveInProgress=!1,this.flagInProgress=!1,this.disableInProgress=!1,this.kycProviderLinkInProgress=!1,this.errorMessage="",this.USER_TYPE=c.ut,this.KYC_PROVIDER=c.xN,this.userData=void 0,this.countries=re.rX,this.fiatCurrencies=[],this.cryptoCurrencies=[],this.riskLevels=F.FG,this.accountStatuses=F._8,this.genders=Ce.S6,this.kycProviders=F.dP,this.kycProviderLink="",this.kycDocs=[],this.tiers=[],this.totalBalance="",this.flag=!1,this.usersOptions$=(0,S.of)([]),this.minUsersLengthTerm=1,this.isUsersLoading=!1,this.usersSearchInput$=new y.B,this.minBirthdayDate={year:1900,month:1,day:1},this.maxBirthdayDate={year:(new Date).getFullYear()-17,month:1,day:1},this.disableButtonTitle="Disable",this.removable=!1,this.adminAdditionalSettings={},this.dataForm=this.formBuilder.group({id:[""],email:["",{validators:[d.k0.required],updateOn:"change"}],firstName:["",{validators:[],updateOn:"change"}],lastName:["",{validators:[],updateOn:"change"}],birthday:[null,{validators:[],updateOn:"change"}],gender:[void 0,{validators:[],updateOn:"change"}],country:["",{validators:[d.k0.required],updateOn:"change"}],postCode:["",{validators:[],updateOn:"change"}],town:["",{validators:[],updateOn:"change"}],street:["",{validators:[],updateOn:"change"}],subStreet:["",{validators:[],updateOn:"change"}],stateName:["",{validators:[],updateOn:"change"}],buildingName:["",{validators:[],updateOn:"change"}],buildingNumber:["",{validators:[],updateOn:"change"}],flatNumber:["",{validators:[],updateOn:"change"}],phone:["",{validators:[],updateOn:"change"}],accountStatus:[c.u1.Closed,{validators:[d.k0.required],updateOn:"change"}],risk:[c.qu.Medium,{validators:[d.k0.required],updateOn:"change"}],kycProvider:[c.xN.Local,{validators:[d.k0.required],updateOn:"change"}],tier:["",{validators:[d.k0.required],updateOn:"change"}],fiat:["",{validators:[d.k0.required],updateOn:"change"}],crypto:["",{validators:[d.k0.required],updateOn:"change"}],comment:["",{validators:[],updateOn:"change"}],company:["",{validators:[],updateOn:"change"}],widgetId:[void 0],affiliate:[void 0]})}ngOnInit(){this.initUserSearch(),this.loadCommonSettings(),this.widgetOptions$=this.getFilteredWidgets()}ngOnDestroy(){this.subscriptions.unsubscribe()}getFilteredWidgets(){return this.adminService.getWidgets(0,100,"name",!1,{}).pipe((0,b.T)(t=>t.list.map(i=>({id:i.id,title:i.name}))))}widgetSearchFn(t,i){return t=t.toLocaleLowerCase(),i.title.toLocaleLowerCase().indexOf(t)>-1||i.id&&i.id.toLocaleLowerCase().indexOf(t)>-1}setCurrencies(t){this.userData&&(this.fiatCurrencies=t.filter(i=>!0===i.fiat),this.dataForm.get("fiat")?.setValue(this.userData?.fiatCurrency??""),this.cryptoCurrencies=t.filter(i=>!1===i.fiat),this.dataForm.get("crypto")?.setValue(this.userData.cryptoCurrency??""))}loadCommonSettings(){const t=this.auth.getLocalSettingsCommon();t&&(this.adminAdditionalSettings="string"==typeof t.adminAdditionalSettings?JSON.parse(t.adminAdditionalSettings):t.adminAdditionalSettings,this.kycProviders=this.kycProviders.filter(i=>!0===this.adminAdditionalSettings.kycProviders[i.id]))}setFormData(t){if(this.userData=t,this.errorMessage="",this.dataForm.reset(),t){if(this.flag=!0===t.flag,this.disableButtonTitle=t.deleted?"Enable":"Disable",this.dataForm.get("id")?.setValue(t?.id),this.dataForm.get("email")?.setValue(t?.email),this.dataForm.get("comment")?.setValue(t.comment),t.widgetId&&this.dataForm.get("widgetId")?.setValue(t.widgetId),t.affiliateId&&this.setAffilate(t.affiliateId),t.userType?.id===c.ut.Merchant)this.dataForm.get("company")?.setValue(t?.company),this.dataForm.get("firstName")?.setValue(t?.company),this.dataForm.get("lastName")?.setValue(""),this.dataForm.get("birthday")?.setValue(null),this.dataForm.get("gender")?.setValue(void 0);else if(this.dataForm.get("firstName")?.setValue(t?.firstName),this.dataForm.get("lastName")?.setValue(t?.lastName),this.dataForm.get("gender")?.setValue(t?.gender),t?.birthday){const n=`${t.birthday.getDate()}-${t.birthday.getMonth()+1}-${t.birthday.getFullYear()}`;this.dataForm.get("birthday")?.setValue(n)}else this.dataForm.get("birthday")?.setValue(null);this.dataForm.get("risk")?.setValue(t?.risk??c.qu.Medium),this.dataForm.get("accountStatus")?.setValue(t?.accountStatus??c.u1.Closed),this.dataForm.get("kycProvider")?.setValue(t?.kycProvider??c.xN.Local),this.dataForm.get("tier")?.setValue(t?.kycLevel),this.dataForm.get("country")?.setValue(t?.country?.id),this.dataForm.get("postCode")?.setValue(t?.postCode),this.dataForm.get("town")?.setValue(t?.town),this.dataForm.get("street")?.setValue(t?.street),this.dataForm.get("subStreet")?.setValue(t?.subStreet),this.dataForm.get("stateName")?.setValue(t?.stateName),this.dataForm.get("buildingName")?.setValue(t?.buildingName),this.dataForm.get("buildingNumber")?.setValue(t?.buildingNumber),this.dataForm.get("flatNumber")?.setValue(t?.flatNumber),this.dataForm.get("phone")?.setValue(t?.phone),this.dataForm.get("fiat")?.setValue(t?.fiatCurrency),this.dataForm.get("crypto")?.setValue(t?.cryptoCurrency)}else this.dataForm.get("id")?.setValue(""),this.dataForm.get("email")?.setValue(""),this.dataForm.get("firstName")?.setValue(""),this.dataForm.get("lastName")?.setValue(""),this.dataForm.get("birthday")?.setValue(void 0),this.dataForm.get("widgetId")?.setValue(void 0),this.dataForm.get("affiliate")?.setValue(void 0),this.dataForm.get("gender")?.setValue(void 0),this.dataForm.get("risk")?.setValue(c.qu.Medium),this.dataForm.get("accountStatus")?.setValue(c.u1.Closed),this.dataForm.get("kycProvider")?.setValue(c.xN.Local),this.dataForm.get("tier")?.setValue(""),this.dataForm.get("country")?.setValue(""),this.dataForm.get("postCode")?.setValue(""),this.dataForm.get("town")?.setValue(""),this.dataForm.get("street")?.setValue(""),this.dataForm.get("subStreet")?.setValue(""),this.dataForm.get("stateName")?.setValue(""),this.dataForm.get("buildingName")?.setValue(""),this.dataForm.get("buildingNumber")?.setValue(""),this.dataForm.get("flatNumber")?.setValue(""),this.dataForm.get("phone")?.setValue(""),this.dataForm.get("fiat")?.setValue(""),this.dataForm.get("crypto")?.setValue("");const i=t?.id??"";this.removable=this.auth.user?.userId!==i,t&&(this.getUserKycInfo(i),this.getUserState(i),this.getUserKycTiers(i))}getUserKycInfo(t){this.subscriptions.add(this.adminService.getUserKycInfo(t).pipe((0,P.s)(1)).subscribe(i=>{this.kycDocs=i?.appliedDocuments?.map(n=>n.code)??[]}))}getUserKycTiers(t){this.tiers=[],this.subscriptions.add(this.adminService.getSettingsKycTiers(t).pipe((0,P.s)(1)).subscribe(i=>{this.tiers=i?.list?.map(n=>({id:n.settingsKycTierId,title:n.name}))??[]}))}getUserState(t){this.subscriptions.add(this.adminService.getUserState(t).pipe((0,P.s)(1)).subscribe(i=>{this.kycProviderLink=i?.kycProviderLink??"";let n=0;i?.vaults?.forEach(o=>{n+=o.totalBalanceEur??0}),this.totalBalance=`${n} EUR`}))}setCustomerData(){const t=this.dataForm.get("country")?.value,i=(0,re.Al)(t),n=i?i.code2:"",o=this.dataForm.get("tier")?.value,s=this.tiers.find(u=>u.title===o)?.id,l=this.dataForm.get("gender")?.value??void 0;return{email:this.dataForm.get("email")?.value,firstName:this.dataForm.get("firstName")?.value,lastName:this.dataForm.get("lastName")?.value,birthday:(0,ae.ZC)(this.dataForm.get("birthday")?.value??"","-"),gender:""!==l?l:void 0,countryCode2:n,countryCode3:t,postCode:this.dataForm.get("postCode")?.value,town:this.dataForm.get("town")?.value,street:this.dataForm.get("street")?.value,subStreet:this.dataForm.get("subStreet")?.value,stateName:this.dataForm.get("stateName")?.value,buildingName:this.dataForm.get("buildingName")?.value,buildingNumber:this.dataForm.get("buildingNumber")?.value,flatNumber:this.dataForm.get("flatNumber")?.value,phone:this.dataForm.get("phone")?.value,defaultFiatCurrency:this.dataForm.get("fiat")?.value,defaultCryptoCurrency:this.dataForm.get("crypto")?.value,risk:this.dataForm.get("risk")?.value,accountStatus:this.dataForm.get("accountStatus")?.value,kycTierId:s,kycProvider:this.dataForm.get("kycProvider")?.value,comment:this.dataForm.get("comment")?.value,companyName:this.dataForm.get("company")?.value,flag:this.flag,widgetId:this.dataForm.get("widgetId")?.value,affiliateId:this.dataForm.get("affiliate")?.value}}flagText(){return this.flag?"Unflag":"Flag"}flagValue(){if(this.flagInProgress=!0,this.flag=!0!==this.flag,this.saveInProgress=!0,this.userData?.id){const t=this.adminService.updateUserFlag(this.flag,this.userData.id);this.subscriptions.add(t.pipe((0,V.j)(()=>{this.saveInProgress=!1,this.flagInProgress=!1})).subscribe({next:()=>this.save.emit(),error:i=>{this.errorMessage=i,this.navigateToHome()}}))}}getCountryFlag(t){return`${t.toLowerCase()}.svg`}onKycProviderLink(){this.kycProviderLinkInProgress=!0,this.subscriptions.add(this.adminService.getVerificationLink(this.userData?.id??"").valueChanges.pipe((0,V.j)(()=>this.kycProviderLinkInProgress=!1)).subscribe({next:({data:t})=>{this.kycProviderLinkInProgress=!1,t?.getVerificationLink?this.router.navigate([]).then(()=>window.open(t?.getVerificationLink,"_blank")):(this.errorMessage=this.errorHandler.getCurrentErrorMessage(),this.navigateToHome())},error:t=>{this.kycProviderLinkInProgress=!1,this.errorMessage=t??this.errorHandler.getCurrentErrorMessage(),this.navigateToHome()}}))}onSubmit(){this.submitted=!0,this.dataForm.valid&&this.onSave(this.userData?.id??"",this.setCustomerData(),void 0)}onResetPassword(t){this.onSave(this.userData?.id??"",{email:this.userData?.email??"",changePasswordRequired:!0},t)}onDeleteCustomer(t){const i=this.modalService.open(t,{backdrop:"static",windowClass:"modalCusSty"});this.subscriptions.add(i.closed.subscribe(()=>{this.userData?.deleted?this.onRestore(this.userData?.id??""):this.onDelete(this.userData?.id??"")}))}initUserSearch(){this.usersOptions$=(0,ke.x)((0,S.of)([]),this.usersSearchInput$.pipe((0,W.p)(t=>null!==t&&t.length>=this.minUsersLengthTerm),(0,q.B)(300),(0,Y.F)(),(0,D.M)(()=>{this.isUsersLoading=!0}),(0,J.n)(t=>(this.isUsersLoading=!1,this.adminService.findUsers(new G({search:t,accountTypes:[c.ut.Merchant]})).pipe((0,b.T)(i=>i.list.map(n=>({id:n.id,title:n.email}))))))))}setAffilate(t){this.adminService.findUsers(new G({users:[t]})).pipe((0,b.T)(i=>i.list.map(n=>({id:n.id,title:n.email})))).subscribe(i=>{this.usersOptions$=(0,S.of)(i),this.dataForm.get("affiliate")?.patchValue(t)})}onSave(t,i,n){this.saveInProgress=!0;const o=this.adminService.saveCustomer(t,i);this.subscriptions.add(o.pipe((0,V.j)(()=>{this.saveInProgress=!1,this.flagInProgress=!1})).subscribe({next:()=>{i.changePasswordRequired?this.modalService.open(n,{backdrop:"static",windowClass:"modalCusSty"}):this.auth.user?.userId===t&&(this.auth.setUserName(i.firstName??"",i.lastName??""),this.auth.setUserCurrencies(i.defaultCryptoCurrency??"BTC",i.defaultFiatCurrency??"EUR")),this.save.emit()},error:s=>{this.errorMessage=s,this.navigateToHome()}}))}onDelete(t){this.disableInProgress=!0;const i=this.adminService.deleteCustomer(t);this.subscriptions.add(i.pipe((0,V.j)(()=>this.disableInProgress=!1)).subscribe({next:()=>this.save.emit(),error:n=>{this.errorMessage=n,this.navigateToHome()}}))}onRestore(t){this.disableInProgress=!0;const i=this.adminService.restoreCustomer(t);this.subscriptions.add(i.pipe((0,V.j)(()=>this.disableInProgress=!1)).subscribe({next:()=>this.save.emit(),error:n=>{this.errorMessage=n,this.navigateToHome()}}))}navigateToHome(){""===this.auth.token&&this.router.navigateByUrl("/")}onClose(){this.close.emit()}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(d.ze),e.rXU(w.Ix),e.rXU(I.u),e.rXU(wt.I),e.rXU(_.Bq),e.rXU(E))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-customer-details"]],inputs:{permission:"permission",customer:"customer",currencies:"currencies"},outputs:{save:"save",close:"close"},features:[e.Jv_([{provide:_.dn,useClass:St},{provide:_.tN,useClass:Dt}])],decls:168,vars:71,consts:[["delete_confirm_content",""],["password_change_content",""],["birthday_picker","ngbDatepicker"],["novalidate","",3,"formGroup"],["class","btn btn-primary pd-x-30 mg-t-5","type","button",3,"click",4,"ngIf"],[1,"row"],[1,"col-lg-4","col-md-12"],[1,"card","card-body","pd-20","pd-md-40","border","shadow-none"],[1,"card-title","mg-b-20"],["label","Account Id",3,"value"],["class","form-group",4,"ngIf"],["label","Widgets",3,"value","linkUrl","click",4,"ngIf"],[1,"form-group"],[1,"main-content-label","tx-11","tx-medium","tx-gray-600"],["bindLabel","title","bindValue","id","notFoundText","No users found","formControlName","affiliate","typeToSearchText","Type email or user name","placeholder","Start typing to search a user",3,"items","minTermLength","loading","typeahead"],["ng-option-tmp",""],["label","Referrer Code",3,"value"],[1,"main-content-label","tx-11","tx-medium","tx-danger"],["bindLabel","name","bindValue","id","formControlName","accountStatus","required","",3,"items","clearable","clearOnBackspace"],["class","tx-danger",4,"ngIf"],["label","Risk codes",3,"value"],["bindLabel","name","bindValue","id","formControlName","risk","required","",3,"items","clearable","clearOnBackspace"],["label","Last updated",3,"value"],[1,"card-title","mg-b-20","d-flex","justify-content-between","align-items-center"],[1,"kyc-status-dot",3,"ngClass"],["bindLabel","name","bindValue","id","formControlName","kycProvider","required","",3,"items","clearable","clearOnBackspace"],["bindLabel","title","bindValue","title","formControlName","tier","required","",3,"items","clearable","clearOnBackspace"],["label","Docs Check",3,"value"],["label","KYC Review Date",3,"value"],["label","Docs Check Date",3,"value"],["label","KYC Review Comment",3,"value"],["label","KYC Private Comment",3,"value"],["label","KYC Review Rejected Type",3,"value"],["label","KYC Review Rejected Labels",3,"value"],["label","KYC Review Result",3,"value"],["label","DocsCheck Update Required",3,"value"],["label","Provided documents",3,"value"],["label","KYC Details",3,"value","linkUrl",4,"ngIf"],["label","Mode",3,"value"],["type","text","formControlName","email","maxlength","100","required","",1,"form-control",3,"ngClass"],["label","Age",3,"value"],["type","text","formControlName","phone","maxlength","25",1,"form-control"],[1,"flex-end"],["class","btn btn-outline-secondary","type","button",3,"click",4,"ngIf"],["bindLabel","display","bindValue","symbol","formControlName","fiat","required","",3,"items","clearable","clearOnBackspace"],["bindLabel","display","bindValue","symbol","formControlName","crypto","required","",3,"items","clearable","clearOnBackspace"],["label","Full Address",3,"value"],["formControlName","country","required","",3,"clearable","clearOnBackspace"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","postCode","maxlength","15",1,"form-control"],["type","text","formControlName","town","maxlength","50",1,"form-control"],["type","text","formControlName","street","maxlength","50",1,"form-control"],["type","text","formControlName","subStreet","maxlength","50",1,"form-control"],["type","text","formControlName","stateName","maxlength","25",1,"form-control"],["type","text","formControlName","buildingName","maxlength","25",1,"form-control"],["type","text","formControlName","buildingNumber","maxlength","8",1,"form-control"],["type","text","formControlName","flatNumber","maxlength","8",1,"form-control"],["placeholder","Comment","rows","3","formControlName","comment",1,"form-control","textarea-resize-none"],["class","card card-body card-danger pd-20 pd-md-40 border shadow-none",4,"ngIf"],[1,"flex-space-between"],["class","btn btn-danger pd-x-30 me-2 mg-t-5","type","button",3,"click",4,"ngIf"],["type","button","class","btn btn-primary pd-x-30 me-2 mg-t-5",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","pd-x-30","mg-t-5",3,"click"],["type","button",1,"btn","btn-primary","pd-x-30","mg-t-5",3,"click"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["bindLabel","title","bindValue","id","formControlName","widgetId","required","",3,"items","searchFn","clearable","clearOnBackspace"],["label","Widgets",3,"click","value","linkUrl"],[1,"tx-danger"],["label","KYC Details",3,"value","linkUrl"],["type","button",1,"btn","btn-primary","pd-x-30","me-2","mg-t-5",3,"click"],["type","text","formControlName","company","maxlength","75","required","",1,"form-control",3,"ngClass"],["type","text","formControlName","firstName","maxlength","50","required","",1,"form-control",3,"ngClass"],["type","text","formControlName","lastName","maxlength","50",1,"form-control",3,"ngClass"],["bindLabel","name","bindValue","id","formControlName","gender",3,"items","clearable","clearOnBackspace"],["placeholder","dd/mm/yyyy","name","birthday_picker","ngbDatepicker","","formControlName","birthday",1,"form-control",3,"click","minDate","maxDate"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[3,"value"],["imageClass","country-flag-admin",3,"itemValue","imageSource"],[1,"card","card-body","card-danger","pd-20","pd-md-40","border","shadow-none"],[1,"card-title2","mg-b-20","color_brown"],["type","button",1,"btn","btn-danger","pd-x-30","me-2","mg-t-5",3,"click"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"text-center"],[1,"flex-center"],["type","button",1,"btn","btn-outline-secondary","pd-x-30","me-2","mg-t-5",3,"click"],["type","button",1,"btn","btn-danger","pd-x-30","mg-t-5",3,"click"]],template:function(i,n){if(1&i){const o=e.RV6();e.j41(0,"form",3),e.DNE(1,Ux,3,2,"button",4),e.j41(2,"div",5)(3,"div",6)(4,"div",7)(5,"h5",8),e.EFF(6," Customer info "),e.k0s(),e.nrm(7,"app-admin-details-item",9),e.DNE(8,Yx,6,6,"div",10)(9,qx,1,2,"app-admin-details-item",11),e.j41(10,"div",12)(11,"label",13),e.EFF(12," Referrer "),e.k0s(),e.j41(13,"ng-select",14),e.nI1(14,"async"),e.DNE(15,Wx,4,2,"ng-template",15),e.k0s()(),e.nrm(16,"app-admin-details-item",16),e.k0s(),e.j41(17,"div",7)(18,"h5",8),e.EFF(19," Status "),e.k0s(),e.j41(20,"div",12)(21,"label",13),e.EFF(22," Account Status "),e.j41(23,"span",17),e.EFF(24,"*"),e.k0s()(),e.nrm(25,"ng-select",18),e.DNE(26,Xx,3,0,"div",19),e.k0s(),e.nrm(27,"app-admin-details-item",20),e.j41(28,"div",12)(29,"label",13),e.EFF(30," Risk Level "),e.j41(31,"span",17),e.EFF(32,"*"),e.k0s()(),e.nrm(33,"ng-select",21),e.DNE(34,zx,3,0,"div",19),e.k0s(),e.nrm(35,"app-admin-details-item",22),e.k0s(),e.j41(36,"div",7)(37,"h5",23),e.EFF(38," KYC "),e.nrm(39,"div",24),e.k0s(),e.j41(40,"div",12)(41,"label",13),e.EFF(42," KYC Provider "),e.j41(43,"span",17),e.EFF(44,"*"),e.k0s()(),e.nrm(45,"ng-select",25),e.DNE(46,Hx,3,0,"div",19),e.k0s(),e.j41(47,"div",12)(48,"label",13),e.EFF(49," KYC Level "),e.j41(50,"span",17),e.EFF(51,"*"),e.k0s()(),e.nrm(52,"ng-select",26),e.DNE(53,Kx,3,0,"div",19),e.k0s(),e.nrm(54,"app-admin-details-item",27)(55,"app-admin-details-item",28)(56,"app-admin-details-item",29)(57,"app-admin-details-item",30)(58,"app-admin-details-item",31)(59,"app-admin-details-item",32)(60,"app-admin-details-item",33)(61,"app-admin-details-item",34)(62,"app-admin-details-item",35)(63,"app-admin-details-item",36),e.DNE(64,Jx,1,2,"app-admin-details-item",37)(65,Zx,4,1,"div",10),e.k0s()(),e.j41(66,"div",6)(67,"div",7)(68,"h5",8),e.EFF(69," Personal info "),e.k0s(),e.j41(70,"div",12),e.nrm(71,"app-admin-details-item",38),e.j41(72,"label",13),e.EFF(73," Email "),e.j41(74,"span",17),e.EFF(75,"*"),e.k0s()(),e.nrm(76,"input",39),e.DNE(77,e3,3,0,"div",19),e.k0s(),e.DNE(78,a3,7,4,"div",10)(79,r3,7,4,"div",10)(80,s3,5,4,"div",10)(81,l3,4,3,"div",10),e.nrm(82,"app-admin-details-item",40),e.DNE(83,c3,6,3,"div",10),e.j41(84,"div",12)(85,"label",13),e.EFF(86," Phone "),e.k0s(),e.nrm(87,"input",41),e.k0s(),e.j41(88,"div",42),e.DNE(89,m3,2,0,"button",43),e.k0s()(),e.j41(90,"div",7)(91,"h5",8),e.EFF(92," Other Settings "),e.k0s(),e.j41(93,"div",12)(94,"label",13),e.EFF(95," Default currency "),e.j41(96,"span",17),e.EFF(97,"*"),e.k0s()(),e.nrm(98,"ng-select",44),e.DNE(99,p3,3,0,"div",19),e.k0s(),e.j41(100,"div",12)(101,"label",13),e.EFF(102," Default crypto "),e.j41(103,"span",17),e.EFF(104,"*"),e.k0s()(),e.nrm(105,"ng-select",45),e.DNE(106,u3,3,0,"div",19),e.k0s()()(),e.j41(107,"div",6)(108,"div",7)(109,"h5",8),e.EFF(110," Address "),e.k0s(),e.nrm(111,"app-admin-details-item",46),e.j41(112,"div",12)(113,"label",13),e.EFF(114," Country "),e.j41(115,"span",17),e.EFF(116,"*"),e.k0s()(),e.j41(117,"ng-select",47),e.DNE(118,h3,2,4,"ng-option",48),e.k0s(),e.DNE(119,f3,3,0,"div",19),e.k0s(),e.j41(120,"div",12)(121,"label",13),e.EFF(122," Post Code "),e.k0s(),e.nrm(123,"input",49),e.k0s(),e.j41(124,"div",12)(125,"label",13),e.EFF(126," Town "),e.k0s(),e.nrm(127,"input",50),e.k0s(),e.j41(128,"div",12)(129,"label",13),e.EFF(130," Street (Line 1) "),e.k0s(),e.nrm(131,"input",51),e.k0s(),e.j41(132,"div",12)(133,"label",13),e.EFF(134," Street (Line 2) "),e.k0s(),e.nrm(135,"input",52),e.k0s(),e.j41(136,"div",12)(137,"label",13),e.EFF(138," State "),e.k0s(),e.nrm(139,"input",53),e.k0s(),e.j41(140,"div",12)(141,"label",13),e.EFF(142," Building Name "),e.k0s(),e.nrm(143,"input",54),e.k0s(),e.j41(144,"div",12)(145,"label",13),e.EFF(146," Building Number "),e.k0s(),e.nrm(147,"input",55),e.k0s(),e.j41(148,"div",12)(149,"label",13),e.EFF(150," Flat Number "),e.k0s(),e.nrm(151,"input",56),e.k0s()(),e.j41(152,"div",7)(153,"div",12)(154,"label",13),e.EFF(155," Comment "),e.k0s(),e.nrm(156,"textarea",57),e.k0s(),e.DNE(157,g3,3,1,"div",58),e.j41(158,"div",59),e.DNE(159,b3,3,2,"button",60),e.j41(160,"div",42),e.DNE(161,y3,3,1,"button",61),e.j41(162,"button",62),e.bIt("click",function(){return e.eBV(o),e.Njj(n.onClose())}),e.EFF(163," Close "),e.k0s()()()()()()(),e.DNE(164,C3,14,2,"ng-template",null,0,e.C5r)(166,k3,12,0,"ng-template",null,1,e.C5r)}if(2&i){let o;e.Y8G("formGroup",n.dataForm),e.R7$(),e.Y8G("ngIf",n.permission>0),e.R7$(6),e.Y8G("value",null==n.userData?null:n.userData.referralCode),e.R7$(),e.Y8G("ngIf",n.dataForm.controls.widgetId.value),e.R7$(),e.Y8G("ngIf",n.isMerchant),e.R7$(4),e.Y8G("items",e.bMT(14,67,n.usersOptions$))("minTermLength",n.minUsersLengthTerm)("loading",n.isUsersLoading)("typeahead",n.usersSearchInput$),e.R7$(3),e.Y8G("value",null==n.userData?null:n.userData.affiliateCode),e.R7$(9),e.Y8G("items",n.accountStatuses)("clearable",!1)("clearOnBackspace",!1),e.R7$(),e.Y8G("ngIf",(n.dataForm.controls.accountStatus.touched||n.submitted)&&(null==n.dataForm.controls.accountStatus.errors?null:n.dataForm.controls.accountStatus.errors.required)),e.R7$(),e.Y8G("value",null==n.userData?null:n.userData.riskCodes),e.R7$(6),e.Y8G("items",n.riskLevels)("clearable",!1)("clearOnBackspace",!1),e.R7$(),e.Y8G("ngIf",(n.dataForm.controls.risk.touched||n.submitted)&&(null==n.dataForm.controls.risk.errors?null:n.dataForm.controls.risk.errors.required)),e.R7$(),e.Y8G("value",null==n.userData?null:n.userData.updated),e.R7$(4),e.Y8G("ngClass",null!==(o=null==n.userData?null:n.userData.kycReviewResultColor)&&void 0!==o?o:""),e.R7$(6),e.Y8G("items",n.kycProviders)("clearable",!1)("clearOnBackspace",!1),e.R7$(),e.Y8G("ngIf",(n.dataForm.controls.kycProvider.touched||n.submitted)&&(null==n.dataForm.controls.kycProvider.errors?null:n.dataForm.controls.kycProvider.errors.required)),e.R7$(6),e.Y8G("items",n.tiers)("clearable",!1)("clearOnBackspace",!1),e.R7$(),e.Y8G("ngIf",(n.dataForm.controls.tier.touched||n.submitted)&&(null==n.dataForm.controls.tier.errors?null:n.dataForm.controls.tier.errors.required)),e.R7$(),e.Y8G("value",null==n.userData?null:n.userData.kycStatus),e.R7$(),e.Y8G("value",null==n.userData?null:n.userData.kycReviewDate),e.R7$(),e.Y8G("value",null==n.userData?null:n.userData.kycStatusDate),e.R7$(),e.Y8G("value",null==n.userData?null:n.userData.kycReviewComment),e.R7$(),e.Y8G("value",null==n.userData?null:n.userData.kycPrivateComment),e.R7$(),e.Y8G("value",null==n.userData?null:n.userData.kycReviewRejectedType),e.R7$(),e.Y8G("value",null==n.userData?null:n.userData.kycReviewRejectedLabels),e.R7$(),e.Y8G("value",null==n.userData?null:n.userData.kycReviewResult),e.R7$(),e.Y8G("value",null==n.userData?null:n.userData.kycStatusUpdateRequired),e.R7$(),e.Y8G("value",n.kycDocs),e.R7$(),e.Y8G("ngIf",(null==n.userData?null:n.userData.kycProvider)!==n.KYC_PROVIDER.Shufti),e.R7$(),e.Y8G("ngIf",(null==n.userData?null:n.userData.kycProvider)===n.KYC_PROVIDER.Shufti),e.R7$(6),e.Y8G("value",null==n.userData||null==n.userData.userMode?null:n.userData.userMode.name),e.R7$(5),e.Y8G("ngClass",e.eq3(69,jt,(n.dataForm.controls.email.touched||n.submitted)&&!n.dataForm.controls.email.valid)),e.R7$(),e.Y8G("ngIf",(n.dataForm.controls.email.touched||n.submitted)&&(null==n.dataForm.controls.email.errors?null:n.dataForm.controls.email.errors.required)),e.R7$(),e.Y8G("ngIf",(null==n.userData||null==n.userData.userType?null:n.userData.userType.id)===n.USER_TYPE.Merchant),e.R7$(),e.Y8G("ngIf",(null==n.userData||null==n.userData.userType?null:n.userData.userType.id)===n.USER_TYPE.Personal),e.R7$(),e.Y8G("ngIf",(null==n.userData||null==n.userData.userType?null:n.userData.userType.id)===n.USER_TYPE.Personal),e.R7$(),e.Y8G("ngIf",(null==n.userData||null==n.userData.userType?null:n.userData.userType.id)===n.USER_TYPE.Personal),e.R7$(),e.Y8G("value",null==n.userData?null:n.userData.age),e.R7$(),e.Y8G("ngIf",(null==n.userData||null==n.userData.userType?null:n.userData.userType.id)===n.USER_TYPE.Personal),e.R7$(6),e.Y8G("ngIf",n.permission>1),e.R7$(9),e.Y8G("items",n.fiatCurrencies)("clearable",!1)("clearOnBackspace",!1),e.R7$(),e.Y8G("ngIf",(n.dataForm.controls.fiat.touched||n.submitted)&&(null==n.dataForm.controls.fiat.errors?null:n.dataForm.controls.fiat.errors.required)),e.R7$(6),e.Y8G("items",n.cryptoCurrencies)("clearable",!1)("clearOnBackspace",!1),e.R7$(),e.Y8G("ngIf",(n.dataForm.controls.crypto.touched||n.submitted)&&(null==n.dataForm.controls.crypto.errors?null:n.dataForm.controls.crypto.errors.required)),e.R7$(5),e.Y8G("value",null==n.userData?null:n.userData.address),e.R7$(6),e.Y8G("clearable",!1)("clearOnBackspace",!1),e.R7$(),e.Y8G("ngForOf",n.countries),e.R7$(),e.Y8G("ngIf",(n.dataForm.controls.country.touched||n.submitted)&&(null==n.dataForm.controls.country.errors?null:n.dataForm.controls.country.errors.required)),e.R7$(38),e.Y8G("ngIf",""!==n.errorMessage),e.R7$(2),e.Y8G("ngIf",n.permission>1&&n.removable),e.R7$(2),e.Y8G("ngIf",n.permission>1)}},dependencies:[h.YU,h.Sq,h.bT,d.qT,d.me,d.BC,d.cb,d.YS,d.tU,d.j4,d.JD,te,Oe,at,_.cw,Pe,he,h.Jj],styles:[".dark-theme .mat-mdc-button,   .dark-theme .mat-mdc-icon-button,   .dark-theme .mat-mdc-outlined-button{color:#b7c0d6!important}  .dark-theme .mat-form-field-label{color:#eee}  .dark-theme .mat-datepicker-content{background-color:#373d51;color:#ffffffde}  .dark-theme .mat-calendar-table-header,   .dark-theme .mat-calendar-body-label{color:#fff}@media (hover: hover){  .dark-theme .mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#2a2e3f}}  .dark-theme .mat-calendar-body-cell-content,   .dark-theme .mat-date-range-input-separator{color:#e1e1ef}  .dark-theme .ngb-dp-header{background-color:#343545}  .dark-theme .ngb-dp-weekdays{background-color:#343545}  .rtl .color-picker{left:initial!important}  .transparent-theme .card .box{background:#2da28f}  .transparent-theme .hex-text,   .transparent-theme .rgba-text{background:#2da28f}  .transparent-theme .mat-datepicker-content{background-color:#2da28f;color:#ffffffde}  .transparent-theme .mat-datepicker-toggle,   .transparent-theme .mat-datepicker-content .mat-calendar-next-button,   .transparent-theme .mat-datepicker-content .mat-calendar-previous-button{color:#ffffff81}  .transparent-theme .mat-calendar-body-cell-content,   .transparent-theme .mat-date-range-input-separator{color:#ffffffd3}  .transparent-theme .mat-calendar-table-header,   .transparent-theme .mat-calendar-body-label{color:#fff9}  .transparent-theme .ngb-dp-header{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekdays{background-color:var(--transparent-body)}  .transparent-theme .ngb-dp-weekday{color:#000}  .transparent-theme .ng-select .ng-arrow-wrapper .ng-arrow{border-top-color:#fff!important}  .transparent-theme .ng-select.ng-select-opened .ng-arrow-wrapper .ng-arrow{border-bottom-color:#fff!important}  .form-controls{display:block;color:#fff;border:transparent;outline:none;width:100%;height:40px;padding:.375rem .75rem;font-size:.875rem;font-weight:400;line-height:2;background-clip:padding-box;border-radius:5px;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}  button[type=button]{z-index:0!important}.flex-end[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.flex-space-between[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.flex-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.textarea-resize-none[_ngcontent-%COMP%]{resize:none}.kyc-status-dot[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%}.input-success[_ngcontent-%COMP%]{background-color:#0b9c3133;color:#0b9c31cc}.input-warning[_ngcontent-%COMP%]{background-color:#ffffa9;color:#00000080}.input-error[_ngcontent-%COMP%]{background-color:#f003;color:#ff000080}",".has-error[_ngcontent-%COMP%]{border:1px solid #f16d75}.tx-danger[_ngcontent-%COMP%]{color:red!important}"]})}return a})();const jn=[{name:"Name",prop:"name",columnType:we.simple},{name:"Description",prop:"description",columnType:we.simple},{name:"Type",prop:"type",columnType:we.simple},{name:"Created",prop:"created",columnType:we.shortDate},{name:"Actions",prop:"...",columnType:we.custom}];var ne=function(a){return a.Id="ID",a.DrivingLicense="DRIVING_LICENSE",a.Passport="PASSPORT",a.BankStatement="BANK_STATEMENT",a.UtilityBill="UTILITY_BILL",a.GovernmentIssuedDoc="GOVERNMENT_ISSUED_DOC",a.TaxBill="TAX_BILL",a.PropertyTax="PROPERTY_TAX",a.PermanentResidency="PERMANENT_RESIDENCY",a.DoD="DOD",a.Audit="AUDIT",a.Selfie="SELFIE",a.SupportingDocuments="SUPPORTING_DOCUMENTS",a.DoDVideo="DOD_VIDEO",a.Other="OTHER",a}(ne||{}),fe=function(a){return a.ID="ID",a.ProofOfAddress="Proof of address",a.Selfie="Selfie",a.SourceOfFunds="Source of founds",a.DoD="DoD",a.DoDVideo="DoD video",a.Other="Other",a}(fe||{}),$n=function(a){return a.Front="FRONT",a.Back="BACK",a}($n||{});let ya=(()=>{class a{constructor(t){this.apiFacade=t}getCustomerDocs(t){let i=new Ye.Nl;return i=i.append("userId",t),this.apiFacade.get("docs/v1/documents",{params:i})}addCustomerDocument(t){return this.apiFacade.postFormData("docs/v1/documents",t)}removeDocument(t){return this.apiFacade.delete(`docs/v1/documents/${t}`,t)}downloadDocs(t){return this.apiFacade.getFile(`docs/v1/documents/files/${t}`)}static#e=this.\u0275fac=function(i){return new(i||a)(e.KVO(wn))};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();const Ca={isLoaded:!1,isLoading:!1,documents:[],documentsDetails:new Map,expandedElement:null};let Mn=(()=>{class a{constructor(){this._state$=new Me.t({...Ca}),this.getState$=this._state$.asObservable()}get getState(){return this._state$.getValue()}setState(t){return this._state$.next({...this.getState,...t})}resetState(){return this._state$.next({...Ca})}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})(),Nn=(()=>{class a{constructor(t,i,n){this.api=t,this.state=i,this._snackBar=n,this.getState$=this.state.getState$}loadAll(t,i){return!i&&this.state.getState.isLoaded?this.getState$.pipe((0,b.T)(n=>n?.documents)):(this.state.resetState(),this.state.setState({isLoading:!0}),this.loadData(t))}deleteDocument(t){return this.state.setState({isLoading:!0}),this.api.removeDocument(t).pipe((0,D.M)(()=>{const i=this.state.getState.documents.filter(n=>n.id!==t);this.state.setState({documents:i,isLoading:!1}),this._snackBar.open("The document has been successfully deleted.",null,{duration:5e3})}),(0,Ee.W)(i=>(console.error(i),this._snackBar.open("There was an error deleting the document. Please contact R&D",null,{duration:5e3}),this.state.setState({isLoading:!1}),(0,S.of)(null))))}onLoadFiles(t){this.state.setState({isLoading:!0});const i=t.files.map(n=>this.api.downloadDocs(n.id));return(0,la.p)(i).pipe((0,D.M)(n=>{this.state.setState({isLoading:!1}),n.forEach(o=>(0,Dn.saveAs)(o))}),(0,Ee.W)(()=>(this.state.setState({isLoading:!1}),(0,S.of)(null))))}loadData(t){return this.api.getCustomerDocs(t).pipe((0,D.M)(i=>{this.state.setState({documents:i,isLoaded:!0,isLoading:!1})}),(0,Ee.W)(()=>(this.state.setState({isLoaded:!1,isLoading:!1}),(0,S.of)({...Ca}).pipe((0,b.T)(i=>i?.documents)))))}static#e=this.\u0275fac=function(i){return new(i||a)(e.KVO(ya),e.KVO(Mn),e.KVO(Ie.UG))};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})(),T3=(()=>{class a{constructor(){this.multiple=!1,this.fileSelected=new e.bkB,this.fileName="Choose a file"}onFileSelected(t){const i=t.target.files;if(i){const o=new FormData,s=[];for(var n=0;n<i.length;n++)o.append("files",i[n]),s.push(i.item(n).name);this.fileName=s.join(","),this.fileSelected.emit(o)}}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-file-upload"]],inputs:{requiredFileType:"requiredFileType",multiple:"multiple"},outputs:{fileSelected:"fileSelected"},decls:9,vars:3,consts:[["fileInput",""],[1,"file-upload-wrapper"],[1,"file-input-wrapper"],["matInput","","readonly","","name","fileName",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-primary"],["type","file","id","uploadFile","name","uploadFile",3,"change","multiple","accept"]],template:function(i,n){if(1&i){const o=e.RV6();e.j41(0,"div",1)(1,"mat-form-field")(2,"mat-toolbar")(3,"div",2)(4,"input",3),e.mxI("ngModelChange",function(l){return e.eBV(o),e.DH7(n.fileName,l)||(n.fileName=l),e.Njj(l)}),e.k0s(),e.j41(5,"button",4),e.EFF(6," Browse File"),e.k0s()()(),e.j41(7,"input",5,0),e.bIt("change",function(l){return e.eBV(o),e.Njj(n.onFileSelected(l))}),e.k0s()()()}2&i&&(e.R7$(4),e.R50("ngModel",n.fileName),e.R7$(3),e.Y8G("multiple",n.multiple)("accept",n.requiredFileType))},dependencies:[d.me,d.BC,d.vS,ue.rl,We.fg,Ja.KQ],styles:[".mat-mdc-form-field-subscript-wrapper[_ngcontent-%COMP%]{display:none}.mat-mdc-form-field[_ngcontent-%COMP%]{width:100%}.file-upload-wrapper[_ngcontent-%COMP%]{padding:0 15px}.file-input-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.file-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;min-width:280px;width:280px;white-space:nowrap;overflow:hidden!important;text-overflow:ellipsis}.file-upload-progress[_ngcontent-%COMP%]{display:flex;align-items:center}.file-upload-progress[_ngcontent-%COMP%]   .cancel-upload[_ngcontent-%COMP%]{margin-left:10px}#uploadFile[_ngcontent-%COMP%]{top:0;left:0;width:100%;z-index:9;opacity:0;height:100%;cursor:pointer;position:absolute}"],changeDetection:0})}return a})();const x3=a=>({"size-wider":a});function w3(a,r){if(1&a&&(e.j41(0,"mat-option",16),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("value",t),e.R7$(),e.SpI(" ",t," ")}}function S3(a,r){if(1&a&&(e.j41(0,"mat-option",16),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("value",t),e.R7$(),e.SpI(" ",t," ")}}function D3(a,r){if(1&a&&(e.j41(0,"mat-form-field",17)(1,"mat-label"),e.EFF(2,"Document Type"),e.k0s(),e.j41(3,"mat-select",18),e.DNE(4,S3,2,2,"mat-option",6),e.nI1(5,"async"),e.k0s()()),2&a){const t=e.XpG(2);e.Y8G("ngClass",e.eq3(4,x3,t.isDocumentSide)),e.R7$(4),e.Y8G("ngForOf",e.bMT(5,2,t.documentTypes$))}}function I3(a,r){1&a&&(e.j41(0,"mat-form-field",19)(1,"mat-label"),e.EFF(2,"Side"),e.k0s(),e.j41(3,"mat-select",20)(4,"mat-option",21),e.EFF(5,"Front"),e.k0s(),e.j41(6,"mat-option",22),e.EFF(7,"Back"),e.k0s()()())}function E3(a,r){1&a&&e.nrm(0,"span",23)}function P3(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",2)(1,"div",3)(2,"mat-form-field",4)(3,"mat-label"),e.EFF(4,"Document Group"),e.k0s(),e.j41(5,"mat-select",5),e.DNE(6,w3,2,2,"mat-option",6),e.k0s()(),e.DNE(7,D3,6,6,"mat-form-field",7)(8,I3,8,0,"mat-form-field",8),e.j41(9,"mat-form-field",4)(10,"mat-label"),e.EFF(11,"Document Name"),e.k0s(),e.nrm(12,"input",9),e.k0s(),e.j41(13,"mat-form-field",4)(14,"mat-label"),e.EFF(15,"Description"),e.k0s(),e.nrm(16,"input",10),e.k0s(),e.nrm(17,"br"),e.j41(18,"app-file-upload",11),e.bIt("fileSelected",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.onFileSelected(n))}),e.k0s(),e.j41(19,"div",12)(20,"button",13),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onCancelEditDocument())}),e.EFF(21," Cancel "),e.k0s(),e.j41(22,"button",14),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSave())}),e.EFF(23),e.DNE(24,E3,1,0,"span",15),e.k0s()()()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("formGroup",t.form)("@fade",t.isEditDocument),e.R7$(5),e.Y8G("ngForOf",t.documentGroups),e.R7$(),e.Y8G("ngIf",t.isDocumentTypeGrouped),e.R7$(),e.Y8G("ngIf",t.isDocumentSide),e.R7$(10),e.Y8G("multiple",!0),e.R7$(2),e.Y8G("disabled",t.uploadProgress),e.R7$(2),e.Y8G("disabled",!t.form.valid||!t.isFileUploaded||t.uploadProgress),e.R7$(),e.SpI(" ",t.uploadProgress?"":"Save"," "),e.R7$(),e.Y8G("ngIf",t.uploadProgress)}}function A3(a,r){1&a&&(e.j41(0,"th",31),e.EFF(1,"Actions"),e.k0s())}function R3(a,r){if(1&a){const t=e.RV6();e.j41(0,"td",32)(1,"div",33)(2,"button",34),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG(2);return e.Njj(o.onFileDownload(n))}),e.nrm(3,"i",35),e.k0s(),e.j41(4,"button",34),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG(2);return e.Njj(o.onFileRemove(n))}),e.nrm(5,"i",36),e.k0s()()()}}function O3(a,r){1&a&&(e.qex(0),e.nrm(1,"app-spinner"),e.bVm())}function j3(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",24),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onAddDocument())}),e.EFF(1,"Add Document"),e.k0s(),e.j41(2,"div",25)(3,"app-table",26),e.qex(4,27),e.DNE(5,A3,2,0,"th",28)(6,R3,6,0,"td",29),e.bVm(),e.k0s(),e.DNE(7,O3,2,0,"ng-container",30),e.nI1(8,"async"),e.k0s()}if(2&a){const t=e.XpG();e.R7$(2),e.AVh("emptyData",!t.tableDataSource.data.length),e.R7$(),e.Y8G("dataSource",t.tableDataSource)("columns",t.columnsToDisplay),e.R7$(4),e.Y8G("ngIf",e.bMT(8,5,t.isLoading$))}}let $3=(()=>{class a{constructor(t,i,n,o,s){this.fb=t,this.cdr=i,this.serviceApi=n,this.dialog=o,this.service=s,this.config=jn,this.columnsToDisplay=jn,this.tableDataSource=new p.I6([]),this.isLoading$=this.service.getState$.pipe((0,b.T)(l=>l?.isLoading)),this.isLoaded$=this.service.getState$.pipe((0,b.T)(l=>l?.isLoaded)),this.destroy$=new y.B,this.documentGroups=Object.values(fe).map(l=>String(l)),this.displayedColumns=["name","description","type","created"],this.form=this.fb.group({group:new d.MJ(fe.ID,d.k0.required),type:new d.MJ(void 0,d.k0.required),name:new d.MJ(void 0,d.k0.required),side:new d.MJ(void 0),description:new d.MJ(void 0)}),this.isEditDocument=!1,this.documentTypes$=this.form.controls.group.valueChanges.pipe((0,N.Z)(this.form.controls.group.value),(0,Y.F)(),(0,T.Q)(this.destroy$),(0,D.M)(()=>this.form.controls.type.setValue(null)),(0,b.T)(l=>this.defineDocumentTypes(l)),(0,ma.t)(1)),this.form.controls.group.valueChanges.pipe((0,T.Q)(this.destroy$)).subscribe(()=>{const l=this.form.controls.type;this.isDocumentTypeGrouped?l.setValidators(d.k0.required):l.clearValidators(),l.updateValueAndValidity()}),this.form.controls.type.valueChanges.pipe((0,T.Q)(this.destroy$)).subscribe(l=>{const m=this.form.controls.side;l===ne.Id||l===ne.DrivingLicense?m.setValidators(d.k0.required):m.clearValidators(),m.updateValueAndValidity()})}get isFileUploaded(){return this.formData?.has("files")}get isDocumentSide(){return[ne.Id,ne.DrivingLicense].includes(this.form.controls.type.value)}get isDocumentTypeGrouped(){return[fe.ID,fe.ProofOfAddress,fe.DoD].includes(this.form.controls.group.value)}defineDocumentTypes(t){switch(t){case fe.ID:return[ne.Id,ne.DrivingLicense,ne.Passport];case fe.ProofOfAddress:return[ne.BankStatement,ne.UtilityBill,ne.GovernmentIssuedDoc,ne.TaxBill,ne.PropertyTax,ne.PermanentResidency];case fe.DoD:return[ne.DoD,ne.Audit];default:return[]}}ngOnInit(){this.tableDataSource.filterPredicate=xn,this.getAllDocumets(!0),this.service.getState$.pipe((0,b.T)(t=>t?.documents),(0,T.Q)(this.destroy$)).subscribe(t=>this.tableDataSource.data=t)}ngOnDestroy(){this.destroy$.next(),this.isEditDocument=!1}onAddDocument(){this.isEditDocument=!0,this.form.controls.group.setValue(fe.ID)}onEditDocument(){this.isEditDocument=!0}onCancelEditDocument(){this.isEditDocument=!1}onSave(){this.mapFormToEntity()}onFileSelected(t){this.formData=t}onFileRemove(t){this.dialog.open(fa.f,{width:"400px",data:{title:"Delete Document",message:`You are about to delete a ${t.name} document with files`,button:"DELETE"}}).afterClosed().pipe((0,T.Q)(this.destroy$),(0,W.p)(n=>!!n),(0,J.n)(()=>this.service.deleteDocument(t.id))).subscribe()}onFileDownload(t){this.service.onLoadFiles(t).pipe((0,T.Q)(this.destroy$)).subscribe()}mapFormToEntity(){const t=this.form.value;switch(t.group){case fe.Selfie:t.type=ne.Selfie;break;case fe.DoDVideo:t.type=ne.DoDVideo;break;case fe.Other:t.type=ne.Other;break;case fe.SourceOfFunds:t.type=ne.SupportingDocuments}this.formData.append("name",t.name),this.formData.append("description",t.description),this.formData.append("type",t.type),this.formData.append("side",t.side??$n.Front),this.formData.append("userId",this.userId),this.uploadProgress=1;const n=this.serviceApi.addCustomerDocument(this.formData).pipe((0,T.Q)(this.destroy$),(0,V.j)(()=>this.reset()));this.uploadSub=n.subscribe({next:o=>{o.type===Ye.hv.UploadProgress&&(this.uploadProgress=Math.round(o.loaded/o.total*100)),this.cdr.markForCheck()},error:()=>{this.uploadProgress=void 0}})}getAllDocumets(t=!1){this.service.loadAll(this.userId,t).pipe((0,T.Q)(this.destroy$)).subscribe()}reset(){this.uploadSub?.unsubscribe(),this.isEditDocument=!1,this.form.reset(),this.uploadProgress=null,this.uploadSub=null,this.getAllDocumets(!0)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(d.ok),e.rXU(e.gRc),e.rXU(ya),e.rXU(Je.bZ),e.rXU(Nn))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-customer-docs"]],inputs:{userId:"userId"},features:[e.Jv_([ya,Mn,Nn])],decls:3,vars:2,consts:[["docsTable",""],["class","w-500px",4,"ngIf","ngIfElse"],[1,"w-500px"],[1,"inputs-wrap",3,"formGroup"],["appearance","outline"],["appendTo","body","formControlName","group"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline",3,"ngClass",4,"ngIf"],["class","size-smaller","appearance","outline",4,"ngIf"],["matInput","","type","text","formControlName","name"],["matInput","","type","text","formControlName","description"],[3,"fileSelected","multiple"],[1,"create_docs-buttons"],["type","button",1,"btn","btn-outline-primary","wd-100",3,"click","disabled"],["type","button",1,"btn","btn-primary","wd-100",3,"click","disabled"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[3,"value"],["appearance","outline",3,"ngClass"],["appendTo","body","formControlName","type"],["appearance","outline",1,"size-smaller"],["appendTo","body","formControlName","side"],["value","FRONT"],["value","BACK"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["type","button",1,"btn","btn-primary","mg-t-10","mg-b-10","tx-14",3,"click"],[1,"docs-wrapper","w-500px"],[3,"dataSource","columns"],["matColumnDef","..."],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],[4,"ngIf"],["mat-header-cell",""],["mat-cell",""],[1,"flex"],["type","button",1,"action-button",3,"click"],[1,"fas","fa-download"],[1,"fas","fa-trash"]],template:function(i,n){if(1&i&&e.DNE(0,P3,25,10,"div",1)(1,j3,9,7,"ng-template",null,0,e.C5r),2&i){const o=e.sdS(2);e.Y8G("ngIf",n.isEditDocument)("ngIfElse",o)}},dependencies:[h.YU,h.Sq,h.bT,d.me,d.BC,d.cb,d.j4,d.JD,En,p.tL,p.cC,p.YV,p.KS,p.$R,Le.t,ue.rl,ue.nJ,We.fg,gt.VO,ze.wT,T3,h.Jj],styles:['.inputs-wrap[_ngcontent-%COMP%]{margin-top:10px}.w-500px[_ngcontent-%COMP%]{width:500px}mat-form-field[_ngcontent-%COMP%]{margin:0 16px;width:calc(100% - 32px)!important}mat-form-field.size-third[_ngcontent-%COMP%]{width:calc(33.33% - 32px)!important}mat-form-field.size-two-third[_ngcontent-%COMP%]{width:calc(66.66% - 32px)!important}mat-form-field.size-smaller[_ngcontent-%COMP%]{width:calc(40% - 32px)!important}mat-form-field.size-wider[_ngcontent-%COMP%]{width:calc(60% - 32px)!important}.create_docs-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin:0 15px}.docs-wrapper[_ngcontent-%COMP%]{position:relative;min-height:300px}.docs-wrapper.emptyData[_ngcontent-%COMP%]:after{content:"No Data";position:absolute;top:50%;left:40%}.flex[_ngcontent-%COMP%]{display:flex!important}'],data:{animation:[(0,A.hZ)("fade",[(0,A.kY)("void => true",[(0,A.iF)({opacity:0}),(0,A.i0)(300,(0,A.iF)({opacity:1}))]),(0,A.kY)("* => void",[(0,A.i0)(300,(0,A.iF)({opacity:0}))])])]},changeDetection:0})}return a})();const M3=()=>["Home","Users"],N3=a=>({userId:a});function V3(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",47),e.bIt("click",function(){e.eBV(t);const n=e.XpG(),o=e.sdS(80);return e.Njj(n.createUserTransactionShow(o))}),e.EFF(1," Create transaction "),e.k0s()}}function G3(a,r){1&a&&e.nrm(0,"mat-progress-bar",48)}function B3(a,r){1&a&&e.nrm(0,"th",49)}function U3(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",60),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(),s=e.sdS(88);return e.Njj(o.confirmEmail(n,s))}),e.j41(1,"i",20),e.EFF(2," approval "),e.k0s()()}2&a&&e.BMQ("aria-label","Confirm email")}function L3(a,r){1&a&&(e.j41(0,"button",61)(1,"i",62),e.EFF(2," flag "),e.k0s()()),2&a&&(e.Y8G("matTooltip","Flaged Customer"),e.BMQ("aria-label","Flaged Customer"))}function Y3(a,r){if(1&a){const t=e.RV6();e.j41(0,"td",50)(1,"div",51)(2,"input",52),e.bIt("change",function(){const n=e.eBV(t).$implicit,o=e.XpG();return e.Njj(o.onCustomerSelected(n))}),e.k0s(),e.j41(3,"button",53),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG(),s=e.sdS(82);return e.Njj(o.showDetails(n,s))}),e.j41(4,"i",54),e.EFF(5," wysiwyg "),e.k0s()(),e.j41(6,"button",55),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG();return e.Njj(o.showTransactions(n.id))}),e.j41(7,"i",54),e.EFF(8," compare_arrows "),e.k0s()(),e.j41(9,"button",56),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG();return e.Njj(o.showWhiteList(n.id))}),e.j41(10,"i",54),e.EFF(11," playlist_add_check "),e.k0s()(),e.j41(12,"button",57)(13,"i",20),e.EFF(14," circle_notifications "),e.k0s()(),e.DNE(15,U3,3,1,"button",58)(16,L3,3,2,"button",59),e.k0s()()}if(2&a){const t=r.$implicit,i=e.XpG();e.Y8G("ngClass",t.customerListSelectorColumnStyle),e.R7$(2),e.Y8G("checked",t.selected),e.R7$(),e.BMQ("aria-label","Customer details")("aria-pressed",!!i.selectedCustomer),e.R7$(3),e.BMQ("aria-label","Customer transactions"),e.R7$(3),e.BMQ("aria-label","User roles"),e.R7$(3),e.Y8G("routerLink","/admin/notifications")("queryParams",e.eq3(10,N3,t.id)),e.R7$(3),e.Y8G("ngIf",!t.emailConfirmed&&i.permission>1),e.R7$(),e.Y8G("ngIf",t.flag)}}function q3(a,r){1&a&&(e.j41(0,"th",49),e.EFF(1," Customer ID "),e.k0s())}function W3(a,r){if(1&a&&(e.j41(0,"td",50),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.customerListDataColumnStyle),e.R7$(),e.SpI(" ",t.referralCode," ")}}function X3(a,r){1&a&&(e.j41(0,"th",63),e.EFF(1," First name "),e.k0s())}function z3(a,r){if(1&a&&(e.j41(0,"td",50),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.customerListDataColumnStyle),e.R7$(),e.SpI(" ",t.fullFirstName," ")}}function H3(a,r){1&a&&(e.j41(0,"th",63),e.EFF(1," Last name "),e.k0s())}function K3(a,r){if(1&a&&(e.j41(0,"td",50),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.customerListDataColumnStyle),e.R7$(),e.SpI(" ",t.lastName," ")}}function J3(a,r){1&a&&(e.j41(0,"th",63),e.EFF(1," Email "),e.k0s())}function Q3(a,r){if(1&a&&(e.j41(0,"td",50),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.customerListDataColumnStyle),e.R7$(),e.SpI(" ",t.email," ")}}function Z3(a,r){1&a&&(e.j41(0,"th",63),e.EFF(1," Status "),e.k0s())}function ew(a,r){if(1&a&&(e.j41(0,"td",50),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.customerListDataColumnStyle),e.R7$(),e.SpI(" ",t.accountStatus," ")}}function tw(a,r){1&a&&(e.j41(0,"th",49),e.EFF(1," DocsCheck "),e.k0s())}function aw(a,r){if(1&a&&(e.j41(0,"td",50),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.customerListDataColumnStyle),e.R7$(),e.SpI(" ",t.kycStatus," ")}}function nw(a,r){1&a&&(e.j41(0,"th",49),e.EFF(1," Widget Name "),e.k0s())}function iw(a,r){if(1&a&&(e.j41(0,"td",50),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.customerListDataColumnStyle),e.R7$(),e.SpI(" ",t.widgetName," ")}}function rw(a,r){1&a&&(e.j41(0,"th",49),e.EFF(1," Total Buy "),e.k0s())}function ow(a,r){if(1&a&&(e.j41(0,"td",50),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.customerListDataColumnStyle),e.R7$(),e.SpI(" ",t.totalBought," ")}}function sw(a,r){1&a&&(e.j41(0,"th",49),e.EFF(1," Total Sell "),e.k0s())}function lw(a,r){if(1&a&&(e.j41(0,"td",50),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.customerListDataColumnStyle),e.R7$(),e.SpI(" ",t.totalSold," ")}}function dw(a,r){1&a&&(e.j41(0,"th",49),e.EFF(1," Total Send "),e.k0s())}function cw(a,r){if(1&a&&(e.j41(0,"td",50),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.customerListDataColumnStyle),e.R7$(),e.SpI(" ",t.totalSent," ")}}function mw(a,r){1&a&&(e.j41(0,"th",49),e.EFF(1," Total Receive "),e.k0s())}function pw(a,r){if(1&a&&(e.j41(0,"td",50),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.customerListDataColumnStyle),e.R7$(),e.SpI(" ",t.totalReceived," ")}}function uw(a,r){1&a&&(e.j41(0,"th",63),e.EFF(1," Registered "),e.k0s())}function hw(a,r){if(1&a&&(e.j41(0,"td",50),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.customerListDataColumnStyle),e.R7$(),e.SpI(" ",t.created," ")}}function fw(a,r){1&a&&(e.j41(0,"th",49),e.EFF(1," Country "),e.k0s())}function gw(a,r){if(1&a&&(e.j41(0,"td",50),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.customerListDataColumnStyle),e.R7$(),e.SpI(" ",null==t.country?null:t.country.title," ")}}function _w(a,r){1&a&&(e.j41(0,"th",49),e.EFF(1," Phone "),e.k0s())}function bw(a,r){if(1&a&&(e.j41(0,"td",50),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.customerListDataColumnStyle),e.R7$(),e.SpI(" ",t.phone," ")}}function vw(a,r){1&a&&(e.j41(0,"th",49),e.EFF(1," Risk Level "),e.k0s())}function yw(a,r){if(1&a&&(e.j41(0,"td",50),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.customerListDataColumnStyle),e.R7$(),e.SpI(" ",t.risk," ")}}function Cw(a,r){1&a&&(e.j41(0,"th",49),e.EFF(1,"ID"),e.k0s())}function kw(a,r){if(1&a&&(e.j41(0,"td",50),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.customerListDataColumnStyle),e.R7$(),e.SpI(" ",t.id," ")}}function Fw(a,r){1&a&&(e.j41(0,"th",49),e.EFF(1," Widget ID "),e.k0s())}function Tw(a,r){if(1&a&&(e.j41(0,"td",50),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("ngClass",t.customerListDataColumnStyle),e.R7$(),e.SpI(" ",t.widgetId," ")}}function xw(a,r){1&a&&e.nrm(0,"tr",64)}function ww(a,r){1&a&&e.nrm(0,"tr",65)}function Sw(a,r){1&a&&(e.j41(0,"div",72)(1,"i",20),e.EFF(2,"first_page"),e.k0s()())}function Dw(a,r){1&a&&(e.j41(0,"div",72)(1,"i",20),e.EFF(2,"keyboard_arrow_left"),e.k0s()())}function Iw(a,r){1&a&&(e.j41(0,"div",72)(1,"i",20),e.EFF(2,"keyboard_arrow_right"),e.k0s()())}function Ew(a,r){1&a&&(e.j41(0,"div",72)(1,"i",20),e.EFF(2,"last_page"),e.k0s()())}function Pw(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",66)(1,"ngb-pagination",67),e.bIt("pageChange",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.handlePage(n))}),e.DNE(2,Sw,3,0,"ng-template",68)(3,Dw,3,0,"ng-template",69)(4,Iw,3,0,"ng-template",70)(5,Ew,3,0,"ng-template",71),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("collectionSize",t.customerCount)("pageSize",t.pageSize)("boundaryLinks",!0)("maxSize",10)}}function Aw(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",73)(1,"h5",74),e.EFF(2,"Create transaction"),e.k0s(),e.j41(3,"button",75),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",76),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",77)(7,"app-admin-transaction-create",78),e.bIt("close",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Close"))}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(7),e.Y8G("users",t.selectedCustomers)}}function Rw(a,r){if(1&a){const t=e.RV6();e.j41(0,"app-admin-customer-details",84),e.bIt("save",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onSaveCustomer())})("close",function(){e.eBV(t);const n=e.XpG().$implicit;return e.Njj(n.dismiss("Close"))}),e.k0s()}if(2&a){const t=e.XpG(2);e.Y8G("permission",t.permission)("customer",t.selectedCustomer)("currencies",t.currencyList)}}function Ow(a,r){if(1&a){const t=e.RV6();e.j41(0,"app-admin-customer-docs",86),e.bIt("close",function(){e.eBV(t);const n=e.XpG(2).$implicit;return e.Njj(n.dismiss("Close"))}),e.k0s()}if(2&a){const t=e.XpG(3);e.Y8G("userId",t.selectedCustomer.id)}}function jw(a,r){1&a&&(e.j41(0,"mat-tab",85),e.DNE(1,Ow,1,1,"ng-template",82),e.k0s())}function $w(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",79)(1,"mat-tab-group",80)(2,"mat-tab",81),e.DNE(3,Rw,1,3,"ng-template",82),e.k0s(),e.DNE(4,jw,2,0,"mat-tab",83),e.k0s(),e.j41(5,"button",75),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(6,"span",76),e.EFF(7,"\xd7"),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(4),e.Y8G("ngIf",t.isCustomerDocsAllowed)}}function Mw(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",73)(1,"h5",74),e.EFF(2,"Send message to selected customers"),e.k0s(),e.j41(3,"button",75),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",76),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",77)(7,"app-admin-user-message-dialog",87),e.bIt("send",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.sendMessageStart(n))})("close",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Close"))}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(7),e.Y8G("errorMessage",t.sendMessageError)("inProgress",t.sendMessageInProgress)("users",t.customers)}}function Nw(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",73)(1,"h5",74),e.EFF(2,"Export"),e.k0s(),e.j41(3,"button",75),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",76),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",77)(7,"h4",88),e.EFF(8," Exported list of customers has been sent to your email. "),e.k0s(),e.j41(9,"div",19)(10,"button",89),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("OK"))}),e.EFF(11," OK "),e.k0s()()()}}function Vw(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",73)(1,"h5",74),e.EFF(2,"Customer email confirmation"),e.k0s(),e.j41(3,"button",75),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.j41(4,"span",76),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",77)(7,"h4",88),e.EFF(8," Customer email has been confirmed successfully. "),e.k0s(),e.j41(9,"div",19)(10,"button",90),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.close("OK"))}),e.EFF(11," OK "),e.k0s()()()}}let Vn=(()=>{class a{constructor(t,i,n,o,s,l){this.modalService=t,this.auth=i,this.adminService=n,this.commonService=o,this.activeRoute=s,this.router=l,this.filterFields=["accountType","accountMode","country","tier","kycStatus","users","widgetName","search","riskLevel","accountStatus","registrationDate","totalBuyVolume","transactionCount","verifyWhenPaid","transactionFlag"],this.displayedColumns=["details","referralCode","firstName","lastName","email","accountStatus","kycStatus","widgetName","totalBought","totalSold","totalSent","totalReceived","created","country","phone","risk","id","widgetId"],this.sendMessageInProgress=!1,this.sendMessageError="",this.inProgress=!1,this.permission=0,this.isCustomerDocsAllowed=0,this.selected=!1,this.customers=[],this.customerCount=0,this.currencyList=[],this.pageSize=50,this.pageIndex=0,this.sortedField="created",this.sortedDesc=!0,this.filter=new G({}),this.roleIds=[],this.adminAdditionalSettings={},this.selectedCustomers=[],this.subscriptions=new R.yU,this.detailsDialog=void 0,this.messageDialog=void 0;const m=s.snapshot.params.id;m&&(this.filter.users=[m]),this.permission=this.auth.isPermittedObjectCode(c.G4.Customers),this.isCustomerDocsAllowed=this.auth.isPermittedObjectCode(c.G4.Documents)}ngOnInit(){this.loadCommonSettings(),this.loadCurrencyData()}ngOnDestroy(){this.subscriptions.unsubscribe()}ngAfterViewInit(){this.subscriptions.add(this.sort.sortChange.subscribe(()=>{this.sortedDesc="desc"===this.sort.direction,this.sortedField=this.sort.active,this.loadCustomers()}))}onCustomerSelected(t){t.selected=!t.selected,this.selected=this.customers.some(i=>!0===i.selected),this.selectedCustomers=this.customers.filter(i=>!0===i.selected)}showTransactions(t){this.router.navigateByUrl(`/admin/transactions/users/${t}`)}selectAll(){this.customers.forEach(t=>t.selected=!0),this.selected=this.customers.length>0}createUserTransactionShow(t){this.detailsDialog=this.modalService.open(t,{backdrop:"static",windowClass:"modalCusSty"})}loadCommonSettings(){const t=this.auth.getLocalSettingsCommon();t&&(this.adminAdditionalSettings="string"==typeof t.adminAdditionalSettings?JSON.parse(t.adminAdditionalSettings):t.adminAdditionalSettings,this.adminAdditionalSettings?.tabs?.customers?.filterFields&&(this.filterFields=this.adminAdditionalSettings.tabs.customers.filterFields))}loadCurrencyData(){this.currencyList=[],this.inProgress=!0;const t=this.commonService.getSettingsCurrency();t&&this.subscriptions.add(t.valueChanges.subscribe({next:({data:i})=>{const n=i.getSettingsCurrency;n.settingsCurrency&&(n.settingsCurrency.count??!1)&&(this.currencyList=n.settingsCurrency.list?.map(o=>new F.xD(o))),this.loadRoleData()},error:()=>{this.inProgress=!1,this.nagivateToHome()}}))}loadRoleData(){this.roleIds=[];const t=this.commonService.getRoles();t&&this.subscriptions.add(t.valueChanges.pipe().subscribe({next:({data:i})=>{const o=i.getRoles.find(s=>"USER"===s.code);this.roleIds=o?[o.userRoleId??""]:[],this.loadCustomers()},error:()=>{this.inProgress=!1,this.nagivateToHome()}}))}loadCustomers(){this.inProgress=!0;const t=this.adminService.getUsers(this.roleIds,this.pageIndex,this.pageSize,this.sortedField,this.sortedDesc,this.filter).pipe((0,P.s)(1));this.selected=!1,this.subscriptions.add(t.pipe((0,V.j)(()=>this.inProgress=!1)).subscribe({next:({list:i,count:n})=>{this.customers=i,this.customerCount=n},error:()=>this.nagivateToHome()}))}onSaveCustomer(){this.selectedCustomer=void 0,this.detailsDialog&&(this.detailsDialog.close(),this.loadCustomers())}sendMessage(t){this.messageDialog=this.modalService.open(t,{backdrop:"static",windowClass:"modalCusSty"})}sendMessageStart(t){this.sendMessageInProgress=!0,this.sendMessageError="";const i=this.adminService.sendAdminNotification(t.users,t.level,t.title,t.text);this.subscriptions.add(i.pipe((0,V.j)(()=>this.sendMessageInProgress=!1)).subscribe({next:()=>{this.selected=!1,this.customers.forEach(n=>n.selected=!1),this.messageDialog&&this.messageDialog.close()},error:n=>{this.sendMessageError=n,this.nagivateToHome()}}))}export(t){const i=this.customers.filter(o=>!0===o.selected).map(o=>o.id),n=this.adminService.exportUsersToCsv(i,this.roleIds,this.sortedField,this.sortedDesc,this.filter);this.subscriptions.add(n.pipe().subscribe({next:()=>{this.modalService.open(t,{backdrop:"static",windowClass:"modalCusSty"})},error:()=>this.nagivateToHome()}))}handleFilterApplied(t){this.filter=t,this.loadCustomers()}handlePage(t){this.pageIndex=t-1,this.loadCustomers()}showDetails(t,i){this.selectedCustomer=t,this.detailsDialog=this.modalService.open(i,{backdrop:"static",windowClass:"modalCusSty-customer"})}confirmEmail(t,i){const n=this.adminService.confirmEmail(t.id);this.subscriptions.add(n.pipe().subscribe({next:()=>{this.modalService.open(i,{backdrop:"static",windowClass:"modalCusSty"})},error:()=>this.nagivateToHome()}))}showWhiteList(t){this.router.navigateByUrl(`/admin/white-device-list/${t}`)}nagivateToHome(){""===this.auth.token&&this.router.navigateByUrl("/")}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(_.Bq),e.rXU(I.u),e.rXU(E),e.rXU(xe.X),e.rXU(w.nX),e.rXU(w.Ix))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-admin-customers"]],viewQuery:function(i,n){if(1&i&&e.GBs($.B4,5),2&i){let o;e.mGM(o=e.lsd())&&(n.sort=o.first)}},decls:89,vars:16,consts:[["create_content",""],["details_content",""],["message_content",""],["export_content",""],["confirmed_content",""],[3,"title","items","active_item"],[1,"row","row-sm"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],[1,"table-button-container"],["type","button",1,"btn","btn-outline-secondary","me-2",3,"click","disabled"],["type","button","class","btn btn-outline-secondary me-2",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[3,"filter","filterType","fields","filterData"],["color","accent","mode","indeterminate",4,"ngIf"],[1,"table-button-container","m-2"],["type","button",1,"btn","btn-secondary","btn-sm","mt-2",3,"click"],[1,"flex-center"],[1,"material-icons"],[1,"data-table"],["matSort","","matSortDirection","desc","matSortDisableClear","",3,"matSortActive","dataSource"],["matColumnDef","details","sticky",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"ngClass",4,"matCellDef"],["matColumnDef","referralCode"],["matColumnDef","firstName"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","lastName"],["matColumnDef","email"],["matColumnDef","accountStatus"],["matColumnDef","kycStatus"],["matColumnDef","widgetName"],["matColumnDef","totalBought"],["matColumnDef","totalSold"],["matColumnDef","totalSent"],["matColumnDef","totalReceived"],["matColumnDef","created"],["matColumnDef","country"],["matColumnDef","phone"],["matColumnDef","risk"],["matColumnDef","id"],["matColumnDef","widgetId"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","card card-body border shadow-none",4,"ngIf"],["type","button",1,"btn","btn-outline-secondary","me-2",3,"click"],["color","accent","mode","indeterminate"],["mat-header-cell",""],["mat-cell","",3,"ngClass"],[1,"details-wrapper"],["type","checkbox",3,"change","checked"],["type","button","mat-icon-button","","matTooltip","Customer details","matTooltipClass","info-tooltip",1,"row-button",3,"click"],[1,"material-icons","tx-20"],["type","button","mat-icon-button","","matTooltip","Customer's transactions","matTooltipClass","info-tooltip",1,"row-button",3,"click"],["type","button","mat-icon-button","","matTooltip","White List","matTooltipClass","info-tooltip",1,"row-button",3,"click"],["type","button","mat-icon-button","","matTooltip","View Notifications","matTooltipClass","info-tooltip",1,"row-button",3,"routerLink","queryParams"],["type","button","mat-icon-button","","class","row-button","matTooltip","Confirm email","matTooltipClass","info-tooltip",3,"click",4,"ngIf"],["type","button","mat-icon-button","","class","row-button","matTooltipClass","info-tooltip",3,"matTooltip",4,"ngIf"],["type","button","mat-icon-button","","matTooltip","Confirm email","matTooltipClass","info-tooltip",1,"row-button",3,"click"],["type","button","mat-icon-button","","matTooltipClass","info-tooltip",1,"row-button",3,"matTooltip"],[1,"material-icons","tx-20","color_brown"],["mat-header-cell","","mat-sort-header",""],["mat-header-row",""],["mat-row",""],[1,"card","card-body","border","shadow-none"],["aria-label","Table pagination",1,"d-flex","justify-content-center",3,"pageChange","collectionSize","pageSize","boundaryLinks","maxSize"],["ngbPaginationFirst",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationLast",""],[1,"ng-pagination-nav-icons"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"close","users"],[1,"modal-body","tabs"],["mat-stretch-tabs","false"],["label","Customer details"],["matTabContent",""],["label","Customer Docs",4,"ngIf"],[3,"save","close","permission","customer","currencies"],["label","Customer Docs"],[3,"close","userId"],[3,"send","close","errorMessage","inProgress","users"],[1,"text-center"],["type","button",1,"btn","btn-primary","pd-x-50","mg-t-5",3,"click"],["type","button",1,"btn","btn-primary","pd-x-30","me-2","mg-t-5",3,"click"]],template:function(i,n){if(1&i){const o=e.RV6();e.nrm(0,"app-admin-page-header",5),e.j41(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"div",11)(7,"button",12),e.bIt("click",function(){e.eBV(o);const l=e.sdS(84);return e.Njj(n.sendMessage(l))}),e.EFF(8," Send message "),e.k0s(),e.DNE(9,V3,2,0,"button",13),e.j41(10,"button",14),e.bIt("click",function(){e.eBV(o);const l=e.sdS(86);return e.Njj(n.export(l))}),e.EFF(11," Export "),e.k0s()(),e.j41(12,"app-admin-filter",15),e.bIt("filter",function(l){return e.eBV(o),e.Njj(n.handleFilterApplied(l))}),e.k0s(),e.DNE(13,G3,1,0,"mat-progress-bar",16),e.j41(14,"div",17)(15,"button",18),e.bIt("click",function(){return e.eBV(o),e.Njj(n.selectAll())}),e.j41(16,"div",19)(17,"i",20),e.EFF(18," library_add_check "),e.k0s(),e.EFF(19," Select all on the page "),e.k0s()()(),e.j41(20,"div",21)(21,"mat-table",22),e.qex(22,23),e.DNE(23,B3,1,0,"th",24)(24,Y3,17,12,"td",25),e.bVm(),e.qex(25,26),e.DNE(26,q3,2,0,"th",24)(27,W3,2,2,"td",25),e.bVm(),e.qex(28,27),e.DNE(29,X3,2,0,"th",28)(30,z3,2,2,"td",25),e.bVm(),e.qex(31,29),e.DNE(32,H3,2,0,"th",28)(33,K3,2,2,"td",25),e.bVm(),e.qex(34,30),e.DNE(35,J3,2,0,"th",28)(36,Q3,2,2,"td",25),e.bVm(),e.qex(37,31),e.DNE(38,Z3,2,0,"th",28)(39,ew,2,2,"td",25),e.bVm(),e.qex(40,32),e.DNE(41,tw,2,0,"th",24)(42,aw,2,2,"td",25),e.bVm(),e.qex(43,33),e.DNE(44,nw,2,0,"th",24)(45,iw,2,2,"td",25),e.bVm(),e.qex(46,34),e.DNE(47,rw,2,0,"th",24)(48,ow,2,2,"td",25),e.bVm(),e.qex(49,35),e.DNE(50,sw,2,0,"th",24)(51,lw,2,2,"td",25),e.bVm(),e.qex(52,36),e.DNE(53,dw,2,0,"th",24)(54,cw,2,2,"td",25),e.bVm(),e.qex(55,37),e.DNE(56,mw,2,0,"th",24)(57,pw,2,2,"td",25),e.bVm(),e.qex(58,38),e.DNE(59,uw,2,0,"th",28)(60,hw,2,2,"td",25),e.bVm(),e.qex(61,39),e.DNE(62,fw,2,0,"th",24)(63,gw,2,2,"td",25),e.bVm(),e.qex(64,40),e.DNE(65,_w,2,0,"th",24)(66,bw,2,2,"td",25),e.bVm(),e.qex(67,41),e.DNE(68,vw,2,0,"th",24)(69,yw,2,2,"td",25),e.bVm(),e.qex(70,42),e.DNE(71,Cw,2,0,"th",24)(72,kw,2,2,"td",25),e.bVm(),e.qex(73,43),e.DNE(74,Fw,2,0,"th",24)(75,Tw,2,2,"td",25),e.bVm(),e.DNE(76,xw,1,0,"tr",44)(77,ww,1,0,"tr",45),e.k0s()(),e.DNE(78,Pw,6,4,"div",46)(79,Aw,8,1,"ng-template",null,0,e.C5r)(81,$w,8,1,"ng-template",null,1,e.C5r)(83,Mw,8,3,"ng-template",null,2,e.C5r)(85,Nw,12,0,"ng-template",null,3,e.C5r)(87,Vw,12,0,"ng-template",null,4,e.C5r),e.k0s()()()()()}2&i&&(e.Y8G("title","Customers")("items",e.lJ4(15,M3))("active_item","Customer"),e.R7$(7),e.Y8G("disabled",!n.selected),e.R7$(2),e.Y8G("ngIf",!0===(null==n.adminAdditionalSettings||null==n.adminAdditionalSettings.tabs||null==n.adminAdditionalSettings.tabs.customers?null:n.adminAdditionalSettings.tabs.customers.createTransaction)),e.R7$(3),e.Y8G("filterType","customers")("fields",n.filterFields)("filterData",n.filter),e.R7$(),e.Y8G("ngIf",n.inProgress),e.R7$(8),e.Y8G("matSortActive",n.sortedField)("dataSource",n.customers),e.R7$(55),e.Y8G("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),e.R7$(),e.Y8G("matRowDefColumns",n.displayedColumns),e.R7$(),e.Y8G("ngIf",n.customerCount>n.pageSize))},dependencies:[h.YU,h.bT,w.Wk,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,$.B4,$.aE,_.s5,_.gA,_.ug,_.PB,_.hO,ie.oV,ve.$L,ve.mq,ve.T8,K.iY,z.HM,X,Te,Tn,F3,$3,gn],styles:[".datatable-body{height:600px!important;overflow:scroll;width:100%}  .dataTable-bottom{position:absolute;left:0;right:0;bottom:0;background:#fff!important}  table th,   table td,   .ngx-datatable.material .datatable-header .datatable-header-cell,   .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{font-size:.876rem!important}@media (max-width: 567.9px){  .ngx-datatable .datatable-footer .datatable-footer-inner{flex-wrap:wrap;height:auto!important}  .ngx-datatable .datatable-footer .datatable-pager{text-align:center!important}}  .dataTable-wrapper.no-footer .dataTable-container{border-bottom:none!important}  .dataTable-selector{border-radius:.25rem}  app-data-table input{border-radius:25px;border:1px solid rgba(0,0,0,.1)}  app-data-table .custom-select{border:1px solid rgba(0,0,0,.24)!important;border-radius:.25rem}.table-responsive[_ngcontent-%COMP%]{overflow:visible}  .dark-theme input::placeholder{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material{background-color:#2a2e3f!important}  .dark-theme app-data-tables .dataTable-bottom{background-color:#2a2e3f!important}  .dark-theme app-data-tables .dataTable-selector{background-color:#2a2e3f;border-color:#272c49;color:#fff;outline:none}  .dark-theme app-data-tables input{color:#eee!important;background-color:#2a2e3f!important;border-color:#262b48;border-radius:25px;height:27px}  .dark-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .dark-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#2a2e3f;color:#fff}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid rgb(39,43,74)!important;color:#fff!important;background:#2a2e3f!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .dark-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #32394e!important}  .dark-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .dark-theme app-data-tables .dataTable-pagination li:hover a,   .dark-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .dark-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .dark-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .dark-theme app-data-tables .mat-mdc-table{background:#2a2e3f!important}  .dark-theme app-data-tables .mat-mdc-header-cell{color:#fff!important}  .dark-theme app-data-tables .mat-mdc-cell,   .dark-theme app-data-tables .mat-mdc-footer-cell{color:#eee!important}  .dark-theme app-data-tables mat-row,   .dark-theme app-data-tables mat-header-row,   .dark-theme app-data-tables mat-footer-row,   .dark-theme app-data-tables th.mat-mdc-header-cell,   .dark-theme app-data-tables td.mat-mdc-cell,   .dark-theme app-data-tables td.mat-mdc-footer-cell{border-bottom-color:#ffffff1f!important}  .dark-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .dark-theme app-data-tables .mat-mdc-paginator,   .dark-theme app-data-tables .mat-mdc-paginator-page-size .mat-mdc-select-trigger{color:#ffffff8a!important}  .dark-theme app-data-tables .mat-mdc-paginator{background:#2a2e3f}  .dark-theme app-data-tables .mat-mdc-select-value{color:#fff7f7de}  .dark-theme app-data-tables .mat-mdc-select-arrow{color:#ffffffba}  .dark-theme .mat-mdc-select-panel{background:#30304d}  .dark-theme .mat-mdc-option{color:#ccc}  .dark-theme .mat-primary .mat-mdc-option.mat-selected:not(.mat-option-disabled){color:#fff}  .dark-theme .mat-mdc-option:hover:not(.mat-option-disabled),   .dark-theme .mat-option:focus:not(.mat-option-disabled){background:#2a2a44}  .dark-theme .mat-mdc-select-panel .mat-mdc-option.mat-selected:not(.mat-mdc-option-multiple){background:#0000001f}  .dark-theme .table-hover>tbody>tr:hover>*{color:#fff}  .dark-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme input::placeholder{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material{background-color:#2da28f!important}  .transparent-theme app-data-tables .dataTable-bottom{background-color:#2da28f!important}  .transparent-theme app-data-tables .dataTable-selector{background-color:#2da28f;border-color:#4cb0a0;color:#fff;outline:none}  .transparent-theme app-data-tables input{color:#eee!important;background-color:#2da28f!important;border-color:#4cb0a0;border-radius:25px;height:27px}  .transparent-theme app-data-tables .mat-form-field-label{left:12px!important;top:24px!important;color:#fff9}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header .datatable-header-cell,   .transparent-theme app-data-tables .ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell{background-color:#2da28f;color:#fff}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer{border-top:1px solid #4cb0a0!important;color:#fff!important;background:#2da28f!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:#fff!important;background-color:transparent!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:#cfd0d8!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-footer .datatable-pager a{color:#fff!important}  .transparent-theme app-data-tables .ngx-datatable.material .datatable-header{border-bottom:1px solid #4cb0a0!important}  .transparent-theme app-data-tables .dataTable-pagination li a{color:#ccc}  .transparent-theme app-data-tables .dataTable-pagination li:hover a,   .transparent-theme app-data-tables .dataTable-pagination li.active a{color:#333}  .transparent-theme app-data-tables .dataTable-sorter:after{border-bottom:4px solid #fff}  .transparent-theme app-data-tables .dataTable-sorter:before{border-top:4px solid #fff}  .transparent-theme app-data-tables .mat-mdc-table{background:#2da28f!important}  .transparent-theme app-data-tables .mat-mdc-header-cell{color:#fff!important}  .transparent-theme app-data-tables .mat-mdc-cell,   .transparent-theme app-data-tables .mat-mdc-footer-cell{color:#eee!important}  .transparent-theme app-data-tables mat-row,   .transparent-theme app-data-tables mat-header-row,   .transparent-theme app-data-tables mat-footer-row,   .transparent-theme app-data-tables th.mat-mdc-header-cell,   .transparent-theme app-data-tables td.mat-mdc-cell,   .transparent-theme app-data-tables td.mat-mdc-footer-cell{border-bottom-color:#ffffff1f!important}  .transparent-theme app-data-tables .mat-checkbox-frame{border-color:#fff9}  .transparent-theme app-data-tables .mat-mdc-paginator,   .transparent-theme app-data-tables .mat-mdc-paginator-page-size .mat-mdc-select-trigger{color:#ffffff8a!important}  .transparent-theme app-data-tables .mat-mdc-paginator{background:#2da28f}  .transparent-theme app-data-tables .mat-mdc-select-value{color:#fff7f7de}  .transparent-theme app-data-tables .mat-mdc-select-arrow{color:#ffffffba}  .transparent-theme .mat-mdc-select-panel{background:#30304d}  .transparent-theme .mat-mdc-option{color:#ccc}  .transparent-theme .mat-primary .mat-mdc-option.mat-selected:not(.mat-option-disabled){color:#fff}  .transparent-theme .mat-mdc-option:hover:not(.mat-option-disabled),   .transparent-theme .mat-option:focus:not(.mat-option-disabled){background:#2a2a44}  .transparent-theme .mat-mdc-select-panel .mat-mdc-option.mat-selected:not(.mat-mdc-option-multiple){background:#0000001f}  .transparent-theme .table-hover>tbody>tr:hover>*{color:#fff}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{color:#ccc}  .transparent-theme .table-striped>tbody>tr:nth-of-type(odd)>*{background-color:#248272!important}.data-table[_ngcontent-%COMP%]{flex:1 1 0;overflow:auto;margin-top:5px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]{display:table;min-width:100%}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:32px;line-height:32px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   tr.mat-mdc-header-row[_ngcontent-%COMP%]{height:40px;line-height:40px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]{padding:0 4px;white-space:nowrap;font-size:16px;font-weight:400;color:#0000008a;font-family:Roboto,sans-serif}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell.action[_ngcontent-%COMP%]{width:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]{padding:1px 4px 0;line-height:29px;white-space:nowrap}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px}.data-table[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%]{width:16px;height:16px;font-size:16px;vertical-align:middle;position:relative;top:-1px}.data-table[_ngcontent-%COMP%]   .row-button[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0;position:relative;top:5px;padding:1px}.data-table[_ngcontent-%COMP%]   .row-button[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:16px;height:16px;width:16px;line-height:16px}.data-table[_ngcontent-%COMP%]   .row-icon[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0;position:relative;top:5px}mat-mdc-paginator[_ngcontent-%COMP%]{flex:0 0 auto}table[_ngcontent-%COMP%]{width:100%}.table-button-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;overflow-x:scroll;padding-bottom:16px}.customer-list-selector-column[_ngcontent-%COMP%]{margin:0;position:absolute;top:10px;right:20px;padding:0 8px}.customer-list-data-column[_ngcontent-%COMP%]{margin:0;padding:0}.customer-list-column-grey[_ngcontent-%COMP%]{background-color:#ececec}.customer-list-column-red[_ngcontent-%COMP%]{background-color:#fdd6dd}.customer-list-column-green[_ngcontent-%COMP%]{background-color:#cff8cf}.customer-list-column-yellow[_ngcontent-%COMP%]{background-color:#f8ffc2}.customer-list-column-blue[_ngcontent-%COMP%]{background-color:#d3efff}.customer-list-column-white[_ngcontent-%COMP%]{background-color:#fff}.ng-pagination-nav-icons[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:12px}.flex-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.details-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}.details-wrapper[_ngcontent-%COMP%]   .row-button[_ngcontent-%COMP%]{top:0;margin:0 5px}  .mat-mdc-tab.mdc-tab{height:40px!important}.tabs[_ngcontent-%COMP%]{padding:1rem 1.2rem}.close[_ngcontent-%COMP%]{position:absolute;top:5px;right:10px}"]})}return a})();const Gn=[{path:"",component:To,children:[{path:"transaction-simulation",component:Yk,data:{header:"Transaction Lifeline",code:c.G4.Transactions,hideWrapper:!0},canActivate:[oe]},{path:"dashboard",component:M4,data:{header:"Dashboard"},canActivate:[oe]},{path:"common",component:ex,data:{header:"Settings"}},{path:"faq",component:Gx,data:{header:"FAQ"}},{path:"transactions",data:{code:c.G4.Transactions},canActivate:[oe],children:[{path:"users/:userid",component:va,data:{header:"Customer transactions"}},{path:"",component:va,data:{header:"Transactions"}}]},{path:"transaction-lifeline",component:kk,data:{header:"Transaction Lifeline",code:c.G4.Transactions},canActivate:[oe]},{path:"transaction-status-history",data:{code:c.G4.TransactionHistoryLog},canActivate:[oe],children:[{path:"users/:userid",component:An,data:{header:"Customer transaction status history"}},{path:"",component:An,data:{header:"Transaction history"}}]},{path:"customers",data:{code:c.G4.Customers},canActivate:[oe],children:[{path:":id",component:Vn,data:{header:"Customer {:id}"}},{path:"",component:Vn,data:{header:"Customers"}}]},{path:"system-users",data:{code:c.G4.SystemUsers},canActivate:[oe],children:[{path:":id",component:_n,data:{header:"System user {:id}"}},{path:"",component:_n,data:{header:"System users"}}]},{path:"user-actions",component:L0,data:{header:"Actions",code:c.G4.UserActions},canActivate:[oe]},{path:"white-device-list/:userid",component:b1,data:{header:"White List"}},{path:"fiat-wallets",data:{code:c.G4.Wallets},canActivate:[oe],children:[{path:"users/:userid",component:sa,data:{header:"Customer fiat wallets"}},{path:"vaults/:vaultids",component:sa,data:{header:"Transaction fiat wallets"}},{path:"",component:sa,data:{header:"Wallets"}}]},{path:"fees",data:{header:"Fees",code:c.G4.Fees},canActivate:[oe],component:Yb},{path:"notifications",data:{header:"Notifications",code:c.G4.Notifications},canActivate:[oe],component:Om},{path:"emails",data:{header:"Emails",code:c.G4.Messages},canActivate:[oe],component:_p},{path:"costs",data:{header:"Costs",code:c.G4.Costs},canActivate:[oe],component:f_},{path:"bank-accounts",data:{header:"Bank accounts",code:c.G4.BankAccounts},canActivate:[oe],component:ed},{path:"levels",component:qd,data:{header:"Levels"}},{path:"tiers",component:f0,data:{header:"KYC Tiers"}},{path:"black-list",data:{header:"Black list",code:c.G4.CountryBlackList},canActivate:[oe],component:yd},{path:"risk-center",data:{header:"Risk center",code:c.G4.Risks},canActivate:[oe],component:Wp},{path:"widgets",data:{header:"Widgets",code:c.G4.Widgets},canActivate:[oe],children:[{path:":userId",component:vn,data:{header:"User Widgets"}},{path:"",component:vn,data:{header:"Widgets"}}]},{path:"api-keys",component:uF,data:{header:"API keys"}},{path:"currency-pairs",component:Nx,data:{header:"Currency pairs"}},{path:"**",redirectTo:"dashboard"}]}];let Gw=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275mod=e.$C({type:a});static#a=this.\u0275inj=e.G2t({imports:[w.iI.forChild(Gn),w.iI]})}return a})();var Bw=f(2815),Uw=f(2523);let Lw=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275mod=e.$C({type:a});static#a=this.\u0275inj=e.G2t({imports:[h.MD,Um]})}return a})();var Bn=f(2542);const Yw=[h.MD,d.YN,d.X1,w.iI,Bn.YY,Ge.E9],qw=[];let Ww=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275mod=e.$C({type:a});static#a=this.\u0275inj=e.G2t({providers:[...qw],imports:[Yw,h.MD,d.YN,d.X1,w.iI,Bn.YY,Ge.E9]})}return a})();const Xw=null;let zw=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275mod=e.$C({type:a});static#a=this.\u0275inj=e.G2t({providers:[oe,E,{provide:De.wO,useValue:{separatorKeyCodes:[st.Fm,st.KE]}}],imports:[se.mB.forRoot(),Ww,Bw.b,Gi,_.UN,Q.Hu,De.YN,Er.Wk,Qt,hr,ie.uc,ve.RI,Bi.Fg,p.tP,$t.Ou,pr.D6,Uw.O,Lw,$.NQ,K.Hl,ue.RG,We.fS,gt.Ve,Mt.jL,Nt.m_,mr.mV,z.PO,cr,Ja.s5,mt.aP,Ie._T,Hr,Ea.hI,Gw,Ea.GC,Ir.Y,kn,yn]})}return a})();e.wjB(va,function(){return[h.YU,h.bT,w.Wk,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,$.B4,$.aE,_.s5,_.gA,_.ug,_.PB,_.hO,ie.oV,K.iY,z.HM,X,Te,cC,Tn]},[])},4658:(qe,Se,f)=>{"use strict";f.d(Se,{f:()=>d});var se=f(5351),e=f(4438);let d=(()=>{class T{constructor(N,D){this.dialogRef=N,this.data=D,this.deleteAccept=!0}onClose(){this.dialogRef.close()}static#e=this.\u0275fac=function(D){return new(D||T)(e.rXU(se.CP),e.rXU(se.Vh))};static#t=this.\u0275cmp=e.VBU({type:T,selectors:[["app-delete-dialog-box"]],decls:9,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content","",1,"__dialog-message"],["align","center"],["type","button",1,"__outlined-button",3,"click"],["type","button","cdkFocusInitial","",1,"__main-button","__main-button-danger","__button-wide-separator",3,"mat-dialog-close"]],template:function(D,q){1&D&&(e.j41(0,"h1",0),e.EFF(1),e.k0s(),e.j41(2,"div",1),e.EFF(3),e.k0s(),e.j41(4,"mat-dialog-actions",2)(5,"button",3),e.bIt("click",function(){return q.onClose()}),e.EFF(6," CANCEL "),e.k0s(),e.j41(7,"button",4),e.EFF(8),e.k0s()()),2&D&&(e.R7$(),e.JRh(q.data.title),e.R7$(2),e.JRh(q.data.message),e.R7$(4),e.Y8G("mat-dialog-close",q.deleteAccept),e.R7$(),e.SpI(" ",q.data.button," "))},dependencies:[se.tx,se.BI,se.E7,se.Yi],styles:['@import"https://fonts.googleapis.com/css2?family=Montserrat+Alternates:wght@800&display=swap";.__dialog-title[_ngcontent-%COMP%]{margin:0;padding:0;font-family:var(--font_main);font-style:normal;font-weight:400;font-size:18px;line-height:35px;color:var(--color_purple_900_text)}.__dialog-message[_ngcontent-%COMP%]{font-family:var(--font_main);font-style:normal;font-weight:300;font-size:14px;line-height:28px;color:var(--color_purple_900_text);text-align:center}@media (max-width: 1012px){.__dialog-message[_ngcontent-%COMP%]{font-size:12px;line-height:22px}}.__dialog-message-accent[_ngcontent-%COMP%]{color:var(--color_main_blue_800)}.__dialog-info[_ngcontent-%COMP%]{font-family:var(--font_main);font-style:normal;font-weight:400;font-size:12px;line-height:14px;color:var(--color_purple_900_icons)}.__dialog-text[_ngcontent-%COMP%]{font-family:var(--font_main);font-style:normal;font-weight:400;font-size:12px;line-height:14px;color:var(--color_purple_900_text)}.__dialog-space-small[_ngcontent-%COMP%]{height:8px;width:100%}.__dialog-space[_ngcontent-%COMP%]{height:16px;width:100%}.__dialog-space-large[_ngcontent-%COMP%]{height:24px;width:100%}.__dialog-wizard-progress-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}.__dialog-wizard-progress-bar[_ngcontent-%COMP%]{display:grid;grid-template-rows:24px;grid-template-columns:130px 24px 48px 24px 48px 24px 48px 24px 130px}@media (max-width: 1012px){.__dialog-wizard-progress-bar[_ngcontent-%COMP%]{grid-template-rows:16px;grid-template-columns:32px 16px 16px 16px 16px 16px 16px 16px 32px}}.__dialog-wizard-progress-line-container[_ngcontent-%COMP%]{grid-row:1;grid-column:1/10;display:flex;justify-content:center;align-items:center}.__dialog-wizard-progress-line[_ngcontent-%COMP%]{width:100%;height:1px;background-color:var(--color_purple_200)}.__dialog-wizard-progress-step-one[_ngcontent-%COMP%]{grid-row:1;grid-column:2/3}.__dialog-wizard-progress-step-two[_ngcontent-%COMP%]{grid-row:1;grid-column:4/5}.__dialog-wizard-progress-step-three[_ngcontent-%COMP%]{grid-row:1;grid-column:6/7}.__dialog-wizard-progress-step-four[_ngcontent-%COMP%]{grid-row:1;grid-column:8/9}.__dialog-wizard-progress-step[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background:var(--color_white);border:1px solid var(--color_purple_200);box-sizing:border-box;border-radius:12px;font-family:var(--font_main);font-style:normal;font-weight:400;font-size:12px;line-height:14px;color:var(--color_purple_200)}.__dialog-wizard-progress-step-active[_ngcontent-%COMP%]{background:var(--color_white);border:1px solid var(--color_main_blue_600);color:var(--color_main_blue_600)}.__dialog-wizard-progress-step-passed[_ngcontent-%COMP%]{background:var(--color_main_blue_800);border:1px solid var(--color_main_blue_800);color:var(--color_white)}.__dialog-wizard-data-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center}.__dialog-wizard-store-button-block[_ngcontent-%COMP%]{margin:40px 0;display:flex;flex-direction:row;justify-content:center;align-items:center}@media (max-width: 1012px){.__dialog-wizard-store-button-block[_ngcontent-%COMP%]{flex-direction:column}}.__dialog-wizard-store-button[_ngcontent-%COMP%]{margin:0 20px}.__dialog-wizard-qr-code-container[_ngcontent-%COMP%]{width:676px;display:grid;grid-template-rows:110px;grid-template-columns:110px 40px auto}@media (max-width: 1012px){.__dialog-wizard-qr-code-container[_ngcontent-%COMP%]{width:240px;display:flex;flex-direction:column;justify-content:center;align-items:center}}.__dialog-wizard-qr-code[_ngcontent-%COMP%]{grid-row:1;grid-column:1/2}.__dialog-wizard-qr-code-symbols[_ngcontent-%COMP%]{grid-row:1;grid-column:3/4;display:flex;flex-direction:column;align-items:flex-start;justify-content:center}@media (max-width: 1012px){.__dialog-wizard-qr-code-symbols[_ngcontent-%COMP%]{width:240px;justify-content:center;align-items:center}}.__dialog-subtitle-block[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;width:100%}.__dialog-secret-content-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.__dialog-secret-phrase-block[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center}.__dialog-block-title[_ngcontent-%COMP%]{font-family:var(--font_main);font-style:normal;font-weight:400;font-size:12px;line-height:18px;color:var(--color_purple_900_text)}@media (max-width: 1012px){.__dialog-block-title[_ngcontent-%COMP%]{font-size:10px;line-height:16px}}']})}return T})()},6034:(qe,Se,f)=>{"use strict";f.d(Se,{N:()=>d});var se=f(177),e=f(5746);class d{constructor(M){if(this.title="",this.created="",this.user="",this.disabled=!1,this.datepipe=new se.vh("en-US"),this.title=M.apiKeyId??"",M.user){const N=new e.Dn(M.user);this.user=N.extendedName}this.created=this.datepipe.transform(M.created,"dd MMM YYYY HH:mm:ss")??"",this.disabled=M.disabled??!1}}},6934:(qe,Se,f)=>{"use strict";f.d(Se,{r:()=>d});var se=f(177),e=f(8245);class d{constructor(M){if(this.id="",this.userId="",this.userEmail="",this.level="",this.created="",this.viewed="",this.text="",this.title="",this.userNotificationTypeCode="",this.selected=!1,null!==M){this.id=M.userNotificationId;const N=new se.vh("en-US");this.created=M.created?N.transform(M.created,"dd MMM YYYY HH:mm:ss"):"",this.viewed=M.viewed?N.transform(M.viewed,"dd MMM YYYY HH:mm:ss"):"",this.userId=M.userId,this.userEmail=M.user?.email??"",this.text=M.text,this.title=M.title??"Notification",this.level=M.userNotificationLevel??"",this.userNotificationTypeCode=M.userNotificationTypeCode}}get notificationCode(){return e.Qz.find(M=>M.id===this.userNotificationTypeCode)?.name}get viewedStatus(){return""!==this.viewed}setViewed(M){const N=new se.vh("en-US");this.viewed=N.transform(M,"dd MMM YYYY HH:mm:ss")??""}getShortText(M){let N="";return this.text&&this.text.length>M&&(N=`${this.text.slice(0,M-3)}...`),N}getViewedIcon(M){return`${M}/navigation/${this.viewedStatus?"__temp_notification_viewed":"__temp_notification_new"}.svg`}getLevelIcon(M){let N="";switch(this.level){case"Request":N="request";break;case"Debug":N="debug";break;case"Info":N="info";break;case"Warning":N="warning";break;case"Error":N="error"}return`${M}/navigation/${N}_24_24.svg`}}},2578:function(qe,Se){var f,e;void 0!==(e="function"==typeof(f=function(){"use strict";function T(b,U,be){var y=new XMLHttpRequest;y.open("GET",b),y.responseType="blob",y.onload=function(){W(y.response,U,be)},y.onerror=function(){console.error("could not download file")},y.send()}function M(b){var U=new XMLHttpRequest;U.open("HEAD",b,!1);try{U.send()}catch{}return 200<=U.status&&299>=U.status}function N(b){try{b.dispatchEvent(new MouseEvent("click"))}catch{var U=document.createEvent("MouseEvents");U.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),b.dispatchEvent(U)}}var D="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,q=D.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),W=D.saveAs||("object"!=typeof window||window!==D?function(){}:"download"in HTMLAnchorElement.prototype&&!q?function(b,U,be){var y=D.URL||D.webkitURL,ee=document.createElement("a");ee.download=U=U||b.name||"download",ee.rel="noopener","string"==typeof b?(ee.href=b,ee.origin===location.origin?N(ee):M(ee.href)?T(b,U,be):N(ee,ee.target="_blank")):(ee.href=y.createObjectURL(b),setTimeout(function(){y.revokeObjectURL(ee.href)},4e4),setTimeout(function(){N(ee)},0))}:"msSaveOrOpenBlob"in navigator?function(b,U,be){if(U=U||b.name||"download","string"!=typeof b)navigator.msSaveOrOpenBlob(function d(b,U){return typeof U>"u"?U={autoBom:!1}:"object"!=typeof U&&(console.warn("Deprecated: Expected third argument to be a object"),U={autoBom:!U}),U.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(b.type)?new Blob(["\ufeff",b],{type:b.type}):b}(b,be),U);else if(M(b))T(b,U,be);else{var y=document.createElement("a");y.href=b,y.target="_blank",setTimeout(function(){N(y)})}}:function(b,U,be,y){if((y=y||open("","_blank"))&&(y.document.title=y.document.body.innerText="downloading..."),"string"==typeof b)return T(b,U,be);var ee="application/octet-stream"===b.type,Ae=/constructor/i.test(D.HTMLElement)||D.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent);if((h||ee&&Ae||q)&&typeof FileReader<"u"){var Qe=new FileReader;Qe.onloadend=function(){var $e=Qe.result;$e=h?$e:$e.replace(/^data:[^;]*;/,"data:attachment/file;"),y?y.location.href=$e:location=$e,y=null},Qe.readAsDataURL(b)}else{var ut=D.URL||D.webkitURL,Ze=ut.createObjectURL(b);y?y.location=Ze:location.href=Ze,y=null,setTimeout(function(){ut.revokeObjectURL(Ze)},4e4)}});D.saveAs=W.saveAs=W,qe.exports=W})?f.apply(Se,[]):f)&&(qe.exports=e)}}]);