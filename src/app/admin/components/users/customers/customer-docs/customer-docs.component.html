<div *ngIf="isEditDocument; else docsTable">
  <div [formGroup]="form" class="inputs-wrap" [@fade]="isEditDocument">
    <mat-form-field appearance="outline">
      <mat-label>Document Group</mat-label>
      <mat-select appendTo="body" formControlName="group">
        <mat-option *ngFor="let group of documentGroups" [value]="group">
          {{ group }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field
      [ngClass]="{'size-wider': isDocumentSide}"
      appearance="outline"
      *ngIf="isDocumentTypeGrouped"
    >
      <mat-label>Document Type</mat-label>
      <mat-select appendTo="body" formControlName="type">
        <mat-option *ngFor="let type of documentTypes$ | async" [value]="type">
          {{ type }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field
    class="size-smaller"
    appearance="outline"
    *ngIf="isDocumentSide"
  >
    <mat-label>Side</mat-label>
      <mat-select appendTo="body" formControlName="side">
        <mat-option value="FRONT">Front</mat-option>
        <mat-option value="BACK">Back</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Document Name</mat-label>
      <input matInput type="text" formControlName="name" />
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Description</mat-label>
      <input matInput type="text" formControlName="description" />
    </mat-form-field>

    <br />
    <app-file-upload [multiple]="true" (fileSelected)="onFileSelected($event)"></app-file-upload>

    <div class="create_docs-buttons">
      <button class="btn btn-outline-primary wd-100" type="button" [disabled]="uploadProgress" (click)="onCancelEditDocument()">
        Cancel
      </button>
    
      <button class="btn btn-primary wd-100" type="button" [disabled]="!form.valid || !isFileUploaded || uploadProgress" (click)="onSave()">
        {{ !uploadProgress ? 'Save' : ''}}
        <span *ngIf="uploadProgress" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
      </button>
    </div>
  </div>
</div>

<ng-template #docsTable>
  <button class="btn btn-primary mg-t-10 mg-b-10 tx-14" type="button" (click)="onAddDocument()">Add Document</button>

  <div class="docs-wrapper" [class.emptyData]="!tableDataSource.data.length">

    <app-table
      [dataSource]="tableDataSource" 
      [columns]="columnsToDisplay">

      <ng-container matColumnDef="...">
        <th mat-header-cell *matHeaderCellDef>Actions</th>
        <td mat-cell *matCellDef="let row">
          <div class="flex">
            <button
              type="button"
              class="action-button"
              (click)="onFileDownload(row)">
              <i class="fas fa-download"></i>
            </button>

            <button
              type="button"
              class="action-button"
              (click)="onFileRemove(row)">
              <i class="fas fa-trash"></i>
            </button>
          </div>
        </td>
      </ng-container>
    </app-table>
    <ng-container *ngIf="isLoading$ | async">
			<app-spinner></app-spinner>
		</ng-container>
  </div>
</ng-template>