
<form [formGroup]="form">
  <div class="card card-body pd-20 pd-md-40 border shadow-none">
    <h5 class="card-title mg-b-20">
      Schema assignment details
    </h5>

    <div class="form-group">
      <label class="main-content-label tx-11 tx-medium tx-gray-600">
        Fees
      </label>
      <ng-select 
        [items]="feeOptions" 
        bindLabel="title" 
        bindValue="id" 
        formControlName="ids"
        [multiple]="true"
        [searchFn]="feeSearchFn"
        [closeOnSelect]="false"
        [clearOnBackspace]=false 
        [placeholder]="'Select fee'" 
        required>
        <ng-template ng-option-tmp let-item="item">
          {{item.title}} <br />
          <small>{{item.id}}</small>
        </ng-template>
      </ng-select>
    </div>

    <div class="form-group">
      <label class="main-content-label tx-11 tx-medium tx-gray-600">
        Cost Schema
      </label>
      <ng-select 
        bindLabel="name"
        bindValue="id"
        [clearable]=false
        formControlName="costId"
        [items]="costSchemes"
        [placeholder]="'Select cost scheme'" 
        required
        >
      </ng-select>
    </div>
  </div>
  <div *ngIf="errorMessage" class="card card-body card-danger pd-20 pd-md-40 border shadow-none">
    <h4 class="card-title2 mg-b-20 color_brown">
      {{errorMessage}}
    </h4>
  </div>
  <div class="d-sm-flex justify-content-end">
    <button type="button" class="btn btn-primary pd-x-30 me-2 mg-t-5" [disabled]="!form.valid" (click)="onSubmit()">
      <span *ngIf="saveInProgress" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
      Save
    </button>
    <button class="btn btn-outline-primary pd-x-30 mg-t-5" type="button" (click)="close.emit()">
      Close
    </button>
  </div>
</form>