<div class="__common-settings-container">

    <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <mat-form-field class="form-element">
            <mat-label>Liquidity provider</mat-label>
            <mat-select formControlName="liquidityProvider">
                <mat-option *ngFor="let item of liquidityProviderOptions" [value]="item.id">
                    {{item.name}}
                </mat-option>
            </mat-select>
            <mat-error *ngIf="form.controls.liquidityProvider.hasError('required')">
                Mandatory field
            </mat-error>
        </mat-form-field>

        <mat-form-field class="form-element">
            <mat-label>Custody provider</mat-label>
            <mat-select formControlName="custodyProvider">
                <mat-option *ngFor="let item of custodyProviderOptions" [value]="item.id">
                    {{item.name}}
                </mat-option>
            </mat-select>
            <mat-error *ngIf="form.controls.custodyProvider.hasError('required')">
                Mandatory field
            </mat-error>
        </mat-form-field>

        <mat-form-field class="form-element">
            <mat-label>KYC provider</mat-label>
            <mat-select formControlName="kycProvider">
                <mat-option *ngFor="let item of kycProviderOptions" [value]="item.id">
                    {{item.name}}
                </mat-option>
            </mat-select>
            <mat-error *ngIf="form.controls.kycProvider.hasError('required')">
                Mandatory field
            </mat-error>
        </mat-form-field>

        <mat-form-field class="form-element">
            <mat-label>Administrators email addresses</mat-label>
            <mat-chip-list #emailChipList aria-label="Admin emails">
                <mat-chip *ngFor="let opt of form.controls.adminEmails.value" (removed)="removeAdminEmailOption(opt)">
                    {{opt}}
                    <mat-icon matChipRemove matTooltip="Remove email" matTooltipClass="info-tooltip">cancel
                    </mat-icon>
                </mat-chip>
                <input #emailSearchInput
                       placeholder="Administrators emails"
                       [matChipInputFor]="emailChipList"
                       (matChipInputTokenEnd)="handleEmailOptionAdded($event)">
            </mat-chip-list>
        </mat-form-field>

        <div class="form-element">
            <mat-checkbox color="accent" formControlName="stoppedForServicing">
                Stopped for servicing
            </mat-checkbox>
        </div>
        
        <div class="__common-settings-button-block">
            <button mat-flat-button color="primary" type="submit">
                SAVE
            </button>
        </div>
    </form>

</div>