<h2>
    Please, specify your personal data
</h2>
<form [formGroup]="infoForm" (ngSubmit)="onSubmit()">
    <!-- Full name (Personal) -->
    <div *ngIf="requireUserFullName && !isMerchant">
        <mat-form-field class="form-element">
            <mat-label>First Name</mat-label>
            <input type="text" matInput formControlName="firstName" maxlength="80" placeholder="First user name" required />
            <mat-error *ngIf="this.infoForm.get('fullName')?.hasError('required')">
                Please specify your first name
            </mat-error>
        </mat-form-field>

        <mat-form-field class="form-element">
            <mat-label>Last Name</mat-label>
            <input type="text" matInput formControlName="lastName" maxlength="80" placeholder="Last user name" required />
            <mat-error *ngIf="this.infoForm.get('lastName')?.hasError('required')">
                Please specify your last name
            </mat-error>
        </mat-form-field>
    </div>
    
    <!-- Company name (Merchant) -->
    <div *ngIf="requireUserFullName && isMerchant">
        <mat-form-field class="form-element">
            <mat-label>Company Name</mat-label>
            <input type="text" matInput formControlName="firstName" maxlength="80" placeholder="Company name" required />
            <mat-error *ngIf="this.infoForm.get('fullName')?.hasError('required')">
                Please specify your company name
            </mat-error>
        </mat-form-field>
    </div>
    
    <!-- Birthday -->
    <mat-form-field class="form-element" *ngIf="requireUserBirthday">
        <mat-label>Birthday</mat-label>
        <input matInput formControlName="birthday" [matDatepicker]="picker" required />
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker startView="year" [startAt]="startBirthday"></mat-datepicker>
        <mat-error *ngIf="birthdayControl?.hasError('required')">
            Please specify your birthday
        </mat-error>
    </mat-form-field>

    <div class="form-element phone-box-split" *ngIf="requireUserPhone">
        <!-- Phone code -->
        <mat-form-field class="phone-box-left-panel">
            <mat-label>Code</mat-label>
            <input matInput formControlName="phoneCode" maxlength="5" type="search" placeholder="Code" required>
            <mat-error *ngIf="this.phoneCodeControl?.hasError('required')">
                Required
            </mat-error>
            <mat-error *ngIf="this.phoneCodeControl?.hasError('pattern')">
                Bad code
            </mat-error>
        </mat-form-field>

        <!-- Phone number -->
        <mat-form-field class="phone-box-right-panel">
            <mat-label>Phone number</mat-label>
            <input matInput formControlName="phoneNumber" maxlength="10" type="search" placeholder="Number" required>
            <mat-error *ngIf="this.phoneNumberControl?.hasError('required')">
                Please specify your phone number
            </mat-error>
            <mat-error *ngIf="this.phoneNumberControl?.hasError('pattern')">
                Bad phone format
            </mat-error>
        </mat-form-field>
    </div>

    <!-- Address -->
    <div *ngIf="requireUserAddress">
        <!-- Post code -->
        <mat-form-field class="form-element">
            <mat-label>Post Code</mat-label>
            <input type="text" matInput formControlName="postCode" maxlength="10" placeholder="Post Code" required />
            <mat-error *ngIf="this.postCodeControl?.hasError('required')">
                Please specify your post code
            </mat-error>
        </mat-form-field>

        <!-- City -->
        <mat-form-field class="form-element">
            <mat-label>City</mat-label>
            <input type="text" matInput formControlName="town" maxlength="30" placeholder="City" required />
            <mat-error *ngIf="this.townControl?.hasError('required')">
                Please specify your city name
            </mat-error>
        </mat-form-field>

        <!-- Post code -->
        <mat-form-field class="form-element">
            <mat-label>Street</mat-label>
            <input type="text" matInput formControlName="street" maxlength="50" placeholder="Street" required />
            <mat-error *ngIf="this.streetControl?.hasError('required')">
                Please specify your street name
            </mat-error>
        </mat-form-field>

        <!-- Substreet -->
        <mat-form-field class="form-element">
            <mat-label>Substreet</mat-label>
            <input type="text" matInput formControlName="subStreet" maxlength="50" placeholder="Substreet" />
        </mat-form-field>
        
        <!-- State Name -->
        <mat-form-field class="form-element">
            <mat-label>State Name</mat-label>
            <input type="text" matInput formControlName="stateName" maxlength="30" placeholder="State Name" />
        </mat-form-field>

        <!-- Building Name -->
        <mat-form-field class="form-element">
            <mat-label>Building Name</mat-label>
            <input type="text" matInput formControlName="buildingName" maxlength="30" placeholder="Building Name" />
        </mat-form-field>

        <!-- Building Number -->
        <mat-form-field class="form-element">
            <mat-label>Building Number</mat-label>
            <input type="text" matInput formControlName="buildingNumber" maxlength="4" placeholder="Building Number" />
        </mat-form-field>
    </div>

    <!-- Flat Number -->
    <mat-form-field class="form-element" *ngIf="requireUserFlatNumber || requireUserAddress">
        <mat-label>Flat Number</mat-label>
        <input type="text" matInput formControlName="flatNumber" maxlength="7" placeholder="Flat number" [required]="requireUserFlatNumber" />
        <mat-error *ngIf="this.infoForm.get('flatNumber')?.hasError('required')">
            Please specify your flat number
        </mat-error>
    </mat-form-field>

    <div class="form-element">
        <button class="main-button main-button-primary" type="submit">
            {{buttonTitle}}
        </button>
    </div>
</form>