<div class="__profile-internal-table-container">
    <div
        [ngClass]="details ? '__profile-internal-table-data-container-open' : '__profile-internal-table-data-container-closed'">
        <table mat-table class="__profile-data-table" [dataSource]="devices">
            <!-- Country Column -->
            <ng-container matColumnDef="country">
                <th mat-header-cell *matHeaderCellDef
                    class="__profile-table-column __profile-ip-list-table-column-country">
                    <span class="__profile-table-header">
                        Country
                    </span>
                </th>
                <td mat-cell *matCellDef="let element" class="__profile-ip-list-table-cell-plain">
                    <div>
                        <div *ngIf="element.country" class="__profile-settings-personal-info-combo-item">
                            <img *ngIf="element.countryImg!==''" class="__profile-settings-personal-info-combo-img"
                                [src]="element.countryImg">
                            <span class="__profile-ip-list-table-cell-data">
                                {{element.country?.name}}
                            </span>
                        </div>
                    </div>
                </td>
            </ng-container>

            <!-- Browser Column -->
            <ng-container matColumnDef="browser">
                <th mat-header-cell *matHeaderCellDef
                    class="__profile-table-column __profile-ip-list-table-column-browser">
                    <span class="__profile-table-header">
                        Browser
                    </span>
                </th>
                <td mat-cell *matCellDef="let element" class="__profile-ip-list-table-cell-plain">
                    <div class="__profile-ip-list-table-cell-data">
                        {{element.browser}}
                    </div>
                </td>
            </ng-container>

            <!-- Device Column -->
            <ng-container matColumnDef="device">
                <th mat-header-cell *matHeaderCellDef
                    class="__profile-table-column __profile-ip-list-table-column-device">
                    <span class="__profile-table-header">
                        Device
                    </span>
                </th>
                <td mat-cell *matCellDef="let element" class="__profile-ip-list-table-cell-plain">
                    <div class="__profile-ip-list-table-cell-data">
                        {{element.device}}
                    </div>
                    <div *ngIf="element.device===''" class="__profile-ip-list-table-cell-data"
                        style="font-style: italic;">
                        Unknown
                    </div>
                </td>
            </ng-container>

            <!-- Created Column -->
            <ng-container matColumnDef="created">
                <th mat-header-cell *matHeaderCellDef
                    class="__profile-table-column __profile-ip-list-table-column-created">
                    <span class="__profile-table-header">
                        Created
                    </span>
                </th>
                <td mat-cell *matCellDef="let element" class="__profile-ip-list-table-cell-plain">
                    <div class="__profile-ip-list-table-cell-data">
                        {{element.created}}
                    </div>
                </td>
            </ng-container>

            <!-- Remove Column -->
            <ng-container matColumnDef="remove">
                <th mat-header-cell *matHeaderCellDef
                    class="__profile-table-column __profile-ip-list-table-column-remove">
                </th>
                <td mat-cell *matCellDef="let element" (click)="$event.stopPropagation()">
                    <div class="__profile-ip-list-table-cell-details">
                        <button type="button" class="__table-button __table-button-dark"
                            (click)="removeApiKey(element)">
                            <mat-icon>delete</mat-icon>
                        </button>
                    </div>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="onRowSelected(row)"></tr>
        </table>
    </div>
    <div
        [ngClass]="details ? '__profile-internal-table-details-container-open' : '__profile-internal-table-details-container-closed'">
        <div class="__profile-internal-table-details-header-box">
            <button class="__tool-button" (click)="details=false">
                <mat-icon>close</mat-icon>
            </button>
        </div>
        <div class="__profile-internal-table-details-box">
            <div class="__profile-internal-table-details-data-box">
                <h2 class="__profile-internal-details-title">
                    {{selectedDevice?.device}}
                    <span *ngIf="selectedDevice?.device===''" class="__profile-internal-details-title">
                        Unknown device
                    </span>
                    info
                </h2>

                <div *ngIf="selectedDevice?.country" class="__profile-internal-table-details-value-box">
                    <div class="__profile-internal-table-details-item-title-box">
                        <div class="__profile-internal-details-item-title">
                            Country:
                        </div>
                    </div>
                    <div>
                        <img *ngIf="selectedDevice?.countryImg!==''" class="__profile-settings-personal-info-combo-img"
                            [src]="selectedDevice?.countryImg">
                        <span class="__profile-internal-details-item-title">
                            {{selectedDevice?.country?.name}}
                        </span>
                    </div>
                </div>

                <div *ngIf="selectedDevice?.browser!==''" class="__profile-internal-table-details-value-box">
                    <div class="__profile-internal-table-details-item-title-box">
                        <div class="__profile-internal-details-item-title">
                            Browser:
                        </div>
                    </div>
                    <div class="__profile-internal-details-item-title">
                        {{selectedDevice?.browser}}
                    </div>
                </div>

                <div *ngIf="selectedDevice?.location!==''" class="__profile-internal-table-details-value-box">
                    <div class="__profile-internal-table-details-item-title-box">
                        <div class="__profile-internal-details-item-title">
                            Location:
                        </div>
                    </div>
                    <div class="__profile-internal-details-item-title">
                        {{selectedDevice?.location}}
                    </div>
                </div>

                <div *ngIf="selectedDevice?.eu!==''" class="__profile-internal-table-details-value-box">
                    <div class="__profile-internal-table-details-item-title-box">
                        <div class="__profile-internal-details-item-title">
                            EU:
                        </div>
                    </div>
                    <div class="__profile-internal-details-item-title">
                        {{selectedDevice?.eu}}
                    </div>
                </div>

                <div *ngIf="selectedDevice?.region!==''" class="__profile-internal-table-details-value-box">
                    <div class="__profile-internal-table-details-item-title-box">
                        <div class="__profile-internal-details-item-title">
                            Region:
                        </div>
                    </div>
                    <div class="__profile-internal-details-item-title">
                        {{selectedDevice?.region}}
                    </div>
                </div>

                <div *ngIf="selectedDevice?.city!==''" class="__profile-internal-table-details-value-box">
                    <div class="__profile-internal-table-details-item-title-box">
                        <div class="__profile-internal-details-item-title">
                            City:
                        </div>
                    </div>
                    <div class="__profile-internal-details-item-title">
                        {{selectedDevice?.city}}
                    </div>
                </div>

                <div *ngIf="selectedDevice?.metro!==0" class="__profile-internal-table-details-value-box">
                    <div class="__profile-internal-table-details-item-title-box">
                        <div class="__profile-internal-details-item-title">
                            Metro:
                        </div>
                    </div>
                    <div class="__profile-internal-details-item-title">
                        {{selectedDevice?.metro}}
                    </div>
                </div>

                <div *ngIf="selectedDevice?.area!==0" class="__profile-internal-table-details-value-box">
                    <div class="__profile-internal-table-details-item-title-box">
                        <div class="__profile-internal-details-item-title">
                            Area:
                        </div>
                    </div>
                    <div class="__profile-internal-details-item-title">
                        {{selectedDevice?.area}}
                    </div>
                </div>

                <div *ngIf="selectedDevice?.created!==''" class="__profile-internal-table-details-value-box">
                    <div class="__profile-internal-table-details-item-title-box">
                        <div class="__profile-internal-details-item-title">
                            Created:
                        </div>
                    </div>
                    <div class="__profile-internal-details-item-title">
                        {{selectedDevice?.created}}
                    </div>
                </div>

                <div *ngIf="selectedDevice?.deviceConfirmed!==''" class="__profile-internal-table-details-value-box">
                    <div class="__profile-internal-table-details-item-title-box">
                        <div class="__profile-internal-details-item-title">
                            Confirmed:
                        </div>
                    </div>
                    <div class="__profile-internal-details-item-title">
                        {{selectedDevice?.deviceConfirmed}}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>