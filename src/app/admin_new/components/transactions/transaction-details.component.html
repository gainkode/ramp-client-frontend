<div class="row">
  <div class="col-md-12 col-lg-12 col-xl-12 mx-auto d-block">
    <form [formGroup]="form" novalidate (ngSubmit)="onSubmit()">
      <div class="card card-body pd-20 pd-md-40 border shadow-none">
        <h5 class="card-title mg-b-20">
          Payment Data
        </h5>
        <app-admin-details-item label="Transaction Id" [value]="data?.code"
          [linkUrl]="'/admin/transactions/'+ transactionId"></app-admin-details-item>
        <app-admin-details-item label="Transaction Created" [value]="data?.created"></app-admin-details-item>
        <app-admin-details-item label="Transaction Completed" [value]="data?.executed"></app-admin-details-item>
        <app-admin-details-item label="First Name" [value]="data?.user?.firstName"></app-admin-details-item>
        <app-admin-details-item label="Last Name" [value]="data?.user?.lastName"></app-admin-details-item>
        <app-admin-details-item label="Company" [value]="data?.user?.company"></app-admin-details-item>
        <app-admin-details-item label="Email" [value]="data?.user?.email"></app-admin-details-item>
        <app-admin-details-item label="Country" [value]="data?.user?.country"></app-admin-details-item>
        <app-admin-details-item label="IP Address" [value]="data?.ip"></app-admin-details-item>
        <app-admin-details-item label="Customer ID" [value]="data?.accountId"></app-admin-details-item>
        <app-admin-details-item label="Widget ID" [value]="data?.widgetId"></app-admin-details-item>

        <app-admin-details-item *ngIf="transactionType===TRANSACTION_TYPE.Receive || editableDestination===false"
          label="Wallet address" [value]="data?.address"></app-admin-details-item>
        <div *ngIf="data?.address!=='' && transactionType!==TRANSACTION_TYPE.Receive && editableDestination===true"
          class="form-group">
          <label class="main-content-label tx-11 tx-medium tx-gray-600">
            Wallet address
          </label>
          <input class="form-control" type="text" formControlName="address" required>
        </div>
        <app-admin-details-item label="Original transfer Order Id" [value]="data?.transferOriginalOrderId">
        </app-admin-details-item>
        <app-admin-details-item label="Transfer Order Id" [value]="data?.transferOrderId"></app-admin-details-item>
        <app-admin-details-item label="Transfer Order Hash" [value]="data?.transferOrderHash"></app-admin-details-item>

        <!-- Transaction status -->
        <app-admin-details-item *ngIf="transactionType===TRANSACTION_TYPE.Receive" label="Transaction status"
          [value]="transactionStatusName"></app-admin-details-item>
        <div *ngIf="transactionType!==TRANSACTION_TYPE.Receive" class="form-group">
          <label class="main-content-label tx-11 tx-medium tx-gray-600">
            Transaction status
          </label>
          <select class="form-control select2-no-search" formControlName="transactionStatus" required>
            <option *ngFor="let item of transactionStatuses" [value]="item.id">
              {{item.name}}
            </option>
          </select>
        </div>

        <app-admin-details-item label="Blockchain Link" [value]="transferOrderBlockchainLink"
          [linkUrl]="transferOrderBlockchainLink"></app-admin-details-item>
        <app-admin-details-item label="Benchmark Blockchain Link" [value]="benchmarkTransferOrderBlockchainLink"
          [linkUrl]="benchmarkTransferOrderBlockchainLink"></app-admin-details-item>
        <app-admin-details-item label="Transaction Type" [value]="data?.transactionTypeName"></app-admin-details-item>
        <app-admin-details-item label="Payment Method" [value]="data?.instrumentName"></app-admin-details-item>
        <app-admin-details-item label="Payment Provider" [value]="data?.paymentProvider"></app-admin-details-item>
        <app-admin-details-item label="Payment Details" [value]="data?.instrumentDetails"></app-admin-details-item>

        <!-- Amounts -->
        <div class="form-group">
          <div class="row">
            <div class="col-sm-12">
              <label class="main-content-label tx-11 tx-medium tx-gray-600">
                {{amountToSpendTitle}}
              </label>
              <div class="row">
                <div class="col-sm-7">
                  <p *ngIf="transactionType===TRANSACTION_TYPE.Receive" class="pd-t-10">
                    {{data?.amountToSpend}}
                  </p>
                  <input *ngIf="transactionType!==TRANSACTION_TYPE.Receive" class="form-control" type="text"
                    formControlName="amountToSpend" required>
                </div>
                <div class="col-sm-5 mg-t-10 mg-sm-t-0">
                  <select class="form-control select2-no-search" formControlName="currencyToSpend" required>
                    <option *ngFor="let item of currenciesToSpend" [value]="item.id">
                      {{item.id}}
                    </option>
                  </select>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="form-group">
          <div class="row">
            <div class="col-sm-12">
              <label class="main-content-label tx-11 tx-medium tx-gray-600">
                Amount To Receive
              </label>
              <div class="row">
                <div class="col-sm-7">
                  <p class="pd-t-10">
                    {{data?.amountToReceive}}
                  </p>
                </div>
                <div class="col-sm-5 mg-t-10 mg-sm-t-0">
                  <select class="form-control select2-no-search" formControlName="currencyToReceive" required>
                    <option *ngFor="let item of currenciesToReceive" [value]="item.id">
                      {{item.id}}
                    </option>
                  </select>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Rate -->
        <div
          *ngIf="transactionType===TRANSACTION_TYPE.Buy || transactionType===TRANSACTION_TYPE.Sell || transactionType===TRANSACTION_TYPE.Exchange"
          class="form-group">
          <label class="main-content-label tx-11 tx-medium tx-gray-600">
            Exchange rate
            <a [routerLink]="" (click)="updateRate()" style="font-size: 12px;margin-left: 8px;">
              Set current
            </a>
          </label>
          <input class="form-control" type="text" formControlName="rate" required>
        </div>
        <!-- <div
          *ngIf="transactionType===TRANSACTION_TYPE.Buy || transactionType===TRANSACTION_TYPE.Sell || transactionType===TRANSACTION_TYPE.Exchange"
          class="form-group">
          <a [routerLink]="" (click)="updateRate()">
            Set current exchange rate
          </a>
        </div> -->

        <!-- Fees -->
        <app-admin-details-item *ngIf="transactionType===TRANSACTION_TYPE.Receive" [label]="systemFeeTitle"
          [value]="data?.fees"></app-admin-details-item>
        <div *ngIf="transactionType!==TRANSACTION_TYPE.Receive" class="form-group">
          <label class="main-content-label tx-11 tx-medium tx-gray-600">
            {{systemFeeTitle}}
          </label>
          <input class="form-control" type="text" formControlName="fee" required>
        </div>
        <app-admin-details-item label="Blockchain fee" [value]="data?.transferFee"></app-admin-details-item>

        <app-admin-details-item label="From" [value]="data?.sender"></app-admin-details-item>
        <app-admin-details-item label="To" [value]="data?.recipient"></app-admin-details-item>
        <app-admin-details-item label="Initiated from" [value]="data?.transactionSourceName"></app-admin-details-item>
        <app-admin-details-item label="Wallet type" [value]="data?.userModeName"></app-admin-details-item>
        <app-admin-details-item label="Instrument details" [value]="data?.instrumentDetailsData">
        </app-admin-details-item>

        <!-- Comment -->
        <div class="form-group">
          <label class="main-content-label tx-11 tx-medium tx-gray-600">
            Comment
          </label>
          <textarea class="form-control" style="resize: none;" placeholder="Comment" rows="3" formControlName="comment"></textarea>
        </div>

        <!-- End-user transfer hash -->
        <div *ngIf="showTransferHash" class="form-group">
          <label class="main-content-label tx-11 tx-medium tx-gray-600">
            End-user transfer hash
          </label>
          <input class="form-control" type="text" formControlName="transferHash">
        </div>
        <!-- Benchmark transfer hash -->
        <div *ngIf="showBenchmarkTransferHash" class="form-group">
          <label class="main-content-label tx-11 tx-medium tx-gray-600">
            Benchmark transfer hash
          </label>
          <input class="form-control" type="text" benchmarkTransferHash="transferHash">
        </div>

        <app-admin-details-item label="Last Updated" [value]="data?.updated"></app-admin-details-item>
      </div>
      <div class="card card-body pd-20 pd-md-40 border shadow-none">
        <h5 class="card-title mg-b-20">
          AML Check
        </h5>
        <app-admin-details-item label="Account ID" [value]="data?.user?.id"
          [linkUrl]="'/admin/customers/'+ data?.user?.id">
        </app-admin-details-item>
        <app-admin-details-item label="Verification Level" [value]="data?.kycTier"></app-admin-details-item>

        <!-- DocsCheck -->
        <app-admin-details-item *ngIf="transactionType===TRANSACTION_TYPE.Receive" label="Docs Check"
          [value]="kycStatus">
        </app-admin-details-item>
        <div *ngIf="transactionType!==TRANSACTION_TYPE.Receive" class="form-group">
          <label class="main-content-label tx-11 tx-medium tx-gray-600">
            Docs Check
          </label>
          <select class="form-control select2-no-search" formControlName="kycStatus" required>
            <option *ngFor="let item of kycStatuses" [value]="item.id">
              {{item.name}}
            </option>
          </select>
        </div>

        <!-- Account status -->
        <app-admin-details-item *ngIf="transactionType===TRANSACTION_TYPE.Receive" label="Account Status"
          [value]="accountStatus">
        </app-admin-details-item>
        <div *ngIf="transactionType!==TRANSACTION_TYPE.Receive" class="form-group">
          <label class="main-content-label tx-11 tx-medium tx-gray-600">
            Account Status
          </label>
          <select class="form-control select2-no-search" formControlName="accountStatus" required>
            <option *ngFor="let item of accountStatuses" [value]="item.id">
              {{item.name}}
            </option>
          </select>
        </div>
      </div>

      <!-- <div class="form-group mg-b-20">
          <label class="ckbox"><input checked type="checkbox"><span class="tx-13">
              Save my card for future purchases
            </span></label>
        </div> -->
      <div style="display: flex; justify-content: flex-end;">
        <button *ngIf="permission>1 && transactionType!==TRANSACTION_TYPE.Receive"
          class="btn btn-primary pd-x-30 me-2 mg-t-5">
          Save
        </button>
        <button *ngIf="permission>1 && removable" class="btn btn-danger pd-x-30 me-2 mg-t-5" type="button"
          (click)="onDelete()">
          Cancel
        </button>
        <button *ngIf="permission>1 && removable" class="btn btn-secondary pd-x-30 mg-t-5" type="button"
          (click)="onClose()">
          Close
        </button>
      </div>
    </form>
  </div>
</div>