<div>
    <form [formGroup]="dataForm" (ngSubmit)="onSubmit()">
    
        <app-widget-input-group 
            [label]="spendTitle" 
            [boxFieldName]="'amountSpend'"
            [boxField]="amountSpendField" 
            [comboField]="currencySpendField" 
            [comboFieldName]="'currencySpend'"
            [comboList]="spendCurrencyList" 
            [errorMessages]="amountSpendErrorMessages">
        </app-widget-input-group>

        <app-widget-input-group 
            [label]="receiveTitle" 
            [boxFieldName]="'amountReceive'"
            [boxField]="amountReceiveField" 
            [comboField]="currencyReceiveField" 
            [comboFieldName]="'currencyReceive'"
            [comboList]="receiveCurrencyList" 
            [errorMessages]="amountReceiveErrorMessages">
        </app-widget-input-group>

        <div *ngIf="!settings.embedded" class="mt-3">
            <app-widget-rate 
                class="__widget-rate-container" 
                [title]="exchangeRateCountDownTitle"
                [countDown]="exchangeRateCountDownValue" 
                [showRate]="settings.showRate !== false" 
                [rate]="summary?.rate">
            </app-widget-rate>
          </div>

        <div class="order-details__container mt-4">
            <div class="order-details__header">
              <span class="order-details__header-title">Title here</span>
              <button type="button" class="order-details__header-button" (click)="mobileSummary = !mobileSummary">{{!mobileSummary ? 'Show' : 'Hide'}} Order Details</button>
            </div>
            <div *ngIf="mobileSummary">
                <hr class="order-details__divider mb-2">

                <div class="order-details__item">
                  <span class="order-details__item-label">Transaction</span>
                  <span class="order-details__item-value">{{summary?.transaction}}</span>
                </div>

                <div class="order-details__item">
                    <span class="order-details__item-label">Spend</span>
                    <span class="order-details__item-value">{{summary?.amountFrom?.toFixed(summary?.amountFromPrecision) || 0}} {{summary?.currencyFrom}}</span>
                </div>

                <div class="order-details__item">
                    <span class="order-details__item-label">Receive</span>
                    <span class="order-details__item-value">{{summary?.amountTo?.toFixed(summary?.amountToPrecision) || 0}} {{summary?.currencyTo}}</span>
                </div>
    
                <div class="order-details__item">
                    <span class="order-details__item-label">Exchange rate</span>
                    <span class="order-details__item-value">{{summary?.rate || '-'}}</span>
                </div>
    
                <div class="order-details__item" *ngIf="summary?.fee > 0">
                    <span class="order-details__item-label"> eWallet fees</span>
                    <span class="order-details__item-value"> {{summary?.transactionFee}} {{summary?.transactionFeeCurrency}}</span>
                </div>
    
                <div class="order-details__item" *ngIf="summary?.networkFee > 0">
                    <span class="order-details__item-label"> Network fees</span>
                    <span class="order-details__item-value"> {{summary?.networkFee}} {{summary?.networkFeeCurrency}}</span>
                </div>
            </div>
        </div>

        <div class="__widget-buttons-area" *ngIf="showWidgetDetails">
            <button type="button" class="overview-container__actions-next" [disabled]="!isOrderDetailsFormValid" (click)="onProceed()">
                Proceed <span class="tx-30">&#183;</span> Total {{amountSpendField.valid ? amountSpendField.value : '---'}}
            </button>
        </div>
    </form>

    <div class="__widget-data-error">
        {{errorMessageData}}
    </div>
</div>
